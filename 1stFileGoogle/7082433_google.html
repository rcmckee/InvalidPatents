<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html><head><title>Patent US7082433 - Translation of object queries involving inheritence - Google Patents</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_8a2b04e7bf975d5171d8e4c0b6365c7a/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_8a2b04e7bf975d5171d8e4c0b6365c7a__en.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "en",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="Translation of object queries involving inheritence"><meta name="DC.contributor" content="Steven P. Anonsen" scheme="inventor"><meta name="DC.contributor" content="Anthony R. Trappen" scheme="inventor"><meta name="DC.contributor" content="Matthew Aaron Thalman" scheme="inventor"><meta name="DC.contributor" content="Microsoft Corporation" scheme="assignee"><meta name="DC.date" content="2002-7-20" scheme="dateSubmitted"><meta name="DC.description" content="Join expressions, expressed in terms of objects, are translated into a relational database join statement by generating a parse tree based on the join expression. The parse tree is traversed to build the relational database join statement."><meta name="DC.date" content="2006-7-25" scheme="issued"><meta name="DC.relation" content="US:20030167266:A1" scheme="references"><meta name="DC.relation" content="US:5276880" scheme="references"><meta name="DC.relation" content="US:5548754" scheme="references"><meta name="DC.relation" content="US:6385603" scheme="references"><meta name="DC.relation" content="US:6421663" scheme="references"><meta name="DC.relation" content="US:6748392" scheme="references"><meta name="citation_reference" content="Paolo Atzeni et al., Efficient Optimization of simple Chase Join Expressions, 1989, ACM, vol. 14, No. 2, 212-230."><meta name="citation_reference" content="Rosenthal et al., Query Graphs, Implementing Trees, and Freely-Reorderable Outerjoins, 1990, ACM, 291-299."><meta name="citation_reference" content="Yong Kyu Lee et al., Querying Structured Hyperdocuments, IEEE, 1996, 155-164."><meta name="citation_patent_number" content="US:7082433"><meta name="citation_patent_application_number" content="US:10/199,500"><link rel="canonical" href="http://www.google.com/patents/US7082433"/><meta property="og:url" content="http://www.google.com/patents/US7082433"/><meta name="title" content="Patent US7082433 - Translation of object queries involving inheritence"/><meta name="description" content="Join expressions, expressed in terms of objects, are translated into a relational database join statement by generating a parse tree based on the join expression. The parse tree is traversed to build the relational database join statement."/><meta property="og:title" content="Patent US7082433 - Translation of object queries involving inheritence"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>(function(){try{var aa=function(a,b,c,d){d=d||{};d._sn=["cfg",b,c].join(".");window.gbar.logger.ml(a,d)};var g=window.gbar=window.gbar||{},l=window.gbar.i=window.gbar.i||{},m={},n;function _tvn(a,b){var c=parseInt(a,10);return isNaN(c)?b:c}function _tvf(a,b){var c=parseFloat(a);return isNaN(c)?b:c}function _tvv(a){return!!a}function p(a,b,c){(c||g)[a]=b}g.bv={n:_tvn("2",0),r:"",f:".67.",e:"0",m:_tvn("0",1)};
function q(a,b,c){var d="on"+b;if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent(d,c);else{var f=a[d];a[d]=function(){var a=f.apply(this,arguments),b=c.apply(this,arguments);return void 0==a?b:void 0==b?a:b&&a}}}var s=function(a){return function(){return g.bv.m==a}},ba=s(1),ca=s(2);p("sb",ba);p("kn",ca);l.a=_tvv;l.b=_tvf;l.c=_tvn;l.i=aa;var da=window.gbar.i.i;var t,u,v,w;function ea(a){v=a}function fa(a){var b;if(b=v&&window.encodeURIComponent)b=a.href,b=!b.match(/^http[s]?:\/\/accounts\.google\.[^/]*\/ClearSID/i)&&!b.match(/^http[s]?:\/\/[^/]*\/accounts\/ClearSID/i);if(b=b&&encodeURIComponent(v()))a.href=a.href.replace(/([?&]continue=)[^&]*/,"$1"+b)}function ga(a){window.gApplication&&(a.href=window.gApplication.getTabUrl(a.href))}
function ha(a){var b=document.forms[0].q,c=window.encodeURIComponent&&b&&b.value,b=b&&b.placeholder;c&&c!=b&&(a.href=a.href.replace(/([?&])q=[^&]*|$/,function(a,b){return(b||"&")+"q="+encodeURIComponent(c)}))}n=l.a("")?ga:ha;
function x(a,b,c,d,f,e){var h=document.getElementById(a);if(h){var k=h.style;k.left=d?"auto":b+"px";k.right=d?b+"px":"auto";k.top=c+"px";k.visibility=u?"hidden":"visible";f&&e?(k.width=f+"px",k.height=e+"px"):(x(t,b,c,d,h.offsetWidth,h.offsetHeight),u=u?"":a)}}
var y=[],ia=function(a,b){y.push(b)},ja=function(a){a=a||window.event;var b=a.target||a.srcElement;a.cancelBubble=!0;null==t&&(a=document.createElement(Array.every||window.createPopup?"iframe":"div"),a.frameBorder="0",t=a.id="gbs",a.src="javascript:''",b.parentNode.appendChild(a),q(document,"click",z));var c=b,b=0;"gb3"!=c.className&&(c=c.parentNode);a=c.getAttribute("aria-owns")||"gbi";var d=c.offsetWidth,f=20<c.offsetTop?46:24;document.getElementById("tphdr")&&(f-=3);var e=!1;do b+=c.offsetLeft||
0;while(c=c.offsetParent);var c=(document.documentElement.clientWidth||document.body.clientWidth)-b-d,h,d=document.body,k=document.defaultView;k&&k.getComputedStyle?(d=k.getComputedStyle(d,""))&&(h=d.direction):h=d.currentStyle?d.currentStyle.direction:d.style.direction;h="rtl"==h;if("gbi"==a){for(d=0;k=y[d++];)k();A(null,window.navExtra);h&&(b=c,e=!0)}else h||(b=c,e=!0);u!=a&&z();x(a,b,f,e)},z=function(){u&&x(u,0,0)},A=function(a,b){var c,d=document.getElementById("gbi"),f=a;f||(f=d.firstChild);
for(;b&&(c=b.pop());){var e=d,h=c,k=f;w||(w="gb2");e.insertBefore(h,k).className=w}},ka=function(a,b,c){if((b=document.getElementById(b))&&a){a.className="gb4";var d=document.createElement("span");d.appendChild(a);d.appendChild(document.createTextNode(" | "));d.id=c;b.appendChild(d)}},la=function(){return document.getElementById("gb_70")},ma=function(){return!!u};p("qs",n);p("setContinueCb",ea);p("pc",fa);p("tg",ja);p("close",z);p("addLink",ka);p("almm",A);p("si",la);p("adh",ia);p("op",ma);var B=function(){},C=function(){},F=function(a){var b=new Image,c=D;b.onerror=b.onload=b.onabort=function(){try{delete E[c]}catch(a){}};E[c]=b;b.src=a;D=c+1},E=[],D=0;p("logger",{il:C,ml:B,log:F});var G=window.gbar.logger;var H={},na={},I=[],oa=l.b("0.1",.1),pa=l.a("1",!0),qa=function(a,b){I.push([a,b])},ra=function(a,b){H[a]=b},sa=function(a){return a in H},J={},K=function(a,b){J[a]||(J[a]=[]);J[a].push(b)},ta=function(a){K("m",a)},L=function(a,b){var c=document.createElement("script");c.src=a;c.async=pa;Math.random()<oa&&(c.onerror=function(){c.onerror=null;B(Error("Bundle load failed: name="+(b||"UNK")+" url="+a))});(document.getElementById("xjsc")||document.getElementsByTagName("body")[0]||
document.getElementsByTagName("head")[0]).appendChild(c)},N=function(a){for(var b=0,c;(c=I[b])&&c[0]!=a;++b);!c||c[1].l||c[1].s||(c[1].s=!0,M(2,a),c[1].url&&L(c[1].url,a),c[1].libs&&m.d&&m.d(c[1].libs))},O=function(a){K("gc",a)},P=null,ua=function(a){P=a},M=function(a,b,c){if(P){a={t:a,b:b};if(c)for(var d in c)a[d]=c[d];try{P(a)}catch(f){}}};p("mdc",H);p("mdi",na);p("bnc",I);p("qGC",O);p("qm",ta);p("qd",J);p("lb",N);p("mcf",ra);p("bcf",qa);p("aq",K);p("mdd","");p("has",sa);
p("trh",ua);p("tev",M);var Q=l.b("0.1",.001),R=0;
function _mlToken(a,b){try{if(1>R){R++;var c,d=a,f=b||{},e=encodeURIComponent,h=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&jexpid=",e("17483"),"&srcpg=",e("prop=22"),"&jsr=",Math.round(1/Q),"&ogev=",e("YaztU-qPOLKssQThoIDYDA"),"&ogf=",g.bv.f,"&ogrp=",e("1"),"&ogv=",e("1407723702.0"),"&oggv="+e("es_plusone_gc_20140723.0_p0"),"&ogd=",e("com"),"&ogc=",e("PAN"),"&ogl=",e("en")];f._sn&&(f._sn="og."+
f._sn);for(var k in f)h.push("&"),h.push(e(k)),h.push("="),h.push(e(f[k]));h.push("&emsg=");h.push(e(d.name+":"+d.message));var r=h.join("");S(r)&&(r=r.substr(0,2E3));c=r;var Aa=window.gbar.logger._aem(a,c);F(Aa)}}catch(Na){}}var S=function(a){return 2E3<=a.length},va=function(a,b){return b};function T(a){B=a;p("_itl",S,G);p("_aem",va,G);p("ml",B,G);a={};H.er=a}l.a("")?T(function(a){throw a;}):l.a("1")&&Math.random()<Q&&T(_mlToken);I.push(["m",{url:"//ssl.gstatic.com/gb/js/scm_7385cc5883250b43a39405734c1bea59.js"}]);g.mcf("c",{});g.sg={c:""};if(l.a("1")){var wa=l.a("");I.push(["gc",{auto:wa,url:"//ssl.gstatic.com/gb/js/abc/gci_91f30755d6a6b787dcc2a4062e6e9824.js",libs:"googleapis.client:plusone:gapi.iframes"}]);var xa={version:"gci_91f30755d6a6b787dcc2a4062e6e9824.js",index:"",lang:"en"};H.gc=xa;var U=function(a){window.googleapis&&window.iframes?a&&a():(a&&O(a),N("gc"))};p("lGC",U);l.a("1")&&p("lPWF",U)};window.__PVT="";if(l.a("1")&&l.a("1")){var V=function(a){U(function(){K("pw",a);N("pw")})};p("lPW",V);I.push(["pw",{url:"//ssl.gstatic.com/gb/js/abc/pwm_45f73e4df07a0e388b0fa1f3d30e7280.js"}]);var W=[],ya=function(a){W[0]=a},za=function(a,b){var c=b||{};c._sn="pw";B(a,c)},Ba={signed:W,elog:za,base:"https://plusone.google.com/u/0",loadTime:(new Date).getTime()};H.pw=Ba;var X=function(a,b){for(var c=b.split("."),d=function(){var b=arguments;a(function(){for(var a=g,d=0,e=c.length-1;d<e;++d)a=a[c[d]];a[c[d]].apply(a,b)})},f=g,e=0,h=c.length-1;e<h;++e)f=
f[c[e]]=f[c[e]]||{};return f[c[e]]=d};X(V,"pw.clk");X(V,"pw.hvr");p("su",ya,g.pw)};function Ca(){function a(){for(var b;(b=e[h++])&&"m"!=b[0]&&!b[1].auto;);b&&(M(2,b[0]),b[1].url&&L(b[1].url,b[0]),b[1].libs&&m.d&&m.d(b[1].libs));h<e.length&&setTimeout(a,0)}function b(){0<f--?setTimeout(b,0):a()}var c=l.a("1"),d=l.a(""),f=3,e=I,h=0,k=window.gbarOnReady;if(k)try{k()}catch(r){da(r,"ml","or")}d?p("ldb",a):c?q(window,"load",b):b()}p("rdl",Ca);var Da={D:1,H:2,da:3,p:4,W:5,M:6,F:7,g:8,ha:9,U:10,L:11,T:12,S:13,N:14,Q:15,P:16,fa:17,w:18,O:19,ga:20,ea:21,u:22,G:23,ja:24,ka:25,ia:26,A:27,j:28,o:29,k:30,ca:31,Z:32,$:33,J:34,K:35,ba:36,aa:37,Y:38,B:39,R:40,v:41,X:42,V:43,h:48,C:49,I:500},Y=[1,2,3,4,5,6,9,10,11,13,14,28,29,30,34,35,37,38,39,40,41,42,43,48,49,500];var Z=l.b("0.001",1E-4),Ea=l.b("1",1),Fa=!1,Ga=!1;if(l.a("1")){var Ha=Math.random();Ha<=Z&&(Fa=!0);Ha<=Ea&&(Ga=!0)}var Ia=Da,$=null;function Ja(){var a=0,b=function(b,d){l.a(d)&&(a|=b)};b(1,"");b(2,"");b(4,"");b(8,"");return a}
function Ka(a,b){var c=Z,d=Fa,f;f=a;if(!$){$={};for(var e=0;e<Y.length;e++){var h=Y[e];$[h]=!0}}if(f=!!$[f])c=Ea,d=Ga;if(d){d=encodeURIComponent;g.rp?(f=g.rp(),f="-1"!=f?f:"1"):f="1";c=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&oge=",a,"&ogex=",d("17483"),"&ogev=",d("YaztU-qPOLKssQThoIDYDA"),"&ogf=",g.bv.f,"&ogp=",d("22"),"&ogrp=",d(f),"&ogsr=",Math.round(1/c),"&ogv=",d("1407723702.0"),"&oggv="+
d("es_plusone_gc_20140723.0_p0"),"&ogd=",d("com"),"&ogl=",d("en"),"&ogc=",d("PAN"),"&ogus=",Ja()];if(b){"ogw"in b&&(c.push("&ogw="+b.ogw),delete b.ogw);var k;f=b;e=[];for(k in f)0!=e.length&&e.push(","),e.push(La(k)),e.push("."),e.push(La(f[k]));k=e.join("");""!=k&&(c.push("&ogad="),c.push(d(k)))}F(c.join(""))}}function La(a){"number"==typeof a&&(a+="");return"string"==typeof a?a.replace(".","%2E").replace(",","%2C"):a}C=Ka;p("il",C,G);var Ma={};H.il=Ma;setTimeout(function(){C(Ia.g)},0);}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var b=window.gbar.i.i;var c=window.gbar;var f=function(d){try{var a=document.getElementById("gbom");a&&d.appendChild(a.cloneNode(!0))}catch(e){b(e,"omas","aomc")}};c.aomc=f;}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var a=window.gbar;a.mcf("pm",{p:""});}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{window.gbar.rdl();}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{float:left;height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}#gbs,.gbm{background:#fff;left:0;position:absolute;text-align:left;visibility:hidden;z-index:1000}.gbm{border:1px solid;border-color:#c9d7f1 #36c #36c #a2bae7;z-index:1001}.gb1{margin-right:.5em}.gb1,.gb3{zoom:1}.gb2{display:block;padding:.2em .5em}.gb2,.gb3{text-decoration:none !important;border-bottom:none}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb2,a.gb3,a.gb4{color:#00c !important}.gbi .gb3,.gbi .gb2,.gbi .gb4{color:#dd8e27 !important}.gbf .gb3,.gbf .gb2,.gbf .gb4{color:#900 !important}a.gb2:hover{background:#36c;color:#fff !important}#gbar .gbz0l{color:#000 !important;cursor:default;font-weight:bold;text-decoration:none !important}
#gbar { padding:.3em .6em !important;}</style></head><body  topmargin="3" marginheight="3"><div id=gbar><nobr><a onclick=gbar.qs(this);gbar.logger.il(1,{t:1}); class=gb1 id=gb_1 href="https://www.google.com/search?sa=N&tab=tw">Search</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:2}); class=gb1 id=gb_2 href="http://www.google.com/search?hl=en&tbm=isch&source=og&sa=N&tab=ti">Images</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:8}); class=gb1 id=gb_8 href="http://maps.google.com/maps?hl=en&sa=N&tab=tl">Maps</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:78}); class=gb1 id=gb_78 href="https://play.google.com/?hl=en&sa=N&tab=t8">Play</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:36}); class=gb1 id=gb_36 href="http://www.youtube.com/results?sa=N&tab=t1">YouTube</a> <a onclick=gbar.logger.il(1,{t:5}); class=gb1 id=gb_5 href="http://news.google.com/nwshp?hl=en&tab=tn">News</a> <a onclick=gbar.logger.il(1,{t:23}); class=gb1 id=gb_23 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a onclick=gbar.logger.il(1,{t:25}); class=gb1 id=gb_25 href="https://drive.google.com/?tab=to">Drive</a> <a class=gb3 href="http://www.google.com/intl/en/options/" onclick="this.blur();gbar.tg(event);return !1" aria-haspopup=true><u>More</u> <small>&#9660;</small></a><div class=gbm id=gbi><a onclick=gbar.logger.il(1,{t:24}); class=gb2 id=gb_24 href="https://www.google.com/calendar?tab=tc">Calendar</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:51}); class=gb2 id=gb_51 href="http://translate.google.com/?hl=en&sa=N&tab=tT">Translate</a><a onclick=gbar.logger.il(1,{t:17}); class=gb2 id=gb_17 href="http://www.google.com/mobile/?hl=en&tab=tD">Mobile</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:10}); class=gb2 id=gb_10 href="http://www.google.com/search?hl=en&tbo=u&tbm=bks&source=og&sa=N&tab=tp">Books</a><a onclick=gbar.logger.il(1,{t:212}); class=gb2 id=gb_212 href="https://wallet.google.com/manage/?tab=ta">Wallet</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:6}); class=gb2 id=gb_6 href="http://www.google.com/search?hl=en&tbo=u&tbm=shop&source=og&sa=N&tab=tf">Shopping</a><a onclick=gbar.logger.il(1,{t:30}); class=gb2 id=gb_30 href="http://www.blogger.com/?tab=tj">Blogger</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:27}); class=gb2 id=gb_27 href="http://www.google.com/finance?sa=N&tab=te">Finance</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:31}); class=gb2 id=gb_31 href="https://plus.google.com/photos?sa=N&tab=tq">Photos</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:12}); class=gb2 id=gb_12 href="http://www.google.com/search?hl=en&tbo=u&tbm=vid&source=og&sa=N&tab=tv">Videos</a><div class=gb2><div class=gbd></div></div><a onclick=gbar.logger.il(1,{t:66}); href="http://www.google.com/intl/en/options/" class=gb2>Even more &raquo;</a></div></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=http://www.google.com/patents%3Fhl%3Den&hl=en" class=gb4>Sign in</a><div style="display: none"><div class=gbm id=gbd5 aria-owner=gbg5><div class=gbmc><ol id=gbom class=gbmcc></ol></div></div></div></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="http://www.google.com/patents/us7082433?hl=en&amp;output=html_text" title="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."><img border="0" src="http://www.google.com/images/cleardot.gif"alt="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."></a></div><div id="guser"><nobr></nobr></div><div style="clear:both;"></div><div id="gb-top-search-box" class="gb-top-search-box-small gb-reset"><table><tr><td class="logo"><a href="http://www.google.com/patents" class="logo-link"><img class="logo-img" src="/intl/en/images/logos/google_logo_41.png" alt="Go to Google Books Home" height="41"/></a></td><td><form action="http://www.google.com/search" name="f" id="vheadf" method="get"><span id="hf"></span><input type="hidden" name="tbm" value="pts"/><input type="hidden" name="tbo" value="1"/><input type="hidden" name="hl" value="en"/><table><tr><td><div class="inputs"><table><tr><td><div class="text-input"><input type="text" name="q" id="vheadq" class="text" maxlength="2048" size="31" value="" title="Search Patents" accesskey="s" autocomplete="off"/><script>window._OC_autoDir &&window._OC_autoDir('vheadq', 'tia-vheadq');</script></div></td><td><div class="submit-input"><input name="btnG" class="submit" type="submit" value=""/></div></td></tr></table></div></td><td class="col-ext-links"><div class="ext-links"><a href="http://www.google.com/advanced_patent_search">&lt;nobr&gt;Advanced Patent Search&lt;/nobr&gt;</a></div></td></tr></table></form></td></tr></table></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents">Patents</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/US7082433"></a><a id="appbar-patents-discuss-this-link" href="http://www.google.com/url?id=tYB1BAABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpatent%3DUS7082433&amp;usg=AFQjCNEW6KyzN2SzbJlUEa5EnQoQ62tQVA" data-is-grant="true"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/US7082433.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/US7082433.pdf"></a><a class="appbar-application-grant-link" data-label="Application" href="/patents/US20040015506"></a><a class="appbar-application-grant-link" data-selected="true" data-label="Grant" href="/patents/US7082433"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="http://www.google.com/patents/US7082433" style="display:none"><span itemprop="description">Join expressions, expressed in terms of objects, are translated into a relational database join statement by generating a parse tree based on the join expression. The parse tree is traversed to build the relational database join statement....</span><span itemprop="url">http://www.google.com/patents/US7082433?utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">Patent US7082433 - Translation of object queries involving inheritence</span><img itemprop="image" src="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="Patent US7082433 - Translation of object queries involving inheritence" title="Patent US7082433 - Translation of object queries involving inheritence"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="http://www.google.com/advanced_patent_search">Advanced Patent Search</a></li></ol></div><table id="viewport_table" cellpadding="0" style="clear:both" cellspacing="0"><tr><td id="viewport_td"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata"><tr><td class="patent-bibdata-heading">Publication number</td><td class="single-patent-bibdata">US7082433 B2</td></tr><tr><td class="patent-bibdata-heading">Publication type</td><td class="single-patent-bibdata">Grant</td></tr><tr><td class="patent-bibdata-heading">Application number</td><td class="single-patent-bibdata">US 10/199,500</td></tr><tr><td class="patent-bibdata-heading">Publication date</td><td class="single-patent-bibdata">Jul 25, 2006</td></tr><tr><td class="patent-bibdata-heading">Filing date</td><td class="single-patent-bibdata">Jul 20, 2002</td></tr><tr><td class="patent-bibdata-heading">Priority date<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="The priority date is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the date listed."></span></td><td class="single-patent-bibdata">Jul 20, 2002</td></tr><tr><td class="patent-bibdata-heading">Fee status<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="The fee status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status or dates listed."></span></td><td class="single-patent-bibdata">Paid</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Also published as</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/EP1387297A2">EP1387297A2</a>, </span><span class="patent-bibdata-value"><a href="/patents/EP1387297A3">EP1387297A3</a>, </span><span class="patent-bibdata-value"><a href="/patents/US20040015506">US20040015506</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading">Publication number</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">10199500, </span><span class="patent-bibdata-value">199500, </span><span class="patent-bibdata-value">US 7082433 B2, </span><span class="patent-bibdata-value">US 7082433B2, </span><span class="patent-bibdata-value">US-B2-7082433, </span><span class="patent-bibdata-value">US7082433 B2, </span><span class="patent-bibdata-value">US7082433B2</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Inventors</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Steven+P.+Anonsen%22">Steven P. Anonsen</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Anthony+R.+Trappen%22">Anthony R. Trappen</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Matthew+Aaron+Thalman%22">Matthew Aaron Thalman</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Original Assignee</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=inassignee:%22Microsoft+Corporation%22">Microsoft Corporation</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Export Citation</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/US7082433.bibtex">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7082433.enw">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7082433.ris">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">Patent Citations</a> (6),</span> <span class="patent-bibdata-value"><a href="#npl-citations">Non-Patent Citations</a> (3),</span> <span class="patent-bibdata-value"><a href="#forward-citations">Referenced by</a> (10),</span> <span class="patent-bibdata-value"><a href="#classifications">Classifications</a> (18),</span> <span class="patent-bibdata-value"><a href="#legal-events">Legal Events</a> (6)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">External Links:&nbsp;</span><span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=tYB1BAABERAJ&q=http://patft.uspto.gov/netacgi/nph-Parser%3FSect2%3DPTO1%26Sect2%3DHITOFF%26p%3D1%26u%3D/netahtml/PTO/search-bool.html%26r%3D1%26f%3DG%26l%3D50%26d%3DPALL%26RefSrch%3Dyes%26Query%3DPN/7082433&usg=AFQjCNGyxH9InZBCrBH-MB9yKKySmiBL4g">USPTO</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=tYB1BAABERAJ&q=http://assignments.uspto.gov/assignments/q%3Fdb%3Dpat%26pat%3D7082433&usg=AFQjCNH1dJraX3XJ1dolJSEw0sJNgH4f9A">USPTO Assignment</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=tYB1BAABERAJ&q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DUS%26NR%3D7082433B2%26KC%3DB2%26FT%3DD&usg=AFQjCNFwIxHzePmHhagE17WDmeZPTfl5Pg">Espacenet</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT55615682" lang="EN" load-source="patent-office">Translation of object queries involving inheritence</invention-title></span><br><span class="patent-number">US 7082433 B2</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title">Abstract</span></div><div class="patent-text"><abstract mxw-id="PA51013778" lang="EN" load-source="patent-office"> <div num="p-0001" class="abstract">Join expressions, expressed in terms of objects, are translated into a relational database join statement by generating a parse tree based on the join expression. The parse tree is traversed to build the relational database join statement.</div>
  </abstract></div></div><div class="patent-section patent-drawings-section"><div class="patent-section-header"><span class="patent-section-title">Images<span class="patent-section-count">(42)</span></span></div><div class="patent-drawings-body"><div class="patent-drawings-carousel"><div class="drawings"><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00000.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00000.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00001.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00001.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00002.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00002.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00003.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00003.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00004.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00004.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00005.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00005.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00006.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00006.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00007.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00007.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00008.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00008.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00009.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00009.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00010.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00010.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00011.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00011.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00012.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00012.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00013.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00013.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00014.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00014.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00015.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00015.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00016.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00016.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00017.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00017.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00018.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00018.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00019.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00019.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00020.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00020.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00021.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00021.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00022.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00022.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00023.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00023.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00024.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00024.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00025.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00025.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00026.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00026.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00027.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00027.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00028.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00028.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00029.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00029.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00030.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00030.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00031.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00031.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00032.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00032.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00033.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00033.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00034.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00034.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00035.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00035.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00036.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00036.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00037.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00037.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00038.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00038.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00039.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00039.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00040.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00040.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7082433B2/US07082433-20060725-D00041.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7082433B2/US07082433-20060725-D00041.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div></div></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img" alt="Previous page"src="/googlebooks/images/kennedy/page_left.png"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img" alt="Next page"src="/googlebooks/images/kennedy/page_right.png"width="21" height="21" /></div></div></div><div class="patent-post-drawings"></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">Claims<span class="patent-section-count">(19)</span></span></div><div class="patent-text"><div mxw-id="PCLM9055221" lang="EN" load-source="patent-office" class="claims">
  <div class="claim"> <div id="CLM-00001" num="00001" class="claim">
    <div class="claim-text">1. A method of translating a join expression, expressed in terms of objects, into a relational database join statement, comprising:
<div class="claim-text">receiving the join expression, expressed in terms of objects;</div>
<div class="claim-text">generating a parse tree based on the join expression; and</div>
<div class="claim-text">building the relational database join statement by traversing the parse tree;</div>
<div class="claim-text">wherein traversing the parse tree comprises:</div>
<div class="claim-text">building a directed acyclic graph (DAG) from the parse tree;</div>
<div class="claim-text">wherein traversing further comprises:</div>
<div class="claim-text">traversing the DAG to obtain the relational database join statement;</div>
<div class="claim-text">wherein the parse tree has properties as leaf nodes and operators as internal nodes and wherein building a DAG comprises:</div>
<div class="claim-text">traversing the parse tree in postfix order;</div>
<div class="claim-text">encountering a leaf node; and</div>
<div class="claim-text">building a DAG node for the leaf node.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00002" num="00002" class="claim">
    <div class="claim-text">2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the leaf node encountered comprises a property path of a plurality of entities, and wherein building a DAG node for the leaf node comprises:
<div class="claim-text">determining whether the leaf node is connected to a first or second side of an operator.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00003" num="00003" class="claim">
    <div class="claim-text">3. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref> wherein building a DAG node for the leaf node comprises:
<div class="claim-text">creating a starting DAG node corresponding to a first entity in the property path.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00004" num="00004" class="claim">
    <div class="claim-text">4. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref> wherein creating a starting DAG node comprises:
<div class="claim-text">if the leaf node is on the first side of the operator, creating the starting DAG node for the first entity on the first side of the property path.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00005" num="00005" class="claim">
    <div class="claim-text">5. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref> wherein creating a starting DAG node comprises:
<div class="claim-text">if the leaf node is on the second side of the operator, creating the starting DAG node for the first entity on the second side of the property path.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00006" num="00006" class="claim">
    <div class="claim-text">6. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref> wherein building a DAG node for the leaf node comprises:
<div class="claim-text">creating a subsequent DAG node for a subsequent entity in the property path.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00007" num="00007" class="claim">
    <div class="claim-text">7. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref> wherein building a DAG node for the leaf node comprises:
<div class="claim-text">joining the subsequent DAG node to a next previously created DAG node.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00008" num="00008" class="claim">
    <div class="claim-text">8. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref> wherein joining comprises:
<div class="claim-text">identifying a join type and join expression associated with the subsequent DAG node.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00009" num="00009" class="claim">
    <div class="claim-text">9. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref> wherein building a DAG for the leaf node comprises:
<div class="claim-text">repeating the steps of creating a subsequent DAG node, joining and identifying for each subsequent entity in the property path.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00010" num="00010" class="claim">
    <div class="claim-text">10. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein building a DAG further comprises:
<div class="claim-text">encountering an operator having associated left and right operands; and</div>
<div class="claim-text">joining DAGs associated with the operands to form a composite DAG.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00011" num="00011" class="claim">
    <div class="claim-text">11. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein joining DAGs associated with the operands comprises:
<div class="claim-text">joining a first DAG node from the DAG for the right operand to a last DAG node from the DAG for the left operand.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00012" num="00012" class="claim">
    <div class="claim-text">12. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein joining the DAGs associated with the operands comprises:
<div class="claim-text">joining properties associated with each DAG according to the operator.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00013" num="00013" class="claim">
    <div class="claim-text">13. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein the operator comprises a Boolean operator and wherein joining the DAGs associated with the Boolean operator comprises:
<div class="claim-text">merging the DAGs together to obtain a merged DAG.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00014" num="00014" class="claim">
    <div class="claim-text">14. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein merging comprises:
<div class="claim-text">identifying matching nodes from the DAGs.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00015" num="00015" class="claim">
    <div class="claim-text">15. The method of <claim-ref idref="CLM-00014">claim 14</claim-ref> wherein merging comprises:
<div class="claim-text">if the matching nodes have different expressions merging the nodes and merging the join expressions with the Boolean operator.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00016" num="00016" class="claim">
    <div class="claim-text">16. The method of <claim-ref idref="CLM-00014">claim 14</claim-ref> wherein merging comprises:
<div class="claim-text">if the matching nodes have identical expressions, choosing one of the nodes and expressions as a merged node in the merged DAG.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00017" num="00017" class="claim">
    <div class="claim-text">17. The method of <claim-ref idref="CLM-00014">claim 14</claim-ref> wherein merging comprises:
<div class="claim-text">joining non-matching nodes to previous nodes in the merged DAG.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00018" num="00018" class="claim">
    <div class="claim-text">18. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein merging the DAGs further comprises:
<div class="claim-text">assigning a depth to each node in the merged DAG.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00019" num="00019" class="claim">
    <div class="claim-text">19. The method of <claim-ref idref="CLM-00018">claim 18</claim-ref> wherein traversing the DAG comprises:
<div class="claim-text">traversing the DAG from a shallow depth to a doeper depth.</div>
</div>
  </div>
</div> </div></div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title">Description</span></div><div class="patent-text"><div mxw-id="PDES16077765" lang="EN" load-source="patent-office" class="description">
<heading>BACKGROUND OF THE INVENTION</heading> <p num="p-0002">The present invention relates to database systems.</p>
  <p num="p-0003">In conventional relational databases, all data are stored in named tables. The tables are described by their features. In other words, the rows of each table contain items of identical type, and the definitions of the columns of the table (i.e., the column names and the data types stored in the column) describe the attributes of each of the instances of the object. By identifying its name, its column names and the data types of the column contents, a table is completely described. Queries to a relational data base are formulated in a query language. One such language is SQL (Structure Query Language) which is widely used in commercial relational data base systems. The data types offered by SQL can be classified as character arrays (names), numbers, and data types related to date and time. Tables can be modified or combined by several operations of relational algebra such as the application of Boolean operators, projection (i.e. selection of columns) or the Cartesian product.</p>
  <p num="p-0004">Relational databases offer several advantages. Data base queries are based on a comparison of the table contents. Thus, no pointers are required in relational databases, and all relations are treated uniformly. Further, the tables are independent (they are not related by pointers), so it is easier to maintain dynamic data sets. The tables are easily expandable by simply adding new columns. Also, it is relatively easy to create user-specific views from relational databases.</p>
  <p num="p-0005">There are, however, a number of disadvantages associated with relational databases as well. For example, access to data by reference to properties is not optimal in the classical relational data model. This can make such databases cumbersome in many applications.</p>
  <p num="p-0006">Another recent technology for database systems is referred to as object oriented data base systems. These systems offer more complex data types in order to overcome the restrictions of conventional relational databases. In the context of object oriented data base models, an “object” includes both data and the functions (or methods) which can be applied to the object. Each object is a concrete instance of an object class defining the attributes and methods of all its instances. Each instance has its unique identifier by which it can be referred to in the database.</p>
  <p num="p-0007">Object oriented databases operate under a number of principles. One such principle is referred to as inheritance. Inheritance means that new object classes can be derived from another class. The new classes inherit the attributes and methods of the other class (the super-class) and offer additional attributes and operations. An instance of the derived class is also an instance of the super-class. Therefore, the relation between a derived class and its super-class is referred to as the “isA” relation.</p>
  <p num="p-0008">A second principle related to object oriented databases is referred to as “aggregation.” Aggregation means that composite objects may be constructed as consisting of a set of elementary objects. A “container object” can communicate with the objects contained therein by their methods of the contained objects. The relation between the container object and its components is called a “partOf” relation because a component is a part of the container object.</p>
  <p num="p-0009">Yet another principle related to object oriented databases is referred to as encapsulation. According to encapsulation, an application can only communicate with an object through messages. The operations provided by an object define the set of messages which can be understood by the object. No other operations can be applied to the object.</p>
  <p num="p-0010">Another principle related to object oriented databases is referred to as polymorphism. Polymorphism means that derived classes may re-define methods of their super-classes.</p>
  <p num="p-0011">Objects present a variety of advantages. For example, operations are an important part of objects. Because the implementations of the operations are hidden to an application, objects can be more easily used by application programs. Further, an object class can be provided as an abstract description for a wide variety of actual objects, and new classes can be derived from the base class. Thus, if an application knows the abstract description and using only the methods provided by, the application can still accommodate objects of the derived classes, because the objects in the derived classes inherit these methods. However, object oriented databases are not yet as widely used in commercial products as relational databases.</p>
  <p num="p-0012">Yet another database technology attempts to combine the advantages of the wide acceptance of relational data bases and the benefits of the object oriented paradigm. This technology is referred to as object-relational database systems. These databases employ a data model that attempts to add object oriented characteristics to tables. All persistent (database) information is still in tables, but some of the tabular entries can have richer data structure. These data structures are referred to as abstract data types (ADTs). An ADT is a data type that is constructed by combining basic alphanumeric data types. The support for abstract data types presents certain advantages. For example, the methods associated with the new data type can be used to index, store, and retrieve records based on the content of the new data type.</p>
  <p num="p-0013">Some conventional object-relational databases support an extended form of SQL, sometimes referred to as ObjectSQL. The extensions are provided to support the object model (e.g., queries involving object attributes). However, these object-relational databases are still relational because the data is stored in tables of rows and columns, and SQL, with some extensions, is the language for data definition, manipulation, and query. Both the target of a query and the result of a query are still tables. The extended SQL language is often still the primary interface to the database. Therefore, there is no direct support of host object languages and their objects. This forces programmers to continue to translate between objects and tables. Current database technology does not easily allow a user to query an object (or entity) in terms of its properties, rather than tables and their properties.</p>
  <heading>SUMMARY OF THE INVENTION</heading> <p num="p-0014">Join expressions, expressed in terms of objects, are translated into a relational database join statement by generating a parse tree based on the join expression. The parse tree is traversed to build the relational database join statement.</p>
  <p num="p-0015">The parse tree can be traversed by first building a directed, acyclic graph (DAG) from the parse tree. The DAG is then traversed to obtain the relational database join statement.</p>
<description-of-drawings> <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading> <p num="p-0016"> <figref idrefs="DRAWINGS">FIG. 1</figref> is a block diagram of one embodiment of an object-relational data storage system.</p>
    <p num="p-0017"> <figref idrefs="DRAWINGS">FIG. 2</figref> is a block diagram of an environment in which the present invention can be used.</p>
    <p num="p-0018"> <figref idrefs="DRAWINGS">FIG. 3</figref> is a UML object model class diagram in accordance with one embodiment of the present invention.</p>
    <p num="p-0019"> <figref idrefs="DRAWINGS">FIG. 4A</figref> is an exemplary parse tree.</p>
    <p num="p-0020"> <figref idrefs="DRAWINGS">FIG. 4B</figref> is a UML object model class diagram for expressions.</p>
    <p num="p-0021"> <figref idrefs="DRAWINGS">FIG. 4C</figref> is an exemplary parse tree with objects.</p>
    <p num="p-0022"> <figref idrefs="DRAWINGS">FIG. 5</figref> illustrates a plurality of class-table mappings for different exemplary entities.</p>
    <p num="p-0023"> <figref idrefs="DRAWINGS">FIG. 6</figref> illustrates an ad hoc query.</p>
    <p num="p-0024"> <figref idrefs="DRAWINGS">FIG. 7</figref> is a flow diagram illustrating the operation of a data access system in performing an ad hoc query.</p>
    <p num="p-0025"> <figref idrefs="DRAWINGS">FIG. 8</figref> is a flow diagram showing join translation.</p>
    <p num="p-0026"> <figref idrefs="DRAWINGS">FIG. 9</figref> is an exemplary parse tree.</p>
    <p num="p-0027"> <figref idrefs="DRAWINGS">FIGS. 10A–C-2</figref> are flow diagrams showing a process for building a directed acyclic graph (DAG) from a parse tree.</p>
    <p num="p-0028"> <figref idrefs="DRAWINGS">FIGS. 11A–11G</figref> illustrate building a DAG.</p>
    <p num="p-0029"> <figref idrefs="DRAWINGS">FIG. 12</figref> shows a merged DAG.</p>
    <p num="p-0030"> <figref idrefs="DRAWINGS">FIG. 13</figref> shows merging DAGs according to Boolean operators.</p>
    <p num="p-0031"> <figref idrefs="DRAWINGS">FIG. 14</figref> is a UML diagram showing concrete entities derived from a concrete entity, all mapped to separate class tables.</p>
    <p num="p-0032"> <figref idrefs="DRAWINGS">FIG. 15</figref> is a UML diagram with concrete entities derived from an abstract entity.</p>
    <p num="p-0033"> <figref idrefs="DRAWINGS">FIG. 16</figref> is a UML diagram showing concrete entities derived from a concrete entity, all mapped to a single table.</p>
    <p num="p-0034"> <figref idrefs="DRAWINGS">FIG. 17</figref> is a UML diagram of an inheritance hierarchy, showing class tables for the entities illustrated.</p>
    <p num="p-0035"> <figref idrefs="DRAWINGS">FIG. 18</figref> is a flow diagram illustrating one embodiment of an algorithm for translating queries that have inheritance.</p>
    <p num="p-0036"> <figref idrefs="DRAWINGS">FIGS. 18-1</figref> and <b>18</b>-<b>2</b> are flow diagrams illustrating portions of <figref idrefs="DRAWINGS">FIG. 18</figref> in greater detail.</p>
    <p num="p-0037"> <figref idrefs="DRAWINGS">FIG. 19</figref> illustrates the inheritance hierarchy of <figref idrefs="DRAWINGS">FIG. 17</figref> formed into a tree of entity groups.</p>
    <p num="p-0038"> <figref idrefs="DRAWINGS">FIG. 20</figref> illustrates another inheritance hierarchy.</p>
    <p num="p-0039"> <figref idrefs="DRAWINGS">FIG. 21</figref> illustrates the inheritance hierarchy shown in <figref idrefs="DRAWINGS">FIG. 20</figref> formed into entity groups.</p>
    <p num="p-0040"> <figref idrefs="DRAWINGS">FIG. 22</figref> is a flow diagram illustrating the construction of a query select list to define the structure of the result set expected by the system.</p>
    <p num="p-0041"> <figref idrefs="DRAWINGS">FIG. 23</figref> is a flow diagram illustrating how columns that store data for selected properties are added to the select list.</p>
    <p num="p-0042"> <figref idrefs="DRAWINGS">FIG. 24</figref> is a UML diagram illustrating a graph structure to be queried.</p>
    <p num="p-0043"> <figref idrefs="DRAWINGS">FIG. 25</figref> is an exemplary select list containing columns for the objects in <figref idrefs="DRAWINGS">FIG. 24</figref> that are to be queried.</p>
    <p num="p-0044"> <figref idrefs="DRAWINGS">FIGS. 25A and 25B</figref> show the class definitions (pseudo-code) for the objects.</p>
    <p num="p-0045"> <figref idrefs="DRAWINGS">FIG. 26</figref> illustrates a set operation.</p>
    <p num="p-0046"> <figref idrefs="DRAWINGS">FIG. 27</figref> is a flow diagram illustrating the operation of a set operation.</p>
    <p num="p-0047"> <figref idrefs="DRAWINGS">FIG. 28</figref> is a pictorial representation of a containment hierarchy.</p>
    <p num="p-0048"> <figref idrefs="DRAWINGS">FIG. 29</figref> is pictorial representation of an entity and an entity key.</p>
    <p num="p-0049"> <figref idrefs="DRAWINGS">FIG. 30</figref> is a pictorial representation of a business application.</p>
    <p num="p-0050"> <figref idrefs="DRAWINGS">FIG. 31</figref> is a pictorial representation of an entity key.</p>
    <p num="p-0051"> <figref idrefs="DRAWINGS">FIG. 32</figref> is a pictorial representation of a blended key.</p>
    <p num="p-0052"> <figref idrefs="DRAWINGS">FIG. 33</figref> is a pictorial representation of a database table.</p>
  </description-of-drawings> <heading>DETAILED DESCRIPTION OF ILLUSTRATIVE EMBODIMENTS OVERVIEW</heading> <p num="p-0053">It should be noted that the inventive features of the invention can be applied to O-R databases or relational databases, because the invention bridges the capabilities of both types of databases as well as the capabilities of object oriented programming languages. The result is an O-R database system that provides significant advantages over prior database technology. It will be described herein in terms of applying to an O-R database, for the sake of illustration only, as it is equally beneficial for relational databases.</p>
  <p num="p-0054"> <figref idrefs="DRAWINGS">FIG. 1</figref> is a block diagram illustrating one embodiment of a data storage and accessing system <b>10</b> in accordance with the present invention. System <b>10</b> includes data access system (or entity persistence system)<b>12</b>, relational data store mechanism <b>14</b>, relational database <b>16</b>, and class-table mapping <b>18</b>. System <b>10</b> is illustratively an object-relational (O-R) data storage system in which stored data can be referred to in terms of entities (or objects) and their properties, rather than elements of the data base schema, such as tables and columns. <figref idrefs="DRAWINGS">FIG. 1</figref> illustrates one mechanism for doing this.</p>
  <p num="p-0055">As shown in <figref idrefs="DRAWINGS">FIG. 1</figref>, the data can be organized in terms of entities <b>20</b> (which is used interchangeably herein with the term objects). Each entity illustratively includes a metadata portion <b>22</b> and a remaining attributes portion <b>24</b>. The metadata portion <b>22</b> describes the entity <b>20</b>, while the remaining attributes <b>24</b> define further attributes of entity <b>20</b>, such as the data stored therein. Each of the attributes in entity <b>20</b> is mapped to a corresponding entity table <b>26</b> and a specific column <b>28</b> in a given entity table <b>26</b>.</p>
  <p num="p-0056">Data access system <b>12</b> can receive various forms of requests such as a query <b>30</b> which specifies an entity, or portions of an entity or group of entities, to be retrieved. Query <b>30</b> can illustratively be expressed in terms of objects (“entities”) and properties, rather than in terms of tables and columns. The particular manner in which queries are expressed is described in greater detail below.</p>
  <p num="p-0057">In any case, data access system <b>12</b> receives the query <b>30</b> and accesses class-table mapping <b>18</b>. In this way, data access system <b>12</b> can determine the location of the data for the entities identified by query <b>30</b>. Data access system <b>12</b> includes a translator <b>13</b> that translates query <b>30</b> into a relational database query <b>32</b> which is suitable for input to relational data store mechanism <b>14</b>. In one illustrative embodiment, relational data store mechanism <b>14</b> is a SQL SERVER database server such as that available from the Microsoft Corporation of Redmond, Wash., that accesses a relational database <b>16</b>. Therefore, data access system <b>12</b> receives queries <b>30</b> in terms of objects and translates those queries into an appropriate relational database query <b>32</b> that is then provided to the data store mechanism (or server) <b>14</b> which actually accesses the data in relational database <b>16</b>.</p>
  <p num="p-0058">Relational data store mechanism <b>14</b> retrieves the requested data and returns it in the form of relational database results <b>34</b>. The results are returned to data access system <b>12</b> which then formulates the relational database results <b>34</b> into a requested result set <b>36</b>. In one illustrative embodiment, result set <b>36</b> is requested in query <b>30</b>. Query <b>30</b> may request that the results be output in the form of one or more objects or simply as a data set. In any case, data access system <b>12</b> arranges the relational database results <b>34</b> into the proper format and outputs them as result set <b>36</b>.</p>
  <p num="p-0059">Data access system <b>12</b> hides the physical data store (mechanism <b>14</b> and database <b>16</b>) from the users and developers enabling them to work in terms of entities rather than requiring them to know both the schema of database <b>16</b> and the syntax of the particular data store mechanism <b>14</b>. Before describing this in greater detail, <figref idrefs="DRAWINGS">FIG. 2</figref> shows one embodiment of an environment in which the present invention can be used.</p>
  <p num="p-0060"> <figref idrefs="DRAWINGS">FIG. 2</figref> illustrates an example of a suitable computing system environment <b>100</b> on which the invention may be implemented. The computing system environment <b>100</b> is only one example of a suitable computing environment and is not intended to suggest any limitation as to the scope of use or functionality of the invention. Neither should the computing environment <b>100</b> be interpreted as having any dependency or requirement relating to any one or combination of components illustrated in the exemplary operating environment <b>100</b>.</p>
  <p num="p-0061">The invention is operational with numerous other general purpose or special purpose computing system environments or configurations. Examples of well known computing systems, environments, and/or configurations that may be suitable for use with the invention include, but are not limited to, personal computers, server computers, hand-held or laptop devices, multiprocessor systems, microprocessor-based systems, set top boxes, programmable consumer electronics, network PCs, minicomputers, mainframe computers, distributed computing environments that include any of the above systems or devices, and the like.</p>
  <p num="p-0062">The invention may be described in the general context of computer-executable instructions, such as program modules, being executed by a computer. Generally, program modules include routines, programs, objects, components, data structures, etc. that perform particular tasks or implement particular abstract data types. The invention may also be practiced in distributed computing environments where tasks are performed by remote processing devices that are linked through a communications network. In a distributed computing environment, program modules may be located in both local and remote computer storage media including memory storage devices.</p>
  <p num="p-0063">With reference to <figref idrefs="DRAWINGS">FIG. 2</figref>, an exemplary system for implementing the invention includes a general purpose computing device in the form of a computer <b>110</b>. Components of computer <b>110</b> may include, but are not limited to, a processing unit <b>120</b>, a system memory <b>130</b>, and a system bus <b>121</b> that couples various system components including the system memory to the processing unit <b>120</b>. The system bus <b>121</b> may be any of several types of bus structures including a memory bus or memory controller, a peripheral bus, and a local bus using any of a variety of bus architectures. By way of example, and not limitation, such architectures include Industry Standard Architecture (ISA) bus, Micro Channel Architecture (MCA) bus, Enhanced ISA (EISA) bus, Video Electronics Standards Association (VESA) local bus, and Peripheral Component Interconnect (PCI) bus also known as Mezzanine bus.</p>
  <p num="p-0064">Computer <b>110</b> typically includes a variety of computer readable media. Computer readable media can be any available media that can be accessed by computer <b>110</b> and includes both volatile and nonvolatile media, removable and non-removable media. By way of example, and not limitation, computer readable media may comprise computer storage media and communication media. Computer storage media includes both volatile and nonvolatile, removable and non-removable media implemented in any method or technology for storage of information such as computer readable instructions, data structures, program modules or other data. Computer storage media includes, but is not limited to, RAM, ROM, EEPROM, flash memory or other memory technology, CD-ROM, digital versatile disks (DVD) or other optical disk storage, magnetic cassettes, magnetic tape, magnetic disk storage or other magnetic storage devices, or any other medium which can be used to store the desired information and which can be accessed by computer <b>100</b>. Communication media typically embodies computer readable instructions, data structures, program modules or other data in a modulated data signal such as a carrier WAV or other transport mechanism and includes any information delivery media. The term “modulated data signal” means a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example, and not limitation, communication media includes wired media such as a wired network or direct-wired connection, and wireless media such as acoustic, FR, infrared and other wireless media. Combinations of any of the above should also be included within the scope of computer readable media.</p>
  <p num="p-0065">The system memory <b>130</b> includes computer storage media in the form of volatile and/or nonvolatile memory such as read only memory (ROM) <b>131</b> and random access memory (RAM) <b>132</b>. A basic input/output system <b>133</b> (BIOS), containing the basic routines that help to transfer information between elements within computer <b>110</b>, such as during startup, is typically stored in ROM <b>131</b>. RAM <b>132</b> typically contains data and/or program modules that are immediately accessible to and/or presently being operated on by processing unit <b>120</b>. By way o example, and not limitation, <figref idrefs="DRAWINGS">FIG. 2</figref> illustrates operating system <b>134</b>, application programs <b>135</b>, other program modules <b>136</b>, and program data <b>137</b>.</p>
  <p num="p-0066">The computer <b>110</b> may also include other removable/non-removable volatile/nonvolatile computer storage media. By way of example only, <figref idrefs="DRAWINGS">FIG. 2</figref> illustrates a hard disk drive <b>141</b> that reads from or writes to non-removable, nonvolatile magnetic media, a magnetic disk drive <b>151</b> that reads from or writes to a removable, nonvolatile magnetic disk <b>152</b>, and an optical disk drive <b>155</b> that reads from or writes to a removable, nonvolatile optical disk <b>156</b> such as a CD ROM or other optical media. Other removable/non-removable, volatile/nonvolatile computer storage media that can be used in the exemplary operating environment include, but are not limited to, magnetic tape cassettes, flash memory cards, digital versatile disks, digital video tape, solid state RAM, solid state ROM, and the like. The hard disk drive <b>141</b> is typically connected to the system bus <b>121</b> through a non-removable memory interface such as interface <b>140</b>, and magnetic disk drive <b>151</b> and optical disk drive <b>155</b> are typically connected to the system bus <b>121</b> by a removable memory interface, such as interface <b>150</b>.</p>
  <p num="p-0067">The drives and their associated computer storage media discussed above and illustrated in <figref idrefs="DRAWINGS">FIG. 2</figref>, provide storage of computer readable instructions, data structures, program modules and other data for the computer <b>110</b>. In <figref idrefs="DRAWINGS">FIG. 2</figref>, for example, hard disk drive <b>141</b> is illustrated as storing operating system <b>144</b>, application programs <b>145</b>, other program modules <b>146</b>, and program data <b>147</b>. Note that these components can either be the same as or different from operating system <b>134</b>, application programs <b>135</b>, other program modules <b>136</b>, and program data <b>137</b>. Operating system <b>144</b>, application programs <b>145</b>, other program modules <b>146</b>, and program data <b>147</b> are given different numbers here to illustrate that, at a minimum, they are different copies.</p>
  <p num="p-0068">A user may enter commands and information into the computer <b>110</b> through input devices such as a keyboard <b>162</b>, a microphone <b>163</b>, and a pointing device <b>161</b>, such as a mouse, trackball or touch pad. Other input devices (not shown) may include a joystick, game pad, satellite dish, scanner, or the like. These and other input devices are often connected to the processing unit <b>120</b> through a user input interface <b>160</b> that is coupled to the system bus, but may be connected by other interface and bus structures, such as a parallel port, game port or a universal serial bus (USB). A monitor <b>191</b> or other type of display device is also connected to the system bus <b>121</b> via an interface, such as a video interface <b>190</b>. In addition to the monitor, computers may also include other peripheral output devices such as speakers <b>197</b> and printer <b>196</b>, which may be connected through an output peripheral interface <b>190</b>.</p>
  <p num="p-0069">The computer <b>110</b> may operate in a networked environment using logical connections to one or more remote computers, such as a remote computer <b>180</b>. The remote computer <b>180</b> may be a personal computer, a hand-held device, a server, a router, a network PC, a peer device or other common network node, and typically includes many or all of the elements described above relative to the computer <b>110</b>. The logical connections depicted in <figref idrefs="DRAWINGS">FIG. 2</figref> include a local area network (LAN) <b>171</b> and a wide area network (WAN) <b>173</b>, but may also include other networks. Such networking environments are commonplace in offices, enterprise-wide computer networks, intranets and the Internet.</p>
  <p num="p-0070">When used in a LAN networking environment, the computer <b>110</b> is connected to the LAN <b>171</b> through a network interface or adapter <b>170</b>. When used in a WAN networking environment, the computer <b>110</b> typically includes a modem <b>172</b> or other means for establishing communications over the WAN <b>173</b>, such as the Internet. The modem <b>172</b>, which may be internal or external, may be connected to the system bus <b>121</b> via the user-input interface <b>160</b>, or other appropriate mechanism. In a networked environment, program modules depicted relative to the computer <b>110</b>, or portions thereof, may be stored in the remote memory storage device. By way of example, and not limitation, <figref idrefs="DRAWINGS">FIG. 2</figref> illustrates remote application programs <b>185</b> as residing on remote computer <b>180</b>. It will be appreciated that the network connections shown are exemplary and other means of establishing a communications link between the computers may be used.</p>
  <p num="p-0071">It should be noted that the present invention can be carried out on a computer system such as that described with respect to <figref idrefs="DRAWINGS">FIG. 2</figref>. However, the present invention can be carried out on a server, a computer devoted to message handling, or on a distributed system in which different portions of the present invention are carried out on different parts of the distributed computing system.</p>
  <heading>Criteria Object Model</heading> <p num="p-0072"> <figref idrefs="DRAWINGS">FIG. 3</figref> shows a UML class diagram implemented by data access system <b>12</b>. The class diagram shown in <figref idrefs="DRAWINGS">FIG. 3</figref> defines what is referred to as a criteria subsystem <b>200</b>. Criteria subsystem <b>200</b> enables users and developers to define criteria, which describe the entity or entities being queried, updated or deleted; or the entity or entities on which set operations are being performed. Each of the objects in <figref idrefs="DRAWINGS">FIG. 3</figref> includes an application programming interface that exposes a variety of different methods which are described in greater detail in Appendix A hereto. A number of the features of the various objects, and methods exposed thereby, are discussed in the body of this description for the sake of clarity.</p>
  <p num="p-0073">Object model <b>200</b> includes the following classes: Criteria <b>202</b>, EntityCriteria <b>204</b>, CriteriaWithOrderBy <b>206</b>, CollectionCriteria <b>208</b>, AdHocQueryCriteria <b>210</b>, EntitySetUpdateCriteria <b>212</b>, EntityAliasList <b>214</b>, JoinList <b>216</b> WhereExpression <b>218</b>, OrderByList <b>220</b>, SelectList <b>222</b>, EntityCollectionType <b>224</b> and PropertyAssignmentList <b>226</b>.</p>
  <p num="p-0074">In the diagram shown in <figref idrefs="DRAWINGS">FIG. 3</figref>, the hollow arrows define an “IS A” relationship. For example, EntityCriteria is a Criteria, and EntitySetUpdateCriteria is also a Criteria. The connectors having a diamond at one end and an open arrow at the other end illustrate that the class which is pointed to by the diamond holds a reference to the class that is pointed to by the open arrow. Thus, the Criteria class holds a reference to the EntityAliasList class. The numerals adjacent the open arrows indicate the number of references which are held. Therefore, each Criteria class <b>202</b> holds a reference to an EntityAliasList <b>214</b> and can hold a reference for up to one JoinList <b>216</b> and WhereExpression <b>218</b>.</p>
  <p num="p-0075">Criteria class <b>202</b> is the abstract base class for which each of the concrete criteria classes (EntityCriteria <b>204</b>, CollectionCriteria <b>208</b>, AdHocQueryCriteria <b>210</b>, and EntitySetUpdateCriteria <b>212</b>) are derived either directly or indirectly. Criteria class <b>202</b> holds references to instances of EntityAliasList <b>214</b>, JoinList <b>216</b> and WhereExpression <b>218</b> which are exposed through public properties with the same names.</p>
  <p num="p-0076">Criteria class <b>202</b> also defines a large set of static methods that are used to create Criteria instances and the components that are stored in them. These are described in greater detail in the Appendix. The constructors of all public Criteria classes are internal. This means that all users of Criteria <b>202</b> must use the static methods of the abstract Criteria class for instance creation. Criteria <b>202</b> cannot be instantiated since it is abstract.</p>
  <p num="p-0077">EntityCriteria <b>204</b> is used to specify a single entity for retrieval. It is derived directly from the abstract Criteria <b>202</b>, and thus inherits the EntityAliasList <b>214</b> referenced by Criteria <b>202</b> as well as the JoinList <b>216</b> and WhereExpression <b>218</b> properties referenced by Criteria <b>202</b>. An instance of EntityCriteria <b>214</b> can be created by creating an EntityKey from which an EntityAliasList <b>214</b> and a WhereExpression <b>218</b> are internally generated, or by providing the instance of EntityAliasList <b>214</b> and WhereExpression <b>216</b> directly.</p>
  <p num="p-0078">CriteriaWithOrderBy <b>206</b> is derived from the abstract Criteria class <b>202</b> and thus inherits the properties referred to by Criteria <b>202</b>. CriteriaWithOrderBy <b>206</b> holds a reference to an instance of OrderByList <b>220</b> which is exposed by a public property. CriteriaWithOrderBy <b>206</b>, as with criteria <b>202</b>, cannot be instantiated since it is abstract.</p>
  <p num="p-0079">CollectionCriteria <b>208</b> is used for the retrieval of a collection of entities. It is derived from CriteriaWithOrderBy <b>206</b>, inheriting the EntityAliasList <b>214</b>, JoinList <b>216</b>, WhereExpression <b>218</b> and OrderByList <b>220</b> properties of CriteriaWithOrderBy <b>206</b> and Criteria <b>202</b>. CollectionCriteria <b>208</b> adds an EntityCollectionType <b>224</b> which is exposed as a public property as well.</p>
  <p num="p-0080">AdHocQueryCriteria <b>210</b> is used for the retrieval of entity data. It allows the user to combine the data of multiple entities of different types into a single result row with only the properties of interest included. The results of an AdHocQueryCriteria <b>210</b> query are returned in the form of a tabular result (or data) set, such as, for example, a Microsoft ADO.NET DataSet. The AdHocQueryCriteria <b>210</b> is derived from the abstract CriteriaWithOrderBy <b>206</b> class inheriting the properties EntityAliasList <b>214</b>, JoinList <b>216</b>, WhereExpression <b>218</b>, and OrderByList <b>220</b>. AdHocQueryCriteria <b>210</b> adds a SelectList <b>222</b> which is exposed as a public property. A number of instances of AdHocQueryCriteria <b>210</b> are given in the Appendix. Also, AdHocQueryCriteria <b>210</b> is discussed in greater detail with respect to <figref idrefs="DRAWINGS">FIGS. 5–7</figref> below.</p>
  <p num="p-0081">EntityAliasList <b>214</b> is used to contain a list of entity aliases (parent key, entity type pairings) that are used with instances of Criteria <b>202</b>. The entity alias list associated with an instance of Criteria <b>202</b> enables data access system <b>12</b> to determine which server and database to work with, and which maps <b>18</b> to use for mapping entity properties to the database tables and columns. It also allows specifying the same entity with different names (“aliases”) so that things such as self-joins can be performed. For EntityCriteria <b>204</b>, the EntityType indicates the type of entity to instantiate. For CollectionCriteria <b>208</b>, it indicates the type of entities to instantiate and put in a collection. Also, the entity type can be a base type. Therefore, the instances that are put into the collection may actually be descendents of an indicated entity type. For all types of Criteria <b>202</b> multiple entity aliases can be passed to the EntityAliases clause upon creation of Criteria <b>202</b>. This allows all types of Criteria <b>202</b> to make explicit joins to arbitrary entities.</p>
  <p num="p-0082">JoinList <b>216</b> is used to contain a list of explicit joins for an instance of Criteria <b>202</b>. Each join includes a join type (such as inner, left, or right), a left alias name, a right alias name, and a Boolean expression that defines the relationship between the entities involved in the join.</p>
  <p num="p-0083">WhereExpression <b>218</b> is used to specify the entity of interest. For CollectionCriteria <b>208</b>, it is used to specify a set of entities. For AdHocQueryCriteria <b>210</b> it specifies the data rows to retrieve.</p>
  <p num="p-0084">OrderByList <b>220</b> is used to define the sort order of the collection retrieved for a CollectionCriteria, or the sort order of the returned tabular result (or data) set rows for an AdHocQueryCriteria <b>210</b>. The list contained in OrderByList <b>220</b> includes a list of properties or select list aliases. Each of these can be followed by an optional sort type indicator, such as ascending or descending.</p>
  <p num="p-0085">SelectList <b>222</b> is used in the AdHocQueryCriteria <b>210</b> to define the columns that will appear in the resulting data set. A SelectList <b>222</b> can contain properties or expressions and each of these can be followed by an optional alias. An alias acts as an alternate name for the property or expression that follows. The aliases can also be used in the OrderByList <b>220</b>.</p>
  <p num="p-0086">EntityCollectType <b>224</b> is used to define the container type of a collection of an instance of CollectionCriteria <b>208</b>. In other words, it defines the system type of the collection in which the retrieved entities are to be placed.</p>
  <p num="p-0087">EntitySetUpdateCriteria <b>212</b> is used to update a set of entities. It allows the user to modify one or more properties of similarly constructed entities. The operation is similar to modification of data in one or more columns with respect to a set of rows, and in effect, EntitySetUpdateCriteria accomplishes that purpose in the database. However, instead of referencing in the modification request based on columns of the database, referencing is provided by entity properties.</p>
  <p num="p-0088">EntitySetUpdateCriteria <b>212</b> is derived from the abstract Criteria <b>202</b> inheriting the properties EntityAliasList <b>214</b>, JoinList <b>216</b> and WhereExpression <b>218</b>. EntitySetUpdateCriteria <b>212</b> adds a PropertyAssignmentList <b>226</b>, which is exposed as a public property. A number of instances of EntitySetUpdateCriteria <b>212</b> are given in the Appendix. Also, EntitySetUpdateCriteria is discussed in greater detail with respect to <figref idrefs="DRAWINGS">FIGS. 14–15</figref> below.</p>
  <heading>Expressions</heading> <p num="p-0089">Current object-relational systems embody query languages that are usually textual. Textual queries have two well-known problems, which include that the syntax of the text is not verified until the query is run rather than at compile time like most program text, and that the queries are created through string concatenation. The resulting concatenated query string is difficult to read, particularly when expressions (boolean, arithmetic, relational, etc.) are embodied in the query.</p>
  <p num="p-0090">Expressions are present in many components of object model <b>200</b>. For instance, expressions can be present in JoinList <b>216</b>, WhereExpression <b>218</b> and PropertyAssignmentList <b>226</b>, to name a few. For the same purpose that the properties of the entities are translated by data access system <b>12</b> to determine a relational database request <b>32</b> that is suitable for input to relational data store mechanism <b>14</b> to retrieve the data or perform some other data operation, so too must the expressions used by criteria <b>200</b> be understood and translated to suitable expressions for relational data store mechanism <b>14</b>.</p>
  <p num="p-0091">Generally, as will be explained below, rather than representing a query with text, a query in the present system is represented by a parse tree constructed by the developer using an object model. Building an expression with an object model can be cumbersome so, in one embodiment, operator overloading can be used so that the developer can write or express natural looking expressions. A compiler at compile time is used to provide code that causes the parse tree to be generated at runtime. In order to accomplish this task, the compiler must build its own parse tree for the expression, which consequently has the beneficial effect of validating the expressions and ensuring that the code that is provided to build the parse tree will build a well-formed expression. A parse tree for an expression is a well-understood structure, which can then be used during translation to formulate expressions in the relational database language suitable for relational data store mechanism <b>14</b>.</p>
  <p num="p-0092">Generally, expressions comprise one or two operands and an operator. Depending on the operator, unary and binary expressions can be formed. A unary expression comprises an operator and one operand, while a binary expression comprises an operator and two operands, generally denoted as a “left operand” and a “right operand”.</p>
  <heading>Operator Overloading</heading> <p num="p-0093">Operator overloading is a generally well-known technique used in programming languages. All unary and binary operators have predefined implementations that are automatically available in any expression. In addition to the predefined implementations, user defined implementations can also be introduced in some programming languages, for example Visual C#™ by Microsoft Corporation of Redmond, Wash. The mechanism of giving a special meaning to a standard operator with respect to a user defined data type such as classes or structures is known as operator overloading.</p>
  <p num="p-0094">Generally, operator overloading entails providing a routine for each user defined operator. An exemplary call statement (pseudo-code) could be as follows:</p>
  <p num="p-0095">Operator_+(Left Operand, Right Operand, Result)</p>
  <p num="p-0096">where the “Left Operand” and the “Right Operand” are provided as input to a routine herein identified as “Operator_+”, which returns a “Result”. However, typically operator overloading is used such that the Result obtained is in accordance with execution upon the Left Operand and the Right Operand. In contrast, in the present system, operating overloading is not used to operate on the operands, but rather, to obtain the intent of the expression during compile time and defer execution of the expression. Deferment is required because operator overloading is used to provide code to create a parse tree for the expression, where the parse tree is then translated and actually executed during run time by the data store mechanism <b>14</b>.</p>
  <p num="p-0097">For example, a parse tree <b>400</b> for the expression:
<br>((<i>−A+B</i>)&gt;5) AND ((C % 20)==10)<br>
is illustrated in <figref idrefs="DRAWINGS">FIG. 4A</figref>. The system will defer execution by using the operators, such as the “+” operator, not to provide the code that will add “−A” and “B”, but rather to provide the code that will create a node in the parse tree. Likewise, corresponding nodes would be created for various forms of terminals in the expression such as “5”, “10”, which herein are denoted as literals, or “A”, “B”, which would be representative of data members such as properties. It should also be noted that the expressions present in Criteria <b>200</b> are not parsed by the system at run time, but rather are parsed by the compiler at compile time. In particular, the compiler parses each expression and provides code that calls the predefined operator overloads at the correct time during runtime (so that the operator overloads generate pieces of the runtime parse tree), and eventually all the code needed to build a complete parse tree at runtime has been provided upon the compiler's completion of parsing the expression. This technique is particularly advantageous because the compiler will inform the developer when mistakes are present in the expression. In this manner, the developer is forced to correct the expression, thereby avoiding many errant expressions, which would otherwise only be found during execution of the application.
</p>
  <p num="p-0098"> <figref idrefs="DRAWINGS">FIG. 4B</figref>, illustrates the object model or class hierarchy <b>420</b> that is embodied in the operator overloading calls made by the compiler for processing an expression. The symbols present in <figref idrefs="DRAWINGS">FIG. 4B</figref> correspond to the symbols used in <figref idrefs="DRAWINGS">FIG. 3</figref>. In particular, the hollow arrows define an “IS A” relationship. For example, a Boolean expression <b>424</b>, or an Arithmetic expression <b>426</b> are forms of expressions <b>428</b>. Likewise, a Unary Arithmetic operator <b>430</b> or a Binary Arithmetic operator <b>432</b> are each forms of Arithmetic operators <b>434</b>, which in turn is a form of the Arithmetic expression <b>426</b>.</p>
  <p num="p-0099">The connectors having a diamond at one end and an open arrow at the other end illustrate that the class, which is pointed to by the diamond holds a reference to the class that it is pointed to by the open arrow. The “left” and “right” notations denote the presence of left and right operands, respectively. The notation “expression” denotes the expression upon which the operator operates, while the numeral “<b>1</b>” indicates that the corresponding “left operand”, “right operand”, or “expression” is required. For example, BoolExpression <b>424</b> requires left and right operands with a Binary Boolean operator <b>436</b> (e.g. AND, OR).</p>
  <p num="p-0100">Completing the hierarchy of object model <b>420</b>, Binary Boolean operator <b>436</b>, Relational operator <b>438</b> and Unary Boolean operator <b>440</b> are each forms of Boolean operator <b>442</b>. Terminal <b>444</b>, which is a form of an Arithmetic expression <b>426</b>, includes object properties <b>446</b> and fields <b>448</b> through a more general class of Data Member <b>450</b>. Constants <b>452</b> can also be part of an expression and in the model of <b>420</b> are a form of a Terminal <b>444</b>. An Arithmetic function <b>454</b> (SUM, MAX, MIN, etc.) is also a form of an Arithmetic expression <b>426</b>.</p>
  <p num="p-0101">Since the operator overload calls define specifically how many parameters must be present and of which type each parameter must be, the compiler, at compile time, properly evaluates the expression and indicates to the developer when errors are present.</p>
  <p num="p-0102">The operator overload calls or methods are defined in the Appendix in accordance with the object model <b>420</b> illustrated in <figref idrefs="DRAWINGS">FIG. 4B</figref>. As indicated above, each of the operator overloads provides nodes of the corresponding parse tree for the parts of and eventually the whole expression. Each of the nodes comprises an object with the nodes comprising terminals or operators with connections formed by the presence of required left, right or unary operands or expressions. Another example may be helpful in further illustrating how a parse tree is formed from an expression.</p>
  <p num="p-0103">Given the expression:
<br>(Property)“CarItem.Cost”&gt;=15000m &amp;&amp; (Property)“CarItem.Sales”−(Property)“CarItem.Discounts”&gt;1000000m &amp;&amp; (Property)“Dealer.State”==“ND”</p>
  <p num="p-0104">According to the object model <b>420</b> illustrated in <figref idrefs="DRAWINGS">FIG. 4B</figref>, this expression would form a parse tree <b>480</b> illustrated in <figref idrefs="DRAWINGS">FIG. 4C</figref>. Each box in <figref idrefs="DRAWINGS">FIG. 4C</figref> represents an object in memory and the lines represent references between the objects. Each expression object (i.e. the parse tree) would be assigned to the corresponding component of the Criteria object so that it can be accessed during translation. Referring back to <figref idrefs="DRAWINGS">FIG. 1</figref>, each query or other form of requested operation would have completely parsed expressions before the request <b>30</b> is even given to data access system <b>12</b>.</p>
  <p num="p-0105">It should be noted that in one embodiment, the compiler applies its precedence rules to the operators of the expression that it is evaluating when providing code to make the operator overload calls that form the runtime parse tree. Thus, again, evaluation of the expression is performed by the compiler, and in particular, whether to evaluate one operator before another operator in a given expression. For example, operators “*” or “/” are commonly evaluated in an expression prior to the operators “+” or “−”. However, the expression can include parentheses as required by the developer to ensure desired evaluation or to depart from normal precedence rules. In other words, the compiler is used to perform lexical analysis and enforce well-formed expressions.</p>
  <p num="p-0106">It should be also noted that the parse tree is but one form that can be used during translation of the expression. In other embodiments, the compiler can again be used for purposes of applying precedence in evaluation and enforcing proper expression by checking for the presence of the required number and type of the operands made with each operator overload call, but another form of output such as a text string could be outputted by the operator overload routine and then evaluated during translation of the query or other requested operation.</p>
  <heading>Ad Hoc Queries</heading> <p num="p-0107">A number of problems exist with conventional query capabilities in existing object-relational technologies. For example, complete objects are returned even when only a small number of attributes or properties of an object may be desired. This places unnecessary stress on the system. Similarly, since conventional approaches read and write fields rather than properties, developers must expose the internal representation of their class to those performing queries. Similarly, in conventional technologies, only a single object is returned unless a parent/child relationship exists. Joins of the sort commonly used in relational query languages cannot be used to return properties from more than one entity using conventional object-relational technology.</p>
  <p num="p-0108">AdHocQueryCriteria <b>210</b> addresses one or more of these problems. AdHocQueryCriteria <b>210</b> returns property values based on an input query and not the entire objects containing those property values. Similarly, it allows the return of data from any number of objects. These features are described in greater detail with respect to <figref idrefs="DRAWINGS">FIGS. 5–7</figref>.</p>
  <p num="p-0109">As discussed above, rather than returning an entire object (or “entity”) AdHocQueryCriteria <b>210</b> returns only a data set. This can be an enhanced result set that also contains the metadata for the entity or entities from which the values were obtained. Therefore, any special processing requirements associated with an underlying entity can be performed, or the underlying entity itself can be obtained, when necessary.</p>
  <p num="p-0110">An example may be helpful. <figref idrefs="DRAWINGS">FIG. 5</figref> illustrates two business objects, or entities, referred to as a “Dealer” entity and a “CarItem” entity. The Dealer entity is indicated by number <b>500</b> and the CarItem entity is indicated by number <b>502</b>. Dealer entity <b>500</b> includes a metadata portion <b>504</b>, and a plurality of attributes or properties <b>506</b>. Properties <b>506</b> include, by way of example, an identifier (ID), a cost, a city and a state. Dealer entity <b>500</b> may, for the sake of this example, represent an automobile dealer in a business database. Entity <b>500</b> is mapped to a Dealer_Table <b>508</b> in a relational database. Table <b>508</b> includes a plurality of columns associated with each of the attributes <b>506</b> in entity <b>500</b>. For example, Attributes <b>506</b> are illustratively mapped to columns <b>512</b> in table <b>508</b>. The class-table mapping of Dealer entity <b>500</b> is provided in mapping <b>514</b>.</p>
  <p num="p-0111">Similarly, CarItem <b>502</b> includes a metadata field <b>516</b> and a plurality of attributes <b>518</b> which include, for example, an ID, and a vehicle identification number (VIN) property. Entity <b>502</b> thus, for example, represents an automobile which is in stock at a given dealer. Entity <b>502</b> is mapped to a CarItem_Table <b>520</b> in a relational database by class_table mapping <b>526</b>. Each of the attributes are mapped to columns in table <b>520</b>. Thus, for example, first attribute attributes <b>518</b> are mapped to columns <b>524</b> in table <b>520</b>.</p>
  <p num="p-0112">An example of AdHocQueryCriteria <b>210</b> is shown in <figref idrefs="DRAWINGS">FIG. 6</figref>. It can be seen that the first portion of <figref idrefs="DRAWINGS">FIG. 6</figref> simply defines the class CarItem which is stored in the CarItem table <b>520</b> in the database. The second portion of <figref idrefs="DRAWINGS">FIG. 6</figref> defines the class Dealer <b>500</b> which is stored in the Dealer_Table <b>508</b> in the database. These two business objects (or entities) are mapped to the database by maps <b>514</b> and <b>526</b>, respectively.</p>
  <p num="p-0113">Next in <figref idrefs="DRAWINGS">FIG. 6</figref> the actual query is stated. The first criteria statement indicates that the query is an AdHocQuery and the following Criteria.EntityAlias statements identify the objects or entities involved in the query. The JoinList statement identifies entities that are joined to other entities in the query. The portion in the box illustrates the selection of several properties from the entities, rather than the entire entities.</p>
  <p num="p-0114">The “Where” statement further defines the specific data to be obtained. It can thus be seen that the two entities involved are the CarItem entity and the Dealer entity. The JoinList indicates that an inner join is performed between CarItem and Dealer where the CarItem ID matches the Dealer ID.</p>
  <p num="p-0115">The specific properties which are to be retrieved from these entities are the car item ID, cost and VIN properties and the dealer ID, city and state properties.</p>
  <p num="p-0116">The Where statement further defines the properties to be retrieved as those in the CarItem entities where the make is indicated as a “Geo” and the model is indicated as a “Prism” and where the designated properties in the Dealer entity indicate that the dealer is from “ND”.</p>
  <p num="p-0117">In order to retrieve this data, data access system <b>12</b> first receives the query. This is indicated by block <b>530</b> in <figref idrefs="DRAWINGS">FIG. 7</figref>. Next, data access system <b>12</b> reads the maps <b>514</b> and <b>526</b> which are related to the entities listed in the query. This is indicated by block <b>532</b> in <figref idrefs="DRAWINGS">FIG. 7</figref>. Based on maps <b>514</b> and <b>526</b>, data access system <b>12</b> then identifies columns in the associated tables that are required to fill the requested properties (those properties requested in the queries). This is indicated by block <b>534</b> in <figref idrefs="DRAWINGS">FIG. 7</figref>.</p>
  <p num="p-0118">Based on the identified columns, data access system <b>12</b> then generates a relational database query <b>32</b> (shown in <figref idrefs="DRAWINGS">FIG. 1</figref>) which is applied against relational data store mechanism <b>14</b> (also shown in <figref idrefs="DRAWINGS">FIG. 1</figref>) to retrieve only the desired columns. Generating the relational database query is indicated by block <b>536</b> in <figref idrefs="DRAWINGS">FIG. 7</figref>.</p>
  <p num="p-0119">Data access system <b>12</b> then receives the relational database results and transforms those results into the desired result set. This is indicated by block <b>538</b> in <figref idrefs="DRAWINGS">FIG. 7</figref>. Recall that it may be desirable to have such a result set be enhanced to not only include the requested data, but to include at least an identity of the source entity from which the data was retrieved such that any special processing can be performed, or such that the entity, itself, can be retrieved in full. Thus, data access system <b>12</b> illustratively attaches to the result set information (such as metadata) necessary to identify the entity containing any property that is returned in the result set. Of course, metadata is data about fields, properties and classes themselves. For example, metadata about a class includes its name, type, what properties and methods it contains, etc. . . . This allows programs to learn about, and interact with, instances of a class at runtime, rather than requiring that knowledge to be pre-recorded in the program. While the metadata is shown as part of the entity in <figref idrefs="DRAWINGS">FIG. 1</figref>, it is in most embodiments not stored in database <b>16</b> but is maintained by system <b>12</b> instead. This is indicated by block <b>540</b>. The result set is thus illustratively in terms of property values and property names instead of column values and column names. However, the results are also only the desired data and not the entire object.</p>
  <heading>Translation</heading> <heading>Join Translation</heading> <p num="p-0120">As discussed with respect to <figref idrefs="DRAWINGS">FIG. 1</figref>, data access system <b>12</b> translates query <b>30</b> into a relational database query <b>32</b> which is applied to relational data store mechanism <b>14</b>. In many instances, the translation is simple and straight forward. However, there are a number of areas in which translations can be quite difficult.</p>
  <p num="p-0121">For example, there will be times when a developer wishes to join two objects by any arbitrary property on those objects. In that case, in query <b>30</b>, the developer specifies which properties on either object they wish to join, and can include any arithmetic operators, relational operators, Boolean operators, unary operators, etc., as necessary. In doing so, the developers may express the queries in terms of qualified object references combined with expressions separated by the operators. The qualified object references thus require implicit joins, since the joins are not explicitly stated. Also, care must be taken so that if an object is referenced multiple times in an object property join expression, and if it has the same qualifier, then only one relational database join is made to that object's table with the correct join condition.</p>
  <p num="p-0122">Thus, in one embodiment, the query is parsed into a parse tree, as discussed above with respect to expressions, and a directed acyclic graph (DAG) is built from the parse tree. A directed acyclic graph is a graph in which there are no paths to follow that allow the same node to be visited twice. By building a DAG containing the objects being joined, and their joins to each other, the graph can be traversed in order to produce the correct joins in the correct order in relation to one another.</p>
  <p num="p-0123"> <figref idrefs="DRAWINGS">FIG. 8</figref> is a flow diagram illustrating the overall process of translating joins. First, a join expression is received. This is indicated by block <b>800</b>. Next, a parse tree is generated from the join expression as indicated at block <b>802</b>. Generation of parse trees is described in greater detail above with respect to expressions.</p>
  <p num="p-0124">Once the parse tree is generated, translator component <b>13</b> in data access system <b>12</b> traverses the parse tree in post-fix order to build a directed acyclic graph (DAG) for the parse tree. This is indicated by block <b>804</b>. Each node of the DAG represents an object within the join expression that is mapped to a different row in the relational database. As mentioned above, there are explicit joins which are specified by the developer. However, there are also implicit joins which are introduced because a property reference crosses the boundary between two objects that are mapped to different rows by class-table mapping <b>18</b> (shown in <figref idrefs="DRAWINGS">FIG. 1</figref>).</p>
  <p num="p-0125">Each node in the DAG created for the parse tree has directed edges to other nodes, each of which refers to an object to which the original object joins. The nodes have a unique identity referred to as a qualifier. The qualifier for a node is the object path taken to reach the object represented by the node. For example, in the property path “Order.Customer.Address.City”, the qualifier for “address” is referenced through a customer that is referenced through an order. Therefore, there are three qualifiers “Order”, “Order.Customer”, and “Order.Customer.Address”. No two nodes in the DAG share the same qualifier.</p>
  <p num="p-0126">In order to produce the translated output for the relational database (such as in SQL), and in order to produce the translation of the joins in the correct order in relation to one another, the DAG is traversed by the translator component according to the depth of each node. This is indicated by block <b>806</b>. The depth of a node corresponds to the number of edges on the longest path between the node and the starting node. The starting node is referred to as having a depth <b>0</b>. The depth of a node is assigned when it is added to the graph, and the depth of the nodes are updated as necessary (either during creation of the graph or when graph construction is complete).</p>
  <p num="p-0127">An example will now be discussed to further illustrate the process shown in <figref idrefs="DRAWINGS">FIG. 8</figref>. In the example, assume that a developer wishes to query database <b>16</b> for all orders with the following restrictions:</p>
  <p num="p-0128">Either:</p>
  <p num="p-0129">There exists a customer of that order whose preferred employee lives in the same city as the supplier of some item sold by the company;</p>
  <p num="p-0130">AND</p>
  <p num="p-0131">The date the order occurred was after the discontinued date of the item sold by the company;</p>
  <p num="h-0011">OR</p>
  <p num="p-0132">There exists a customer of that order who lives in the same city as the warehouse where an item sold by the company is located.</p>
  <p num="p-0133">An object property join expression that represents this type of Criteria can be represented by the following:</p>
  <p num="h-0012">((Order.Customer.PreferredEmployee.City==Item.Supplie r.City) AND (Order.OrderDate&lt;Item.DiscontinuedDate)) OR (Order.Customer.City==Item.Warehouse.City)</p>
  <p num="p-0134"> <figref idrefs="DRAWINGS">FIG. 9</figref> illustrates a parse tree <b>808</b> generated from this join expression. It can be seen that each of the leaves of the parse tree correspond to properties in the join expression, while each of the ancestor nodes (or internal nodes) corresponds to an operator.</p>
  <p num="p-0135">In accordance with one embodiment, parse tree <b>808</b> is walked in post-fix order and a DAG is built for it. By post-fix order, it is meant that the tree is traversed in depth first order and a node is processed after its child nodes are visited. The post-fix order in which the tree is walked corresponds to the numerals adjacent each node in the tree. Thus, it can be seen that the first node processed is the lowest and left-most node in tree <b>808</b>.</p>
  <p num="p-0136"> <figref idrefs="DRAWINGS">FIGS. 10A–10C</figref> represent a flow diagram that better illustrates traversing parse tree <b>808</b> to build a DAG corresponding to tree <b>808</b>. These operations are carried out by the translation component <b>13</b> in data access system <b>12</b> (shown in <figref idrefs="DRAWINGS">FIG. 1</figref>).</p>
  <p num="p-0137">It is first determined whether the node currently being processed corresponds to a property path. This is indicated by block <b>820</b>. Of course, node <b>1</b> in parse tree <b>808</b> (the first node encountered) is a property path “Order.Customer.PreferredEmployee. City”. Thus, the translator component creates an empty DAG. This is indicated by block <b>822</b> in <figref idrefs="DRAWINGS">FIG. 10A</figref>.</p>
  <p num="p-0138">Having created an empty DAG and pushed it on a DAG stack, the translator component <b>13</b> selects an entity from the property path. This is indicated by block <b>824</b>. If the entity chosen is the first entity on the current side of the operator (in this example on the left side of the “==” operator designated by node <b>3</b> in tree <b>808</b>), then the translator component <b>13</b> must identify a starting node in the DAG it is about to begin creating for tree <b>808</b>. Determining whether the encountered entity is the first entity on this side of the operator is indicated by block <b>826</b>.</p>
  <p num="p-0139">To designate a starting node in the DAG, the translator component <b>13</b> determines whether the node being processed is on the left side or right side of the operator in tree <b>808</b>. This is indicated by block <b>828</b>. If the entity is on the left side of the operator, then the starting node in the DAG is created as the first (left-most) entity in the property path being processed. This is indicated by block <b>830</b>.</p>
  <p num="p-0140">However, if the entity is on the right side of the operator, then the starting node in the DAG is created beginning with the last (right-most) entity in the property path. This is indicated by block <b>832</b>. This reverse ordering on the right side of the operator can be understood if the difference between the object and database domains is examined more closely. From an object standpoint, the expression “Order.Customer.Preferred Employee.City==Item.Supplier.City” shows that the Order object is linked to the Item object by way of qualified object references. However, from a database standpoint, the Order table is never directly joined to the Item table. In fact, not even the Employee table is directly joined to the Item table. From a physical database table view, therefore, the only way to start from the Order table and arrive at the Item table is to join the tables in the following way “Order_Table To Customer_Table To Employee_Table To Supplier_Table To Item_Table”. In other words, the only way to get from an order to an item is through a supplier. Thus, joins on the right hand side of an expression are done in the reverse order that they are referenced in the property path.</p>
  <p num="p-0141">Assuming, therefore, that the property path corresponding to the first node in parse tree <b>808</b> is being processed, and assuming that the first node in the DAG is being created, the entity chosen is the “Order” entity. This corresponds to the first node in the DAG, and is indicated by node <b>834</b> in <figref idrefs="DRAWINGS">FIG. 11A</figref>.</p>
  <p num="p-0142">Having identified the “Order” entity as the first node in the DAG, the translator determines whether any additional entity nodes remain in this property path which must be processed. This is indicated by block <b>836</b> in <figref idrefs="DRAWINGS">FIG. 10A</figref>. If so, the next entity from the property path is selected at block <b>824</b> and it is again determined whether this is the first entity on this side of the operator at block <b>826</b>. Of course, since the “Order” entity has already been processed on this side of the operator in tree <b>808</b>, the next entity to be processed will be the “Customer” entity. This is not the first entity on the left side of the operator in tree <b>808</b> and therefore processing will continue at block <b>836</b>.</p>
  <p num="p-0143">With the “Customer” entity a node will be created with the join type “inner” and the node for the “Customer” entity will be linked to the previous node in the path, and the join expression associated with that node will be set to describe its relationship to the previous entity node. <figref idrefs="DRAWINGS">FIG. 11B</figref> illustrates this in greater detail. It can be seen that the starting node <b>834</b> in the DAG has already been created. The next node created is the customer node <b>840</b>. It can be seen from <figref idrefs="DRAWINGS">FIG. 11B</figref> that the customer node <b>840</b> has been created and provided with a join type “inner” and it has also been connected to the previous node (the “Order” node <b>834</b>). This is indicated by the arrow between the two nodes. Similarly, it can be seen that the expression corresponding to node <b>840</b> has been set.</p>
  <p num="p-0144">The join between the “Order” and “Customer” nodes represents the implicit join through qualified object references between the “Order” and “Customer” entities. The reason that this is designated as an “inner” join is because the order must have a customer for the desired join requirement to be true. The join expression is provided by the developer and resides in class-table mapping <b>18</b>. For example, the developer will illustratively provide join expressions indicating how any given entity is to join to ancestor nodes (those further up the tree in a DAG). This information is stored in the class-table mapping. Therefore, when the translator determines that an entity is to be joined to a previous entity in a DAG, it simply reads the corresponding join expression from the class-table mapping <b>18</b> (shown in <figref idrefs="DRAWINGS">FIG. 1</figref>) and assigns that as the join expression for that node in the DAG.</p>
  <p num="p-0145">Having created both the starting node <b>834</b> and the subsequent node <b>840</b> in the DAG (shown in <figref idrefs="DRAWINGS">FIG. 11B</figref>) it is then determined whether there are any additional entity nodes in this property path, again at block <b>838</b>. Of course, with respect to node one in parse tree <b>808</b> shown in <figref idrefs="DRAWINGS">FIG. 9</figref>, there is an additional entity in the property path, (i.e., the “PreferredEmployee”node). Since this is not the beginning node, processing proceeds to block <b>836</b> where a node in the DAG corresponding to this property path is created for the “PreferredEmployee” entity. This is shown in <figref idrefs="DRAWINGS">FIG. 11C</figref> as node <b>842</b>.</p>
  <p num="p-0146">Node <b>842</b> is again connected to the previous node <b>840</b> and the join expression corresponding to node <b>842</b> is set to describe its relationship to the previous entity node <b>840</b>. Again, the join type is set to “inner” because this is an implicit join, and the join expression is simply read from the class-table mapping <b>18</b>.</p>
  <p num="p-0147">Processing then again proceeds to block <b>838</b> where it is determined that there are no additional entity nodes to process in this property path. Therefore, the translator pushes the property from the present path onto a property stack, and the DAG just constructed is pushed onto a DAG stack. This is indicated by block <b>150</b>.</p>
  <p num="p-0148">The property and DAG stacks are better illustrated in <figref idrefs="DRAWINGS">FIG. 1D</figref>. In the embodiment illustrated, DAG stack <b>852</b> and property stack <b>854</b> are first-in-last-out stores. The DAG placed on DAG stack <b>852</b> is the DAG corresponding to the expression which is on the left side of the operator node three of parse tree <b>808</b>. The DAG is thus referred to as the “left DAG”.</p>
  <p num="p-0149">Thus, to this point, <figref idrefs="DRAWINGS">FIG. 10</figref> has illustrated how property paths are processed into DAGS. This will be done for each of the property paths indicated by the leaf nodes of parse tree <b>808</b>. Therefore, the “Item.Supplier.City” property path corresponding to node two in tree <b>808</b> will also be processed in this fashion.</p>
  <p num="p-0150">One area of difference should be noted. When node two in tree <b>808</b> is encountered, again with respect to <figref idrefs="DRAWINGS">FIG. 10</figref>, block <b>820</b> will indicate that a property path has been encountered and at block <b>822</b>, the translator will create an empty DAG and push it onto the DAG stack. Then, the first entity in the property path “Item.Supplier.City” will be selected as shown in block <b>824</b> and it will be determined that it is the first entity on the right hand side of the expression designated in node <b>3</b> of tree <b>808</b>. Thus, in block <b>832</b>, the first node in the DAG for this property path will be created as the last (right-most) entity in the path (i.e., the “Supplier” entity). Thus, the first node in the DAG is illustrated in <figref idrefs="DRAWINGS">FIG. 11E</figref> and that node <b>856</b> corresponds to the Supplier entity.</p>
  <p num="p-0151">The next entity chosen will be the “Item” Entity which will be processed at block <b>836</b> of <figref idrefs="DRAWINGS">FIG. 10A</figref>. Thus, the next node will be created (node <b>858</b> in <figref idrefs="DRAWINGS">FIG. 1F</figref>) and it will be linked to the previous node (node <b>856</b>). The join type will be set to “inner” and the expression describing its relationship to the previous entity node will also be set. This is all illustrated in <figref idrefs="DRAWINGS">FIG. 11F</figref>.</p>
  <p num="p-0152"> <figref idrefs="DRAWINGS">FIG. 11F</figref> also shows the complete DAG for the expression on the right hand side of the relational operator indicated by node three in tree <b>808</b>. It is thus referred to as the “right DAG”. Since the DAG has been completely formed for that property path, it will be pushed onto the DAG stack as will its associated property (the “Supplier.City” property) as indicated at block <b>850</b> in <figref idrefs="DRAWINGS">FIG. 10A</figref>. This is illustrated in <figref idrefs="DRAWINGS">FIG. 11G</figref> which shows that DAG stack <b>852</b> now not only contains the left DAG which was originally pushed onto the stack, but it also contains the right DAG which was subsequently pushed onto the stack. Similarly, the property stack <b>854</b> contains not only the left property corresponding to the left DAG, but the right property corresponding to the right DAG as well.</p>
  <p num="p-0153">Once the two property paths indicated by nodes one and two in the tree have been processed, processing will continue with respect to node three, since both sides of that relational operator have been computed at a lower depth. Therefore, processing proceeds from block <b>850</b> to block <b>870</b> where the translator determines whether the next node encountered in parse tree <b>808</b> is a relational operator. Of course, the identity operator illustrated by node three in tree <b>808</b> is a relational operator and therefor processing will move to block <b>872</b> in <figref idrefs="DRAWINGS">FIG. 10B</figref>.</p>
  <p num="p-0154">In accordance with block <b>872</b>, both DAGS in DAG stack <b>852</b> (which correspond to the left and right sides of the relational operator) are popped off of DAG stack <b>852</b>. The last node from the left side DAG is then connected to the first node of the right side DAG. This is indicated by block <b>874</b> and is also better illustrated in <figref idrefs="DRAWINGS">FIG. 12</figref>.</p>
  <p num="p-0155">It can be seen in <figref idrefs="DRAWINGS">FIG. 12</figref> that the nodes O-C-E represent the left side DAG while the nodes S-I represent the right side DAG. The last node in the left DAG (the E-node) is connected to the first node in the right DAG (the S-node). However, this leaves additional work to be performed.</p>
  <p num="p-0156">It can be seen from <figref idrefs="DRAWINGS">FIG. 11F</figref> that the S-node <b>856</b> has no join type or expression associated with it, since it was the first node in a DAG. It is no longer the first node in a DAG as shown in <figref idrefs="DRAWINGS">FIG. 12</figref>. Therefore, the join type and the join expression must be generated for the node. Since the join represented by the relational operator is an explicit join, the join type is simply set to that specified by the developer. This is indicated by block <b>876</b>.</p>
  <p num="p-0157">In order to set the expression associated with the join, the two expressions are popped off of the property stack <b>854</b> and are joined by the relational operator. Therefore, the join expression corresponding to the S-node in the DAG shown in <figref idrefs="DRAWINGS">FIG. 12</figref> becomes “Employee.City==Supplier.City”. The DAG is then pushed back onto the DAG stack as is its associated property. Setting the join expression and pushing the DAGS back onto the stack is indicated by block <b>878</b> in <figref idrefs="DRAWINGS">FIG. 10B</figref>.</p>
  <p num="p-0158">Other types of operators may be encountered in a parse tree as well. While no mathematical operators are illustrated in the examples shown in <figref idrefs="DRAWINGS">FIG. 9</figref>, a mathematical operator may be encountered. If so, this is handled by the processing section beginning at block <b>888</b>. In accordance with one embodiment, a mathematical expression can only be applied against two properties that are in the same object (or entity). Therefore, if a mathematical expression is encountered as indicated at block <b>880</b>, then The DAGs corresponding to the two-sides of the operator are popped off the stack, connected and the single DAG is pushed back on the stack. This is indicated by block <b>881</b>. The properties corresponding to the expressions on both sides of the mathematical operator are popped from the property stack. This is indicated by block <b>882</b>.</p>
  <p num="p-0159">The property assigned to the node for the entity under consideration in the DAG stack is set by joining the left property and the right property by the operator. This is indicated by block <b>884</b>. For example, assume that a DAG has been generated for a property path “Customer.Order.Tax” and for another property path “Customer.Order.Subtotal”. Assume further that those two property paths are joined in their parse tree by the mathematical operator “+”. When that mathematical operator is encountered, the property associated with the entity will be “Order.Tax+Order.Subtotal”. The new property is then put back on the property stack as illustrated by block <b>886</b>.</p>
  <p num="p-0160">Still other operators may be encountered. A unary operator is handled by the processing beginning at block <b>890</b>. If a unary operator is encountered as illustrated by block <b>890</b>, the property associated with that property path is popped from the property stack and the unary operator is prepended to the property and the property is then pushed back on the property stack. This is indicated by blocks <b>894</b>, <b>896</b>, and <b>898</b>.</p>
  <p num="p-0161">If a Boolean operator is encountered, this is handled by the processing beginning at block <b>906</b>. Merging DAGS on a Boolean expression will be described with respect to <figref idrefs="DRAWINGS">FIGS. 10 and 13</figref>. In sum, each side of a Boolean expression has its own corresponding tree and thus has its own corresponding DAG. When a Boolean operator is encountered while processing a property join expression, the two trees (representing the two operands of the Boolean expression) are merged together.</p>
  <p num="p-0162"> <figref idrefs="DRAWINGS">FIG. 13</figref> illustrates the process of building and joining DAGS that represent the objects involved in the exemplary join expression. The expression text in bold at the top of each DAG is the expression from the object query that the DAG represents. The non-bold text along side each node of the DAG indicates the join expression that joins the previous node to it. For example, the upper portion of <figref idrefs="DRAWINGS">FIG. 13</figref> shows that DAGS <b>920</b> and <b>922</b> are joined by the Boolean operator “AND”. This corresponds to node seven in parse tree <b>808</b> in <figref idrefs="DRAWINGS">FIG. 9</figref>.</p>
  <p num="p-0163">In order to join these DAGS, and referring again to <figref idrefs="DRAWINGS">FIG. 10C</figref>, the two DAGS <b>920</b> and <b>922</b> corresponding to the Boolean operator “AND” are popped off of the DAG stack. This is indicated by block <b>924</b>. One of these DAGS (either <b>920</b> or <b>922</b>) is designated as the merging DAG and the other is designated as the merged DAG. It does not matter which is designated as the merging or merged DAG, but for the purposes of this discussion, the merged DAG will be the one containing the DAG that results from the merge. Designating the DAGS is indicated by block <b>926</b>.</p>
  <p num="p-0164">Next, the DAGS <b>920</b> and <b>922</b> are scanned for matching nodes. By matching it is meant that the nodes have the same entity qualifier. This is indicated by block <b>928</b>.</p>
  <p num="p-0165">If matching nodes are located, and they have the same identical join expression then the nodes are not merged, but instead the node in the merging DAG is simply ignored. This is done in order to avoid duplicate join expressions. This is indicated by block <b>930</b>.</p>
  <p num="p-0166">If matching nodes are found with different join expressions, then the nodes are merged together and the join expressions are merged with the Boolean operator so that the merging join expression and the merged join expression are connected by the Boolean operator as follows &lt;merging join expression&gt; &lt;Boolean operator&gt; &lt;merged join expression&gt;. Merging nodes and expressions in this fashion is indicated by block <b>932</b>.</p>
  <p num="p-0167">For example, the “Item” node of DAG <b>920</b> is merged with the “Item” node of DAG <b>922</b>. The resulting node shown in DAG <b>950</b> has the join expression “Item.Supplier.ID==Supplier.ID” merged with the join expression “Order.OrderDate&lt;Item.DiscontinuedDate” to result in a merged expression “(Item.Supplier.ID==Supplier.ID) AND (Order.OrderDate&lt;Item.DiscontinuedDate)”.</p>
  <p num="p-0168">Similarly, <figref idrefs="DRAWINGS">FIG. 13</figref> shows that DAGS <b>952</b> and <b>950</b> are joined by an OR expression to obtain the final DAG <b>954</b>. It can be seen that the “Order” nodes and the “Customer” nodes are identical and the nodes on the right side (the “merging” nodes) are therefore ignored. Similarly, the “Item” nodes are merged and their corresponding expressions are joined by the “OR” expression shown in DAG <b>954</b>.</p>
  <p num="p-0169">Sometimes, no matching node is found for one or more of the nodes in either the merged or merging DAGS. If that is the case, it is handled by processing at block <b>934</b> in <figref idrefs="DRAWINGS">FIG. 10C</figref>. If no matching node is found, a link is created to that node from the node having a qualifier one level higher than the qualifier under consideration. This can be seen with respect to node W in DAG <b>952</b>. There is no matching node in DAG <b>950</b>. Therefore, a link is created to node W from node C, which has a qualifier one level higher than node W. Of course, node W is connected to node I and is therefore connected to that node in the resultant merged DAG <b>954</b> as well.</p>
  <p num="p-0170">Once the final DAG has been generated, the depth of each node in the DAG is updated. This is indicated by the numerals adjacent each node in final DAG <b>954</b>. It is also illustrated by block <b>936</b> in <figref idrefs="DRAWINGS">FIG. 10C</figref>. It can be seen that there are three paths between the first node in DAG <b>954</b> and the final node. The depth corresponding to the final node is that which corresponds to the longest path between the first node and the final node in DAG <b>954</b>. Therefore, the depth associated with node I is four even though one of the paths to node I comes directly from node O.</p>
  <p num="p-0171">With the node depth thus updated, the merged DAG <b>954</b> is pushed back onto the DAG stack. This is indicated by block <b>938</b> in <figref idrefs="DRAWINGS">FIG. 10C</figref>.</p>
  <p num="p-0172">If, at block <b>906</b>, no operator has been encountered, then the translator determines whether there are anymore nodes in the parse tree <b>808</b> to be processed. This is indicated by block <b>940</b>. If so, then the translator moves to the next position in the parse tree, again moving in post-fix order. This is indicated by block <b>942</b>. Once all of the nodes in the parse tree have been processed, DAG processing is complete as indicated by block <b>944</b>.</p>
  <p num="p-0173">Having generated the final DAG for the parse tree, the DAG is traversed beginning at depth <b>0</b> (i.e., the starting node). All nodes with the depth one greater than the current node are processed and their join data is output. It can be seen that implicit joins are illustratively always emitted as inner joins, while explicit joins are inner, left, outer, or right outer joins, as defined by the developers specifying the joins. This process is continued, incrementing the depth to be searched in the DAG each time until the ending node is reached. There is only one ending node and it represents the final node for purposes of join translations with respect to this expression.</p>
  <p num="p-0174">To complete the above example, the following is an illustrative output from the translator of an SQL FROM clause:
</p> <ul> <li id="ul0001-0001" num="0174">FROM Order TBL</li> <li id="ul0001-0002" num="0175">INNER JOIN CustomerTbl ON OrderTbl.CustomerID=CustomerTbl.ID</li> <li id="ul0001-0003" num="0176">INNER JOIN Warehouse Tbl ON CustomerTbl.City=WarehouseTbl.City</li> <li id="ul0001-0004" num="0177">INNER JOIN EmployeeTbl ON CustomerTbl.PreferredEmployeeID=EmployeeTbl.ID</li> <li id="ul0001-0005" num="0178">INNER JOIN SupplierTbl ON EmployeeTbl.City=SupplierTbl.City</li> <li id="ul0001-0006" num="0179">INNER JOIN ItemTbl ON ((SupplierTbl.ID=ItemTbl.SupplierID) AND (OrderTbl.OrderDate&gt;ItemTbl.DiscontinuedDate)) OR (WarehouseTbl.ID=ItemTbl.WarehouseID)</li> </ul> <p num="p-0175">The first Join in the from clause “Inner Join CustomerTbl ON . . . ” represents the implicit Join through qualified object references between the “Order” and “Customer”. The reason it is an Inner Join is because the Order must have a Customer for the desired Join requirement to be true.</p>
  <p num="p-0176">The second Join “Inner Join WarehouseTbl ON . . . ” represents the explicit Join defined in the property Join expression between the customer and warehouse. The Inner Join type used for this Join is supplied by the developer along with the property join expression.</p>
  <p num="p-0177">The third Join “Inner Join EmployeeTbl ON . . . ” represents the implicit Join through qualified object references between the “Customer” and “Employee”.</p>
  <p num="p-0178">The fourth Join “Inner Join SupplierTbl ON . . . ” represents the explicit Join defined in the property join expression between the “Employee” and “Supplier”.</p>
  <p num="p-0179">The fifth Join “Inner Join ItemTbl ON . . . ” represents all implicit Joins through qualified object references as well as explicit Joins defined in the property join expression. It is an Inner Join exclusively because the Inner Join type is supplied by the developer. It illustratively cannot be a left Join because it would contradict the semantics requested by the developer.</p>
  <p num="p-0180">It can thus be seen that this aspect of the system provides translation of object Joins to relational database Joins, in the proper order even where the object Joins are extremely complex.</p>
  <heading>Translation of Queries with Inheritance</heading> <p num="p-0181">Another area where translation is not straightforward is for an inheritance hierarchy. Objects in an inheritance hierarchy may be mapped to more than one table in the relational database, making a direct translation from an object query to an equivalent SQL query quite difficult. Each row in the SQL result must represent all of the data necessary to create and fill a single object.</p>
  <p num="p-0182">Some difficulties which present themselves include creating the proper joins between the tables to which each class in the inheritance hierarchy is mapped (especially if there is more than one). Also problematic are polymorphic queries, which are queries given against a base class wherein data necessary to create and fill objects in response to the query require obtaining data from a descendent class type. Sorting the results according to the user's request is difficult as well. Similarly, once the data is retrieved, determining the type (or class) of the data in each row of the result set so that an object of the proper type may be returned can cause problems.</p>
  <p num="p-0183">A number of examples may be helpful. <figref idrefs="DRAWINGS">FIG. 14</figref> is a UML diagram illustrating an inheritance hierarchy in which each of the entities is a concrete entity and each is mapped to its own table. In the specific example illustrated, the SalesDoc entity and each of its descendent entities are concrete, again meaning that instances of the class may be created. This is in contrast to abstract classes, which cannot be instantiated. The SalesDoc maps to the SalesDocTbl. Each descendent also stores its SalesDoc data in the SalesDocTbl and also has its own separate table just for those properties unique to it. Querying for all SalesDoc objects may return an instance of any of the four concrete classes: SalesDoc, Order, Invoice or Quote.</p>
  <p num="p-0184">Another scenario in which translation of an inheritance entity can be difficult is illustrated in <figref idrefs="DRAWINGS">FIG. 15</figref>. A number of the items in <figref idrefs="DRAWINGS">FIG. 15</figref> are similar to those shown in <figref idrefs="DRAWINGS">FIG. 14</figref>. However, in <figref idrefs="DRAWINGS">FIG. 15</figref>, the SalesDoc entity is abstract and each of its descendents are concrete. The SalesDoc data is stored in each descendent's table. That is, the SalesDoc data is stored in the OrderTbl, the InvoiceTbl and the QuoteTbl.</p>
  <p num="p-0185">Yet another scenario which can be problematic is shown in <figref idrefs="DRAWINGS">FIG. 16</figref>. In that Figure, the SalesDoc and each of its descendents are concrete. The SalesDoc and each of its descendents store their data in the SalesDocTbl. A type indicator specified in the O-R mapping provides information about a column in the table and distinguishes one type from another.</p>
  <p num="p-0186">In order to handle all of these, and other scenarios (such as an arbitrary combination of these three scenarios), one embodiment of the translation algorithm translates queries on objects that include inheritance by using a tree structure having nodes referred to herein as “entity groups”. The entities in these groups may also be referred to, in this context, as “classes”. The algorithm first generates the entity group tree and then processes (or traverses) the tree in order to translate the queries into SQL. This is described in greater detail with respect to <figref idrefs="DRAWINGS">FIG. 18</figref>, which is a flow diagram illustrating translation of an object query which involves objects that have inheritance.</p>
  <p num="p-0187">First, the translator component <b>13</b> receives the object query. This is indicated by block <b>1050</b> in <figref idrefs="DRAWINGS">FIG. 18</figref>. Next, the translator creates an initial entity group tree with nodes corresponding one-to-one with classes in the inheritance hierarchy.</p>
  <p num="p-0188">An example of such an initial tree is shown in <figref idrefs="DRAWINGS">FIG. 17</figref>. The initial tree in <figref idrefs="DRAWINGS">FIG. 17</figref> includes nine classes, of which classes <b>1</b>, <b>6</b>, <b>7</b>, <b>8</b>, and <b>9</b> are concrete classes and the remaining are abstract classes. <figref idrefs="DRAWINGS">FIG. 17</figref> also illustrates tables to which each of the classes are mapped. In order to create the initial tree shown in <figref idrefs="DRAWINGS">FIG. 17</figref>, the query will identify the entity in the inheritance hierarchy for which data is sought. The translator creates the initial tree whose nodes correspond one-to-one with classes in the inheritance hierarchy. All ancestors and all descendents of the entity being queried are placed in the tree.</p>
  <p num="p-0189">The content of the nodes in the tree includes a class list that initially contains the class at the corresponding position in the inheritance hierarchy, but may contain several classes, if they map to the same table. The node also includes a table that is the table from the O-R mapping for that class, if any, and the child nodes correspond to descendents of the class in the inheritance hierarchy, if any. The initial tree illustrated in <figref idrefs="DRAWINGS">FIG. 17</figref> is then traversed by the translator <b>13</b>.</p>
  <p num="p-0190">In traversing the tree, the translator groups entities that share the same table in the inheritance hierarchy. This is indicated by block <b>1054</b> in <figref idrefs="DRAWINGS">FIG. 18</figref> and is further illustrated by the flow diagram in <figref idrefs="DRAWINGS">FIG. 18-1</figref>. The tree is traversed in prefix order and is reduced. By prefix order is meant that the tree is traversed beginning at the top and descending all the way down the first branch before processing other branches and processing a parent node prior to processing any of its descendents. For example, a first node is chosen as the current node. The translator determines whether the current node has the same table as any child nodes. This is indicated by block <b>1060</b> in <figref idrefs="DRAWINGS">FIG. 18-1</figref>. If so, then the child node is merged into the parent node as indicated by block <b>1062</b>.</p>
  <p num="p-0191">In order to merge the two nodes, the child node is removed from the parent's child node list, and the child's class list is copied to its parent's class list. The child's child node list is also copied to the parent's child node list.</p>
  <p num="p-0192">An example of this type of merge is illustrated by classes <b>2</b>, <b>4</b> and <b>5</b> in <figref idrefs="DRAWINGS">FIG. 17</figref>. It can be seen that class <b>2</b> is the parent of classes <b>4</b> and <b>5</b>, but the descendent classes <b>4</b> and <b>5</b> share the same table (Table B) as class <b>2</b>. Therefore, the children nodes (class <b>4</b> and class <b>5</b>) are merged into the parent node (class <b>2</b>).</p>
  <p num="p-0193">Once the child nodes of the current node have been merged into the parent, if required, then the translator <b>13</b> determines whether any children of the current node share the same table. This is indicated by block <b>1064</b> in <figref idrefs="DRAWINGS">FIG. 18-1</figref>. If so, those children are merged with one another. An example of this is also shown in <figref idrefs="DRAWINGS">FIG. 17</figref>. Classes <b>8</b> and <b>9</b> are children of class <b>5</b>, and share the same table, Table C. Thus, when the node corresponding to class <b>5</b> is being processed, classes <b>8</b> and <b>9</b> are merged together. Merging the nodes is indicated by block <b>1066</b> in <figref idrefs="DRAWINGS">FIG. 18-1</figref>.</p>
  <p num="p-0194">In order to merge the two child nodes, both children are removed from the parent's child class list. A new node is created whose class list is the aggregate of the two children, and the new node is added to the child node list of the parent.</p>
  <p num="p-0195">If any of the changes to the initial entity group tree have changed the processing in the previous blocks, then processing reverts back to block <b>1060</b>. For example, certain nodes may be merged together, which would change the answers to the questions posed in blocks <b>1060</b> and <b>1064</b>. If that is the case, processing reverts back to those blocks so that the nodes can be appropriately merged. This is indicated by block <b>1068</b> in <figref idrefs="DRAWINGS">FIG. 18-1</figref>, and continues until the tree structure stabilizes.</p>
  <p num="p-0196">Once all of the merges have been conducted, then the columns for each entity in the present entity group (the current node) are added to the list of selected columns. This is indicated by block <b>1070</b> in <figref idrefs="DRAWINGS">FIG. 18-1</figref>.</p>
  <p num="p-0197">At this point in the processing, the entity group tree will be complete. An example of an entity group tree for the inheritance hierarchy shown in <figref idrefs="DRAWINGS">FIG. 17</figref> is illustrated in <figref idrefs="DRAWINGS">FIG. 19</figref>. It can be seen that each of the classes has its own entity group except for classes <b>2</b>, <b>4</b> and <b>5</b>, all of which share the same table, and classes <b>8</b> and <b>9</b>, both of which share the same table as well.</p>
  <p num="p-0198">Another example of a inheritance hierarchy which can be processed into an entity group tree is shown in <figref idrefs="DRAWINGS">FIG. 20</figref>. <figref idrefs="DRAWINGS">FIG. 20</figref> illustrates that classes <b>11</b>, <b>12</b> and <b>13</b> do not have a table, but that classes <b>14</b> and <b>17</b> both share Table B, while classes <b>15</b> and <b>16</b> share Table A.</p>
  <p num="p-0199"> <figref idrefs="DRAWINGS">FIG. 21</figref> illustrates the entity group tree formed in accordance with one embodiment of the present algorithm based on the inheritance hierarchy shown in <figref idrefs="DRAWINGS">FIG. 20</figref>. <figref idrefs="DRAWINGS">FIG. 21</figref> illustrates that classes <b>11</b>, <b>12</b> and <b>13</b> have been grouped together into an entity group because none of them have a table, entities <b>14</b> and <b>17</b> are grouped together because they share Table B, and entities <b>15</b> and <b>16</b> are grouped together into an entity group because they share Table A.</p>
  <p num="p-0200">Returning again to where processing left off in <figref idrefs="DRAWINGS">FIG. 18</figref>, once the entities have been grouped together to form the entity tree, the nodes of the tree are processed to build a query statement for each concrete entity, and that query statement is saved on a statement list. This is indicated by block <b>1072</b> in <figref idrefs="DRAWINGS">FIG. 18</figref>. If more than one statement exists, then they are converted into one statement by placing the “UNION” operator between them. This is indicated by block <b>1074</b>. The statement is then ordered and executed and the type indicator is used to determine which entity type to create during materialization (after the query results have been returned). This is indicated by blocks <b>1076</b> and <b>1078</b> in <figref idrefs="DRAWINGS">FIG. 18</figref>.</p>
  <p num="p-0201"> <figref idrefs="DRAWINGS">FIG. 18-2</figref> illustrates processing the nodes of the entity group tree (illustrated by block <b>1072</b> in <figref idrefs="DRAWINGS">FIG. 18</figref>) in greater detail. First, the translator <b>13</b> determines whether more than one query is involved.</p>
  <p num="p-0202">This is because once the query is executed against the database, a large number of rows may be returned. The system needs to know which class the search result is for. When a “UNION” operator is involved, that means that there is more than one concrete class which is being queried. Thus, a new column is introduced into the select statement. In one embodiment, the column is simply a number that tells which select statement is being referred to in the result set. Therefore, when a row is returned in the result set, it provides this number so that the translator can determine that this portion of the result set corresponds to a similarly identified select statement which will, in turn, identify the entity that was queried for this information. This number is referred to as the synthesized type indicator.</p>
  <p num="p-0203">If the translator determines that only a single query is involved, then the synthesized type indicator column is omitted from the query. This is indicated by blocks <b>1100</b> and <b>1102</b> in <figref idrefs="DRAWINGS">FIG. 18-2</figref>. However, if, at block <b>1100</b> it is determined that more than one query exists, then a query number is specified as a literal and placed in the synthesized type indicator. This is indicated by block <b>1104</b>. This is also illustrated in greater detail in Table 1 below.</p>
  <p num="p-0204">
    <tables id="TABLE-US-00001" num="00001"> <table frame="none" colsep="0" rowsep="0" class="description-table"> <tgroup align="left" colsep="0" rowsep="0" cols="1"> <colspec colname="1" colwidth="217pt" align="left"> </colspec> <thead> <tr class="description-tr"> <td namest="1" nameend="1" rowsep="1" class="description-td" colspan="1">TABLE 1</td>
            </tr> <tr class="description-tr"> <td namest="1" nameend="1" align="center" rowsep="1" class="description-td" colspan="1"> </td>
            </tr> </thead> <tbody valign="top"> <tr class="description-tr"> <td class="description-td">- -SalesDoc Query</td>
            </tr> <tr class="description-tr"> <td class="description-td">SELECT 0 AS EntityType, sd.*, null, null, null FROM SalesDocTbl</td>
            </tr> <tr class="description-tr"> <td class="description-td">AS sd</td>
            </tr> <tr class="description-tr"> <td class="description-td">LEFT JOIN OrderTbl as o ON (sd.SalesDocID = o.SalesDocID)</td>
            </tr> <tr class="description-tr"> <td class="description-td">LEFT JOIN InvoiceTbl as i ON (sd.SalesDocID = i.SalesDocID)</td>
            </tr> <tr class="description-tr"> <td class="description-td">LEFT JOIN QuoteTbl as q ON (sd.SalesDocID = q.SalesDocID)</td>
            </tr> <tr class="description-tr"> <td class="description-td">WHERE o.SalesDocID IS NULL AND i.SalesDocID IS NULL AND</td>
            </tr> <tr class="description-tr"> <td class="description-td">q.SalesDocID IS NULL</td>
            </tr> <tr class="description-tr"> <td class="description-td">UNION</td>
            </tr> <tr class="description-tr"> <td class="description-td">- -Order Query</td>
            </tr> <tr class="description-tr"> <td class="description-td">SELECT 1 AS EntityType, null, o.*, null, null FROM SalesDocTbl AS</td>
            </tr> <tr class="description-tr"> <td class="description-td">sd</td>
            </tr> <tr class="description-tr"> <td class="description-td">INNER JOIN OrderTbl AS o ON sd.SalesDocID = o.SalesDocID</td>
            </tr> <tr class="description-tr"> <td class="description-td">UNION</td>
            </tr> <tr class="description-tr"> <td class="description-td">- -Invoice Query</td>
            </tr> <tr class="description-tr"> <td class="description-td">SELECT 2 AS EntityType, null, null, i.*, null FROM SalesDocTbl AS</td>
            </tr> <tr class="description-tr"> <td class="description-td">sd</td>
            </tr> <tr class="description-tr"> <td class="description-td">INNER JOIN InvoiceTbl AS i ON sd.SalesDocID = i.SalesDocID</td>
            </tr> <tr class="description-tr"> <td class="description-td">UNION</td>
            </tr> <tr class="description-tr"> <td class="description-td">- -Quote Query</td>
            </tr> <tr class="description-tr"> <td class="description-td">SELECT 3 AS EntityType, null, null, null, q.* FROM SalesDocTbl AS</td>
            </tr> <tr class="description-tr"> <td class="description-td">sd</td>
            </tr> <tr class="description-tr"> <td class="description-td">INNER JOIN QuoteTbl AS q ON sd.SalesDocID = q.SalesDocID</td>
            </tr> <tr class="description-tr"> <td namest="1" nameend="1" align="center" rowsep="1" class="description-td" colspan="1"> </td>
            </tr> </tbody> </tgroup> </table> </tables> </p>
  <p num="p-0205">For example, Table 1 illustrates the SQL query results for the inheritance hierarchy illustrated in <figref idrefs="DRAWINGS">FIG. 14</figref>. It can be seen that the first query is to the SalesDoc entity. The numeral immediately following the word “select” is in the synthesized type indicator column. Since this is the first query, the synthesized type indicator is set to numeral <b>0</b>. It can also be seen that there is more than one query involved, since there is more than one concrete class in the inheritance hierarchy. The column alias given for the synthesized type indicator is “EntityType”.</p>
  <p num="p-0206">Next, having assigned a synthesized type indicator, if necessary, the list of columns selected in the present node is added to the select list in the query. This is indicated by block <b>1106</b> in <figref idrefs="DRAWINGS">FIG. 18-2</figref>. This can also be seen by the select list which follows the word “EntityType” in the SalesDoc query in Table <b>1</b>. The select list is specified in shorthand as “sd.*,null, null, null.” This indicates that all columns in the sd (SalesDocTbl) table are to be retrieved. The “null” indicators are set for the columns of the three classes not being queried. The queries are connected together by the “UNION” operator, and the number and types of the columns in selected lists of each statement must be the same. Therefore, the “null” value is set for the non-queried classes to ensure that the statement has the same number of columns as the other statements in the UNIONs.</p>
  <p num="p-0207">Next, the table from the least derived entity that has a table is added to the “FROM” clause. This is indicated by block <b>1108</b> in <figref idrefs="DRAWINGS">FIG. 18-2</figref>. The “least derived” entity is the entity furthest up in the inheritance hierarchy. In the example illustrated in <figref idrefs="DRAWINGS">FIG. 1</figref>, the SalesDoc entity is the least derived entity and its table is thus added to the “FROM” clause.</p>
  <p num="p-0208">A join is then added between each of the entity group ancestors that have a table. The join is added on the primary key columns as specified in the O-R mapping. This is indicated by block <b>1110</b> in <figref idrefs="DRAWINGS">FIG. 18-2</figref>. This can also be seen in the example illustrated in Table 1. It should also be noted that the join used to join the table for a base class to the table for a descendent class is specified in the O-R mapping for the descendent class.</p>
  <p num="p-0209">Next, restrictions provided by the user are added to the Where clause. This is indicated by block <b>1112</b> in <figref idrefs="DRAWINGS">FIG. 18-2</figref>. Again, Table 1 illustrates a number of restrictions that have been placed in the Where clause. When these restrictions are added, the restrictions are enclosed in parentheses and separated from other restrictions with the Boolean “AND” operator, if necessary.</p>
  <p num="p-0210">Having added restrictions specified by the user, restrictions specified by the algorithm are next added to the Where clause. Therefore, the type indicator restrictions are separated for each concrete entity, with an “OR” statement. The result of joining the restrictions with an OR statement is placed in parentheses and added to the Where clause as well, separated by the “AND” operator, if necessary. This is indicated by block <b>1114</b>.</p>
  <p num="p-0211">In order to obtain the type indicator restriction for each concrete entity, the translator traverses up the inheritance hierarchy from the present entity and adds the type indicator for each abstract entity separated by Boolean AND operators. Also, a developer can specify in the O-R map whether a type indicator on a concrete entity applies to derived entities, in which case such type indicators are also added.</p>
  <p num="p-0212">If the query specifies a concrete entity that has descendents in a different table, then a left join is introduced to each of the descendent group tables, and a check is added to the “Where” clause for the null primary key for each descendent group's table.</p>
  <p num="p-0213">Finally, the completed query statement is saved on a statement list as indicated by block <b>1116</b>.</p>
  <p num="p-0214">By applying this algorithm to the inheritance hierarchy illustrated in <figref idrefs="DRAWINGS">FIG. 14</figref>, it can be seen that the query for the SalesDoc entity needs to be careful not to return the SalesDoc data for any of its descendent entities. This is achieved, as described above, by left joining to the descendent table and only returning those rows where the descendent tables key field are null (meaning that no data is returned for them).</p>
  <p num="p-0215">While each row contains data for an instance of just one class, the SQL query results may have several rows and thus contain any one or all of the classes in the inheritance hierarchy. The additional column having the alias EntityType (the synthesized type indicators) is always selected. As discussed above, it is assigned a constant value that indicates which of the queries in the UNION set produced a given row.</p>
  <p num="p-0216">By way of further example, Table 2 shows a translated query for the inheritance hierarchy shown in <figref idrefs="DRAWINGS">FIG. 15</figref>, and Table 3 shows the query for the inheritance hierarchy shown in <figref idrefs="DRAWINGS">FIG. 16</figref>.</p>
  <p num="p-0217">
    <tables id="TABLE-US-00002" num="00002"> <table frame="none" colsep="0" rowsep="0" class="description-table"> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="14pt" align="left"> </colspec> <colspec colname="1" colwidth="203pt" align="left"> </colspec> <thead> <tr class="description-tr"> <td class="description-td"> </td>
              <td namest="offset" nameend="1" rowsep="1" class="description-td" colspan="2">TABLE 2</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td namest="offset" nameend="1" align="center" rowsep="1" class="description-td" colspan="2"> </td>
            </tr> </thead> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">- -Order Query</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">SELECT 0 AS EntityType, o.*, null, null FROM OrderTbl AS o</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">UNION</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">- -Invoice Query</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">SELECT 1 AS EntityType, null, i.*, null FROM InvoiceTbl AS i</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">UNION</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">- -Quote Query</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">SELECT 2 AS EntityType, null, null, q.* FROM QuoteTbl AS q</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td namest="offset" nameend="1" align="center" rowsep="1" class="description-td" colspan="2"> </td>
            </tr> </tbody> </tgroup> </table> </tables> </p>
  <p num="p-0218">
    <tables id="TABLE-US-00003" num="00003"> <table frame="none" colsep="0" rowsep="0" class="description-table"> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="14pt" align="left"> </colspec> <colspec colname="1" colwidth="203pt" align="left"> </colspec> <thead> <tr class="description-tr"> <td class="description-td"> </td>
              <td namest="offset" nameend="1" rowsep="1" class="description-td" colspan="2">TABLE 3</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td namest="offset" nameend="1" align="center" rowsep="1" class="description-td" colspan="2"> </td>
            </tr> </thead> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">-- Query</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">SELECT sd.TypeDiscriminator, * FROM SalesDocTbl AS sd</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td namest="offset" nameend="1" align="center" rowsep="1" class="description-td" colspan="2"> </td>
            </tr> </tbody> </tgroup> </table> </tables> </p>
  <p num="p-0219">In the scenario exhibited in <figref idrefs="DRAWINGS">FIG. 16</figref>, instances of all four classes are in the same SQL table. Therefore, only one SQL query is generated to read the data.</p>
  <p num="p-0220">Also, since all four classes are mapped to the same table, this means that the developer has already (in the schema for example) indicated that the table for the classes will be the same. Thus, the developer must know which type is in the result set. Therefore, the developer must have added a type indicator into the table. It should also be noted that the developer can use as many type indicators as is desired. Since the type indicator is already in the table, the entity type column is not needed.</p>
  <p num="p-0221">The present system must also formulate the select statements so that they are compatible with one another. In other words, in SQL, there is a restriction on the “UNION” operator. Select statements can only be combined by this operator if they have the same number and type. For example, a select statement:</p>
  <p num="p-0222">Select A, B, C and D</p>
  <p num="h-0014">can be joined by the operator “UNION” with a select statement:</p>
  <p num="p-0223">Select E, F, G and H</p>
  <p num="p-0224">Because both have four items in the select list, so long as the data type A is the same the data type E, the type B is the same as the type F, the type C is the same as the type G and the type D is the same as the type H. In other words, the data types in the select list may be “string”, “integer”, etc. So long as the number of items and the types in the same positions in the select list are the same, the select statements can be joined by the UNION operator.</p>
  <heading>Result Set Format</heading> <p num="p-0225">It can be seen that when a request is made to retrieve an entity, the request is translated into a SQL select statement which is sent to the relational database store mechanism <b>14</b>. Store mechanism <b>14</b> returns a result set in response to the query. The result set is then processed by data access system <b>12</b>, and the appropriate entities are created based on knowledge of the original request and data found in the result set.</p>
  <p num="p-0226">In order for this to work properly, the query's select list must be constructed such that it produces a structure in the result set that is recognizable by the data accessing system <b>12</b>. The structure, along with knowledge of the original query (the metadata generated during preparation of the query) allows entity instances to be created from the result set data. If the result set does not arrive in a predictable structure, it is no more than a set of ordinary database columns. However, if the predictable structure is present, an entity graph can be created from the result set.</p>
  <p num="p-0227"> <figref idrefs="DRAWINGS">FIG. 22</figref> is a flow diagram illustrating how the select list can be constructed such that it defines the structure of an expected result set for data accessing system <b>12</b>. It can be seen from the following description that the metadata that reflects the structure of the result set is created while the select list is being constructed. Specific construction of the metadata is not shown since it can be implemented in one of a wide variety of forms. For purposes of the present discussion, it is sufficient to understand that the structure of the result set is represented in some form of metadata which is used later to translate the result set data into an entity instance, and the particular form which the metadata takes is not important.</p>
  <p num="p-0228">First, an entity which is being queried is selected. This is indicated by block <b>1120</b> in <figref idrefs="DRAWINGS">FIG. 22</figref>. Next, the columns that represent the key properties in the entity are added to the select list. This is indicated by block <b>1122</b>.</p>
  <p num="p-0229">The translator then determines whether the present entity is one with inheritance or is a collection. This is indicated by block <b>1124</b>. If not, then the property column adding algorithm illustrated in <figref idrefs="DRAWINGS">FIG. 23</figref> is performed as indicated by block <b>1126</b>.</p>
  <p num="p-0230">However, if at block <b>1124</b> it is determined that the present entity contains inheritance or is a collection, then all entities from the base-most (least derived) entity of the entity being queried all the way through its descendents are identified, any type indicators specified for the entity in the O-R map are added and the key columns are added. This is indicated by block <b>1128</b>.</p>
  <p num="p-0231">Having identified all of the entities, the algorithm illustrated in <figref idrefs="DRAWINGS">FIG. 23</figref> which performs property column addition to the select list, is, for each entity in turn, performed for each of the identified entity's declared (non-inherited) properties. This is indicated by block <b>1130</b>.</p>
  <p num="p-0232">The property column adding operations performed by the translator are illustrated by the flow diagram in <figref idrefs="DRAWINGS">FIG. 23</figref>. First, for the current entity, a property of the entity is selected. This is indicated by block <b>1132</b>. The translator then determines whether the selected property represents an array, struct or class that is not an entity. This is indicated by block <b>1134</b>. If so, then the property column adding algorithm illustrated by <figref idrefs="DRAWINGS">FIG. 23</figref> is performed for each property or element in the array, struct or class. This is indicated by block <b>1136</b>.</p>
  <p num="p-0233">If the property does not represent an array, struct or non-entity class (in this context, a class does not have its own O-R map while an entity does, and the entity map describes its classes map), the translator then determines whether the property represents a joined child entity (that is, an entity that is to be read by the same SQL statement as its parent). This is indicated by block <b>1138</b>. If so, then construction of a select list for the child entity is begun. This is indicated by block <b>1140</b>. In other words, the process represented by the flow diagram of <figref idrefs="DRAWINGS">FIG. 22</figref> is begun again for the child entity.</p>
  <p num="p-0234">If the property does not represent a joined child entity at block <b>1138</b>, the translator determines whether the property represents a non-joined child (that is, an entity that is to be read in a SQL statement different from its parent) that has properties in its entity key. This is illustrated by block <b>1142</b> in <figref idrefs="DRAWINGS">FIG. 23</figref>. It should be noted that if the child entity has no properties in its key, then no columns are added since the entity is identified through its parent's key. However, if the child does have properties in its entity key, then the foreign key columns for the child are added to the select list. This is indicated by block <b>1144</b>.</p>
  <p num="p-0235">If the property does not represent a non-joined child at block <b>1142</b>, then the translator determines whether the property represents a non-joined child entity collection. This is indicated by block <b>1146</b>. If so, no columns are added to the select list. The child entities in the collection are identified through the parent key in the parent. The foreign key is on the child's table and since the parent table is being read, there is nothing to select for the child.</p>
  <p num="p-0236">However, if the property does not represent a non-joined child entity collection at block <b>1146</b>, then the translator determines whether the property represents an association. This is indicated by block <b>1148</b>. If so, the foreign key columns for the associated entity are added to the select list as indicated by block <b>1150</b>.</p>
  <p num="p-0237">If, at block <b>1148</b>, the translator determines that the property does not represent an association, then it merely represents a data property and the column(s) for that property are added to the select list. This is indicated by block <b>1152</b>.</p>
  <p num="p-0238">The translator then determines whether there are more properties in the current entity to process as indicated by block <b>1154</b>. If so, processing returns to block <b>1132</b>. If not, however, the entity has been fully processed.</p>
  <p num="p-0239"> <figref idrefs="DRAWINGS">FIG. 24</figref> is a UML diagram of a containment hierarchy for an Order entity. Applying the algorithms described with respect to <figref idrefs="DRAWINGS">FIGS. 22 and 23</figref> to the diagram of <figref idrefs="DRAWINGS">FIG. 24</figref> yields a select list as shown in <figref idrefs="DRAWINGS">FIG. 25</figref>. <figref idrefs="DRAWINGS">FIGS. 25A and 25B</figref> illustrate exemplary class definitions, in pseudo-code, for the entity Order and the entity OrderDetail.</p>
  <p num="p-0240">Therefore, it can be seen that the translator first adds the key columns, in this case the ID column, for Order to the select list <b>1160</b>. Next, the translator adds the date column. Then, the translator encounters the Details collection. The translator thus continues to add the columns for the OrderDetail's key fields, in this case ID. The translator then encounters the SubstitutionPrefs class and goes through the process of adding all columns representing SubstitutionPrefs and its properties. Thus, the translator executes the algorithms illustrated in <figref idrefs="DRAWINGS">FIGS. 22 and 23</figref> for the SubstitutionPrefs class.</p>
  <p num="p-0241">Having completely processed the SubstitutionPrefs class, the translator processes the inheritance entities InStock and BackOrdered and its child CancelationPrefs. In other words, columns identifying the entities and non-inherited properties for all of the entities in the inheritance hierarchy for OrderDetail are added to the select list <b>1160</b>. Thus, all properties are processed, one entity at a time.</p>
  <p num="p-0242">The translator then encounters the Items collection and all columns identifying entities in the Items collection and non-inherited columns for the Items collection are added to the select list. The column for the miscellaneous property is then added. As indicated by the bracket <b>1162</b>, the entire OrderDetail class has now been processed and its columns have been constructed into the select list <b>1160</b>.</p>
  <p num="p-0243">The translator then continues through the class definition of Order thus placing in the select list the columns for Tax, Subtotal, and Total. The translator then goes back through the algorithms shown in <figref idrefs="DRAWINGS">FIGS. 22 and 23</figref> to add all columns identifying the ShippingPrefs class and columns for its properties.</p>
  <p num="p-0244">It can thus be seen that the translation algorithm combines all of the containment hierarchy illustrated in <figref idrefs="DRAWINGS">FIG. 24</figref> into a single select list that is structured as expected in the result set for data accessing system <b>12</b>.</p>
  <p num="p-0245">In order to create an “order by” clause for the SQL statement, a number of rules are illustratively applied. First, an entity being selected or ordered must have its key fields in the OrderByList unless it is a singleton composition or association as defined by the Unified Modeling Language (UML). If any entity's key consists of multiple fields, they must be grouped together within the “order by” clause. An entity's depth (which refers to the number of compositions or associations required to reach the entity from the entity being queried)_determines its position in the “order by” clause. All entities with the depth of zero are be located in the “order by” clause before entities with a depth of one, and so on. The ordering of entities that share the same depth does not matter, except that singleton compositions or associations for that depth are listed prior to collections.</p>
  <p num="p-0246">Therefore, again referring to <figref idrefs="DRAWINGS">FIG. 24</figref>, if the Order entity is being queried, then it has a depth of zero. The ShippingPrefs entity has a depth of the one and the OrderDetail entity also has a depth of one, but it is placed in the “order by” clause after the ShippingPrefs entity, because the ShippingPrefs entity is a singleton. Of course, in the InStock and BackOrdered entities are in an “isA” relationship with OrderDetail, so they also have a depth of one.</p>
  <p num="p-0247">The SubstitutionPrefs, CancellationPrefs and Items classes all have a depth of two. However, the Items class is placed in the “order by” clause last because it is a collection.</p>
  <heading>ResultSet Processing</heading> <p num="p-0248">Having now discussed how to format the select list in a variety of different scenarios so that the relational database query can be executed against the relational database, the way that a result set is processed into an entity (such as in the containment hierarchy diagram shown in <figref idrefs="DRAWINGS">FIG. 24</figref>) can be discussed.</p>
  <p num="p-0249">Recall that, as the select list <b>1160</b> in <figref idrefs="DRAWINGS">FIG. 25</figref> is created, the metadata describing the entities from which data is being retrieved is generated and saved. Table 4 illustrates an algorithm that can be used to build an entity graph instance given a result set expected by data accessing system <b>12</b>, and its corresponding metadata.</p>
  <p num="p-0250">In the format shown in Table 4, the steps with parenthesized numbers are executed in a fashion similar to subroutines. In other words, after completing them, they return to the programming module that called them. For the steps within each of the “subroutines”, execution flow moves to the next line, unless otherwise indicated. Execution begins by performing the steps indicated by (1).</p>
  <p num="p-0251">
    <tables id="TABLE-US-00004" num="00004"> <table frame="none" colsep="0" rowsep="0" class="description-table"> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="21pt" align="left"> </colspec> <colspec colname="1" colwidth="196pt" align="left"> </colspec> <thead> <tr class="description-tr"> <td class="description-td"> </td>
              <td namest="offset" nameend="1" rowsep="1" class="description-td" colspan="2">TABLE 4</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td namest="offset" nameend="1" align="center" rowsep="1" class="description-td" colspan="2"> </td>
            </tr> </thead> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">(1) Build the root entity or entity collection . . .</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="28pt" align="left"> </colspec> <colspec colname="1" colwidth="189pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">a. For the entity or entity collection,</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">perform (2).</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="21pt" align="left"> </colspec> <colspec colname="1" colwidth="196pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">(2) Reference the result set metadata to determine</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="28pt" align="left"> </colspec> <colspec colname="1" colwidth="189pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">what type of complex data type is being built . . .</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="35pt" align="left"> </colspec> <colspec colname="1" colwidth="182pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">a. If this is an array, struct, or class,</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="42pt" align="left"> </colspec> <colspec colname="1" colwidth="175pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">perform (3).</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="35pt" align="left"> </colspec> <colspec colname="1" colwidth="182pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">b. If this is an entity or entity collection,</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="42pt" align="left"> </colspec> <colspec colname="1" colwidth="175pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">do the following:</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="49pt" align="left"> </colspec> <colspec colname="1" colwidth="168pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">i. If this entity or entity collection is</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="56pt" align="left"> </colspec> <colspec colname="1" colwidth="161pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">being loaded eager non-joined, do the</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">following:</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="63pt" align="left"> </colspec> <colspec colname="1" colwidth="154pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">1. Emit an additional query to the</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="70pt" align="left"> </colspec> <colspec colname="1" colwidth="147pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">database to get the child result</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">set. (At this point, the child</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">result set is processed. When</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">finished with the child result</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">set, we return to where we left</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">off in the parent result set.)</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="63pt" align="left"> </colspec> <colspec colname="1" colwidth="154pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">2. Proceed to step iii.</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="49pt" align="left"> </colspec> <colspec colname="1" colwidth="168pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">ii. If the load of this entity or entity</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="56pt" align="left"> </colspec> <colspec colname="1" colwidth="161pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">collection is deferred, do the</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">following:</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="63pt" align="left"> </colspec> <colspec colname="1" colwidth="154pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">1. Attach information to the entity</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="70pt" align="left"> </colspec> <colspec colname="1" colwidth="147pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">or entity collection to allow an</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">additional query to be generated</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">and executed if this property is</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">accessed later.</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="63pt" align="left"> </colspec> <colspec colname="1" colwidth="154pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">2. Skip the remaining lines of (2).</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="49pt" align="left"> </colspec> <colspec colname="1" colwidth="168pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">iii. If this is an entity, perform (4).</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">iv. If this is an entity collection, do</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="56pt" align="left"> </colspec> <colspec colname="1" colwidth="161pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">the following:</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="63pt" align="left"> </colspec> <colspec colname="1" colwidth="154pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">1. Reference the result set metadata</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="70pt" align="left"> </colspec> <colspec colname="1" colwidth="147pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">to get the type of the</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">collection, and create a new</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">instance of the collection.</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="63pt" align="left"> </colspec> <colspec colname="1" colwidth="154pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">2. Starting on the current row do</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="70pt" align="left"> </colspec> <colspec colname="1" colwidth="147pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">the following:</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="77pt" align="left"> </colspec> <colspec colname="1" colwidth="140pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">a. Perform (4) for the entity</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="84pt" align="left"> </colspec> <colspec colname="1" colwidth="133pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">defined in the row.</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="77pt" align="left"> </colspec> <colspec colname="1" colwidth="140pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">b. Add the entity to the</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="84pt" align="left"> </colspec> <colspec colname="1" colwidth="133pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">collection.</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="77pt" align="left"> </colspec> <colspec colname="1" colwidth="140pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">c. Keep moving to the next row</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="84pt" align="left"> </colspec> <colspec colname="1" colwidth="133pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">in the result set until you</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">move past the last row, or</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">the entity key value of the</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">entity defined in the row is</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">different from the previous</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">entity, or the entity</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">defined in the row has a</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">different parent than the</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">previous entity (determined</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">from the parent key</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">information in the row).</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="77pt" align="left"> </colspec> <colspec colname="1" colwidth="140pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">d. If positioned after the last</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="84pt" align="left"> </colspec> <colspec colname="1" colwidth="133pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">row, or the parent changed,</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">or the entity key value of</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">the entity defined in the</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">row is equal to that of the</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">first entity in the</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">collection, then the</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">collection is built-move</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">back to the starting row,</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">and proceed to (2)c.</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">Otherwise, go back to</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">(2)b.iv.2.a.</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="63pt" align="left"> </colspec> <colspec colname="1" colwidth="154pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">(Note: a collection is represented in</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">the result set in a range of rows.</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">The key columns of the current entity</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">and all its parent entities up to the</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">root of the current result set are</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">referenced to determine if a row is</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">within this range. Also, if a</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">collection has a child collection</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">(direct or indirect) then the values</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">of each of the parent collection's</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">entities will potentially be</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">duplicated across multiple rows. This</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">must be taken into account when</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">creating the parent collection.)</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="49pt" align="left"> </colspec> <colspec colname="1" colwidth="168pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">c. If this is not the root entity, attach the</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="56pt" align="left"> </colspec> <colspec colname="1" colwidth="161pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">new instance to its parent.</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="14pt" align="left"> </colspec> <colspec colname="1" colwidth="203pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">(3) Create an array, struct, or class instance and</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="21pt" align="left"> </colspec> <colspec colname="1" colwidth="196pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">initialize it with the appropriate data from the</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">result set . . .</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="28pt" align="left"> </colspec> <colspec colname="1" colwidth="189pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">a. Reference the result set metadata to get</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="35pt" align="left"> </colspec> <colspec colname="1" colwidth="182pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">the type of the array, struct or class, and</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">create a new instance of that type.</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="28pt" align="left"> </colspec> <colspec colname="1" colwidth="189pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">b. Populate the properties of the new array,</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="35pt" align="left"> </colspec> <colspec colname="1" colwidth="182pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">struct, or class instance by performing</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">(6).</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="14pt" align="left"> </colspec> <colspec colname="1" colwidth="203pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">(4) Reference the result set metadata to determine</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="21pt" align="left"> </colspec> <colspec colname="1" colwidth="196pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">if this is an inheritance entity . . .</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="28pt" align="left"> </colspec> <colspec colname="1" colwidth="189pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">a. If this is not an inheritance entity, do</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="35pt" align="left"> </colspec> <colspec colname="1" colwidth="182pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">the following:</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="42pt" align="left"> </colspec> <colspec colname="1" colwidth="175pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">i. Reference the result set metadata to</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="49pt" align="left"> </colspec> <colspec colname="1" colwidth="168pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">get the type of the entity and entity</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">key, and create new instances of each.</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="42pt" align="left"> </colspec> <colspec colname="1" colwidth="175pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">ii. Populate the entity key instance by</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="49pt" align="left"> </colspec> <colspec colname="1" colwidth="168pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">performing (5).</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="42pt" align="left"> </colspec> <colspec colname="1" colwidth="175pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">iii. Attach the entity key to the entity.</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">iv. Populate the properties of the new</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="49pt" align="left"> </colspec> <colspec colname="1" colwidth="168pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">entity instance by performing (6).</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="28pt" align="left"> </colspec> <colspec colname="1" colwidth="189pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">b. If this is an inheritance entity, do the</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="35pt" align="left"> </colspec> <colspec colname="1" colwidth="182pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">following:</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="42pt" align="left"> </colspec> <colspec colname="1" colwidth="175pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">i. Reference the result set metadata and</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="49pt" align="left"> </colspec> <colspec colname="1" colwidth="168pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">the row's type discriminator columns</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">to get the type of the entity and</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">entity key, and create new instances</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">of each.</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="42pt" align="left"> </colspec> <colspec colname="1" colwidth="175pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">ii. Populate the entity key instance by</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="49pt" align="left"> </colspec> <colspec colname="1" colwidth="168pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">performing (5).</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="42pt" align="left"> </colspec> <colspec colname="1" colwidth="175pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">iii. Attach the entity key to the entity.</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">iv. For each “fragment” that makes-up of</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="49pt" align="left"> </colspec> <colspec colname="1" colwidth="168pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">this entity type, perform (6). (A</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">fragment is a range of columns in the</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">result set which represents the</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">declared (non-inherited) properties of</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">an entity in the inheritance</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">hierarchy. The result set will</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">contain fragments for all entities in</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">the inheritance hierarchy from the</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">base-most entity involved in the query</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">up to and including all its</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">descendents. However, the concrete</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">entity that is being instantiated may</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">be made-up of a subset of the</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">fragments in the result set. Namely,</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">the ones that represent the entities</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">on the path from the base-most entity</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">to the concrete entity.)</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="14pt" align="left"> </colspec> <colspec colname="1" colwidth="203pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">(5) Populate the properties of the key . . .</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="28pt" align="left"> </colspec> <colspec colname="1" colwidth="189pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">a. For each property in the key, retrieve the</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="35pt" align="left"> </colspec> <colspec colname="1" colwidth="182pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">value from the result set and assign it to</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">the property. (Note: It is possible for a</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">key to not have properties.)</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="14pt" align="left"> </colspec> <colspec colname="1" colwidth="203pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">(6) Populate the properties (or a subset of the</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="21pt" align="left"> </colspec> <colspec colname="1" colwidth="196pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">properties) of the instance . . .</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="28pt" align="left"> </colspec> <colspec colname="1" colwidth="189pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">a. While populating the properties:</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="35pt" align="left"> </colspec> <colspec colname="1" colwidth="182pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">i. If the property is a simple type (int,</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="42pt" align="left"> </colspec> <colspec colname="1" colwidth="175pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">enum, string, etc.), retrieve the</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">value from the result set and assign</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">it to the property.</td>
            </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="14pt" align="left"> </colspec> <colspec colname="1" colwidth="203pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td>
              <td class="description-td">If the property is complex data type, perform (2).</td>
            </tr> <tr class="description-tr"> <td class="description-td"> </td>
              <td namest="offset" nameend="1" align="center" rowsep="1" class="description-td" colspan="2"> </td>
            </tr> </tbody> </tgroup> </table> </tables> </p>
  <p num="p-0252">Therefore, assume that a query result has been returned in a plurality of columns from the relational database. Also assume that the metadata corresponding to those query results has been retrieved from memory in data accessing system <b>12</b>. First, the root entity for entity collection corresponding to the search results is created. This is indicated by (1) in Table 4. For the entity or entity collection, the subroutine identified by (2) in Table 4 is performed.</p>
  <p num="p-0253">In that subroutine, the result set metadata is referenced to determine what type of complex data type is being built. If it is an array, struct or non-entity class, then subroutine (3) is performed. In subroutine (3), the array, struct or class instance is created and initialized with the appropriate data from the result set. This is accomplished by referencing the result set metadata to obtain the type of the array, struct or class, and by creating a new instance of that type. The new array, struct or class is then populated with properties by performing subroutine (6).</p>
  <p num="p-0254">In subroutine (6), a population of properties takes place. In order to populate the properties, if the property is a simple type (such as an integer, enumerator, string, etc.), the value of the property is retrieved from the result set and is simply assigned to the property in the instance. If the property is a complex data type, then subroutine (2) is performed for that data type.</p>
  <p num="p-0255">Under (2)b of Table 4, if the complex data type being built is an entity or entity collection, then two different things can be performed. First, the entity or entity collection may be loaded eager non-joined. In that case, child entities will not have been read by the query the first time around, so another query is created in order to read the child nodes. Once the child result set is retrieved, the child result set is processed and processing continues in the parent result set where it was left off. When that is complete, processing proceeds to step iii under (2).</p>
  <p num="p-0256">On the other hand, if under (2)b it is determined that the load of the entity or entity collection is deferred, then information is added to the entity or entity collection in order to allow an additional query to be generated and executed if the property is accessed later. That being the case, the remaining steps in (2) are skipped.</p>
  <p num="p-0257">If processing has continued to (2)iii, then it is determined whether the present complex data type is an entity. If so, then subroutine (4) is executed. Similarly, if under (2)iv the present entity is a collection, then, for each entity in the collection, subroutine (4) is performed.</p>
  <p num="p-0258">A collection is represented in the result set as a range of rows. The key columns of the current entity and all its parent entities up to the root of the current result set are referenced in order to determine if a row is within this range. Also, if a collection has a child collection, then the values of each of the parent collection's entities will potentially be duplicated across multiple rows. This is taken into account when creating the parent collection.</p>
  <p num="p-0259">Assuming that the property is either an entity or an entity collection under (2)iii or (2)iv, then processing proceeds to (4) in Table 2. In that case, the result set metadata is referenced to determine if the present entity is an inheritance entity. If it is not an inheritance entity, then the result set metadata is referenced to obtain the type of the entity and entity key and to create new instances of each. The entity key instance is populated by performing (5) and the entity key is attached to the entity. The properties of the new entity instance are populated by performing (6).</p>
  <p num="p-0260">If the current entity is an inheritance entity, then the result set metadata is referenced and the type discriminator columns for the rows which have been returned are also referenced in order to determine the type of entity and entity key, and a new instance of each is created. The entity key instance is populated by performing (5) and the entity key is attached to the entity. For each fragment that makes up each entity type, the fragment is populated by performing (6).</p>
  <p num="p-0261">A fragment is a range of columns in the result set that represents the declared (non-inherited) properties of an entity in the inheritance hierarchy. The result set contains fragments for all entities in the inheritance hierarchy from the base-most entity involved in the query up to and including all of its descendents. However, the concrete entity that is being instantiated may be made up of a subset of fragments in the result set; namely, the fragments in the result set that represent the entities on the path from the base-most entity to the concrete entity.</p>
  <p num="p-0262">Population of the properties of the entity key (5) is performed for each property in the key. The value of that property is retrieved from the result set and is assigned to the property. Of course, it should be noted that it is possible for a key not to have properties. In that case, no properties are populated.</p>
  <p num="p-0263">It can be seen at this point that the full current entity being worked on has now been created from the result set and the corresponding metadata. In order to form a graph, such as that shown in <figref idrefs="DRAWINGS">FIG. 24</figref>, the current entity must be placed in the graph. Therefore, at (2)c, if the current entity which has just been built is not the root entity, then it is attached to its parent in the graph.</p>
  <p num="p-0264">This type of processing is performed for each entity represented in the result set until the full graph is generated. Thus, the newly generated graph can be returned to the client by data accessing system <b>12</b>.</p>
  <heading>Set Operations</heading> <p num="p-0265">Another problem that exists with current object-relational systems is that changes to persistent objects are performed one object at a time outside of the database. Thus, in order to change or update a property of a set of objects, each object is brought out of the database, manipulated and sent back one at a time.</p>
  <p num="p-0266">EntitySetUpdateCriteria <b>212</b> addresses the aforementioned problem. EntitySetUpdateCriteria <b>212</b> allows the developer to express updating a set of objects in terms of properties of the objects. Referring to <figref idrefs="DRAWINGS">FIG. 1</figref>, the request is formulated at <b>30</b>. The request <b>30</b> is provided to the data access system <b>12</b>, which translates request <b>30</b> to a suitable relational database request <b>32</b> that can be executed by the relational data store mechanism <b>14</b>. In one embodiment, the relational data store mechanism <b>14</b> executes within the computer having the relational database <b>16</b>, or with fast access thereto, such that the corresponding columns for each of the properties requested in request <b>32</b> can be updated or otherwise changed without the need for other components of the system, such as data access system <b>12</b>, to receive the corresponding data.</p>
  <p num="p-0267"> <figref idrefs="DRAWINGS">FIG. 14</figref> illustrates an example of EntitySetUpdateCriteria <b>212</b>. Like the AdHocQueryCriteria <b>210</b>, EntitySetUpdateCriteria <b>212</b> includes portions <b>1002</b> and <b>1004</b> that define the classes, herein “Order” and “Detail”, respectively, having fields which are mapped to corresponding database tables. In particular, these two business objects (or entities) are mapped to the database tables by maps stored at <b>18</b> in <figref idrefs="DRAWINGS">FIG. 1</figref>. In portion <b>1006</b>, the developer states the set operation he/she wants performed in terms of objects, herein EntitySetUpdateCriteria. Portion <b>1008</b> defines the set to be updated via the alias and “Where” expression, while portion <b>1010</b> defines properties to be updated and provides new values for these properties via value expressions.</p>
  <p num="p-0268">The developer defines a set to be updated by providing the alias via Criteria.EntityAlias. In the illustrative example of <figref idrefs="DRAWINGS">FIG. 14</figref>, the objects of the “Order” class will be updated. The “Parent Key” provides a unique ID for the parent of the class of objects to be updated, which defines the scope of the objects to be updated.</p>
  <p num="p-0269">The “Where” statement is similar to the “Where” statement as provided in AdHocQueryCriteria <b>210</b> illustrated in <figref idrefs="DRAWINGS">FIG. 6</figref> and includes typically expressions referencing object properties in order to define the set of objects that will be updated. In this example, only those orders having a detail with price greater than 300 will be updated.</p>
  <p num="p-0270">The “PropertyAssignments” statement specifies a list of one or more objects. Each item in the list defines a property of the object to be updated and specifies an expression for the new value of the object.</p>
  <p num="p-0271">As indicated above, new values for updating properties are specified via expressions. Expressions were discussed above in more detail, but in summary are composed from properties, constants and operators. In addition, aggregate functions can also be implemented in the expression. In the example illustrated in <figref idrefs="DRAWINGS">FIG. 14</figref>, “Criteria.Sum” adds all the details prices for the order and enters the new value in the “Order.Total” property. Other aggregate functions that are supported include finding the maximum value in a set, finding the minimum value in a set, or computing the average value. As appreciated by those skilled in the art, other set computations could also be implemented.</p>
  <p num="p-0272">It should be noted that references can be made to related objects for performing operations on sets. For example, properties of parent objects can be references when updating lower-level (child) objects. Likewise, one can also reference indirect relations, such as grandchildren, or associated or child objects of parent objects.</p>
  <p num="p-0273">EntitySetUpdateCriteria is an example of a set based operation specified in terms of object properties. In the illustrated example, it sets the value of a property to the value of a sum expression in terms of other properties. Other set based operations, which can be performed by relational data store mechanism <b>14</b> without retrieving data pertaining to the objects individually and passing the data to data access system <b>12</b>, include removing a set of objects as a unit, moving a set of objects from one location to another (an example is moving General Ledger transactions from the ledger table to a history or archive table), or copying a set of objects from one location to another. Generally, the set operation is performed in terms of types of classes of objects identified with statement such as “EntityAlias” and where the “Where” expression defines the set of objects of the class, and an action (e.g. updating, moving, deleting, copying) is then defined by a statement similar to Property.Assignments.</p>
  <p num="p-0274">The steps involved in performing a set operation such as EntitySetUpdateCriteria are illustrated in <figref idrefs="DRAWINGS">FIG. 15</figref>. At step <b>1020</b>, a set operation request is made by passing a corresponding set operation criteria such as EntitySetUpdateCriteria to the data access system <b>12</b>. Data access system <b>12</b> reads the corresponding map <b>18</b> at step <b>1022</b> to identify the columns effected by the properties mentioned in “PropertyAssignments” at step <b>1024</b>. A suitable relational database request <b>32</b> such as a SQL UPDATE statement is then provided to relational data stored mechanism <b>14</b> at step <b>1026</b> to implement the desired set operation.</p>
  <heading>Containment Hierarchy</heading> <p num="p-0275"> <figref idrefs="DRAWINGS">FIG. 29</figref> is an example of a hierarchical structure <b>1300</b> of an exemplary application comprising objects or entities. As illustrated, entities can be organized as components <b>1302</b>, <b>1304</b> and <b>1306</b>, which can comprise one or more entities. A component, as used herein, is one or more entities grouped together to achieve a common purpose. Although modules implementing the present invention may not include references to components, a developer may want to design the application with components in mind.</p>
  <p num="p-0276">In the exemplary embodiment, the entities or objects are organized in a parent/child relationship. Component <b>1302</b> includes those entities that constitute an Order for a company. In particular, an Order entity <b>1308</b> includes information such a subtotal, tax, freight and total properties. An Address entity <b>1310</b> is a child entity of the Order entity <b>1308</b> and may include information pertaining to the shipping address for a specific order. Likewise, the Order entity <b>1308</b> may include a number of OrderLine entities <b>1312</b>, while each OrderLine entity <b>1312</b> can comprise one or more OrderSerial entities <b>1314</b> having further information. It should be noted that the notation “n” in <figref idrefs="DRAWINGS">FIG. 29</figref> is used to indicate that the particular entity could comprise a number of identically structured entities. For example, as indicated above, one or more OrderSerial entities <b>1314</b> can be a child entity (indicated by the diamond line) of an OrderLine entity <b>1312</b>.</p>
  <p num="p-0277">In the example herein illustrated, component <b>1304</b> generally pertains to Customer information and includes a Customer entity <b>1316</b>, where each Customer entity <b>1316</b> can include one or more Address entities <b>1318</b>.</p>
  <p num="p-0278">The Customer entities <b>1316</b> and the Order entities <b>1308</b> are each child entities of a Company entity <b>1320</b>, the set of which comprise child entities of an Enterprise entity <b>1322</b>. Component <b>1306</b> comprising, in this example, one or more currency entities <b>1324</b> is also a child of the Enterprise entity <b>1322</b>.</p>
  <p num="p-0279">Besides the parent/child hierarchy of structure <b>1300</b>, there also exists, in this example, a uni-directional association between classes of entities. A class is a set of similarly structured entities. As indicated above, all of the Order entities <b>1308</b> fall within an Order class. Likewise, the Customer entities <b>1316</b> pertain to a Customer class. The association indicated by arrow <b>1328</b> denotes that a class may know of another class. In this example, the Order class knows about the Customer class, but does not incorporate or own it such as in the case of a parent/child relationship.</p>
  <heading>Entity Key</heading> <p num="p-0280">An entity manages data. The entity preserves its internal data and the integrity of its relationships with other entities. Data of the entity is accessed through properties. Each entity is a form of an abstraction. Characteristics of an entity also include that it has an identity, represented by a subclass of an abstract class “EntityKey”. Within the overall hierarchy, each entity that manages data in structure <b>1300</b> is location independent in that it does not know where it is stored or who owns it. However, the EntityKey is used to define its relationship with other entities and can be thought of as being represented by the connections in <figref idrefs="DRAWINGS">FIG. 29</figref>.</p>
  <p num="p-0281">An instance of an entity may be contained within an instance of another entity. The contained entity is called the child, while the container is called the parent. A child instance cannot exist longer than its parent and must have one and only one parent. The set of all such relationships for an application is its containment hierarchy. This sort of hierarchy parallels many business applications. It has been found that supporting this hierarchy makes the system a better fit for developers in constructing business applications.</p>
  <p num="p-0282"> <figref idrefs="DRAWINGS">FIG. 29</figref> is an example of a containment hierarchy for an application. The containment hierarchy describes the types of entities and their corresponding parent-child relationships. There is a root of the containment hierarchy, herein illustrated as the “Enterprise” container <b>1322</b>. The root container or entity commonly supplies the address of a server for the containment hierarchy, although classes or instances can be located on other servers or computer readable media. In one embodiment, the root entity supplies the URL (Universal Remote Locator) of the server. In this embodiment, another broad class of containers are the Company entities <b>1320</b>.</p>
  <p num="p-0283">It should be noted that the containment hierarchy is not the same as an inheritance hierarchy. Inheritance hierarchy is a classification of relationships in which each item except the top one is a specialized form of the item above it. In the example of <figref idrefs="DRAWINGS">FIG. 29</figref>, the Order class <b>1308</b> and the Customer class <b>1316</b> are not specialized forms of the Company class <b>1320</b>. Rather, the Order class <b>1308</b> and the Customer class <b>1316</b> are different classes holding different types of information. This is not to say inheritance can not be present in the Containment Hierarchy. In some embodiments, an inheritance hierarchy may be present for any class. Thus, for example there can be variations within a class such as variations of the Customer class <b>1316</b> </p>
  <p num="p-0284">There are three forms of entities in an application. The forms include the component containers “Enterprise” <b>1322</b> and “Company” <b>1320</b>, primary entities and supporting entities. The primary or root entity is the focus of a component container of the same name, while supporting entities are either children of the primary entity or its peers. For example, the Order component <b>1302</b> consists of the Order root entity <b>1308</b>, while the Address <b>1310</b>, OrderLine <b>1312</b> and OrderSerial <b>1314</b> are supporting entities. The data for entities is usually stored in database tables such as described above with respect to <figref idrefs="DRAWINGS">FIG. 1</figref>. Components are a unit of logical design and do not interact with the database.</p>
  <p num="p-0285">As indicated above, each of the properties in an entity <b>20</b> is mapped to a corresponding entity table <b>26</b> and a specific column <b>28</b> in a given entity table <b>26</b> as illustrated in <figref idrefs="DRAWINGS">FIG. 1</figref>. Each entity table also includes, in addition to columns for the attributes, one or more columns that identify all the parents of a particular entity. Referring to <figref idrefs="DRAWINGS">FIG. 34</figref> and using OrderSerial by way of example, the OrderSerial Table <b>1350</b> would include columns for identifiers, in particular, “Company_id” <b>1352</b>, “Order_id” <b>1354</b>, OrderLine_id <b>1356</b> and Serial Number <b>1358</b>, which may comprise one of the attributes, and which may function as its own identifier (id).</p>
  <p num="p-0286">In a relational database, interaction with the table would require specifying each of the identifiers in order to identify and work with the data associated with a particular entity, in this example, data associated with a specific OrderSerial entity <b>1314</b>. However, this information is inferred from its parent in the containment hierarchy. For instance, if one is working with a particular OrderLine entity <b>1312</b> and now wants to inquire about, or perform an action upon, a OrderSerial entity <b>1314</b>, the data access system <b>12</b> can ascertain which OrderSerial entity or entities the user is referring to without needing to reidentify the parents of the entity. In the present invention, the containment hierarchy allows the relationship of the tables (i.e., the identifiers such as illustrated in <figref idrefs="DRAWINGS">FIG. 34</figref>), and hence, the relationship of the entities, be an implicit background piece of information. In other words, the identity of the entity is inferred from parent/child relationship so that it doesn't need to be restated or managed in other ways. In a relational database system, the identifiers found in the tables used to identify the entity are called a primary key, wherein the combination of the identifiers is unique. However, typically, primary keys are just a collection of columns and have no rich behavior attached to them. In addition, user selected identifiers may only be unique within a certain scope (such as a single business unit) and not unique over the entire range of the application. Surrogate keys, which are commonly generated by the application and hidden from the user, may be unique, but they do not describe hierarchies such as who is the parent of the entity referred to by the identifier.</p>
  <p num="p-0287">Another aspect of the present invention is an EntityKey that solves these problems, in particular, the EntityKey associated with each entity allows each entity to be unique throughout the containment hierarchy, as well as infer from the position of the entity within the containment hierarchy who the parents are. An entity is an object that is identified by an entity key, or stated differently, the key for an entity. An EntityKey serves the same function as the primary key on a relational table; however, unlike a relational primary key it is universally unique across the application space and is hierarchical, i.e. it is aware of its position in the hierarchy. In the architecture, the EntityKey is a defined class that is distinct from the entities. The EntityKey class can be mapped to a relational database table in a manner similar to entity <b>20</b>, class-table mapping <b>18</b> and entity table <b>26</b>. Every entity throughout the hierarchy has one and only one EntityKey value. Given the key for an entity, one can retrieve the entity, whether it is on a local server, or located in a wide area network such as the Internet.</p>
  <p num="p-0288">Each EntityKey contains, for purposes of this concept, three pieces of information: the type or class of the entity to which it refers, the ID of that entity to which it refers and information as to the EntityKey of the parent to that entity. <figref idrefs="DRAWINGS">FIG. 30</figref> is a pictorial representation of an EntityKey (herein, OrderSerial.Key) <b>1380</b>A for a particular OrderSerial entity <b>1314</b>A.</p>
  <p num="p-0289">An entity in the hierarchy is fully identified by its identifier plus that of its parents. In this manner, the same local identifier can be used in two or more locations of the overall space because different parents would be involved in uniquely identifying the entity. This may be more readily apparent by pictorially representing the Enterprise space of <figref idrefs="DRAWINGS">FIG. 29</figref>. Referring to <figref idrefs="DRAWINGS">FIG. 31</figref>, the Enterprise is indicated by circle <b>1400</b>. The Enterprise <b>1400</b> can include a plurality of companies, herein Company A <b>1402</b> and Company B <b>1404</b>. However, each Company <b>1402</b> and <b>1404</b> can have two Orders, both having the same identifier, herein “Order <b>1</b>” <b>1406</b> and “Order <b>2</b>” <b>1408</b>. Nevertheless, entities within Company A <b>1402</b> would still be uniquely identified with respect to entities of Company B <b>1404</b> although the identifiers for Order <b>1</b> <b>1406</b> and Order <b>2</b> <b>1408</b> have been used within each Company because each of the entities is uniquely identified by its associated key having the parent/child relationships of the hierarchy.</p>
  <p num="p-0290">It should be noted that in many applications, the data for Company A is stored in a completely different database then the data for Company B.</p>
  <p num="p-0291">There is also a separate, independent class associated with OrderSerial <b>1314</b> herein identified as OrderSerial.Key. In general, the EntityKey is of a separate class than the class it refers to. Entity <b>1380</b>A is an example of an object of the OrderSerial.Key class. Referring back to <figref idrefs="DRAWINGS">FIG. 30</figref>, the OrderSerial entity <b>1314</b>A contains all the attributes <b>1420</b> relevant to the Order Serial, which could be any number of attributes. The OrderSerial.Key <b>1380</b>A contains a subset of one or more attributes of the OrderSerial entity <b>1314</b>A specifically, the OrderSerial.Key includes identifier attributes <b>1422</b>. Thus, if OrderSerial entity <b>1314</b>A includes a thousand attributes, but two of the attributes make each OrderSerial entity unique, those attributes get copied into the OrderSerial.Key to form the identifier back to the entity. Arrow <b>1424</b> represents the common identifier attribute or attributes between entity <b>1314</b>A and entity <b>1380</b>A.</p>
  <p num="p-0292">The attribute or attributes of the OrderSerial.Key that make each entity of OrderSerial unique is the first element of an EntityKey, which thereby allows the key to be associated with a particular entity.</p>
  <p num="p-0293">A second element of an EntityKey is the type <b>1426</b> of the entity to which it has an identifier. In the present example, the type of the class is OrderSerial.</p>
  <p num="p-0294">A third element of an EntityKey is information about the EntityKey of the parent of the entity. In the present embodiment, this information is a reference, indicated by arrow <b>1430</b>, to the parent key <b>1440</b> corresponding to the parent of entity <b>1314</b>A. In other words, the third element could be a reference to another key. This structure makes EntityKeys recursively defined However, it should be understood that some or all of the parent key information could be stored in the EntityKey directly, if desired. It should be understood that these forms and other similar forms for storing and accessing EntityKey information is intended to be covered herein.</p>
  <p num="p-0295">Referring now to <figref idrefs="DRAWINGS">FIG. 32</figref>, EntityKeys are provided for an entity of Company, an entity of Order, an entity of OrderLine and entity of OrderSerial. In this example, the ID constitutes one field and the type can be ascertained from the name of the key. For example, type OrderSerial is obtained from the name OrderSerial.Key. References to parent keys are illustrated by arrows. Thus, again, the location of an entity in the hierarchy is completely defined by the associated EntityKey.</p>
  <p num="p-0296">In the recursive form of storing EntityKeys, it should be noted that although each EntityKey includes type or class information to which it pertains it does not know the type or class of its parent. That information is found by looking at the type information in the parent key that it references. This is a particularly advantageous feature for it allows classes to be reused throughout the containment hierarchy. Referring back to <figref idrefs="DRAWINGS">FIG. 29</figref>, it is illustrated that the Order class <b>1302</b> has a child class of Address <b>1310</b>. Likewise, the Customer class <b>1316</b> also has a child class of Address <b>1318</b>. The Address classes <b>1310</b> and <b>1318</b> are actually conceptually the same; but the instances are disjoint since they are under different parents. However, the entities are uniquely defined in each form of Address class, wherein each Address class <b>1310</b> and <b>1318</b> may be stored in a different database table. In this manner, one can describe a position in the containment hierarchy without forcing a class to forever be in that position.</p>
  <p num="p-0297">As explained above, each EntityKey has information such as a reference to its parent key, but it does not know what type of parent it is. The decision of what type of parent is made or defined by the mapping(s) <b>18</b> illustrated in <figref idrefs="DRAWINGS">FIG. 1</figref> for the complete set of classes and tables.</p>
  <p num="p-0298">The set of identifiers <b>1422</b> as illustrated in <figref idrefs="DRAWINGS">FIG. 30</figref> of an EntityKey corresponds to the primary key columns of a table holding the data for that entity. Referring to <figref idrefs="DRAWINGS">FIG. 34</figref>, assume that the primary key of the table holding OrderSerial entities is Company_ID <b>1352</b>, Order_ID <b>1354</b>, OrderLine_ID <b>1356</b>, and Serial Number <b>258</b>. The identifier attribute <b>322</b> in the OrderSerial.Key <b>280</b>A is mapped directly to the last of the primary key columns, while the parent keys of <b>280</b>A are mapped to columns <b>252</b>, <b>254</b>, <b>256</b> in a similar fashion. This EntityKey to database key correspondence also extends to foreign keys. All simple associations between entities are implemented using keys. For example, in <figref idrefs="DRAWINGS">FIG. 29</figref>, Order.Key would have a reference of type Customer.Key that implements the association from Order to Customer. This key can easily be mapped to the Customer foreign key in the Order table.</p>
  <p num="p-0299">It should also be noted that tables are commonly designed with surrogate rather than intelligent keys. An intelligent primary key is seen and specified by the end user, while a surrogate primary key is generated by the application and hidden from the user. Surrogate keys are often used to allow renaming the user visible identifier of a table without database impact or to save space when the size of the primary key is very large and often referenced in foreign keys. When surrogate keys are used, the table will have the surrogate primary key and an alternate key having the user visible identifier.</p>
  <p num="p-0300">Both intelligent and surrogate EntityKeys are supported. In the present embodiment, if a surrogate EntityKey is used its ID properties are private (since they are generated and hold ho meaning to the consumer of the entity); otherwise they are public.</p>
  <heading>Class Key</heading> <p num="p-0301">A second related abstraction is the Class Key. Since a given entity can be used in more than one place in the containment hierarchy, there is a mechanism for indicating which node in the hierarchy to process. The Class Key is that mechanism and contains two pieces of information: the type of the entity to which it refers and information as to the Class Key of the parent of the entity. Note the similarity to the definition of the EntityKey. In fact, the EntityKey is a derivative of and inherits from the Class Key, thereby allowing an EntityKey to be supplied anywhere a Class Key is required. Thus the Class Key is also hierarchically defined. The illustration of <figref idrefs="DRAWINGS">FIG. 32</figref> of an EntityKey can be changed into an illustration of a Class Key by simply removing the entity identifiers (IDs).</p>
  <p num="p-0302">Generally the Class Key can be used to reference a node in the containment hierarchy as it pertains to classes of entities, particularly describing uniquely a name for each class in the hierarchy as well as its position in the hierarchy. In contrast, the EntityKey provides a unique name for each entity in the containment hierarchy and describes its position in the hierarchy.</p>
  <p num="p-0303">The EntityKeys and Class Keys are used when performing create, read, update and delete operations on business objects or entities. For example, when reading an entity, a parent key referring to a component container should be provided. This provides a scope for the read and also makes it easier for the developer to specify a complex location in the hierarchy.</p>
  <p num="p-0304">Besides EntityKeys and Class Keys, another form of key is a blend between these keys. As discussed above, an EntityKey is a form of a Class Key, but includes further information to a particular entity (i.e., its identifier attributes). By simply using a chain of Class Keys followed by Entity Keys, all the entities under a particular parent can be ascertained. <figref idrefs="DRAWINGS">FIG. 33</figref> illustrates an example of a blended key <b>1544</b>. In this example, EntityKeys have been provided for the Enterprise, Company and Order, which in turn has specified a particular Order entity. However, since the OrderLine.Key and the OrderSerial.Key do not include Ids, they are Class Keys. The blended key <b>1544</b> of <figref idrefs="DRAWINGS">FIG. 33</figref> could be received by the data access system <b>12</b> to formulate a query for data store mechanism <b>14</b> to retrieve all series for a particular order, irrespective of line.</p>
  <p num="p-0305">Although the present invention has been described with reference to particular embodiments, workers skilled in the art will recognize that changes may be made in form and detail without departing from the spirit and scope of the invention.</p>
</div></div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Patent Citations</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Cited Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5276880">US5276880</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Dec 15, 1989</td><td class="patent-data-table-td patent-date-value">Jan 4, 1994</td><td class="patent-data-table-td ">Siemens Corporate Research, Inc.</td><td class="patent-data-table-td ">Method for parsing and representing multi-versioned computer programs, for simultaneous and synchronous processing of the plural parses</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5548754">US5548754</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Feb 7, 1995</td><td class="patent-data-table-td patent-date-value">Aug 20, 1996</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Optimization of SQL queries using early-out join transformations</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6385603">US6385603</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jun 14, 1999</td><td class="patent-data-table-td patent-date-value">May 7, 2002</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Joined table expression optimization by query transformation</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6421663">US6421663</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jun 14, 1999</td><td class="patent-data-table-td patent-date-value">Jul 16, 2002</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Optimization of joined table expressions by extended access path selection</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6748392">US6748392</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Mar 6, 2001</td><td class="patent-data-table-td patent-date-value">Jun 8, 2004</td><td class="patent-data-table-td ">Microsoft Corporation</td><td class="patent-data-table-td ">System and method for segmented evaluation of database queries</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20030167266">US20030167266</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jan 8, 2001</td><td class="patent-data-table-td patent-date-value">Sep 4, 2003</td><td class="patent-data-table-td ">Alexander Saldanha</td><td class="patent-data-table-td ">Creation of structured data from plain text</td></tr></table><div class="patent-section-footer">* Cited by examiner</div></div><div class="patent-section patent-tabular-section"><a id="npl-citations"></a><div class="patent-section-header"><span class="patent-section-title">Non-Patent Citations</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th colspan="3"class="patent-data-table-th">Reference</th></tr></thead><tr><td class="patent-data-table-td ">1</td><td class="patent-data-table-td "><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td ">Paolo Atzeni et al., Efficient Optimization of simple Chase Join Expressions, 1989, ACM, vol. 14, No. 2, 212-230.</td></tr><tr><td class="patent-data-table-td ">2</td><td class="patent-data-table-td "><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td ">Rosenthal et al., Query Graphs, Implementing Trees, and Freely-Reorderable Outerjoins, 1990, ACM, 291-299.</td></tr><tr><td class="patent-data-table-td ">3</td><td class="patent-data-table-td "><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td ">Yong Kyu Lee et al., Querying Structured Hyperdocuments, IEEE, 1996, 155-164.</td></tr></table><div class="patent-section-footer">* Cited by examiner</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Referenced by</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Citing Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7130856">US7130856</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jul 20, 2002</td><td class="patent-data-table-td patent-date-value">Oct 31, 2006</td><td class="patent-data-table-td ">Microsoft Corporation</td><td class="patent-data-table-td ">Map and data location provider</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7426522">US7426522</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Sep 23, 2003</td><td class="patent-data-table-td patent-date-value">Sep 16, 2008</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Object oriented query path expression to relational outer join translator method, system, article of manufacture, and computer program product</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7743385">US7743385</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Apr 18, 2005</td><td class="patent-data-table-td patent-date-value">Jun 22, 2010</td><td class="patent-data-table-td ">Research In Motion Limited</td><td class="patent-data-table-td ">System and method for simplification of data structure in wireless communications</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7792851">US7792851</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Dec 2, 2004</td><td class="patent-data-table-td patent-date-value">Sep 7, 2010</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Mechanism for defining queries in terms of data objects</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8005807">US8005807</a></td><td class="patent-data-table-td patent-date-value">Feb 1, 2008</td><td class="patent-data-table-td patent-date-value">Aug 23, 2011</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Object oriented query path expression to relational outer join translator method, system, and article of manufacture, and computer program product</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8185911">US8185911</a></td><td class="patent-data-table-td patent-date-value">Jun 21, 2010</td><td class="patent-data-table-td patent-date-value">May 22, 2012</td><td class="patent-data-table-td ">Research In Motion Limited</td><td class="patent-data-table-td ">System and method for simplification of data structure in wireless communications</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8195645">US8195645</a></td><td class="patent-data-table-td patent-date-value">Jul 23, 2008</td><td class="patent-data-table-td patent-date-value">Jun 5, 2012</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Optimized bulk computations in data warehouse environments</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8478786">US8478786</a></td><td class="patent-data-table-td patent-date-value">Sep 14, 2010</td><td class="patent-data-table-td patent-date-value">Jul 2, 2013</td><td class="patent-data-table-td ">Microsoft Corporation</td><td class="patent-data-table-td ">Automatic layout derivation and implementation</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8516458">US8516458</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Feb 26, 2009</td><td class="patent-data-table-td patent-date-value">Aug 20, 2013</td><td class="patent-data-table-td ">Iti Scotland Limited</td><td class="patent-data-table-td ">System representation and handling techniques</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20090222799">US20090222799</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Feb 26, 2009</td><td class="patent-data-table-td patent-date-value">Sep 3, 2009</td><td class="patent-data-table-td ">Neil Stewart</td><td class="patent-data-table-td ">System representation and handling techniques</td></tr></table><div class="patent-section-footer">* Cited by examiner</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">Classifications</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">U.S. Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=tYB1BAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc001/defs001.htm&usg=AFQjCNG37WdtIPCwBOhdSwF0dt2rkf76Nw#C001S001000">1/1</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tYB1BAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc717/defs717.htm&usg=AFQjCNHuT_DCk9A1B78-Dfs6s108xa-OtQ#C717S143000">717/143</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tYB1BAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc707/defs707.htm&usg=AFQjCNE7Q7Bg2eD2wcE_fXEcdOe7Yesevw#C707SE17006">707/E17.006</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tYB1BAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc707/defs707.htm&usg=AFQjCNE7Q7Bg2eD2wcE_fXEcdOe7Yesevw#C707S999100">707/999.1</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tYB1BAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc707/defs707.htm&usg=AFQjCNE7Q7Bg2eD2wcE_fXEcdOe7Yesevw#C707S999202">707/999.202</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tYB1BAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc707/defs707.htm&usg=AFQjCNE7Q7Bg2eD2wcE_fXEcdOe7Yesevw#C707S999103">707/999.103</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tYB1BAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc707/defs707.htm&usg=AFQjCNE7Q7Bg2eD2wcE_fXEcdOe7Yesevw#C707S999004">707/999.004</a></span></td></tr><tr><td class="patent-data-table-td ">International Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=tYB1BAABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G06F0017000000">G06F17/00</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tYB1BAABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G06F0017300000">G06F17/30</a></span></td></tr><tr><td class="patent-data-table-td ">Cooperative Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=tYB1BAABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=Y10S707/99953">Y10S707/99953</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tYB1BAABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=Y10S707/99934">Y10S707/99934</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tYB1BAABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=Y10S707/99944">Y10S707/99944</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tYB1BAABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06F17/30427">G06F17/30427</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tYB1BAABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06F17/30595">G06F17/30595</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tYB1BAABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06F17/30607">G06F17/30607</a></span></td></tr><tr><td class="patent-data-table-td ">European Classification</td><td class="patent-data-table-td "><span class="nested-value">G06F17/30S8R</span>, <span class="nested-value">G06F17/30S8T</span>, <span class="nested-value">G06F17/30S4P2</span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">Legal Events</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Date</th><th class="patent-data-table-th">Code</th><th class="patent-data-table-th">Event</th><th class="patent-data-table-th">Description</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">Dec 30, 2013</td><td class="patent-data-table-td ">FPAY</td><td class="patent-data-table-td ">Fee payment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Year of fee payment: </span><span class="nested-value">8</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Jul 27, 2010</td><td class="patent-data-table-td ">CC</td><td class="patent-data-table-td ">Certificate of correction</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">Dec 23, 2009</td><td class="patent-data-table-td ">FPAY</td><td class="patent-data-table-td ">Fee payment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Year of fee payment: </span><span class="nested-value">4</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Sep 29, 2009</td><td class="patent-data-table-td ">RR</td><td class="patent-data-table-td ">Request for reexamination filed</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20070313</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Apr 1, 2008</td><td class="patent-data-table-td ">B1</td><td class="patent-data-table-td ">Reexamination certificate first reexamination</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">THE PATENTABILITY OF CLAIMS 1-19 IS CONFIRMED.</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Nov 13, 2002</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">MICROSOFT CORPORATION, WASHINGTON</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:THALMAN, MATTHEW A.;ANONSEN, STEVEN P.;REEL/FRAME:013488/0621;SIGNING DATES FROM 20021018 TO 20021024</span></div></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">Rotate</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">Original Image</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " Image not available"});</script></div></div></div></td></tr></table><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_8a2b04e7bf975d5171d8e4c0b6365c7a.js", Host:"http://www.google.com/", IsBooksRentalEnabled:1, IsWebstoreDisplayCaseEnabled:1, IsObfuscationEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsGeoLayerEnabled:1, IsImageModeNotesEnabled:1, IsCopyMenuItemEnabled:1, IsGiftingEnabled:0, IsWebReaderUniversalPaginatorEnabled:0, IsOfflineBubbleEnabled:1, IsReaderEnabledForPlayRequests:1, IsFutureOnSaleVolumesEnabled:1, IsOfflineRestrictedCopyEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsRestrictedCopyEnabled:1, IsZipitFolderCollectionEnabled:1, IsEndOfSampleRecommendationsEnabled:1, IsRatingsOnBookcardsEnabled:1, IsAdsDisabled:0, IsIframePageDisplayEnabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:0, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsPreOrdersEnabled:0, IsDisabledRandomBookshelves:0, WebstoreDisplayCasePosition:3});_OC_Run({"enable_p13n":false,"add_vol_to_collection_base_url":"http://www.google.com/patents?op=add\u0026sig=ACfU3U3LV-GMwzaQ4l90un6UU6L3MRMwkg\u0026id=tYB1BAABERAJ","remove_vol_from_collection_base_url":"http://www.google.com/patents?op=remove\u0026sig=ACfU3U1Wnixou5R4JGeW2ES4HPibkcYr8g\u0026id=tYB1BAABERAJ","logged_in":false,"p13n_save_user_settings_url":"http://www.google.com/patents?op=edit_user_settings\u0026sig=ACfU3U2b9sRZw63xQsIFFiY9sg53y1USqQ","is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=http://www.google.com/patents%3Fhl%3Den\u0026hl=en","is_play_enabled":true}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"http://www.google.com/patents/download/Translation_of_object_queries_involving.pdf?id=tYB1BAABERAJ\u0026output=pdf\u0026sig=ACfU3U02eRiVpQprE6YcfUMu8NFTz2DKdw"},"sample_url":"http://www.google.com/patents/reader?id=tYB1BAABERAJ\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href=http://www.google.com/><nobr>Google&nbsp;Home</nobr></a> - <a href=//www.google.com/patents/sitemap/><nobr>Sitemap</nobr></a> - <a href=http://www.google.com/googlebooks/uspto.html><nobr>USPTO Bulk Downloads</nobr></a> - <a href=/intl/en/privacy/><nobr>Privacy Policy</nobr></a> - <a href=/intl/en/policies/terms/><nobr>Terms of Service</nobr></a> - <a href=https://support.google.com/faqs/answer/2539193?hl=en><nobr>About Google Patents</nobr></a> - <a href="http://www.google.com/tools/feedback/intl/en/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'en'});return false;}catch(e){}"><nobr>Send Feedback</nobr></a></div><span>Data provided by IFI CLAIMS Patent Services</span><br><span >&copy;2012 Google</span></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>