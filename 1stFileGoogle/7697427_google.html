<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html><head><title>Patent US7697427 - Method and system for scaling network traffic managers - Google Patents</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_4ff636b3d23669b7103f3b3a3a18b4cd/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_4ff636b3d23669b7103f3b3a3a18b4cd__en.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "en",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="Method and system for scaling network traffic managers"><meta name="DC.contributor" content="Carlton G. Amdahl" scheme="inventor"><meta name="DC.contributor" content="Robert George Gilde" scheme="inventor"><meta name="DC.contributor" content="David D. Schmitt" scheme="inventor"><meta name="DC.contributor" content="Paul Szabo" scheme="inventor"><meta name="DC.contributor" content="Richard R. Masters" scheme="inventor"><meta name="DC.contributor" content="F5 Networks, Inc." scheme="assignee"><meta name="DC.date" content="2006-9-1" scheme="dateSubmitted"><meta name="DC.description" content="A system for distributing network traffic to multiple traffic management devices. A distributor receives each packet from a network and may act as a layer 2 switch, a router, or distribute the packet to one of a group of traffic management devices. The distributor may receive packets from servers that the traffic management devices are managing communications to. When distributing packets to traffic management devices, information such as source and destination addresses may be used to determine which traffic management device each packet should be sent to. The distributor causes packets that are part of a flow to be delivered to the same traffic management device. Many configurations are possible for connecting the distributor to the traffic management devices, including connecting each traffic management device to a physical or virtual port on the distributor, connecting the traffic management devices to the distributor using a virtual local area network, and connecting the traffic management devices to a layer 2 switch."><meta name="DC.date" content="2010-4-13" scheme="issued"><meta name="DC.relation" content="US:20020114326:A1" scheme="references"><meta name="DC.relation" content="US:20030021230:A1" scheme="references"><meta name="DC.relation" content="US:20030229809:A1" scheme="references"><meta name="DC.relation" content="US:20040090919:A1" scheme="references"><meta name="DC.relation" content="US:20050008017:A1" scheme="references"><meta name="DC.relation" content="US:6157950" scheme="references"><meta name="DC.relation" content="US:6182146" scheme="references"><meta name="DC.relation" content="US:6330602" scheme="references"><meta name="DC.relation" content="US:6742045" scheme="references"><meta name="DC.relation" content="US:6775235" scheme="references"><meta name="DC.relation" content="US:6788692" scheme="references"><meta name="DC.relation" content="US:6792461" scheme="references"><meta name="DC.relation" content="US:6792463" scheme="references"><meta name="DC.relation" content="US:7065569" scheme="references"><meta name="DC.relation" content="US:7088710" scheme="references"><meta name="citation_reference" content="&quot;Amendment to Carrier Sense Multiple Access with Collision Detection (CSMA/CD) Access Method and Physical Layer Specifications-Aggregation of Multiple Link Segments&quot;, IEEE Std. 802.3ad-2000, Mar. 30, 2000, pp. 1-173."><meta name="citation_reference" content="“Amendment to Carrier Sense Multiple Access with Collision Detection (CSMA/CD) Access Method and Physical Layer Specifications—Aggregation of Multiple Link Segments”, IEEE Std. 802.3ad-2000, Mar. 30, 2000, pp. 1-173."><meta name="citation_reference" content="Hewitt, John R. et al., &quot;Securities Practice and Electronic Technology,&quot; Corporate Securities Series, (New York: Law Journal Seminars-Press) 1998, title page, bibliography page, pp. 4.29-4.30."><meta name="citation_reference" content="Hopps, C., &quot;Analysis of an Equal-Cost Multi-Path Algorithm&quot;, The Internet Society, Nov. 2000, pp. 1-8."><meta name="citation_reference" content="Moy, J., &quot;OSPF Version 2&quot;, The Internet Society, Apr. 1998, pp. 1-53."><meta name="citation_reference" content="Reardon, Marguerite, &quot;A Smarter Session Switch: Arrowpoint&#39;s CS Session Switches Boast the Brains Needed for E-Commerce,&quot; Data Communications, Jan. 1999, title page, pp. 3, 5, 18."><meta name="citation_reference" content="Thaler, D., et al., &quot;Multipath Issues in Unicast and Multicast Next-Hop Selection&quot;, The Internet Society, Nov. 2000, pp. 1-9."><meta name="citation_reference" content="U.S. Appl. No. 10/119,433 Notice of Allowance mailed Jun. 14, 2006."><meta name="citation_reference" content="U.S. Appl. No. 10/119,433, Official Communication mailed Mar. 30, 2006."><meta name="citation_reference" content="U.S. Appl. No. 10/644,692, Notice of Allowance mailed Feb. 26, 2008."><meta name="citation_reference" content="U.S. Appl. No. 10/644,692, Official Communication mailed May 18, 2007."><meta name="citation_reference" content="U.S. Appl. No. 10/644,692, Official Communication mailed Oct. 30, 2007."><meta name="citation_reference" content="U.S. Appl. No. 10/659,011, Official Communication mailed Dec. 23, 2008."><meta name="citation_reference" content="U.S. Appl. No. 10/659,011, Official Communication mailed May 27, 2009."><meta name="citation_reference" content="U.S. Appl. No. 10/659,011, Restriction Requirement mailed Sep. 19, 2008."><meta name="citation_reference" content="U.S. Appl. No. 11/929,603, Official Communication mailed Aug. 25, 2009."><meta name="citation_patent_number" content="US:7697427"><meta name="citation_patent_application_number" content="US:11/469,843"><link rel="canonical" href="http://www.google.com/patents/US7697427"/><meta property="og:url" content="http://www.google.com/patents/US7697427"/><meta name="title" content="Patent US7697427 - Method and system for scaling network traffic managers"/><meta name="description" content="A system for distributing network traffic to multiple traffic management devices. A distributor receives each packet from a network and may act as a layer 2 switch, a router, or distribute the packet to one of a group of traffic management devices. The distributor may receive packets from servers that the traffic management devices are managing communications to. When distributing packets to traffic management devices, information such as source and destination addresses may be used to determine which traffic management device each packet should be sent to. The distributor causes packets that are part of a flow to be delivered to the same traffic management device. Many configurations are possible for connecting the distributor to the traffic management devices, including connecting each traffic management device to a physical or virtual port on the distributor, connecting the traffic management devices to the distributor using a virtual local area network, and connecting the traffic management devices to a layer 2 switch."/><meta property="og:title" content="Patent US7697427 - Method and system for scaling network traffic managers"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>(function(){try{var aa=function(a,b,c,d){d=d||{};d._sn=["cfg",b,c].join(".");window.gbar.logger.ml(a,d)};var g=window.gbar=window.gbar||{},l=window.gbar.i=window.gbar.i||{},m={},n;function _tvn(a,b){var c=parseInt(a,10);return isNaN(c)?b:c}function _tvf(a,b){var c=parseFloat(a);return isNaN(c)?b:c}function _tvv(a){return!!a}function p(a,b,c){(c||g)[a]=b}g.bv={n:_tvn("2",0),r:"",f:".67.",e:"0",m:_tvn("0",1)};
function q(a,b,c){var d="on"+b;if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent(d,c);else{var f=a[d];a[d]=function(){var a=f.apply(this,arguments),b=c.apply(this,arguments);return void 0==a?b:void 0==b?a:b&&a}}}var s=function(a){return function(){return g.bv.m==a}},ba=s(1),ca=s(2);p("sb",ba);p("kn",ca);l.a=_tvv;l.b=_tvf;l.c=_tvn;l.i=aa;var da=window.gbar.i.i;var t,u,v,w;function ea(a){v=a}function fa(a){var b;if(b=v&&window.encodeURIComponent)b=a.href,b=!b.match(/^http[s]?:\/\/accounts\.google\.[^/]*\/ClearSID/i)&&!b.match(/^http[s]?:\/\/[^/]*\/accounts\/ClearSID/i);if(b=b&&encodeURIComponent(v()))a.href=a.href.replace(/([?&]continue=)[^&]*/,"$1"+b)}function ga(a){window.gApplication&&(a.href=window.gApplication.getTabUrl(a.href))}
function ha(a){var b=document.forms[0].q,c=window.encodeURIComponent&&b&&b.value,b=b&&b.placeholder;c&&c!=b&&(a.href=a.href.replace(/([?&])q=[^&]*|$/,function(a,b){return(b||"&")+"q="+encodeURIComponent(c)}))}n=l.a("")?ga:ha;
function x(a,b,c,d,f,e){var h=document.getElementById(a);if(h){var k=h.style;k.left=d?"auto":b+"px";k.right=d?b+"px":"auto";k.top=c+"px";k.visibility=u?"hidden":"visible";f&&e?(k.width=f+"px",k.height=e+"px"):(x(t,b,c,d,h.offsetWidth,h.offsetHeight),u=u?"":a)}}
var y=[],ia=function(a,b){y.push(b)},ja=function(a){a=a||window.event;var b=a.target||a.srcElement;a.cancelBubble=!0;null==t&&(a=document.createElement(Array.every||window.createPopup?"iframe":"div"),a.frameBorder="0",t=a.id="gbs",a.src="javascript:''",b.parentNode.appendChild(a),q(document,"click",z));var c=b,b=0;"gb3"!=c.className&&(c=c.parentNode);a=c.getAttribute("aria-owns")||"gbi";var d=c.offsetWidth,f=20<c.offsetTop?46:24;document.getElementById("tphdr")&&(f-=3);var e=!1;do b+=c.offsetLeft||
0;while(c=c.offsetParent);var c=(document.documentElement.clientWidth||document.body.clientWidth)-b-d,h,d=document.body,k=document.defaultView;k&&k.getComputedStyle?(d=k.getComputedStyle(d,""))&&(h=d.direction):h=d.currentStyle?d.currentStyle.direction:d.style.direction;h="rtl"==h;if("gbi"==a){for(d=0;k=y[d++];)k();A(null,window.navExtra);h&&(b=c,e=!0)}else h||(b=c,e=!0);u!=a&&z();x(a,b,f,e)},z=function(){u&&x(u,0,0)},A=function(a,b){var c,d=document.getElementById("gbi"),f=a;f||(f=d.firstChild);
for(;b&&(c=b.pop());){var e=d,h=c,k=f;w||(w="gb2");e.insertBefore(h,k).className=w}},ka=function(a,b,c){if((b=document.getElementById(b))&&a){a.className="gb4";var d=document.createElement("span");d.appendChild(a);d.appendChild(document.createTextNode(" | "));d.id=c;b.appendChild(d)}},la=function(){return document.getElementById("gb_70")},ma=function(){return!!u};p("qs",n);p("setContinueCb",ea);p("pc",fa);p("tg",ja);p("close",z);p("addLink",ka);p("almm",A);p("si",la);p("adh",ia);p("op",ma);var B=function(){},C=function(){},F=function(a){var b=new Image,c=D;b.onerror=b.onload=b.onabort=function(){try{delete E[c]}catch(a){}};E[c]=b;b.src=a;D=c+1},E=[],D=0;p("logger",{il:C,ml:B,log:F});var G=window.gbar.logger;var H={},na={},I=[],oa=l.b("0.1",.1),pa=l.a("1",!0),qa=function(a,b){I.push([a,b])},ra=function(a,b){H[a]=b},sa=function(a){return a in H},J={},K=function(a,b){J[a]||(J[a]=[]);J[a].push(b)},ta=function(a){K("m",a)},L=function(a,b){var c=document.createElement("script");c.src=a;c.async=pa;Math.random()<oa&&(c.onerror=function(){c.onerror=null;B(Error("Bundle load failed: name="+(b||"UNK")+" url="+a))});(document.getElementById("xjsc")||document.getElementsByTagName("body")[0]||
document.getElementsByTagName("head")[0]).appendChild(c)},N=function(a){for(var b=0,c;(c=I[b])&&c[0]!=a;++b);!c||c[1].l||c[1].s||(c[1].s=!0,M(2,a),c[1].url&&L(c[1].url,a),c[1].libs&&m.d&&m.d(c[1].libs))},O=function(a){K("gc",a)},P=null,ua=function(a){P=a},M=function(a,b,c){if(P){a={t:a,b:b};if(c)for(var d in c)a[d]=c[d];try{P(a)}catch(f){}}};p("mdc",H);p("mdi",na);p("bnc",I);p("qGC",O);p("qm",ta);p("qd",J);p("lb",N);p("mcf",ra);p("bcf",qa);p("aq",K);p("mdd","");p("has",sa);
p("trh",ua);p("tev",M);var Q=l.b("0.1",.001),R=0;
function _mlToken(a,b){try{if(1>R){R++;var c,d=a,f=b||{},e=encodeURIComponent,h=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&jexpid=",e("17483"),"&srcpg=",e("prop=22"),"&jsr=",Math.round(1/Q),"&ogev=",e("_FvpU_6CH-PBsQTX94KwDQ"),"&ogf=",g.bv.f,"&ogrp=",e("1"),"&ogv=",e("1407464522.0"),"&oggv="+e("es_plusone_gc_20140723.0_p0"),"&ogd=",e("com"),"&ogc=",e("USA"),"&ogl=",e("en")];f._sn&&(f._sn="og."+
f._sn);for(var k in f)h.push("&"),h.push(e(k)),h.push("="),h.push(e(f[k]));h.push("&emsg=");h.push(e(d.name+":"+d.message));var r=h.join("");S(r)&&(r=r.substr(0,2E3));c=r;var Aa=window.gbar.logger._aem(a,c);F(Aa)}}catch(Na){}}var S=function(a){return 2E3<=a.length},va=function(a,b){return b};function T(a){B=a;p("_itl",S,G);p("_aem",va,G);p("ml",B,G);a={};H.er=a}l.a("")?T(function(a){throw a;}):l.a("1")&&Math.random()<Q&&T(_mlToken);I.push(["m",{url:"//ssl.gstatic.com/gb/js/scm_7385cc5883250b43a39405734c1bea59.js"}]);g.mcf("c",{});g.sg={c:""};if(l.a("1")){var wa=l.a("");I.push(["gc",{auto:wa,url:"//ssl.gstatic.com/gb/js/abc/gci_91f30755d6a6b787dcc2a4062e6e9824.js",libs:"googleapis.client:plusone:gapi.iframes"}]);var xa={version:"gci_91f30755d6a6b787dcc2a4062e6e9824.js",index:"",lang:"en"};H.gc=xa;var U=function(a){window.googleapis&&window.iframes?a&&a():(a&&O(a),N("gc"))};p("lGC",U);l.a("1")&&p("lPWF",U)};window.__PVT="";if(l.a("1")&&l.a("1")){var V=function(a){U(function(){K("pw",a);N("pw")})};p("lPW",V);I.push(["pw",{url:"//ssl.gstatic.com/gb/js/abc/pwm_45f73e4df07a0e388b0fa1f3d30e7280.js"}]);var W=[],ya=function(a){W[0]=a},za=function(a,b){var c=b||{};c._sn="pw";B(a,c)},Ba={signed:W,elog:za,base:"https://plusone.google.com/u/0",loadTime:(new Date).getTime()};H.pw=Ba;var X=function(a,b){for(var c=b.split("."),d=function(){var b=arguments;a(function(){for(var a=g,d=0,e=c.length-1;d<e;++d)a=a[c[d]];a[c[d]].apply(a,b)})},f=g,e=0,h=c.length-1;e<h;++e)f=
f[c[e]]=f[c[e]]||{};return f[c[e]]=d};X(V,"pw.clk");X(V,"pw.hvr");p("su",ya,g.pw)};function Ca(){function a(){for(var b;(b=e[h++])&&"m"!=b[0]&&!b[1].auto;);b&&(M(2,b[0]),b[1].url&&L(b[1].url,b[0]),b[1].libs&&m.d&&m.d(b[1].libs));h<e.length&&setTimeout(a,0)}function b(){0<f--?setTimeout(b,0):a()}var c=l.a("1"),d=l.a(""),f=3,e=I,h=0,k=window.gbarOnReady;if(k)try{k()}catch(r){da(r,"ml","or")}d?p("ldb",a):c?q(window,"load",b):b()}p("rdl",Ca);var Da={D:1,H:2,da:3,p:4,W:5,M:6,F:7,g:8,ha:9,U:10,L:11,T:12,S:13,N:14,Q:15,P:16,fa:17,w:18,O:19,ga:20,ea:21,u:22,G:23,ja:24,ka:25,ia:26,A:27,j:28,o:29,k:30,ca:31,Z:32,$:33,J:34,K:35,ba:36,aa:37,Y:38,B:39,R:40,v:41,X:42,V:43,h:48,C:49,I:500},Y=[1,2,3,4,5,6,9,10,11,13,14,28,29,30,34,35,37,38,39,40,41,42,43,48,49,500];var Z=l.b("0.001",1E-4),Ea=l.b("1",1),Fa=!1,Ga=!1;if(l.a("1")){var Ha=Math.random();Ha<=Z&&(Fa=!0);Ha<=Ea&&(Ga=!0)}var Ia=Da,$=null;function Ja(){var a=0,b=function(b,d){l.a(d)&&(a|=b)};b(1,"");b(2,"");b(4,"");b(8,"");return a}
function Ka(a,b){var c=Z,d=Fa,f;f=a;if(!$){$={};for(var e=0;e<Y.length;e++){var h=Y[e];$[h]=!0}}if(f=!!$[f])c=Ea,d=Ga;if(d){d=encodeURIComponent;g.rp?(f=g.rp(),f="-1"!=f?f:"1"):f="1";c=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&oge=",a,"&ogex=",d("17483"),"&ogev=",d("_FvpU_6CH-PBsQTX94KwDQ"),"&ogf=",g.bv.f,"&ogp=",d("22"),"&ogrp=",d(f),"&ogsr=",Math.round(1/c),"&ogv=",d("1407464522.0"),"&oggv="+
d("es_plusone_gc_20140723.0_p0"),"&ogd=",d("com"),"&ogl=",d("en"),"&ogc=",d("USA"),"&ogus=",Ja()];if(b){"ogw"in b&&(c.push("&ogw="+b.ogw),delete b.ogw);var k;f=b;e=[];for(k in f)0!=e.length&&e.push(","),e.push(La(k)),e.push("."),e.push(La(f[k]));k=e.join("");""!=k&&(c.push("&ogad="),c.push(d(k)))}F(c.join(""))}}function La(a){"number"==typeof a&&(a+="");return"string"==typeof a?a.replace(".","%2E").replace(",","%2C"):a}C=Ka;p("il",C,G);var Ma={};H.il=Ma;setTimeout(function(){C(Ia.g)},0);}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var b=window.gbar.i.i;var c=window.gbar;var f=function(d){try{var a=document.getElementById("gbom");a&&d.appendChild(a.cloneNode(!0))}catch(e){b(e,"omas","aomc")}};c.aomc=f;}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var a=window.gbar;a.mcf("pm",{p:""});}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{window.gbar.rdl();}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{float:left;height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}#gbs,.gbm{background:#fff;left:0;position:absolute;text-align:left;visibility:hidden;z-index:1000}.gbm{border:1px solid;border-color:#c9d7f1 #36c #36c #a2bae7;z-index:1001}.gb1{margin-right:.5em}.gb1,.gb3{zoom:1}.gb2{display:block;padding:.2em .5em}.gb2,.gb3{text-decoration:none !important;border-bottom:none}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb2,a.gb3,a.gb4{color:#00c !important}.gbi .gb3,.gbi .gb2,.gbi .gb4{color:#dd8e27 !important}.gbf .gb3,.gbf .gb2,.gbf .gb4{color:#900 !important}a.gb2:hover{background:#36c;color:#fff !important}#gbar .gbz0l{color:#000 !important;cursor:default;font-weight:bold;text-decoration:none !important}
#gbar { padding:.3em .6em !important;}</style></head><body  topmargin="3" marginheight="3"><div id=gbar><nobr><a onclick=gbar.qs(this);gbar.logger.il(1,{t:1}); class=gb1 id=gb_1 href="https://www.google.com/search?sa=N&tab=tw">Search</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:2}); class=gb1 id=gb_2 href="http://www.google.com/search?hl=en&tbm=isch&source=og&sa=N&tab=ti">Images</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:8}); class=gb1 id=gb_8 href="http://maps.google.com/maps?hl=en&sa=N&tab=tl">Maps</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:78}); class=gb1 id=gb_78 href="https://play.google.com/?hl=en&sa=N&tab=t8">Play</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:36}); class=gb1 id=gb_36 href="http://www.youtube.com/results?sa=N&tab=t1">YouTube</a> <a onclick=gbar.logger.il(1,{t:5}); class=gb1 id=gb_5 href="http://news.google.com/nwshp?hl=en&tab=tn">News</a> <a onclick=gbar.logger.il(1,{t:23}); class=gb1 id=gb_23 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a onclick=gbar.logger.il(1,{t:25}); class=gb1 id=gb_25 href="https://drive.google.com/?tab=to">Drive</a> <a class=gb3 href="http://www.google.com/intl/en/options/" onclick="this.blur();gbar.tg(event);return !1" aria-haspopup=true><u>More</u> <small>&#9660;</small></a><div class=gbm id=gbi><a onclick=gbar.logger.il(1,{t:24}); class=gb2 id=gb_24 href="https://www.google.com/calendar?tab=tc">Calendar</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:51}); class=gb2 id=gb_51 href="http://translate.google.com/?hl=en&sa=N&tab=tT">Translate</a><a onclick=gbar.logger.il(1,{t:17}); class=gb2 id=gb_17 href="http://www.google.com/mobile/?hl=en&tab=tD">Mobile</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:10}); class=gb2 id=gb_10 href="http://www.google.com/search?hl=en&tbo=u&tbm=bks&source=og&sa=N&tab=tp">Books</a><a onclick=gbar.logger.il(1,{t:212}); class=gb2 id=gb_212 href="https://wallet.google.com/manage/?tab=ta">Wallet</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:6}); class=gb2 id=gb_6 href="http://www.google.com/search?hl=en&tbo=u&tbm=shop&source=og&sa=N&tab=tf">Shopping</a><a onclick=gbar.logger.il(1,{t:30}); class=gb2 id=gb_30 href="http://www.blogger.com/?tab=tj">Blogger</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:27}); class=gb2 id=gb_27 href="http://www.google.com/finance?sa=N&tab=te">Finance</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:31}); class=gb2 id=gb_31 href="https://plus.google.com/photos?sa=N&tab=tq">Photos</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:12}); class=gb2 id=gb_12 href="http://www.google.com/search?hl=en&tbo=u&tbm=vid&source=og&sa=N&tab=tv">Videos</a><div class=gb2><div class=gbd></div></div><a onclick=gbar.logger.il(1,{t:66}); href="http://www.google.com/intl/en/options/" class=gb2>Even more &raquo;</a></div></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=http://www.google.com/patents%3Fhl%3Den&hl=en" class=gb4>Sign in</a><div style="display: none"><div class=gbm id=gbd5 aria-owner=gbg5><div class=gbmc><ol id=gbom class=gbmcc></ol></div></div></div></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="http://www.google.com/patents/us7697427?hl=en&amp;output=html_text" title="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."><img border="0" src="http://www.google.com/images/cleardot.gif"alt="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."></a></div><div id="guser"><nobr></nobr></div><div style="clear:both;"></div><div id="gb-top-search-box" class="gb-top-search-box-small gb-reset"><table><tr><td class="logo"><a href="http://www.google.com/patents" class="logo-link"><img class="logo-img" src="/intl/en/images/logos/google_logo_41.png" alt="Go to Google Books Home" height="41"/></a></td><td><form action="http://www.google.com/search" name="f" id="vheadf" method="get"><span id="hf"></span><input type="hidden" name="tbm" value="pts"/><input type="hidden" name="tbo" value="1"/><input type="hidden" name="hl" value="en"/><table><tr><td><div class="inputs"><table><tr><td><div class="text-input"><input type="text" name="q" id="vheadq" class="text" maxlength="2048" size="31" value="" title="Search Patents" accesskey="s" autocomplete="off"/><script>window._OC_autoDir &&window._OC_autoDir('vheadq', 'tia-vheadq');</script></div></td><td><div class="submit-input"><input name="btnG" class="submit" type="submit" value=""/></div></td></tr></table></div></td><td class="col-ext-links"><div class="ext-links"><a href="http://www.google.com/advanced_patent_search">&lt;nobr&gt;Advanced Patent Search&lt;/nobr&gt;</a></div></td></tr></table></form></td></tr></table></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents">Patents</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/US7697427"></a><a id="appbar-patents-discuss-this-link" href="http://www.google.com/url?id=4VBtBgABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpatent%3DUS7697427&amp;usg=AFQjCNFnDMyRJpunEoP8PZQuwdrkz0n9PA" data-is-grant="true"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/US7697427.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/US7697427.pdf"></a><a class="appbar-application-grant-link" data-label="Application" href="/patents/US20060291388"></a><a class="appbar-application-grant-link" data-selected="true" data-label="Grant" href="/patents/US7697427"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="http://www.google.com/patents/US7697427" style="display:none"><span itemprop="description">A system for distributing network traffic to multiple traffic management devices. A distributor receives each packet from a network and may act as a layer 2 switch, a router, or distribute the packet to one of a group of traffic management devices. The distributor may receive packets from servers that...</span><span itemprop="url">http://www.google.com/patents/US7697427?utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">Patent US7697427 - Method and system for scaling network traffic managers</span><img itemprop="image" src="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="Patent US7697427 - Method and system for scaling network traffic managers" title="Patent US7697427 - Method and system for scaling network traffic managers"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="http://www.google.com/advanced_patent_search">Advanced Patent Search</a></li></ol></div><table id="viewport_table" cellpadding="0" style="clear:both" cellspacing="0"><tr><td id="viewport_td"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata"><tr><td class="patent-bibdata-heading">Publication number</td><td class="single-patent-bibdata">US7697427 B2</td></tr><tr><td class="patent-bibdata-heading">Publication type</td><td class="single-patent-bibdata">Grant</td></tr><tr><td class="patent-bibdata-heading">Application number</td><td class="single-patent-bibdata">US 11/469,843</td></tr><tr><td class="patent-bibdata-heading">Publication date</td><td class="single-patent-bibdata">Apr 13, 2010</td></tr><tr><td class="patent-bibdata-heading">Filing date</td><td class="single-patent-bibdata">Sep 1, 2006</td></tr><tr><td class="patent-bibdata-heading">Priority date<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="The priority date is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the date listed."></span></td><td class="single-patent-bibdata">May 24, 2001</td></tr><tr><td class="patent-bibdata-heading">Fee status<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="The fee status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status or dates listed."></span></td><td class="single-patent-bibdata">Paid</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Also published as</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/US7102996">US7102996</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7395349">US7395349</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7702809">US7702809</a>, </span><span class="patent-bibdata-value"><a href="/patents/US8477609">US8477609</a>, </span><span class="patent-bibdata-value"><a href="/patents/US20060291388">US20060291388</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading">Publication number</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">11469843, </span><span class="patent-bibdata-value">469843, </span><span class="patent-bibdata-value">US 7697427 B2, </span><span class="patent-bibdata-value">US 7697427B2, </span><span class="patent-bibdata-value">US-B2-7697427, </span><span class="patent-bibdata-value">US7697427 B2, </span><span class="patent-bibdata-value">US7697427B2</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Inventors</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Carlton+G.+Amdahl%22">Carlton G. Amdahl</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Robert+George+Gilde%22">Robert George Gilde</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22David+D.+Schmitt%22">David D. Schmitt</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Paul+Szabo%22">Paul Szabo</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Richard+R.+Masters%22">Richard R. Masters</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Original Assignee</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=inassignee:%22F5+Networks,+Inc.%22">F5 Networks, Inc.</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Export Citation</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/US7697427.bibtex">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7697427.enw">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7697427.ris">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">Patent Citations</a> (15),</span> <span class="patent-bibdata-value"><a href="#npl-citations">Non-Patent Citations</a> (16),</span> <span class="patent-bibdata-value"><a href="#forward-citations">Referenced by</a> (2),</span> <span class="patent-bibdata-value"><a href="#classifications">Classifications</a> (12),</span> <span class="patent-bibdata-value"><a href="#legal-events">Legal Events</a> (5)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">External Links:&nbsp;</span><span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=4VBtBgABERAJ&q=http://patft.uspto.gov/netacgi/nph-Parser%3FSect2%3DPTO1%26Sect2%3DHITOFF%26p%3D1%26u%3D/netahtml/PTO/search-bool.html%26r%3D1%26f%3DG%26l%3D50%26d%3DPALL%26RefSrch%3Dyes%26Query%3DPN/7697427&usg=AFQjCNH8UHuGvCtY_x7afxvVRLgpRZU27g">USPTO</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=4VBtBgABERAJ&q=http://assignments.uspto.gov/assignments/q%3Fdb%3Dpat%26pat%3D7697427&usg=AFQjCNFhBaz_8YUoCDPvfQyg8elYyQOQxA">USPTO Assignment</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=4VBtBgABERAJ&q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DUS%26NR%3D7697427B2%26KC%3DB2%26FT%3DD&usg=AFQjCNFNXmuhbncU7i_YcHokj-n110H5UQ">Espacenet</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT94819672" lang="EN" load-source="patent-office">Method and system for scaling network traffic managers</invention-title></span><br><span class="patent-number">US 7697427 B2</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title">Abstract</span></div><div class="patent-text"><abstract mxw-id="PA76650220" lang="EN" load-source="patent-office"> <div num="p-0001" class="abstract">A system for distributing network traffic to multiple traffic management devices. A distributor receives each packet from a network and may act as a layer 2 switch, a router, or distribute the packet to one of a group of traffic management devices. The distributor may receive packets from servers that the traffic management devices are managing communications to. When distributing packets to traffic management devices, information such as source and destination addresses may be used to determine which traffic management device each packet should be sent to. The distributor causes packets that are part of a flow to be delivered to the same traffic management device. Many configurations are possible for connecting the distributor to the traffic management devices, including connecting each traffic management device to a physical or virtual port on the distributor, connecting the traffic management devices to the distributor using a virtual local area network, and connecting the traffic management devices to a layer 2 switch.</div>
  </abstract></div></div><div class="patent-section patent-drawings-section"><div class="patent-section-header"><span class="patent-section-title">Images<span class="patent-section-count">(14)</span></span></div><div class="patent-drawings-body"><div class="patent-drawings-carousel"><div class="drawings"><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7697427B2/US07697427-20100413-D00000.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7697427B2/US07697427-20100413-D00000.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7697427B2/US07697427-20100413-D00001.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7697427B2/US07697427-20100413-D00001.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7697427B2/US07697427-20100413-D00002.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7697427B2/US07697427-20100413-D00002.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7697427B2/US07697427-20100413-D00003.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7697427B2/US07697427-20100413-D00003.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7697427B2/US07697427-20100413-D00004.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7697427B2/US07697427-20100413-D00004.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7697427B2/US07697427-20100413-D00005.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7697427B2/US07697427-20100413-D00005.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7697427B2/US07697427-20100413-D00006.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7697427B2/US07697427-20100413-D00006.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7697427B2/US07697427-20100413-D00007.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7697427B2/US07697427-20100413-D00007.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7697427B2/US07697427-20100413-D00008.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7697427B2/US07697427-20100413-D00008.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7697427B2/US07697427-20100413-D00009.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7697427B2/US07697427-20100413-D00009.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7697427B2/US07697427-20100413-D00010.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7697427B2/US07697427-20100413-D00010.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7697427B2/US07697427-20100413-D00011.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7697427B2/US07697427-20100413-D00011.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7697427B2/US07697427-20100413-D00012.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7697427B2/US07697427-20100413-D00012.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7697427B2/US07697427-20100413-D00013.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7697427B2/US07697427-20100413-D00013.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div></div></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img" alt="Previous page"src="/googlebooks/images/kennedy/page_left.png"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img" alt="Next page"src="/googlebooks/images/kennedy/page_right.png"width="21" height="21" /></div></div></div><div class="patent-post-drawings"></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">Claims<span class="patent-section-count">(24)</span></span></div><div class="patent-text"><div mxw-id="PCLM31571968" lang="EN" load-source="patent-office" class="claims">
  <div class="claim"> <div id="CLM-00001" num="00001" class="claim">
    <div class="claim-text">1. An apparatus for distributing flows of packets in a network having a plurality of network devices and a plurality of traffic managers, comprising:
<div class="claim-text">a receiving interface for receiving a flow of packets to one of the plurality of network devices; and</div>
<div class="claim-text">a forwarding component that forwards each received packet to a determined traffic manager, wherein the forwarding component determines the traffic manager based on whether at least one address that is included with a received packet is also associated with a set of addresses, and wherein if the packet includes a source address that is associated with the set of addresses, using a destination address of the packet to determine the traffic manager and</div>
<div class="claim-text">wherein the forwarding component forwards the packet to the determined traffic manager using the source address of the packet if it includes the destination address that is associated with another set of addresses.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00002" num="00002" class="claim">
    <div class="claim-text">2. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the determined traffic manager is persistent for each packet in at least one flow of packets.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00003" num="00003" class="claim">
    <div class="claim-text">3. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein using the source address of the packet includes hashing it to obtain a value that is then used to distribute the packet to a particular traffic manager.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00004" num="00004" class="claim">
    <div class="claim-text">4. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the forwarding component enables the packet to be routed to a destination if at least one of the source address is not associated with the set of addresses or the destination address is not associated with the set of addresses.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00005" num="00005" class="claim">
    <div class="claim-text">5. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein each address includes at least one of a media access control (MAC) address, a virtual local area network (VLAN) identifier, a transmission control protocol (TCP) port, a user datagram protocol (UDP) port, an internet protocol (IP) address, physical port identifier, or a physical port.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00006" num="00006" class="claim">
    <div class="claim-text">6. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein if the packet is received from one of the plurality of traffic managers, a first address included in the packet is replaced with a second address.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00007" num="00007" class="claim">
    <div class="claim-text">7. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the apparatus is further arranged to operate as at least one of a switch chassis, router, proxy, firewall, load balancer, or Network Address Translator (NAT).</div>
  </div>
  </div> <div class="claim"> <div id="CLM-00008" num="00008" class="claim">
    <div class="claim-text">8. An apparatus for distributing flows of packets in a network having a plurality of network devices and a plurality of traffic managers, comprising:
<div class="claim-text">a receiving interface for receiving a flow of packets to one of the plurality of network devices; and</div>
<div class="claim-text">a forwarding component that forwards each received packet to a determined traffic manager, wherein the forwarding component determines the traffic manager based on whether at least one address that is included with a received packet is also associated with a set of addresses, and wherein if the packet includes a destination address that is associated with the set of addresses, forwarding the packet to the traffic manager using a source address of the packet, and</div>
<div class="claim-text">wherein the forwarding component forwards the packet to the determined traffic manager using the destination address of the packet if it includes the source address that is associated with the set of addresses.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00009" num="00009" class="claim">
    <div class="claim-text">9. The apparatus of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the determined traffic manager is persistent for each packet in at least one flow of packets.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00010" num="00010" class="claim">
    <div class="claim-text">10. The apparatus of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein if the packet is received from one of the plurality of traffic managers, a first address included in the packet is replaced with a second address.</div>
  </div>
  </div> <div class="claim"> <div id="CLM-00011" num="00011" class="claim">
    <div class="claim-text">11. A system for distributing flows of packets over a network, comprising:
<div class="claim-text">a plurality of servers that are arranged to provide access to a resource over the network;</div>
<div class="claim-text">a plurality of traffic managers that are configured to direct at least one flow of packets to at least one of the plurality of servers; and</div>
<div class="claim-text">at least one distributor that is arranged to receive the flow of packets and forward the flow to a determined traffic manager, wherein if the packet includes a source address that is associated with a set of addresses, the distributor is configured to use a destination address of the packet to determine the one of the plurality of traffic managers to forward the packet to and</div>
</div>
    <div class="claim-text">wherein the distributor is further arranged to use a source address of the packet to determine the one of the plurality of traffic managers to forward the packet to if the packet includes a destination address that is associated with another set of addresses.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00012" num="00012" class="claim">
    <div class="claim-text">12. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the determined one of the plurality of traffic managers is persistent for each packet in at least one flow of packets between two network devices.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00013" num="00013" class="claim">
    <div class="claim-text">13. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein if the packet is received from one of the plurality of traffic managers, a first address included in the packet is replaced with a second address.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00014" num="00014" class="claim">
    <div class="claim-text">14. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising a virtual local area network (VLAN) coupled to at least a portion of the plurality of traffic managers, wherein the packet is forwarded by placing an identifier in front of a media access control header and sending the packet to the VLAN switch.</div>
  </div>
  </div> <div class="claim"> <div id="CLM-00015" num="00015" class="claim">
    <div class="claim-text">15. A system for distributing flows of packets over a network, comprising:
<div class="claim-text">a plurality of servers that are arranged to provide access to a resource over the network;</div>
<div class="claim-text">a plurality of traffic managers that are configured to direct at least one flow of packets to at least one of the plurality of servers; and</div>
<div class="claim-text">at least one distributor that is arranged to receive the flow of packets and forward the flow to a determined traffic manager, wherein if the packet includes a destination address that is associated with a set of addresses, the distributor is configured to use a source address of the packet to determine the one of the plurality of traffic managers to forward the packet to, and</div>
<div class="claim-text">wherein if the packet includes a source address that is associated with the set of addresses, the distributor is configured to use the destination address of the packet to determine the one of the plurality of traffic managers to forward the packet to.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00016" num="00016" class="claim">
    <div class="claim-text">16. The system of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the determined one of the plurality of traffic managers is persistent for each packet in at least one flow of packets between two network devices.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00017" num="00017" class="claim">
    <div class="claim-text">17. The system of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein if the packet is received from one of the plurality of traffic managers, a first address included in the packet is replaced with a second address.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00018" num="00018" class="claim">
    <div class="claim-text">18. The system of <claim-ref idref="CLM-00015">claim 15</claim-ref>, further comprising a virtual local area network (VLAN) coupled to at least a portion of the plurality of traffic managers, wherein the packet is forwarded by placing an identifier in front of a media access control header and sending the packet to the VLAN switch.</div>
  </div>
  </div> <div class="claim"> <div id="CLM-00019" num="00019" class="claim">
    <div class="claim-text">19. A method for distributing flows of packets over a network having a plurality of network devices and a plurality of traffic managers, comprising:
<div class="claim-text">receiving a flow of packets to at least one of the plurality of network devices;</div>
<div class="claim-text">for each packet in the flow with a source address associated with a set of addresses, forwarding that packet to one of the plurality of traffic managers that is selected based at least in part on a destination address of the packet, and</div>
<div class="claim-text">for each packet in the flow with the destination address associated with the set of addresses, forwarding that packet to said one of the plurality of traffic managers that is selected based at least in part on a source address of the packet.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00020" num="00020" class="claim">
    <div class="claim-text">20. The method of <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein the selected one of the plurality of traffic managers is persistent for each packet in at least one flow of packets between two network devices.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00021" num="00021" class="claim">
    <div class="claim-text">21. The method of <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein if the packet is received from one of the plurality of traffic managers, a first address included in the packet is replaced with a second address.</div>
  </div>
  </div> <div class="claim"> <div id="CLM-00022" num="00022" class="claim">
    <div class="claim-text">22. A non-transitory computer readable storage media that includes components that embody computer executable instructions that when executed on a computing device enables the distribution of a flow of packets over a network having a plurality of network devices and a plurality of traffic managers, comprising:
<div class="claim-text">a first component arranged for enabling the receipt of a flow of packets to at least one of the plurality of network devices;</div>
<div class="claim-text">a second component arranged for enabling each packet in the flow with a source address associated with a set of addresses to be forwarded to one of the plurality of traffic managers that is selected based at least in part on a destination address of the packet, and</div>
<div class="claim-text">a third component arranged for enabling each packet in the flow with the destination address associated with the set of addresses to be forwarded to said one of the plurality of traffic managers that is selected based at least in part on a source address of the packet.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00023" num="00023" class="claim">
    <div class="claim-text">23. A non-transitory computer readable storage media of <claim-ref idref="CLM-00022">claim 22</claim-ref>, wherein the selected one of the plurality of traffic managers is persistent for each packet in at least one flow of packets between two network devices.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00024" num="00024" class="claim">
    <div class="claim-text">24. A non-transitory computer readable storage media of <claim-ref idref="CLM-00022">claim 22</claim-ref>, wherein if the packet is received from one of the plurality of traffic managers, a first address included in the packet is replaced with a second address.</div>
  </div>
</div> </div></div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title">Description</span></div><div class="patent-text"><div mxw-id="PDES36998352" lang="EN" load-source="patent-office" class="description">
<heading>CROSS-REFERENCE TO RELATED APPLICATIONS</heading> <p num="p-0002">This utility patent application is a continuation of allowed U.S. patent application Ser. No. 10/119,433 filed on Apr. 9, 2002, the benefit of which is claimed under 35 U.S.C. §120, which claims priority to U.S. Provisional Patent Application No. 60/293,466 filed on May 24, 2001, the benefit of the filing date of which is claimed under 35 U.S.C. §119(e), the disclosures of which are incorporated by reference in their entirety herein.</p>
<heading>FIELD OF THE INVENTION</heading> <p num="p-0003">The present invention relates to computer network traffic, and in particular to distributing network traffic associated with traffic management devices.</p>
  <heading>BACKGROUND</heading> <p num="p-0004">The Internet's core bandwidth continues to double every year. Some of this additional bandwidth is consumed as more and more users access the Internet. Other additional bandwidth is consumed as existing users increase their use of the Internet. This increase of Internet use translates into an increase in traffic directed to and from World Wide Web (WWW) servers and other Internet servers.</p>
  <p num="p-0005">Replacing a WWW server with a WWW server of twice the capacity is a costly undertaking. Adding additional WWW servers is less costly but generally requires a load-balancing mechanism to balance workload so that each virtual server performs work proportional to its capacity and the number of servers available to the traffic management device that is performing the load balancing.</p>
  <p num="p-0006">Traffic across the Internet typically comes in the form of Transmission Control Protocol/Internet Protocol (TCP/IP) packets. TCP/IP has many layers for addressing packets. Managing TCP/IP packet traffic using lower layers typically requires less processing than managing packets using higher layers. As a result, lower layer traffic management may often be done in hardware with its attendant speed. Unfortunately, managing packet traffic based on lower layer information is typically not flexible enough for many applications using the Internet. For example, when a user is shopping for items on a WWW server and filling a “shopping cart,” a traffic management device that sends one of packets from the user to one WWW server and another packet from the user to another WWW server may cause shopping cart information to be lost. As a result, a traffic management device may be required to store state information about connections and look at higher TCP/IP layers to maintain connections between servers and users.</p>
  <p num="p-0007">This requirement for more sophisticated traffic management requires more processing. With a sufficient rate of requests, eventually a traffic management device may not be able to process traffic in a timely manner.</p>
<description-of-drawings> <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading> <p num="p-0008"> <figref idrefs="DRAWINGS">FIGS. 1-3</figref> show components of an exemplary environment in which the invention may be practiced;</p>
    <p num="p-0009"> <figref idrefs="DRAWINGS">FIG. 4</figref> illustrates an exemplary environment in which a system for distributing traffic to an array of traffic management devices operates;</p>
    <p num="p-0010"> <figref idrefs="DRAWINGS">FIG. 5</figref> shows another exemplary environment in which a system for distributing traffic to an array of traffic management devices operates;</p>
    <p num="p-0011"> <figref idrefs="DRAWINGS">FIG. 6</figref> illustrates a flow chart for processing inbound and outbound packets;</p>
    <p num="p-0012"> <figref idrefs="DRAWINGS">FIG. 7</figref> shows a flow chart for determining where to forward packets received by a distributor from anywhere but a traffic management device;</p>
    <p num="p-0013"> <figref idrefs="DRAWINGS">FIG. 8</figref> illustrates a flow chart for processing that may occur when a packet is received from a traffic management device;</p>
    <p num="p-0014"> <figref idrefs="DRAWINGS">FIG. 9</figref> shows an exemplary table that may be used in distributing traffic;</p>
    <p num="p-0015"> <figref idrefs="DRAWINGS">FIG. 10</figref> illustrates a flow chart that shows another way of implementing the functionality of the table shown in <figref idrefs="DRAWINGS">FIG. 9</figref>;</p>
    <p num="p-0016"> <figref idrefs="DRAWINGS">FIG. 11</figref> shows an example of how packets may be sent between a client and server in an exemplary environment in which the system operates;</p>
    <p num="p-0017"> <figref idrefs="DRAWINGS">FIG. 12</figref> illustrates an exemplary environment in which a system for distributing traffic to an array of traffic management devices operates;</p>
    <p num="p-0018"> <figref idrefs="DRAWINGS">FIG. 13</figref> shows another exemplary environment in which a system for distributing traffic to an array of traffic management devices operates in accordance with the invention.</p>
  </description-of-drawings> <heading>DETAILED DESCRIPTION OF EMBODIMENTS</heading> <p num="p-0019">In the following detailed description of exemplary embodiments of the invention, reference is made to the accompanied drawings, which form a part hereof, and which are shown by way of illustration, specific exemplary embodiments of which the invention may be practiced. These embodiments are described in sufficient detail to enable those skilled in the art to practice the invention, and it is to be understood that other embodiments may be utilized, and other changes may be made, without departing from the spirit or scope of the present invention. The following detailed description is, therefore, not to be taken in a limiting sense, and the scope of the present invention is defined only by the appended claims.</p>
  <p num="p-0020">In the following description, first an illustrative operating environment in which the invention may be practiced is disclosed. Then, examples of two systems that distribute traffic are provided. Next, a method of processing inbound and outbound packets is given together with a table that may be used to determine an action to perform on a given packet, depending on attributes of the packet. Then, an example of how packets may be distributed in an exemplary system is provided. Finally, other exemplary systems for distributing traffic are described.</p>
  <p num="p-0021">As used in this document, unless the context clearly indicates otherwise, a packet refers to an arbitrary or selectable amount of data which may be represented by a sequence of one or more bits. A packet may correspond to a data unit found in any layer of the OSI model, such as a segment, message, packet, datagram, frame, symbol stream, or stream, a combination of data units found in the OSI model, or a non OSI data unit.</p>
  <p num="h-0006">Illustrative Operating Environment</p>
  <p num="p-0022"> <figref idrefs="DRAWINGS">FIGS. 1-3</figref> show components of an exemplary environment in which the invention may be practiced. Not all the components may be required to practice the invention, and variations in the arrangement and type of the components may be made without departing from the spirit or scope of the invention.</p>
  <p num="p-0023"> <figref idrefs="DRAWINGS">FIG. 1</figref> shows a plurality of local area networks (“LANs”) <b>120</b> <sub>a-d </sub>and wide area network (“WAN”) <b>130</b> interconnected by routers <b>110</b>. Routers <b>110</b> are intermediary devices on a communications network that expedite packet delivery. On a single network linking many computers through a mesh of possible connections, a router receives transmitted packets and forwards them to their correct destinations over available routes. On an interconnected set of LANs—including those based on differing architectures and protocols—, a router acts as a link between LANs, enabling packets to be sent from one to another. Communication links within LANs typically include twisted pair, fiber optics, or coaxial cable, while communication links between networks may utilize analog telephone lines, fall or fractional dedicated digital lines including T<b>1</b>, T<b>2</b>, T<b>3</b>, and T<b>4</b>, Integrated Services Digital Networks (ISDNs), Digital Subscriber Lines (DSLs), wireless links, or other communications links known to those skilled in the art. Furthermore, computers, such as remote computer <b>140</b>, and other related electronic devices can be remotely connected to either LANS <b>120</b> <sub>a-d </sub>or WAN <b>130</b> via a modem and temporary telephone link. The number of WANs, LANs, and routers in <figref idrefs="DRAWINGS">FIG. 1</figref> may be increased or decreased arbitrarily without departing from the spirit or scope of this invention.</p>
  <p num="p-0024">As such, it will be appreciated that the Internet itself may be formed from a vast number of such interconnected networks, computers, and routers. Generally, the term “Internet” refers to the worldwide collection of networks, gateways, routers, and computers that use the Transmission Control Protocol/Internet Protocol (“TCP/IP”) suite of protocols to communicate with one another. At the heart of the Internet is a backbone of high-speed data communication lines between major nodes or host computers, including thousands of commercial, government, educational, and other computer systems, that route data and packets. An embodiment of the invention may be practiced over the Internet without departing from the spirit or scope of the invention.</p>
  <p num="p-0025">The media used to transmit information in communication links as described above illustrates one type of computer-readable media, namely communication media. Generally, computer-readable media includes any media that can be accessed by a computing device. Computer-readable media may include computer storage media, communication media, or any combination thereof.</p>
  <p num="p-0026">Communication media typically embodies computer-readable instructions, data structures, program modules, or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term “modulated data signal” means a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example, communication media includes wired media such as twisted pair, coaxial cable, fiber optics, wave guides, and other wired media and wireless media such as acoustic, RF, infrared, and other wireless media.</p>
  <p num="p-0027">The Internet has recently seen explosive growth by virtue of its ability to link computers located throughout the world. As the Internet has grown, so has the WWW. Generally, the WWW is the total set of interlinked hypertext documents residing on HTTP (hypertext transport protocol) servers around the world. Documents on the WWW, called pages or Web pages, are typically written in HTML (Hypertext Markup Language) or some other markup language, identified by URLs (Uniform Resource Locators) that specify the particular machine and pathname by which a file can be accessed, and transmitted from server to end user using HTTP. Codes, called tags, embedded in an HTML document associate particular words and images in the document with URLs so that a user can access another file, which may literally be halfway around the world, at the press of a key or the click of a mouse. These files may contain text (in a variety of fonts and styles), graphics images, movie files, media clips, and sounds as well as Java applets, ActiveX controls, or other embedded software programs that execute when the user activates them. A user visiting a Web page also may be able to download files from an FTP site and send packets to other users via email by using links on the Web page.</p>
  <p num="p-0028">A server providing a WWW site, as the server described in more detail in conjunction with <figref idrefs="DRAWINGS">FIG. 2</figref> may, is a computer connected to the Internet having storage facilities for storing hypertext documents for a WWW site and running administrative software for handling requests for the stored hypertext documents. A hypertext document normally includes a number of hyperlinks, i.e., highlighted portions of text which link the document to another hypertext document possibly stored at a WWW site elsewhere on the Internet. Each hyperlink is associated with a URL that provides the location of the linked document on a server connected to the Internet and describes the document. Thus, whenever a hypertext document is retrieved from any WWW server, the document is considered to be retrieved from the WWW. As is known to those skilled in the art, a WWW server may also include facilities for storing and transmitting application programs, such as application programs written in the JAVA programming language from Sun Microsystems, for execution on a remote computer. Likewise, a WWW server may also include facilities for executing scripts and other application programs on the WWW server itself.</p>
  <p num="p-0029">A user may retrieve hypertext documents from the WWW via a WWW browser application program located on a wired or wireless device. A WWW browser, such as Netscape's NAVIGATOR® or Microsoft's INTERNET EXPLORER®, is a software application program for providing a graphical user interface to the WWW. Upon request from the user via the WWW browser, the WWW browser accesses and retrieves the desired hypertext document from the appropriate WWW server using the URL for the document and HTTP. HTTP is a higher-level protocol than TCP/IP and is designed specifically for the requirements of the WWW. HTTP is used to carry requests from a browser to a Web server and to transport pages from Web servers back to the requesting browser or client. The WWW browser may also retrieve application programs from the WWW server, such as JAVA applets, for execution on a client computer.</p>
  <p num="p-0030"> <figref idrefs="DRAWINGS">FIG. 2</figref> shows an exemplary server that may operate to provide a WWW site, and/or provide other services, among other things. When providing a WWW site, server <b>200</b> transmits WWW pages to the WWW browser application program executing on requesting devices to carry out this process. For instance, server <b>200</b> may transmit pages and forms for receiving information about a user, such as address, telephone number, billing information, credit card number, etc. Moreover, server <b>200</b> may transmit WWW pages to a requesting device that allow a consumer to participate in a WWW site. The transactions may take place over the Internet, WAN/LAN <b>100</b>, or some other communications network known to those skilled in the art.</p>
  <p num="p-0031">It will be appreciated that the server <b>200</b> may include many more components than those shown in <figref idrefs="DRAWINGS">FIG. 2</figref>. However, the components shown are sufficient to disclose an illustrative environment for practicing the present invention. As shown in <figref idrefs="DRAWINGS">FIG. 2</figref>, server <b>200</b> is connected to WAN/LAN <b>100</b>, or other communications network, via network interface unit <b>210</b>. Network interface unit <b>210</b> includes the necessary circuitry for connecting server <b>200</b> to WAN/LAN <b>100</b>, and is constructed for use with various communication protocols including the TCP/IP protocol. Typically, network interface unit <b>210</b> is a card contained within server <b>200</b>.</p>
  <p num="p-0032">Server <b>200</b> also includes processing unit <b>212</b>, video display adapter <b>214</b>, and a mass memory, all connected via bus <b>222</b>. The mass memory generally includes random access memory (“RAM”) <b>216</b>, read-only memory (“ROM”) <b>232</b>, and one or more permanent mass storage devices, such as hard disk drive <b>228</b>, a tape drive (not shown), optical drive <b>226</b>, such as a CD-ROM/DVD-ROM drive, and/or a floppy disk drive (not shown). The mass memory stores operating system <b>220</b> for controlling the operation of server <b>200</b>. It will be appreciated that this component may comprise a general purpose server operating system including, for example, UNIX, LINUX™, or one produced by Microsoft Corporation of Redmond, Wash. Basic input/output system (“BIOS”) <b>218</b> is also provided for controlling the low-level operation of server <b>200</b>.</p>
  <p num="p-0033">The mass memory as described above illustrates another type of computer-readable media, namely computer storage media. Computer storage media may include volatile and nonvolatile, removable and non-removable media implemented in any method or technology for storage of information, such as computer readable instructions, data structures, program modules or other data. Examples of computer storage media include RAM, ROM, EEPROM, flash memory or other memory technology, CD-ROM, digital versatile disks (DVD) or other optical storage, magnetic cassettes, magnetic tape, magnetic disk storage or other magnetic storage devices, or any other medium which can be used to store the desired information and which can be accessed by a computing device.</p>
  <p num="p-0034">The mass memory may also store program code and data for providing a WWW site. More specifically, the mass memory may store applications including WWW server application program <b>230</b>, and programs <b>234</b>. WWW server application program <b>230</b> includes computer executable instructions which, when executed by server <b>200</b>, generate WWW browser displays, including performing the logic described above. Server <b>200</b> may include a JAVA virtual machine, an SMTP handler application for transmitting and receiving email, an HTTP handler application for receiving and handing HTTP requests, JAVA applets for transmission to a WWW browser executing on a client computer, and an HTTPS handler application for handling secure connections. The HTTPS handler application may be used for communication with an external security application to send and receive sensitive information, such as credit card information, in a secure fashion.</p>
  <p num="p-0035">Server <b>200</b> may also comprise input/output interface <b>224</b> for communicating with external devices, such as a mouse, keyboard, scanner, or other input devices not shown in <figref idrefs="DRAWINGS">FIG. 2</figref>. Likewise, server <b>200</b> may further comprise additional mass storage facilities such as optical drive <b>226</b> and hard disk drive <b>228</b>. Hard disk drive <b>228</b> is utilized by server <b>200</b> to store, among other things, application programs, databases, and program data used by WWW server application program <b>230</b>. For example, customer databases, product databases, image databases, and relational databases may be stored. A server and devices similar to a server are examples of a network device.</p>
  <p num="p-0036"> <figref idrefs="DRAWINGS">FIG. 3</figref> depicts several components of client computer <b>300</b>. Client computer <b>300</b> may include many more components than those shown in <figref idrefs="DRAWINGS">FIG. 3</figref>. However, it is not necessary that those generally-conventional components be shown in order to disclose an illustrative embodiment for practicing the present invention. As shown in <figref idrefs="DRAWINGS">FIG. 3</figref>, client computer <b>300</b> includes network interface unit <b>302</b> for connecting to a LAN or WAN, or for connecting remotely to a LAN or WAN. Network interface unit <b>302</b> includes the necessary circuitry for such a connection, and is also constructed for use with various communication protocols including the TCP/IP protocol, the particular network configuration of the LAN or WAN it is connecting to, and a particular type of coupling medium. Network interface unit <b>302</b> may also be capable of connecting to the Internet through a point-to-point protocol (“PPP”) connection or a serial line Internet protocol (“SLIP”) connection.</p>
  <p num="p-0037">Client computer <b>300</b> also includes BIOS <b>326</b>, processing unit <b>306</b>, video display adapter <b>308</b>, and memory. The memory generally includes RAM <b>310</b>, ROM <b>304</b> and a permanent mass storage device, such as a disk drive. The memory stores operating system <b>312</b> and programs <b>334</b> for controlling the operation of client computer <b>300</b>. The memory also includes WWW browser <b>314</b>, such as Netscape's NAVIGATOR® or Microsoft's INTERNET EXPLORER® browsers, for accessing the WWW. It will be appreciated that these components may be stored on a computer-readable medium and loaded into memory of client computer <b>300</b> using a drive mechanism associated with the computer-readable medium, such as a floppy disk drive (not shown), optical drive <b>316</b>, such as a CD-ROM/DVD-ROM drive, and/or hard disk drive <b>318</b>. Input/output interface <b>320</b> may also be provided for receiving input from a mouse, keyboard, or other input device. The memory, network interface unit <b>302</b>, video display adapter <b>308</b>, and input/output interface <b>320</b> are all connected to processing unit <b>306</b> via bus <b>322</b>. Other peripherals may also be connected to processing unit <b>306</b> in a similar manner. A client and devices like a client are other examples of a network device. Any other device that is capable of connecting to a network may also be included as an example of a network device.</p>
  <p num="p-0038">As will be recognized from the discussion below, aspects of the invention may be embodied on routers <b>110</b>, on server <b>200</b>, on client computer <b>300</b>, or on some combination of the above. For example, programming steps may be contained in programs <b>334</b> and/or programs <b>234</b>. Distributing may be performed by one or more servers, such as server <b>200</b> or by specialized hardware on a router such as routers <b>110</b>.</p>
  <p num="h-0007">Illustrative Traffic Distributing Systems</p>
  <p num="p-0039"> <figref idrefs="DRAWINGS">FIG. 4</figref> illustrates an exemplary environment in which a system for distributing traffic through an array of traffic management devices operates, according to one embodiment of the invention. The system includes client <b>410</b>, distributors <b>415</b>-<b>416</b>, traffic management devices <b>420</b>-<b>422</b>, and origin servers <b>440</b>-<b>442</b>.</p>
  <p num="p-0040">Client <b>410</b> is coupled to distributor <b>415</b> over WAN/LAN <b>100</b>. Distributor <b>415</b> is coupled to distributor <b>416</b> through traffic management devices <b>420</b>-<b>422</b>. Distributor <b>415</b> also has a more direct connection to distributor <b>416</b>. Distributor <b>416</b> is coupled to origin servers <b>440</b>-<b>442</b>.</p>
  <p num="p-0041">Client <b>410</b> is any device capable of connecting with WAN/LAN <b>100</b>. The set of such devices may include devices that typically connect using a wired communications medium such as personal computers, multiprocessor systems, microprocessor-based or programmable consumer electronics, network PCs, and the like. The set of such devices may also include devices that typically connect using a wireless communications medium such as cell phones, smart phones, pagers, walkie talkies, radio frequency (RF) devices, infrared (IR) devices, CBs, integrated devices combining one or more of the preceding devices, and the like. Alternatively, client <b>410</b> may be any device that is capable of connecting using a wired or wireless communication medium such as a PDA, POCKET PC, wearable computer, or other device mentioned above that is equipped to use a wired and/or wireless communications medium. An exemplary client that may connect with WAN/LAN <b>100</b> is client computer <b>300</b> of <figref idrefs="DRAWINGS">FIG. 3</figref>.</p>
  <p num="p-0042">Distributor <b>415</b> receives information in the form of packets. Each packet may convey a piece of information. A packet may be sent for handshaking, i.e., to establish a connection or to acknowledge receipt of data. A communication includes a group of related packets sent between two devices, such as client <b>410</b> and server <b>440</b>. For example, to request a Web page, client <b>410</b> may send some packets requesting a connection, e.g., handshaking packets, server <b>440</b> may respond with other handshaking packets. Then client <b>410</b> may send a packet requesting a particular Web page. Server <b>440</b> may respond by sending data packets associated with the Web page. Finally, client <b>410</b> may end a communication by sending some more handshaking packets which server <b>440</b> may respond to with other handshaking packets. In essence, a communication includes all packets needed or necessary for a transaction to occur. A communication or part of a communication may also be referred to as a flow or as a flow of packets.</p>
  <p num="p-0043">A packet may come from various senders including client <b>410</b>, traffic management devices <b>420</b>-<b>422</b>, distributor <b>416</b> or origin servers <b>440</b>-<b>442</b>. The packet may include information such as a request, response, or configuration command. Generally, packets received by distributor <b>415</b> will be formatted according to TCP/IP, but they could also be formatted using another transport protocol, such as User Datagram Protocol (UDP), Internet Control Message Protocol (ICMP), NETbeui, IPX/SPX, token ring, and the like. Upon receipt of a packet, software and/or hardware associated with distributor <b>415</b> makes a determination as to where the packet should go. The software and/or hardware may be logic circuitry or software executing on the electronic device upon which distributor <b>415</b> resides and may be integrated with distributor <b>415</b> or it may execute or reside elsewhere. The software and/or hardware may access a database, a table, or other information to determine an action to perform upon receipt of a packet, or it may be “hard-wired” to perform a certain action depending pre-defined conditions. Exemplary devices that may be used to implement a distributor include server <b>200</b> of <figref idrefs="DRAWINGS">FIG. 2</figref> and client <b>300</b> of <figref idrefs="DRAWINGS">FIG. 3</figref>, configured with appropriate hardware and/or software. Other exemplary devices include a switch chassis or some other custom hardware/software solution including one or more processors and network interfaces.</p>
  <p num="p-0044">For example, a user on client <b>410</b> may be requesting a Web page associated with a URL, such as http://www.myfavorites.com. If this is a Web page that is serviced by origin servers <b>440</b>-<b>442</b>, distributor <b>415</b> forwards the request to one of traffic management devices <b>420</b>-<b>422</b>. A user on client <b>410</b> may request communication specifically with one of the traffic management devices. In this case, distributor <b>415</b> forwards the request to the specified traffic management device. For example, the user may wish to configure the traffic management device, install new software, provide maintenance, or some other activity. The user may wish to configure distributor <b>415</b>. In this case, distributor <b>415</b> processes the communication itself. Distributor <b>415</b> may receive a response to a previous request from one of traffic management devices <b>420</b>-<b>422</b>. Distributor <b>415</b> may then forward this request to the recipient by sending it to WAN/LAN <b>100</b>. A user may send a packet directed specifically at one of origin servers <b>440</b>-<b>442</b>. In this case, distributor <b>415</b> may send the packet to distributor <b>416</b> for relaying the packet to the specified server.</p>
  <p num="p-0045">When requests for content come to distributor <b>415</b>, distributor <b>415</b> may be required to ensure that a request from the same source is sent through the same traffic management device. The traffic management device may maintain state information, among other things, about connections between origin servers <b>440</b>-<b>442</b> and requestors, such as client <b>410</b>. If distributor <b>415</b> does not refer a request or information from the same user to the same traffic management device, traffic management devices may share connection state information which each other so that flows of packets or relationships between flows of packets are not disrupted. Typically, distributor <b>415</b> forwards requests as described in more detail in conjunction with <figref idrefs="DRAWINGS">FIGS. 8-12</figref>.</p>
  <p num="p-0046">Sometimes, when distributor <b>415</b> receives a packet, it acts like a router or switch, forwarding the packet toward the intended recipient. For example, distributor <b>415</b> may receive a request to connect with server <b>440</b>. Distributor <b>415</b> may forward this request to distributor <b>416</b> for forwarding to server <b>440</b>. Distributor <b>415</b> may receive a packet from distributor <b>416</b> or from traffic management devices <b>420</b>-<b>422</b> that is directed to a client, such as client <b>410</b>. In this case, distributor <b>415</b> forwards the packet to WAN/LAN <b>100</b> (or a router thereon). Alternatively, if client <b>410</b> is a device distributor <b>415</b> is more closely connected to, distributor <b>415</b> may send the packet directly to client <b>410</b>.</p>
  <p num="p-0047">Distributor <b>415</b> may use a different algorithm for forwarding packets directed to traffic management devices <b>420</b>-<b>422</b> than for packets from traffic management devices <b>420</b>-<b>422</b>. For example, when packets are directed to traffic management devices <b>420</b>-<b>422</b>, distributor <b>415</b> may perform a hash on the sender's IP address to determine which traffic management device the packet should be sent to. When distributor <b>415</b> receives a packet from a traffic management device, however, it may forego applying a hash.</p>
  <p num="p-0048">A hash is a function or algorithm that maps a set of input values to a set of output values. Typically, a hash is used when the set of input values has more elements than the set of output values. Some hashes when applied to a set of input values will map the input values approximately equally over the set of output values. Other hashes will map the input values disproportionately to a set of output values. For example, one traffic management device may be able to deal with twice as many packets as another traffic management device. A hash could be constructed to map input packets to the one traffic management device twice as often as mapping packets to the other traffic management device. Generally, a hash is deterministic. That is, the hash will produce the same output value whenever a particular input value is hashed on.</p>
  <p num="p-0049">Traffic management devices <b>420</b>-<b>422</b> receive packets sent from distributors <b>415</b> and <b>416</b>. In some operations, traffic management devices <b>420</b>-<b>422</b> act like layer 7 switches. That is, they may look at content associated with higher TCP/IP layers of the packet, e.g. a request for a page such as http://www.favorites.com and information that identifies the user, such as a cookie, etc. They may store information in memory so that next time the requestor requests more information from http://www.favorites.com, each request is sent to the same server. They may do this, in part, to ensure that the user is connected to the server that the user previously connected to. This helps prevent the loss of transaction data, such as items in a shopping cart.</p>
  <p num="p-0050">In addition, traffic management devices <b>420</b>-<b>422</b> may perform network address translation (NAT). That is, in a TCP/IP packet, they may change the source and/or destination field. This may be done for many reasons. One reason is so that intranets can keep their own private address space and not have to use publicly routable addresses, which may be difficult to obtain. Another reason is that each traffic management device is configured to cause future communications to and from a server to flow through the traffic management device, so that the traffic management device may maintain state information about the connection. The traffic management device may need state information to gracefully close a connection if, for example, the server fails. In addition, the traffic management device may need state information to reroute a connection to another server if the server fails. Another reason the traffic management device may be configured to have all future packets in a flow of packets pass through it is for security and/or anonymity purposes.</p>
  <p num="p-0051">For example, if a server, such as server <b>440</b>, requested stock information from a stock server (not shown) connected to WAN/LAN <b>100</b>, the server would give its IP address as the source address so that the stock server would know where to respond to. The traffic management device through which the request travels, for example, traffic management device <b>420</b>, could replace the source IP address of the request with an IP address associated with traffic management device <b>420</b> so that the stock server would respond to distributor <b>415</b> instead of server <b>440</b>. Provided that distributor <b>415</b> routes the response from the stock server through traffic management device <b>420</b>, this allows traffic management device <b>420</b> to maintain state information, provide security, and gracefully shut down or transfer a connection between the stock server and server <b>440</b>.</p>
  <p num="p-0052">Traffic management devices, such as traffic management devices <b>420</b>-<b>422</b>, are any devices that manage network traffic. Such devices include, for example, routers, proxies, firewalls, load balancers, devices that perform network address translation, any combination of the preceding devices, and the like. A traffic manager may, for example, control the flow of data packets delivered to and forwarded from an array of application servers, such as Web servers. A traffic manager may direct a request for a resource to a particular Web server based on network traffic, network topology, capacity of the server, content requested, and a host of other load balancing metrics. A traffic manager may receive data packets from and transmit data packets to the Internet, an intranet, or a local area network accessible through another network. A traffic manager may recognize packets that are part of the same communication, flow, and/or stream and may perform special processing on such packets, such as directing them to the same server so that state information is maintained. A traffic manager may support a wide variety of network applications such as Web browsing, email, telephony, streaming multimedia, and other traffic that is sent in packets.</p>
  <p num="p-0053">A traffic management device may be implemented using one or more personal computers, POCKET PCs, wearable computers, processors, multiprocessor systems, microprocessor-based or programmable consumer electronics, network PCs, cell phones, smart phones, pagers, walkie talkies, radio frequency (RF) devices, infrared (IR) devices, CBs, integrated devices combining one or more of the preceding devices, and the like. Such devices may be implemented solely in hardware or in hardware and software. For example, such devices may include some application specific integrated circuits (ASICs) coupled to one or more microprocessors. The ASICs may be used to provide a high speed switch fabric while the microprocessors may perform higher layer processing of packets. An exemplary device that could be used as a traffic management device is server computer <b>200</b> of <figref idrefs="DRAWINGS">FIG. 2</figref>, configured with appropriate software. A traffic management device may have multiple network interface units and each network interface unit may interface with one or more networks. Traffic manager as it is used in this document means traffic management device.</p>
  <p num="p-0054">Distributor <b>416</b> receives communications and forwards them to one or more of server <b>440</b>-<b>442</b>, to distributor <b>415</b>, or to traffic management devices <b>420</b>-<b>422</b>. When delivering packets to traffic management devices <b>420</b>-<b>422</b>, distributor <b>416</b> may be configured to hash on a destination IP address so that the traffic management device that sent a packet to a particular server receives the server's response. Distributor <b>416</b> may act as a switch or router in relaying packets to intended recipients. Although distributor <b>416</b> is shown as having one shared communications link (segment) going between it and origin servers <b>440</b>-<b>442</b>, it may have dedicated communications links to each of origin servers <b>440</b>-<b>442</b>.</p>
  <p num="p-0055">Origin servers <b>440</b>-<b>442</b> may include one or more WWW servers, such as server <b>200</b> of <figref idrefs="DRAWINGS">FIG. 2</figref>, or other general-purpose servers. Origin servers <b>440</b>-<b>442</b> may serve content for more than one vendor. For example, a group of vendors may each run their Web sites using one or more origin servers <b>440</b>-<b>442</b>. Origin servers <b>440</b>-<b>442</b> may perform other services besides serving Web pages.</p>
  <p num="p-0056"> <figref idrefs="DRAWINGS">FIG. 5</figref> shows another exemplary environment in which a system for distributing traffic through an array of traffic management devices operates, according to one embodiment of the invention. The system includes client <b>410</b>, distributor <b>505</b>, server <b>510</b>, traffic management devices <b>420</b>-<b>422</b>, and origin servers <b>440</b>-<b>442</b>.</p>
  <p num="p-0057">Client <b>410</b> and server <b>510</b> are each coupled to distributor <b>505</b> over WAN/LAN <b>100</b>. Distributor <b>505</b> is coupled to traffic management devices <b>420</b>-<b>422</b> and origin servers <b>440</b>-<b>442</b>.</p>
  <p num="p-0058">Components numbered similarly to those in <figref idrefs="DRAWINGS">FIG. 4</figref> operate similarly. A difference between the environment shown in <figref idrefs="DRAWINGS">FIG. 5</figref> and that shown in <figref idrefs="DRAWINGS">FIG. 4</figref> is that the functionality of distributors <b>415</b>-<b>416</b> has been combined in distributor <b>505</b>. In addition, distributor <b>505</b> is shown as having dedicated communication links (segments) to each of origin servers <b>440</b>-<b>442</b>. It will be understood that distributor <b>505</b> may also be configured to have more than one traffic management device connected to each communication link.</p>
  <p num="p-0059">Similarly, although <figref idrefs="DRAWINGS">FIG. 5</figref> shows each of origin servers <b>440</b>-<b>442</b> sharing a communications link, each server may be placed on its own dedicated communication link or paired with one or more other servers without departing from the spirit or scope of the invention.</p>
  <p num="p-0060">In general, distributor <b>505</b> operates logically like the combination of distributors <b>415</b> and <b>416</b>. Inter-distributor packets, e.g. ones sent directly from distributor <b>415</b> to distributor <b>416</b>, are no longer necessary with distributor <b>505</b>. A packet that is sent from client <b>410</b> addressed directly to a server, such as server <b>440</b>, may be routed directly to the server instead of passing through two distributors. Likewise, a packet sent from a server directly to the user may be routed directly to WAN/LAN <b>100</b> instead of passing through two distributors.</p>
  <p num="p-0061">Server <b>510</b> is any device capable of connecting with WAN/LAN <b>100</b> and responding to requests from other devices, such as Web page requests. The set of such devices capable of acting as a server may include devices that typically connect using a wired communications medium such as personal computers, multiprocessor systems, microprocessor-based or programmable consumer electronics, network PCs, and the like. The set of such devices may also include devices that typically connect using a wireless communications medium such as cell phones, smart phones, pagers, walkie talkies, radio frequency (RF) devices, infrared (IR) devices, CBs, integrated devices combining one or more of the preceding devices, and the like. Alternatively, server <b>510</b> may be any device that is capable of connecting using a wired or wireless communication medium such as a PDA, POCKET PC, wearable computer, or other device mentioned above that is equipped to use a wired and/or wireless communications medium. An exemplary server hat may connect with WAN/LAN <b>100</b> is server <b>200</b> of <figref idrefs="DRAWINGS">FIG. 2</figref>.</p>
  <p num="p-0062">The configuration of <figref idrefs="DRAWINGS">FIG. 5</figref> may be used for various reasons including to lower costs (by providing one instead of two distributors) or because a system does not need the capacity of two distributors.</p>
  <p num="h-0008">Illustrative Method of Distributing Traffic</p>
  <p num="p-0063"> <figref idrefs="DRAWINGS">FIG. 6</figref> illustrates a flow chart for processing inbound and outbound packets, according to one embodiment of the invention. The process begins at block <b>605</b> when a distributor, such as distributor <b>505</b> of <figref idrefs="DRAWINGS">FIG. 5</figref>, is ready to receive a packet.</p>
  <p num="p-0064">At block <b>610</b>, the packet is received. For example, referring to <figref idrefs="DRAWINGS">FIG. 5</figref>, a packet sent from client <b>410</b> requesting a web page from http://www.myfavorites.com is received by distributor <b>505</b>.</p>
  <p num="p-0065">At block <b>615</b>, a determination is made as to whether the packet is from a traffic management device. Packets from traffic management devices receive different treatment than packets to traffic management devices. Generally, such packets are directed to a client computer, such as client <b>410</b> of <figref idrefs="DRAWINGS">FIG. 5</figref>, or are directed to a server, such as server <b>440</b>. Typically, distributor <b>505</b> does not need to apply a hash to such packets to determine where they go, although in some cases, as will be described in conjunction with <figref idrefs="DRAWINGS">FIG. 8</figref>, distributor <b>505</b> may be required to change the source media access control (MAC) layer address. When a packet is from a traffic management device, processing branches to block <b>620</b>; otherwise, processing branches to block <b>625</b>. For example, upon receiving a request from client <b>410</b> for a web page from http://www.myfavorites.com, processing branches to block <b>625</b>.</p>
  <p num="p-0066">At block <b>620</b>, outbound processing is performed as described in more detail in conjunction with <figref idrefs="DRAWINGS">FIG. 8</figref>. Briefly, the source MAC address on the packet may be changed to cause a response to the packet to be directed appropriately.</p>
  <p num="p-0067">At block <b>625</b>, inbound processing is performed as described in more detail in conjunction with <figref idrefs="DRAWINGS">FIG. 7</figref>. Briefly, to keep packets traveling through the same traffic management device, information about where the packet came from and where it is going is used to forward the packet.</p>
  <p num="p-0068">At block <b>630</b>, processing ends. At this point, a packet has been received by the distributor and processing has occurred, depending on whether the packet came from or was directed to a traffic management device. Another packet may be distributed by repeating the process above.</p>
  <p num="p-0069"> <figref idrefs="DRAWINGS">FIG. 7</figref> shows a flow chart for determining where to forward packets received by a distributor from anywhere but a traffic management device, according to one embodiment of the invention. The process begins at block <b>705</b> after it is determined that the packet is directed to the network upon which the traffic management devices are located.</p>
  <p num="p-0070">At block <b>710</b>, a determination is made as to whether the packet is directed to the layer 2 address of the distributor. When it is, processing branches to block <b>720</b>; otherwise, processing branches to block <b>715</b>. The layer 2 address generally refers to the media access control (MAC) layer. A packet may be directed to the layer 2 address of the distributor by including the distributor's MAC address as the destination address in a packet. Alternatively, a packet may be directed to the distributor by virtue of its transmission to a specified physical or logical port on the distributor. Whenever a packet arrives on a particular physical port, this may indicate that the packet is intended for the distributor. A packet may also be directed to the distributor using the virtual local area network (VLAN) standard. The essence of the question asked in block <b>710</b> is whether the packet is addressed to layer 2 address of the distributor.</p>
  <p num="p-0071">A distributor may act as a layer 2 switch. That is, it may examine packets sent on segments attached to it. If it finds a packet that is directed to a device on another segment the distributor is attached to, the distributor may forward this packet to the other segment. This is known as layer 2 switching or bridging. These packets will generally not be addressed specifically to the distributor; rather, the distributor may “listen” for and forward packets for which it has information about where the recipient is connected. When it finds such a packet, it forwards the packet using bridging (layer 2 switching) mechanisms.</p>
  <p num="p-0072">Alternatively, the distributor may be structured without layer 2 switching capability. That is, it may ignore any packet that is not addressed to the distributor's layer 2 address. In this case, blocks <b>710</b> and <b>715</b> may be eliminated.</p>
  <p num="p-0073">When a packet is directed to the layer 2 address of the distributor, typically, this means that the packet is either meant to be sent to another node or is directed to the traffic management devices the distributor distributes traffic to. These conditions will be discussed more below.</p>
  <p num="p-0074">At block <b>715</b>, the packet may be forwarded using bridging. That is, the packet is not distributed using a hashing algorithm; rather, the address, possibly a MAC address, is used to determine to which segment the packet should be sent. This may be done using layer 2 switching techniques. Alternatively, the packet may be discarded, with or without a reply to the sender, if it is determined that there is not a device associated with the address. For example, referring to <figref idrefs="DRAWINGS">FIG. 5</figref>, distributor <b>505</b> “sees” a packet destined for an administrative device (not shown) on a segment connected to distributor <b>505</b>. The administrative device may be, for example, a network utilization monitor (not shown) that tracks how much traffic occurs on a segment. A network administrator using client <b>410</b> may desire to download the most recent statistics from the monitor. To do so, the network administrator sends a request directed to the device. Distributor <b>505</b> sees the request on one of its segments, does a lookup in a layer 2 switching table, and determines that the packet should be forwarded to another segment upon which the network utilization monitor is connected. The distributor then forwards the packet to the other segment using layer 2 switching (bridging).</p>
  <p num="p-0075">At block <b>720</b>, a determination is made as to whether the packet is directed to a specific traffic management device. If it is, processing branches to block <b>725</b>; otherwise, processing branches to block <b>730</b>. For example, a network administrator may desire to configure a traffic management device to use a different load balancing algorithm. To do so, the network administrator may establish a network connection using an IP address associated with a specific traffic management device.</p>
  <p num="p-0076">At block <b>725</b>, the packet is forwarded to the specified traffic management device. For example, referring to <figref idrefs="DRAWINGS">FIG. 5</figref> distributor <b>505</b> receives a packet specifically directed to traffic management device <b>420</b> and delivers the packet to traffic management device <b>420</b> </p>
  <p num="p-0077">At block <b>730</b>, a determination is made as to what action to perform based on information in the packet as described in more detail in conjunction with <figref idrefs="DRAWINGS">FIGS. 9 and 10</figref>. Then, the determined action is performed. One example of an action that may be performed is distribution of the packet to a traffic management device. Briefly, the source and/or destination addresses may be examined to determine to which traffic management device to distribute the packet. To distribute the packet, sometimes a hash may be performed on the source and/or destination address(es). For example, referring to <figref idrefs="DRAWINGS">FIG. 11</figref>, distributor <b>505</b> may determine that the packet should be distributed to a traffic management device. When distributor <b>505</b> receives a packet from client <b>410</b>, with an IP address and port number of, for example, 12.228.54.3:9444, distributor <b>505</b> may hash on the client's IP address and forward the packet to traffic management device <b>420</b>.</p>
  <p num="p-0078">Another example of an action that may be performed is routing. For example, referring to <figref idrefs="DRAWINGS">FIG. 5</figref>, distributor <b>505</b> may also act as a router. When it receives a packet that is not bound for a traffic management device, e.g., packets bound for a device connected to another network (not shown) or packets bound for a device for which traffic management devices do not need to keep connection state, it may forward the packet to the other network or device as a router would, e.g., by looking up information in a routing table and forwarding the packet appropriately.</p>
  <p num="p-0079">As a further example of routing, client <b>410</b> may send a packet addressed specifically to one of origin servers <b>440</b>-<b>442</b>, e.g. server <b>440</b>. Distributor <b>505</b> may be a router servicing server <b>440</b>. Being sent from another router, the packet would be directed to distributor <b>505</b>'s layer 2 address, but the layer 3 address would indicate that the packet was destined for a device connected to distributor <b>505</b>, rather than distributor <b>505</b> itself. For example, the destination MAC (layer 2) address of the packet may be the MAC address of distributor <b>505</b>; but, the IP (layer 3) address of the packet may be 192.168.3.5, the IP address of server <b>440</b>. When distributor <b>505</b> receives a packet that has a destination MAC address of distributor <b>505</b> but a layer 3 address of another device, distributor <b>505</b> may look up the layer 3 address and determines where to forward the packet to, in this case, server <b>440</b>.</p>
  <p num="p-0080">In another embodiment of the invention, distributor <b>505</b> does not include routing capability. In this case, it may simply discard the packet, return it to the sender, or forward it to a default location.</p>
  <p num="p-0081">At block <b>735</b>, the process returns to the calling process. At this point, the packet may have been forwarded using layer 2 switching, forwarded to a specific traffic management device, forwarded using layer 3 routing, discarded, or distributed to a traffic management device.</p>
  <p num="p-0082"> <figref idrefs="DRAWINGS">FIG. 8</figref> illustrates a flow chart for processing that may occur when a packet is received from a traffic management device, according to one embodiment of the invention. The process begins at block <b>805</b> after a packet has been received from a traffic management device.</p>
  <p num="p-0083">At block <b>810</b>, a determination is made as to whether the MAC (layer 2) source address of the packet is “correct.” When it is, processing branches to block <b>820</b>; otherwise, processing branches to block <b>815</b>. “Correct” means that a device responding to the packet would send a packet to the MAC address associated with all of the traffic management devices rather than the MAC address associated with the sending traffic management device (unless the two addresses are the same). For example, referring to <figref idrefs="DRAWINGS">FIG. 11</figref>, switch <b>1205</b> may be an unsophisticated layer 2 switch that is unable to translate the source MAC address in packets from each of traffic management devices <b>420</b>-<b>422</b> into a single MAC address. The result may be that a device communicating with distributor <b>505</b> uses the MAC address of a traffic management device rather than the MAC address of the group of traffic management devices. This may cause distributor <b>505</b> to forgo distributing traffic to the traffic management devices and to send the packet directly to the traffic management device associated with the MAC address. It may also cause other problems with other devices connected to WAN/LAN <b>100</b> or elsewhere. This problem may be corrected by replacing the source MAC address with a common or group traffic management device MAC address in packets sent from traffic management devices through an unsophisticated switch. Then, a device responding to the packet would try to respond to the group traffic management device MAC instead of the actual MAC of the device. This allows distributor <b>505</b> to utilize its normal distribution methods in sending the packet.</p>
  <p num="p-0084">At block <b>815</b>, the MAC source address in the packet is replaced by a MAC address associated with the group of traffic management devices. This may be the MAC address of the distributor. For example, referring to <figref idrefs="DRAWINGS">FIG. 11</figref>, traffic management device <b>422</b> sends a packet with its real MAC address to switch <b>1205</b> which forwards it to distributor <b>505</b>. Distributor <b>505</b> replaces the source MAC address with distributor <b>505</b>'s MAC address.</p>
  <p num="p-0085">At block <b>820</b>, the packet is forwarded towards its indicated destination. This may be done through routing, layer 2 switching, or other forwarding algorithms. For example, referring to <figref idrefs="DRAWINGS">FIG. 11</figref>, distributor <b>505</b> forwards the packet to server <b>440</b> using layer 2 switching.</p>
  <p num="p-0086">At block <b>825</b>, the process returns to the calling process. At this point, the source MAC address of the packet has been changed, if necessary, and the packet forwarded towards its destination.</p>
  <p num="h-0009">Exemplary Data Structure</p>
  <p num="p-0087"> <figref idrefs="DRAWINGS">FIG. 9</figref> shows an exemplary table that may be used in distributing traffic, according to one embodiment of the invention. The table is for use with traffic management devices that may perform network address translation (NAT). The table assists a distributor to ensure each packet that is part of a communication between a client and a server, such as client <b>410</b> and server <b>1</b> of <figref idrefs="DRAWINGS">FIG. 5</figref>, flow through the same traffic management device, such as traffic management device <b>420</b>. Each cell in the table gives an action to perform based on attributes found in the source and destination addresses. A source or destination address may be an IP address, a port address, such as UDP or TCP, VLAN ID, physical port identifier, physical port, or some combination thereof. Alternatively, a source or destination address may be some other layer 1-7 address. The table applies to any packet that is not sent from a traffic management device. Terms in the table are defined below.</p>
  <p num="p-0088">NAT-able. NAT-able essentially means if a traffic management device received a packet from a device with this source address, would the traffic management device translate the source address to another address. As explained previously in conjunction with <figref idrefs="DRAWINGS">FIG. 4</figref>, a traffic management device may translate a source address so that the receiver of the packet responds to the traffic management device, not the sender of the packet. This allows the traffic management device to maintain connection state as described earlier.</p>
  <p num="p-0089">Node address. Node address means is the packet from one of the servers that the traffic management devices load balance connections to. Referring to <figref idrefs="DRAWINGS">FIG. 5</figref>, the servers traffic management devices <b>420</b>-<b>422</b> load balance packets to include origin servers <b>440</b>-<b>442</b>.</p>
  <p num="p-0090">&amp;&amp;. The symbol “&amp;&amp;” means and. So, in the condition NAT-able &amp;&amp; Node Address, the source address must be both NAT-able and a node address to satisfy the condition.</p>
  <p num="p-0091">Unknown address. Unknown address means that to the traffic management device, the address is unknown or, even if known, no special or different processing occurs based solely on the address. For example, generally when a client, such a client <b>410</b>, sends a packet that is distributed to a traffic management device, such as traffic management device <b>420</b>, client <b>410</b>'s address is unknown to the traffic management device. In addition, the address of a packet sent from a server, such as server <b>440</b>, may also be unknown to the traffic management device. Each server may be associated with more than one address. A traffic management device may recognize one or more addresses as belonging to servers that the traffic management device sends packets to for load balancing. One or more addresses may be addresses to which a traffic management device does not send packets to for load balancing. Thus, a server, such as server <b>440</b>, could send a packet using an address “unknown” to a traffic management device. This could happen, for example, if the server was also used as a personal computer or otherwise which was associated with an “unknown” address for such uses.</p>
  <p num="p-0092">NAT xlate. NAT xlate is short for NAT translation. Essentially, it means is this address an address that a traffic management device would translate a source address to when it performs a NAT? Generally, such an address is an address associated with the traffic management device (so that the receiver will respond to the traffic management device).</p>
  <p num="p-0093">Virtual or Virtual address. Virtual, in this table, stands for virtual address. This is the address that a URL resolves to. For example, http://www.myfavorites.com may resolve to 12.32.22.33:80. A packet with the address is eventually forwarded to distributor <b>505</b> which determines if any of the traffic management devices service this Web page. When one or more traffic management devices load balance traffic for this Web page, the address is known as a virtual address.</p>
  <p num="p-0094">With these definitions in mind, a distributor, such as distributor <b>505</b>, looks at the source and/or destination addresses in a packet to determine an action to take. The above information, e.g. what are NAT-able addresses, node addresses, translation addresses, virtual addresses, etc., may be stored in a lookup table on the distributor. This lookup table may be updated automatically or manually through a user's intervention. Typically, the table would be updated to reflect information on the traffic management devices to which the distributor distributes traffic.</p>
  <p num="p-0095">Now, the actions shown in the cells of the table will be defined. “Goto dest” is short for send the packet to the destination indicated in the destination address. An example of where this would occur is as follows: A server, such as server <b>440</b>, requests stock prices from a server on the Internet, such as server <b>510</b>. This request would pass through the distributor which would determine 1) that the source address is known (it is a node address); 2) the traffic management device would NAT the address (to make sure that all packets in the communication pass through it); and 3) that the destination address was unknown. Using this information, it would hash on the destination address and send the packet to a traffic management device, such as traffic management device <b>420</b>. The traffic management device would NAT the source address by replacing it with either the address of a virtual address or an addresses associated with the traffic management device. Then, it would send the packet to the distributor which would then forward the packet to the WAN/LAN <b>100</b>, the Internet in this case. The packet would eventually be delivered to the server which would respond to the source address of the packet (the one the traffic management device NAT-ed). When the response packet arrived at the distributor, the distributor would determine 1) that the source address is unknown (to the distributor), and 2) that the destination address is either a NAT xlate and possibly a virtual address. In either case, the distributor would forward the packet to the specified destination address (the traffic management device that performed the NAT). The traffic management device would then perform another NAT (to make sure that server <b>440</b> responded to the traffic management device instead of directly to server <b>510</b>), and forward the packet to the distributor which would then forward the packet to server <b>440</b>.</p>
  <p num="p-0096">As can be seen by the example, “goto Dest” essentially means that the packet should simply be forwarded to the destination address without performing a hash on an address.</p>
  <p num="p-0097">“Hash Src.” Hash Src is short for hash on the source address. This distributes a packet to a traffic management device based on the source address. As will be seen by examples below, this, combined with hashing on destination, causes related packets to travel through the same traffic management device.</p>
  <p num="p-0098">“Hash Dest.” Hash Dest is short for hash on the destination address. This distributes a packet to a traffic management device based on the destination address.</p>
  <p num="p-0099">Route. This means that the distributor employs regular routing mechanism to forward the packet towards its destination.</p>
  <p num="p-0100">It will be recognized that this table is intended to mimic some of the decision making that occurs on traffic management devices. Yet, the distributor is not required to do layers 3-7 switching, a potentially computationally expensive operation; rather a lookup (relatively fast) is done and traffic distributed. Traffic management devices may be configured to direct packets differently than shown in this table. For such traffic management devices, an appropriate selection of actions that may be looked up without storing connection state information is contemplated and is within the scope and spirit of this invention.</p>
  <p num="p-0101"> <figref idrefs="DRAWINGS">FIG. 10</figref> illustrates a flow chart that shows another way of implementing the functionality of the table shown in <figref idrefs="DRAWINGS">FIG. 9</figref>, according to one embodiment of the invention. The process begins at block <b>1005</b> when a calling process calls the process. Terms in the flow chart should be interpreted as defined in <figref idrefs="DRAWINGS">FIG. 9</figref>.</p>
  <p num="p-0102">At block <b>1010</b>, a determination is made as to whether the source and destination addresses are unknown. When they are, processing branches to block <b>1015</b>; otherwise, processing branches to block <b>1020</b>. The source and destination addresses may both be unknown when a server, such as server <b>440</b> of <figref idrefs="DRAWINGS">FIG. 5</figref>, uses an “unknown” IP address associated with it to request information from a server, such as server <b>510</b>.</p>
  <p num="p-0103">At block <b>1015</b>, the packet is routed towards the intended recipient using normal routing mechanisms. For example, distributor <b>505</b> forwards a packet from server <b>510</b> to server <b>440</b>.</p>
  <p num="p-0104">At block <b>1020</b>, a determination is made as to whether the source address is unknown. If so, processing branches to block <b>1025</b>; otherwise, processing branches to block <b>1030</b>. Client <b>410</b> may request a page from http://www.myfavorites.com which is translated into an address that distributor <b>505</b> recognizes should be processed by traffic management devices <b>420</b>-<b>422</b>.</p>
  <p num="p-0105">At block <b>1025</b>, the source address is hashed on and the packet sent to the traffic management device associated with the hash. This means that a hashing function is applied to the source address to distribute the packet to the traffic management device. For example, a request for a page from client <b>410</b> may cause distributor <b>505</b> to hash upon client <b>410</b>'s address and send the request to traffic management device <b>420</b>.</p>
  <p num="p-0106">At block <b>1030</b>, a determination is made as to whether the destination address is unknown. If it is, processing branches to block <b>1035</b>; otherwise, processing branches to block <b>1040</b>. For example, in a response to a request from client <b>410</b>, server <b>440</b> will send a packet addressed to client <b>410</b>. Client <b>410</b>'s address, however, is generally “unknown” to distributor <b>505</b>. Note, however, that by hashing on the destination address, distributor <b>505</b> sends the response to the same traffic management device that it sent client <b>410</b>'s request.</p>
  <p num="p-0107">At block <b>1035</b>, the destination address is hashed on and the packet sent to the traffic management device associated with the hash. This means that a hashing function is applied to the destination address to distribute the packet to a traffic management device. For example, distributor <b>505</b> hashes upon client <b>410</b>'s address (the destination address of the packet from server <b>440</b>), and sends the response to traffic management device <b>420</b>.</p>
  <p num="p-0108">At block <b>1040</b>, a determination is made as to whether the destination address is a virtual address and not a NAT address. When this is so, processing branches to block <b>1045</b>; otherwise, processing branches to block <b>1050</b>. For example, in a request from server <b>440</b> for stock prices from server <b>510</b>, traffic management device <b>420</b> may perform a NAT on the source address, providing a virtual address associated with http://www.myfavorites.com. When server <b>510</b> responds to the virtual address, the source address should be hashed upon.</p>
  <p num="p-0109">At block <b>1045</b>, the source address is hashed on and the packet sent to the traffic management device associated with the hash. This means that a hashing function is applied to the source address to distribute the packet to a traffic management device.</p>
  <p num="p-0110">At block <b>1050</b>, the packet is sent to the destination address. For example, distributor <b>505</b> receives a packet that has a destination translated NAT address from a known source address. This might occur in a communication between server <b>440</b> and server <b>441</b> wherein server <b>440</b> requests information from http://www.myfavorites.com and the request gets load balanced to server <b>441</b>.</p>
  <p num="p-0111">At block <b>1055</b>, the process returns to the calling process. At this point, the packet has been sent in such a way as to cause the flow of information to pass through the same traffic management device and server, when possible</p>
  <p num="p-0112">In light of this disclosure, it will be recognized that many variations of the processes shown in <figref idrefs="DRAWINGS">FIGS. 7</figref>, <b>8</b>, and <b>10</b> may be implemented without departing from the spirit or scope of this invention.</p>
  <p num="p-0113"> <figref idrefs="DRAWINGS">FIG. 11</figref> shows an example of how packets may be sent between a client and server in an exemplary environment in which the system operates, according to one embodiment of the invention. The system includes client <b>410</b>, distributor <b>505</b>, traffic management devices <b>420</b>-<b>422</b>, origin servers <b>440</b>-<b>442</b> and switch <b>1205</b>.</p>
  <p num="p-0114">Client <b>410</b> is coupled to distributor <b>505</b> over WAN/LAN <b>100</b>. Distributor <b>505</b> is coupled to traffic management devices <b>420</b>-<b>422</b> and origin servers <b>440</b>-<b>442</b>.</p>
  <p num="p-0115">The functioning of this system is described in more detail in conjunction with <figref idrefs="DRAWINGS">FIG. 5</figref>. The discussion here will focus on a specific example of how a request from a client may flow through the system.</p>
  <p num="p-0116">Assume that client <b>410</b> has an IP address of 12.228.54.3. and initiates a request for http://www.myfavorites.com using ephemeral port <b>9444</b>. Assume also that the URL, http://www.myfavorites.com, is associated with the IP address 168.33.20.180 (what is known in this disclosure as a virtual address). When client <b>410</b> sends this packet, it travels through WAN/LAN <b>100</b> until it reaches distributor <b>505</b>. Distributor <b>505</b> determines the packet as coming from an unknown source address, i.e., 12.228.54.3:9444, and that the packet is directed to a destination virtual address, i.e., 168.33.20.180. Based on the flow chart shown in <figref idrefs="DRAWINGS">FIG. 10</figref>, block <b>1045</b> is reached and the distributor sends the packet to one of the traffic management devices, suppose traffic management device <b>420</b>, by hashing on the source address 12.228.54.3. Traffic management device <b>420</b> receives the packet, performs load balancing and determines that server <b>440</b> is best able to handle the packet. Traffic management device <b>420</b> changes the destination address of the packet to that of server <b>440</b>, assume 168.33.30.180, and sends the packet to distributor <b>505</b>. As this is a packet coming from a traffic management device directly to distributor <b>505</b> (not through an unsophisticated switch), distributor <b>505</b> does not need to stamp a different MAC address on the source address of the packet and sends the packet to server <b>440</b>.</p>
  <p num="p-0117">Server <b>440</b>, receives the packet, prepares a response, and sends a response to distributor <b>505</b> with a source address of 168.33.30.180, i.e., the IP address of the server, and a destination address of 12.228.54.3:9444, the IP address of the client. Distributor <b>505</b> follows the logic shown in the flow chart in <figref idrefs="DRAWINGS">FIG. 7</figref> and arrives at block <b>730</b>. At block <b>730</b>, the logic shown in <figref idrefs="DRAWINGS">FIG. 10</figref> is followed. It is determined that the source address, i.e., server <b>440</b>'s address, is known, but the destination address, client <b>410</b>'s address, is unknown. This causes the logic in block <b>1035</b> to be executed, which causes a hash to occur on the destination address, i.e., the client's address. Note, that this is the same address (although now in the destination) that was hashed when the request came to distributor <b>505</b>. This causes the response packet to be distributed to traffic management device <b>420</b>.</p>
  <p num="p-0118">Traffic management device <b>420</b> tracks the state information and probably performs a NAT on the source address. The source address could be changed to the virtual address of http://www.myfavorites.com, so that when the client responds, it does not try to respond directly to server <b>440</b>; rather, a response packet is addressed to distributor <b>505</b> again. It will be understood that this sequence of events will cause the packets in a communication between any arbitrary client and server to be routed through the same traffic management device, provided the traffic management device remains active and other configuration changes are not performed during the communication.</p>
  <p num="h-0010">Other Illustrative Traffic Distributing Systems</p>
  <p num="p-0119"> <figref idrefs="DRAWINGS">FIG. 12</figref> illustrates an exemplary environment in which a system for distributing traffic through an array of traffic management devices operates, according to one embodiment of the invention. The system includes client <b>410</b>, distributor <b>505</b>, traffic management devices <b>420</b>-<b>422</b>, origin servers <b>440</b>-<b>442</b> and switch <b>1205</b>.</p>
  <p num="p-0120">Client <b>410</b> is coupled to distributor <b>505</b> over WAN/LAN <b>100</b>. Distributor <b>505</b> is coupled to origin servers <b>440</b>-<b>442</b> through switch <b>1205</b>. Distributor <b>415</b> is also coupled to traffic management devices <b>420</b>-<b>422</b>.</p>
  <p num="p-0121">A difference between the environment shown in <figref idrefs="DRAWINGS">FIG. 5</figref> and the environment shown in <figref idrefs="DRAWINGS">FIG. 12</figref> is that switch <b>1205</b> is inserted between distributor <b>505</b> and traffic management devices <b>420</b>-<b>422</b>. Switch <b>1205</b> may be an unsophisticated “off-the-shelf” layer 2 switch as described above in conjunction with <figref idrefs="DRAWINGS">FIG. 8</figref>, or switch <b>1205</b> may be more sophisticated and able to do some translation of addresses or use a special type of addressing, such as VLAN addressing. With an unsophisticated switch, distributor <b>505</b> may change the MAC address on packets received from the switch, as described in more detail in conjunction with <figref idrefs="DRAWINGS">FIG. 8</figref>. With a switch capable of VLAN switching, the distributor may prepend address information in packets according with the VLAN standard to cause packets to be delivered to intended traffic management devices. It will be recognized that in <figref idrefs="DRAWINGS">FIG. 5</figref>, delivery of packets to traffic management devices <b>420</b>-<b>422</b> is done by virtue of the connection of each traffic management device to a separate port on distributor <b>505</b> and does not require an external switch.</p>
  <p num="p-0122"> <figref idrefs="DRAWINGS">FIG. 13</figref> shows another exemplary environment in which a system for distributing traffic through an array of traffic management devices operates, according to one embodiment of the invention. The system includes client <b>410</b>, distributor <b>505</b>, traffic management devices <b>420</b>-<b>422</b>, and origin servers <b>440</b>-<b>442</b>. In this system, traffic management devices <b>420</b>-<b>422</b> are located on one physical segment of the network. When distributor <b>505</b> sends a packet to a traffic management device, it uses the MAC address of the distributor. In other respects, however, the system shown in <figref idrefs="DRAWINGS">FIG. 13</figref> operates similarly to that shown in <figref idrefs="DRAWINGS">FIG. 5</figref>.</p>
  <p num="p-0123">In other embodiments of the invention, one or more distributors may be integrated with one or more traffic management devices and switch fabric. In such embodiments, rather than changing MAC addresses, the switch fabric may encapsulate a data frame with a header that indicates the traffic management device to which the data frame should be sent. This may include a “virtual port” associated with a traffic management device. In addition, the traffic management device may be instructed to process data frames encapsulated with headers that identify the traffic management device. For example, the traffic management device may process data frames addressed to one or more virtual ports. In such embodiments, there may be no need to change the MAC address of a data frame to direct the data frame to the appropriate traffic management device.</p>
  <p num="p-0124">In yet other embodiments of the invention, a packet is encapsulated in another packet that is addressed to a traffic management device. The packet may then be forwarded over a WAN/LAN to the traffic management device which then may unencapsulate the encapsulated packet to retrieve the packet encapsulated. The traffic management device may then process the retrieved packet appropriately.</p>
  <p num="p-0125">It will be noted that in <figref idrefs="DRAWINGS">FIGS. 4</figref>, <b>5</b>, <b>11</b>, <b>12</b>, and <b>13</b>, origin servers <b>440</b>-<b>442</b> appear to be located on a shared network segment. In other embodiments of the invention, each one is on a dedicated network segment. In yet other embodiments of the invention, groups of servers in origin servers <b>440</b>-<b>442</b> are each located on separate shared network segments. In other embodiments, a VLAN is used to connect with origin servers <b>440</b>-<b>442</b>. It will be understood that many different configurations for coupling the servers to distributor <b>505</b> may be performed without departing from the spirit or scope of this invention.</p>
  <p num="p-0126">The various embodiments of the invention may be implemented as a sequence of computer implemented steps or program modules running on a computing system and/or as interconnected machine logic circuits or circuit modules within the computing system. The implementation is a matter of choice dependent on the performance requirements of the computing system implementing the invention. In light of this disclosure, it will be recognized by one skilled in the art that the functions and operation of the various embodiments disclosed may be implemented in software, in firmware, in special purpose digital logic, or any combination thereof without deviating from the spirit or scope of the present invention.</p>
  <p num="p-0127">The above specification, examples and data provide a complete description of the manufacture and use of the composition of the invention. Since many embodiments of the invention can be made without departing from the spirit and scope of the invention, the invention resides in the claims hereinafter appended.</p>
</div></div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Patent Citations</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Cited Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6157950">US6157950</a></td><td class="patent-data-table-td patent-date-value">Dec 5, 1997</td><td class="patent-data-table-td patent-date-value">Dec 5, 2000</td><td class="patent-data-table-td ">Encanto Networks, Inc.</td><td class="patent-data-table-td ">Methods and apparatus for interfacing a computer or small network to a wide area network such as the internet</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6182146">US6182146</a></td><td class="patent-data-table-td patent-date-value">Jun 27, 1997</td><td class="patent-data-table-td patent-date-value">Jan 30, 2001</td><td class="patent-data-table-td ">Compuware Corporation</td><td class="patent-data-table-td ">Automatic identification of application protocols through dynamic mapping of application-port associations</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6330602">US6330602</a></td><td class="patent-data-table-td patent-date-value">Nov 7, 1997</td><td class="patent-data-table-td patent-date-value">Dec 11, 2001</td><td class="patent-data-table-td ">Nortel Networks Limited</td><td class="patent-data-table-td ">Scaleable web server and method of efficiently managing multiple servers</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6742045">US6742045</a></td><td class="patent-data-table-td patent-date-value">Jul 2, 1999</td><td class="patent-data-table-td patent-date-value">May 25, 2004</td><td class="patent-data-table-td ">Cisco Technology, Inc.</td><td class="patent-data-table-td ">Handling packet fragments in a distributed network service environment</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6775235">US6775235</a></td><td class="patent-data-table-td patent-date-value">Feb 7, 2003</td><td class="patent-data-table-td patent-date-value">Aug 10, 2004</td><td class="patent-data-table-td ">Ragula Systems</td><td class="patent-data-table-td ">Tools and techniques for directing packets over disparate networks</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6788692">US6788692</a></td><td class="patent-data-table-td patent-date-value">Jun 1, 1999</td><td class="patent-data-table-td patent-date-value">Sep 7, 2004</td><td class="patent-data-table-td ">Nortel Networks Limited</td><td class="patent-data-table-td ">Network switch load balancing</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6792461">US6792461</a></td><td class="patent-data-table-td patent-date-value">Sep 19, 2000</td><td class="patent-data-table-td patent-date-value">Sep 14, 2004</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">System and method to manage data to a plurality of proxy servers through a router by application level protocol and an authorized list</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6792463">US6792463</a></td><td class="patent-data-table-td patent-date-value">Oct 20, 2000</td><td class="patent-data-table-td patent-date-value">Sep 14, 2004</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">System, method and program product for providing invisibility to a proxy-server</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7065569">US7065569</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jan 9, 2001</td><td class="patent-data-table-td patent-date-value">Jun 20, 2006</td><td class="patent-data-table-td ">Turin Networks, Inc.</td><td class="patent-data-table-td ">System and method for remote traffic management in a communication network</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7088710">US7088710</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Nov 10, 1999</td><td class="patent-data-table-td patent-date-value">Aug 8, 2006</td><td class="patent-data-table-td ">Xyratex Technology Limited</td><td class="patent-data-table-td ">Method of transmitting information through data switching apparatus and apparatus therefor</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20020114326">US20020114326</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Feb 16, 2001</td><td class="patent-data-table-td patent-date-value">Aug 22, 2002</td><td class="patent-data-table-td ">Rupaka Mahalingaiah</td><td class="patent-data-table-td ">Address mapping mechanism enabling multi-domain addressing in communication networks</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20030021230">US20030021230</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Mar 9, 2001</td><td class="patent-data-table-td patent-date-value">Jan 30, 2003</td><td class="patent-data-table-td ">Petaswitch Solutions, Inc.</td><td class="patent-data-table-td ">Switch fabric with bandwidth efficient flow control</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20030229809">US20030229809</a></td><td class="patent-data-table-td patent-date-value">Apr 24, 2003</td><td class="patent-data-table-td patent-date-value">Dec 11, 2003</td><td class="patent-data-table-td ">Asaf Wexler</td><td class="patent-data-table-td ">Transparent proxy server</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20040090919">US20040090919</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Nov 4, 2003</td><td class="patent-data-table-td patent-date-value">May 13, 2004</td><td class="patent-data-table-td ">Callon Ross W.</td><td class="patent-data-table-td ">Apparatus and method for forwarding encapsulated data packets on a network having multiple links between nodes</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20050008017">US20050008017</a></td><td class="patent-data-table-td patent-date-value">Aug 3, 2004</td><td class="patent-data-table-td patent-date-value">Jan 13, 2005</td><td class="patent-data-table-td ">Ragula Systems D/B/A Fatpipe Networks</td><td class="patent-data-table-td ">Tools and techniques for directing packets over disparate networks</td></tr></table><div class="patent-section-footer">* Cited by examiner</div></div><div class="patent-section patent-tabular-section"><a id="npl-citations"></a><div class="patent-section-header"><span class="patent-section-title">Non-Patent Citations</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th colspan="3"class="patent-data-table-th">Reference</th></tr></thead><tr><td class="patent-data-table-td ">1</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">"<a href='http://scholar.google.com/scholar?q="Amendment+to+Carrier+Sense+Multiple+Access+with+Collision+Detection+%28CSMA%2FCD%29+Access+Method+and+Physical+Layer+Specifications-Aggregation+of+Multiple+Link+Segments"'>Amendment to Carrier Sense Multiple Access with Collision Detection (CSMA/CD) Access Method and Physical Layer Specifications-Aggregation of Multiple Link Segments</a>", IEEE Std. 802.3ad-2000, Mar. 30, 2000, pp. 1-173.</td></tr><tr><td class="patent-data-table-td ">2</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">"<a href='http://scholar.google.com/scholar?q="Amendment+to+Carrier+Sense+Multiple+Access+with+Collision+Detection+%28CSMA%2FCD%29+Access+Method+and+Physical+Layer+Specifications%E2%80%94Aggregation+of+Multiple+Link+Segments"'>Amendment to Carrier Sense Multiple Access with Collision Detection (CSMA/CD) Access Method and Physical Layer Specifications—Aggregation of Multiple Link Segments</a>", IEEE Std. 802.3ad-2000, Mar. 30, 2000, pp. 1-173.</td></tr><tr><td class="patent-data-table-td ">3</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Hewitt, John R. et al., "<a href='http://scholar.google.com/scholar?q="Securities+Practice+and+Electronic+Technology%2C"'>Securities Practice and Electronic Technology,</a>" Corporate Securities Series, (New York: Law Journal Seminars-Press) 1998, title page, bibliography page, pp. 4.29-4.30.</td></tr><tr><td class="patent-data-table-td ">4</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Hopps, C., "<a href='http://scholar.google.com/scholar?q="Analysis+of+an+Equal-Cost+Multi-Path+Algorithm"'>Analysis of an Equal-Cost Multi-Path Algorithm</a>", The Internet Society, Nov. 2000, pp. 1-8.</td></tr><tr><td class="patent-data-table-td ">5</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Moy, J., "<a href='http://scholar.google.com/scholar?q="OSPF+Version+2"'>OSPF Version 2</a>", The Internet Society, Apr. 1998, pp. 1-53.</td></tr><tr><td class="patent-data-table-td ">6</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Reardon, Marguerite, "<a href='http://scholar.google.com/scholar?q="A+Smarter+Session+Switch%3A+Arrowpoint%27s+CS+Session+Switches+Boast+the+Brains+Needed+for+E-Commerce%2C"'>A Smarter Session Switch: Arrowpoint's CS Session Switches Boast the Brains Needed for E-Commerce,</a>" Data Communications, Jan. 1999, title page, pp. 3, 5, 18.</td></tr><tr><td class="patent-data-table-td ">7</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Thaler, D., et al., "<a href='http://scholar.google.com/scholar?q="Multipath+Issues+in+Unicast+and+Multicast+Next-Hop+Selection"'>Multipath Issues in Unicast and Multicast Next-Hop Selection</a>", The Internet Society, Nov. 2000, pp. 1-9.</td></tr><tr><td class="patent-data-table-td ">8</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">U.S. Appl. No. 10/119,433 Notice of Allowance mailed Jun. 14, 2006.</td></tr><tr><td class="patent-data-table-td ">9</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">U.S. Appl. No. 10/119,433, Official Communication mailed Mar. 30, 2006.</td></tr><tr><td class="patent-data-table-td ">10</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">U.S. Appl. No. 10/644,692, Notice of Allowance mailed Feb. 26, 2008.</td></tr><tr><td class="patent-data-table-td ">11</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">U.S. Appl. No. 10/644,692, Official Communication mailed May 18, 2007.</td></tr><tr><td class="patent-data-table-td ">12</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">U.S. Appl. No. 10/644,692, Official Communication mailed Oct. 30, 2007.</td></tr><tr><td class="patent-data-table-td ">13</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">U.S. Appl. No. 10/659,011, Official Communication mailed Dec. 23, 2008.</td></tr><tr><td class="patent-data-table-td ">14</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">U.S. Appl. No. 10/659,011, Official Communication mailed May 27, 2009.</td></tr><tr><td class="patent-data-table-td ">15</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">U.S. Appl. No. 10/659,011, Restriction Requirement mailed Sep. 19, 2008.</td></tr><tr><td class="patent-data-table-td ">16</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">U.S. Appl. No. 11/929,603, Official Communication mailed Aug. 25, 2009.</td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Referenced by</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Citing Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20110040889">US20110040889</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Aug 10, 2010</td><td class="patent-data-table-td patent-date-value">Feb 17, 2011</td><td class="patent-data-table-td ">Owen John Garrett</td><td class="patent-data-table-td ">Managing client requests for data</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20120059934">US20120059934</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Sep 8, 2010</td><td class="patent-data-table-td patent-date-value">Mar 8, 2012</td><td class="patent-data-table-td ">Pierre Rafiq</td><td class="patent-data-table-td ">Systems and methods for self-loading balancing access gateways</td></tr></table><div class="patent-section-footer">* Cited by examiner</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">Classifications</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">U.S. Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=4VBtBgABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc370/defs370.htm&usg=AFQjCNEr5EDctcusna2HU7Iww2g4dx3BIw#C370S230000">370/230</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=4VBtBgABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc370/defs370.htm&usg=AFQjCNEr5EDctcusna2HU7Iww2g4dx3BIw#C370S401000">370/401</a></span></td></tr><tr><td class="patent-data-table-td ">International Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=4VBtBgABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=H04J0001160000">H04J1/16</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=4VBtBgABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=H04J0003140000">H04J3/14</a></span></td></tr><tr><td class="patent-data-table-td ">Cooperative Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=4VBtBgABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L12/4641">H04L12/4641</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=4VBtBgABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L47/2441">H04L47/2441</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=4VBtBgABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L47/10">H04L47/10</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=4VBtBgABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L47/125">H04L47/125</a></span></td></tr><tr><td class="patent-data-table-td ">European Classification</td><td class="patent-data-table-td "><span class="nested-value">H04L47/12B</span>, <span class="nested-value">H04L47/24D</span>, <span class="nested-value">H04L47/10</span>, <span class="nested-value">H04L12/46V</span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">Legal Events</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Date</th><th class="patent-data-table-th">Code</th><th class="patent-data-table-th">Event</th><th class="patent-data-table-th">Description</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">Oct 29, 2013</td><td class="patent-data-table-td ">B1</td><td class="patent-data-table-td ">Reexamination certificate first reexamination</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">CLAIMS 1, 8, 11, 15, 19 AND 22 ARE DETERMINED TO BE PATENTABLE AS AMENDED.CLAIMS 2, 3, 5, 7, 9, 12,16, 20 AND 23, DEPENDENT ON AN AMENDED CLAIM, ARE DETERMINED TO BE PATENTABLE.CLAIMS 4, 6, 10, 13, 14, 17, 18, 21 AND 24 WERE NOT REEXAMINED.</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Oct 15, 2013</td><td class="patent-data-table-td ">FPAY</td><td class="patent-data-table-td ">Fee payment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Year of fee payment: </span><span class="nested-value">4</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Feb 22, 2011</td><td class="patent-data-table-td ">RR</td><td class="patent-data-table-td ">Request for reexamination filed</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20101213</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Oct 19, 2010</td><td class="patent-data-table-td ">CC</td><td class="patent-data-table-td ">Certificate of correction</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">Sep 25, 2006</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">F5 NETWORKS, INC., WASHINGTON</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:AMDAHL, CARLTON G.;GILDE ROBERT G.;SCHMITT, DAVID D.;ANDOTHERS;REEL/FRAME:018309/0309;SIGNING DATES FROM 20020319 TO 20020404</span></div><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">F5 NETWORKS, INC.,WASHINGTON</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:AMDAHL, CARLTON G.;GILDE ROBERT G.;SCHMITT, DAVID D. ANDOTHERS;SIGNED BETWEEN 20020319 AND 20020404;US-ASSIGNMENT DATABASE UPDATED:20100413;REEL/FRAME:18309/309</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:AMDAHL, CARLTON G.;GILDE ROBERT G.;SCHMITT, DAVID D.;ANDOTHERS;SIGNING DATES FROM 20020319 TO 20020404;REEL/FRAME:018309/0309</span></div></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">Rotate</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">Original Image</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " Image not available"});</script></div></div></div></td></tr></table><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_4ff636b3d23669b7103f3b3a3a18b4cd.js", Host:"http://www.google.com/", IsBooksRentalEnabled:1, IsWebstoreDisplayCaseEnabled:1, IsObfuscationEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsGeoLayerEnabled:1, IsImageModeNotesEnabled:1, IsCopyMenuItemEnabled:1, IsGiftingEnabled:0, IsWebReaderUniversalPaginatorEnabled:0, IsOfflineBubbleEnabled:1, IsReaderEnabledForPlayRequests:1, IsFutureOnSaleVolumesEnabled:1, IsOfflineRestrictedCopyEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsRestrictedCopyEnabled:1, IsZipitFolderCollectionEnabled:1, IsEndOfSampleRecommendationsEnabled:1, IsRatingsOnBookcardsEnabled:1, IsAdsDisabled:0, IsIframePageDisplayEnabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:0, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsPreOrdersEnabled:0, IsDisabledRandomBookshelves:0, WebstoreDisplayCasePosition:3});_OC_Run({"enable_p13n":false,"add_vol_to_collection_base_url":"http://www.google.com/patents?op=add\u0026sig=ACfU3U3o9Lp5Q_hh3aptVptgH4-E5fJR9g\u0026id=4VBtBgABERAJ","remove_vol_from_collection_base_url":"http://www.google.com/patents?op=remove\u0026sig=ACfU3U2P7n1teV9iCCTimey3d-pSsOqtPQ\u0026id=4VBtBgABERAJ","logged_in":false,"p13n_save_user_settings_url":"http://www.google.com/patents?op=edit_user_settings\u0026sig=ACfU3U23jIXH0-vI9kPw82xGxZQ0U5QQ9w","is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=http://www.google.com/patents%3Fhl%3Den\u0026hl=en","is_play_enabled":true}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"http://www.google.com/patents/download/Method_and_system_for_scaling_network_tr.pdf?id=4VBtBgABERAJ\u0026output=pdf\u0026sig=ACfU3U1W4mdtZDchw7HwQ3-vMgLawuGLkQ"},"sample_url":"http://www.google.com/patents/reader?id=4VBtBgABERAJ\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href=http://www.google.com/><nobr>Google&nbsp;Home</nobr></a> - <a href=//www.google.com/patents/sitemap/><nobr>Sitemap</nobr></a> - <a href=http://www.google.com/googlebooks/uspto.html><nobr>USPTO Bulk Downloads</nobr></a> - <a href=/intl/en/privacy/><nobr>Privacy Policy</nobr></a> - <a href=/intl/en/policies/terms/><nobr>Terms of Service</nobr></a> - <a href=https://support.google.com/faqs/answer/2539193?hl=en><nobr>About Google Patents</nobr></a> - <a href="http://www.google.com/tools/feedback/intl/en/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'en'});return false;}catch(e){}"><nobr>Send Feedback</nobr></a></div><span>Data provided by IFI CLAIMS Patent Services</span><br><span >&copy;2012 Google</span></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>