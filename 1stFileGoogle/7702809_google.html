<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html><head><title>Patent US7702809 - Method and system for scaling network traffic managers - Google Patents</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_8a2b04e7bf975d5171d8e4c0b6365c7a/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_8a2b04e7bf975d5171d8e4c0b6365c7a__en.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "en",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="Method and system for scaling network traffic managers"><meta name="DC.contributor" content="Paul Szabo" scheme="inventor"><meta name="DC.contributor" content="David D. Schmitt" scheme="inventor"><meta name="DC.contributor" content="Ning X. Li" scheme="inventor"><meta name="DC.contributor" content="F5 Networks, Inc." scheme="assignee"><meta name="DC.date" content="2007-10-30" scheme="dateSubmitted"><meta name="DC.description" content="A method and system is directed to routing a flow of packets over a network to multiple traffic management devices. An apparatus receives each packet from a network and forwards the packet to one of a group of traffic management devices. The apparatus also may receive packets from servers for which the traffic management devices are managing communications. When forwarding packets, a traffic management device is selected from the group of traffic management devices by employing a hash of an IP address and port number. The IP address and port number are selected from source or destination information in the packet that has a greater port number. When the traffic management device performs a network address translation, further actions may be performed so that packets that are part of a flow between two network devices are delivered to the same traffic management device."><meta name="DC.date" content="2010-4-20" scheme="issued"><meta name="DC.relation" content="US:20020114326:A1" scheme="references"><meta name="DC.relation" content="US:20030021230:A1" scheme="references"><meta name="DC.relation" content="US:20030229809:A1" scheme="references"><meta name="DC.relation" content="US:20040090919:A1" scheme="references"><meta name="DC.relation" content="US:20050008017:A1" scheme="references"><meta name="DC.relation" content="US:6157950" scheme="references"><meta name="DC.relation" content="US:6182146" scheme="references"><meta name="DC.relation" content="US:6330602" scheme="references"><meta name="DC.relation" content="US:6742045" scheme="references"><meta name="DC.relation" content="US:6775235" scheme="references"><meta name="DC.relation" content="US:6788692" scheme="references"><meta name="DC.relation" content="US:6792461" scheme="references"><meta name="DC.relation" content="US:6792463" scheme="references"><meta name="DC.relation" content="US:7065569" scheme="references"><meta name="DC.relation" content="US:7088710" scheme="references"><meta name="citation_reference" content="&quot;Amendment to Carrier Sense Multiple Access with Collision Detection (CSMA/CD) Access Method and Physical Layer Specifications-Aggregation of Multiple Link Segments&quot;, IEEE Std. 802.3ad-2000, Mar. 30, 2000, pp. 1-173."><meta name="citation_reference" content="“Amendment to Carrier Sense Multiple Access with Collision Detection (CSMA/CD) Access Method and Physical Layer Specifications—Aggregation of Multiple Link Segments”, IEEE Std. 802.3ad-2000, Mar. 30, 2000, pp. 1-173."><meta name="citation_reference" content="Hewitt, John R. et al., &quot;Securities Practice And Electronic Technology,&quot; Corporate Securities Series, (New York: Law Journal Seminars-Press) 1998, title page, bibliography page, pp. 4.29-4.30."><meta name="citation_reference" content="Hopps, C., &quot;Analysis of an Equal-Cost Multi-Path Algorithm&quot;, The Internet Society, Nov. 20, 2000, pp. 1-8."><meta name="citation_reference" content="Moy, J., &quot;OSPF Version 2&quot;, The Internet Society, Apr. 1998, pp. 1-53."><meta name="citation_reference" content="Reardon, Marguerite, &quot;A Smarter Session Switch: Arrowpoint&#39;s CS Session Switches Boast The Brains Needed For E-Commerce,&quot; Data Communications, Jan. 1999, title page, pp. 3, 5, 18."><meta name="citation_reference" content="Thaler, D., et al., &quot;Multipath Issues in Unicast and Multicast Next-Hop Selection&quot;, The Internet Society, Nov. 2000, pp. 1-9."><meta name="citation_reference" content="U.S. Appl. No. 10/119,433, Notice of Allowance mailed Jun. 14, 2006."><meta name="citation_reference" content="U.S. Appl. No. 10/119,433, Official Communication mailed Mar. 30, 2006."><meta name="citation_reference" content="U.S. Appl. No. 10/644,692, Notice of Allowance mailed Feb. 26, 2008."><meta name="citation_reference" content="U.S. Appl. No. 10/644,692, Official Communication mailed May 18, 2007."><meta name="citation_reference" content="U.S. Appl. No. 10/644,692, Official Communication mailed Oct. 30, 2007."><meta name="citation_reference" content="U.S. Appl. No. 10/659,011, Official Communication mailed Dec. 23, 2008."><meta name="citation_reference" content="U.S. Appl. No. 10/659,011, Official Communication mailed May 27, 2009."><meta name="citation_reference" content="U.S. Appl. No. 10/659,011, Restriction Requirement mailed Sep. 19, 2008."><meta name="citation_reference" content="U.S. Appl. No. 11/469,843, Notice of Allowance mailed Nov. 17, 2009."><meta name="citation_reference" content="U.S. Appl. No. 11/469,843, Official Communication mail date Apr. 1, 2009."><meta name="citation_patent_number" content="US:7702809"><meta name="citation_patent_application_number" content="US:11/929,603"><link rel="canonical" href="http://www.google.com/patents/US7702809"/><meta property="og:url" content="http://www.google.com/patents/US7702809"/><meta name="title" content="Patent US7702809 - Method and system for scaling network traffic managers"/><meta name="description" content="A method and system is directed to routing a flow of packets over a network to multiple traffic management devices. An apparatus receives each packet from a network and forwards the packet to one of a group of traffic management devices. The apparatus also may receive packets from servers for which the traffic management devices are managing communications. When forwarding packets, a traffic management device is selected from the group of traffic management devices by employing a hash of an IP address and port number. The IP address and port number are selected from source or destination information in the packet that has a greater port number. When the traffic management device performs a network address translation, further actions may be performed so that packets that are part of a flow between two network devices are delivered to the same traffic management device."/><meta property="og:title" content="Patent US7702809 - Method and system for scaling network traffic managers"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>(function(){try{var aa=function(a,b,c,d){d=d||{};d._sn=["cfg",b,c].join(".");window.gbar.logger.ml(a,d)};var g=window.gbar=window.gbar||{},l=window.gbar.i=window.gbar.i||{},m={},n;function _tvn(a,b){var c=parseInt(a,10);return isNaN(c)?b:c}function _tvf(a,b){var c=parseFloat(a);return isNaN(c)?b:c}function _tvv(a){return!!a}function p(a,b,c){(c||g)[a]=b}g.bv={n:_tvn("2",0),r:"",f:".67.",e:"0",m:_tvn("0",1)};
function q(a,b,c){var d="on"+b;if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent(d,c);else{var f=a[d];a[d]=function(){var a=f.apply(this,arguments),b=c.apply(this,arguments);return void 0==a?b:void 0==b?a:b&&a}}}var s=function(a){return function(){return g.bv.m==a}},ba=s(1),ca=s(2);p("sb",ba);p("kn",ca);l.a=_tvv;l.b=_tvf;l.c=_tvn;l.i=aa;var da=window.gbar.i.i;var t,u,v,w;function ea(a){v=a}function fa(a){var b;if(b=v&&window.encodeURIComponent)b=a.href,b=!b.match(/^http[s]?:\/\/accounts\.google\.[^/]*\/ClearSID/i)&&!b.match(/^http[s]?:\/\/[^/]*\/accounts\/ClearSID/i);if(b=b&&encodeURIComponent(v()))a.href=a.href.replace(/([?&]continue=)[^&]*/,"$1"+b)}function ga(a){window.gApplication&&(a.href=window.gApplication.getTabUrl(a.href))}
function ha(a){var b=document.forms[0].q,c=window.encodeURIComponent&&b&&b.value,b=b&&b.placeholder;c&&c!=b&&(a.href=a.href.replace(/([?&])q=[^&]*|$/,function(a,b){return(b||"&")+"q="+encodeURIComponent(c)}))}n=l.a("")?ga:ha;
function x(a,b,c,d,f,e){var h=document.getElementById(a);if(h){var k=h.style;k.left=d?"auto":b+"px";k.right=d?b+"px":"auto";k.top=c+"px";k.visibility=u?"hidden":"visible";f&&e?(k.width=f+"px",k.height=e+"px"):(x(t,b,c,d,h.offsetWidth,h.offsetHeight),u=u?"":a)}}
var y=[],ia=function(a,b){y.push(b)},ja=function(a){a=a||window.event;var b=a.target||a.srcElement;a.cancelBubble=!0;null==t&&(a=document.createElement(Array.every||window.createPopup?"iframe":"div"),a.frameBorder="0",t=a.id="gbs",a.src="javascript:''",b.parentNode.appendChild(a),q(document,"click",z));var c=b,b=0;"gb3"!=c.className&&(c=c.parentNode);a=c.getAttribute("aria-owns")||"gbi";var d=c.offsetWidth,f=20<c.offsetTop?46:24;document.getElementById("tphdr")&&(f-=3);var e=!1;do b+=c.offsetLeft||
0;while(c=c.offsetParent);var c=(document.documentElement.clientWidth||document.body.clientWidth)-b-d,h,d=document.body,k=document.defaultView;k&&k.getComputedStyle?(d=k.getComputedStyle(d,""))&&(h=d.direction):h=d.currentStyle?d.currentStyle.direction:d.style.direction;h="rtl"==h;if("gbi"==a){for(d=0;k=y[d++];)k();A(null,window.navExtra);h&&(b=c,e=!0)}else h||(b=c,e=!0);u!=a&&z();x(a,b,f,e)},z=function(){u&&x(u,0,0)},A=function(a,b){var c,d=document.getElementById("gbi"),f=a;f||(f=d.firstChild);
for(;b&&(c=b.pop());){var e=d,h=c,k=f;w||(w="gb2");e.insertBefore(h,k).className=w}},ka=function(a,b,c){if((b=document.getElementById(b))&&a){a.className="gb4";var d=document.createElement("span");d.appendChild(a);d.appendChild(document.createTextNode(" | "));d.id=c;b.appendChild(d)}},la=function(){return document.getElementById("gb_70")},ma=function(){return!!u};p("qs",n);p("setContinueCb",ea);p("pc",fa);p("tg",ja);p("close",z);p("addLink",ka);p("almm",A);p("si",la);p("adh",ia);p("op",ma);var B=function(){},C=function(){},F=function(a){var b=new Image,c=D;b.onerror=b.onload=b.onabort=function(){try{delete E[c]}catch(a){}};E[c]=b;b.src=a;D=c+1},E=[],D=0;p("logger",{il:C,ml:B,log:F});var G=window.gbar.logger;var H={},na={},I=[],oa=l.b("0.1",.1),pa=l.a("1",!0),qa=function(a,b){I.push([a,b])},ra=function(a,b){H[a]=b},sa=function(a){return a in H},J={},K=function(a,b){J[a]||(J[a]=[]);J[a].push(b)},ta=function(a){K("m",a)},L=function(a,b){var c=document.createElement("script");c.src=a;c.async=pa;Math.random()<oa&&(c.onerror=function(){c.onerror=null;B(Error("Bundle load failed: name="+(b||"UNK")+" url="+a))});(document.getElementById("xjsc")||document.getElementsByTagName("body")[0]||
document.getElementsByTagName("head")[0]).appendChild(c)},N=function(a){for(var b=0,c;(c=I[b])&&c[0]!=a;++b);!c||c[1].l||c[1].s||(c[1].s=!0,M(2,a),c[1].url&&L(c[1].url,a),c[1].libs&&m.d&&m.d(c[1].libs))},O=function(a){K("gc",a)},P=null,ua=function(a){P=a},M=function(a,b,c){if(P){a={t:a,b:b};if(c)for(var d in c)a[d]=c[d];try{P(a)}catch(f){}}};p("mdc",H);p("mdi",na);p("bnc",I);p("qGC",O);p("qm",ta);p("qd",J);p("lb",N);p("mcf",ra);p("bcf",qa);p("aq",K);p("mdd","");p("has",sa);
p("trh",ua);p("tev",M);var Q=l.b("0.1",.001),R=0;
function _mlToken(a,b){try{if(1>R){R++;var c,d=a,f=b||{},e=encodeURIComponent,h=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&jexpid=",e("17483"),"&srcpg=",e("prop=22"),"&jsr=",Math.round(1/Q),"&ogev=",e("DUbsU7qqLLW6sQSYvIDIBA"),"&ogf=",g.bv.f,"&ogrp=",e("1"),"&ogv=",e("1407723702.0"),"&oggv="+e("es_plusone_gc_20140723.0_p0"),"&ogd=",e("com"),"&ogc=",e("GBR"),"&ogl=",e("en")];f._sn&&(f._sn="og."+
f._sn);for(var k in f)h.push("&"),h.push(e(k)),h.push("="),h.push(e(f[k]));h.push("&emsg=");h.push(e(d.name+":"+d.message));var r=h.join("");S(r)&&(r=r.substr(0,2E3));c=r;var Aa=window.gbar.logger._aem(a,c);F(Aa)}}catch(Na){}}var S=function(a){return 2E3<=a.length},va=function(a,b){return b};function T(a){B=a;p("_itl",S,G);p("_aem",va,G);p("ml",B,G);a={};H.er=a}l.a("")?T(function(a){throw a;}):l.a("1")&&Math.random()<Q&&T(_mlToken);I.push(["m",{url:"//ssl.gstatic.com/gb/js/scm_7385cc5883250b43a39405734c1bea59.js"}]);g.mcf("c",{});g.sg={c:""};if(l.a("1")){var wa=l.a("");I.push(["gc",{auto:wa,url:"//ssl.gstatic.com/gb/js/abc/gci_91f30755d6a6b787dcc2a4062e6e9824.js",libs:"googleapis.client:plusone:gapi.iframes"}]);var xa={version:"gci_91f30755d6a6b787dcc2a4062e6e9824.js",index:"",lang:"en"};H.gc=xa;var U=function(a){window.googleapis&&window.iframes?a&&a():(a&&O(a),N("gc"))};p("lGC",U);l.a("1")&&p("lPWF",U)};window.__PVT="";if(l.a("1")&&l.a("1")){var V=function(a){U(function(){K("pw",a);N("pw")})};p("lPW",V);I.push(["pw",{url:"//ssl.gstatic.com/gb/js/abc/pwm_45f73e4df07a0e388b0fa1f3d30e7280.js"}]);var W=[],ya=function(a){W[0]=a},za=function(a,b){var c=b||{};c._sn="pw";B(a,c)},Ba={signed:W,elog:za,base:"https://plusone.google.com/u/0",loadTime:(new Date).getTime()};H.pw=Ba;var X=function(a,b){for(var c=b.split("."),d=function(){var b=arguments;a(function(){for(var a=g,d=0,e=c.length-1;d<e;++d)a=a[c[d]];a[c[d]].apply(a,b)})},f=g,e=0,h=c.length-1;e<h;++e)f=
f[c[e]]=f[c[e]]||{};return f[c[e]]=d};X(V,"pw.clk");X(V,"pw.hvr");p("su",ya,g.pw)};function Ca(){function a(){for(var b;(b=e[h++])&&"m"!=b[0]&&!b[1].auto;);b&&(M(2,b[0]),b[1].url&&L(b[1].url,b[0]),b[1].libs&&m.d&&m.d(b[1].libs));h<e.length&&setTimeout(a,0)}function b(){0<f--?setTimeout(b,0):a()}var c=l.a("1"),d=l.a(""),f=3,e=I,h=0,k=window.gbarOnReady;if(k)try{k()}catch(r){da(r,"ml","or")}d?p("ldb",a):c?q(window,"load",b):b()}p("rdl",Ca);var Da={D:1,H:2,da:3,p:4,W:5,M:6,F:7,g:8,ha:9,U:10,L:11,T:12,S:13,N:14,Q:15,P:16,fa:17,w:18,O:19,ga:20,ea:21,u:22,G:23,ja:24,ka:25,ia:26,A:27,j:28,o:29,k:30,ca:31,Z:32,$:33,J:34,K:35,ba:36,aa:37,Y:38,B:39,R:40,v:41,X:42,V:43,h:48,C:49,I:500},Y=[1,2,3,4,5,6,9,10,11,13,14,28,29,30,34,35,37,38,39,40,41,42,43,48,49,500];var Z=l.b("0.001",1E-4),Ea=l.b("1",1),Fa=!1,Ga=!1;if(l.a("1")){var Ha=Math.random();Ha<=Z&&(Fa=!0);Ha<=Ea&&(Ga=!0)}var Ia=Da,$=null;function Ja(){var a=0,b=function(b,d){l.a(d)&&(a|=b)};b(1,"");b(2,"");b(4,"");b(8,"");return a}
function Ka(a,b){var c=Z,d=Fa,f;f=a;if(!$){$={};for(var e=0;e<Y.length;e++){var h=Y[e];$[h]=!0}}if(f=!!$[f])c=Ea,d=Ga;if(d){d=encodeURIComponent;g.rp?(f=g.rp(),f="-1"!=f?f:"1"):f="1";c=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&oge=",a,"&ogex=",d("17483"),"&ogev=",d("DUbsU7qqLLW6sQSYvIDIBA"),"&ogf=",g.bv.f,"&ogp=",d("22"),"&ogrp=",d(f),"&ogsr=",Math.round(1/c),"&ogv=",d("1407723702.0"),"&oggv="+
d("es_plusone_gc_20140723.0_p0"),"&ogd=",d("com"),"&ogl=",d("en"),"&ogc=",d("GBR"),"&ogus=",Ja()];if(b){"ogw"in b&&(c.push("&ogw="+b.ogw),delete b.ogw);var k;f=b;e=[];for(k in f)0!=e.length&&e.push(","),e.push(La(k)),e.push("."),e.push(La(f[k]));k=e.join("");""!=k&&(c.push("&ogad="),c.push(d(k)))}F(c.join(""))}}function La(a){"number"==typeof a&&(a+="");return"string"==typeof a?a.replace(".","%2E").replace(",","%2C"):a}C=Ka;p("il",C,G);var Ma={};H.il=Ma;setTimeout(function(){C(Ia.g)},0);}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var b=window.gbar.i.i;var c=window.gbar;var f=function(d){try{var a=document.getElementById("gbom");a&&d.appendChild(a.cloneNode(!0))}catch(e){b(e,"omas","aomc")}};c.aomc=f;}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var a=window.gbar;a.mcf("pm",{p:""});}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{window.gbar.rdl();}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{float:left;height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}#gbs,.gbm{background:#fff;left:0;position:absolute;text-align:left;visibility:hidden;z-index:1000}.gbm{border:1px solid;border-color:#c9d7f1 #36c #36c #a2bae7;z-index:1001}.gb1{margin-right:.5em}.gb1,.gb3{zoom:1}.gb2{display:block;padding:.2em .5em}.gb2,.gb3{text-decoration:none !important;border-bottom:none}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb2,a.gb3,a.gb4{color:#00c !important}.gbi .gb3,.gbi .gb2,.gbi .gb4{color:#dd8e27 !important}.gbf .gb3,.gbf .gb2,.gbf .gb4{color:#900 !important}a.gb2:hover{background:#36c;color:#fff !important}#gbar .gbz0l{color:#000 !important;cursor:default;font-weight:bold;text-decoration:none !important}
#gbar { padding:.3em .6em !important;}</style></head><body  topmargin="3" marginheight="3"><div id=gbar><nobr><a onclick=gbar.qs(this);gbar.logger.il(1,{t:1}); class=gb1 id=gb_1 href="https://www.google.com/search?sa=N&tab=tw">Search</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:2}); class=gb1 id=gb_2 href="http://www.google.com/search?hl=en&tbm=isch&source=og&sa=N&tab=ti">Images</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:8}); class=gb1 id=gb_8 href="http://maps.google.com/maps?hl=en&sa=N&tab=tl">Maps</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:78}); class=gb1 id=gb_78 href="https://play.google.com/?hl=en&sa=N&tab=t8">Play</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:36}); class=gb1 id=gb_36 href="http://www.youtube.com/results?sa=N&tab=t1">YouTube</a> <a onclick=gbar.logger.il(1,{t:5}); class=gb1 id=gb_5 href="http://news.google.com/nwshp?hl=en&tab=tn">News</a> <a onclick=gbar.logger.il(1,{t:23}); class=gb1 id=gb_23 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a onclick=gbar.logger.il(1,{t:25}); class=gb1 id=gb_25 href="https://drive.google.com/?tab=to">Drive</a> <a class=gb3 href="http://www.google.com/intl/en/options/" onclick="this.blur();gbar.tg(event);return !1" aria-haspopup=true><u>More</u> <small>&#9660;</small></a><div class=gbm id=gbi><a onclick=gbar.logger.il(1,{t:24}); class=gb2 id=gb_24 href="https://www.google.com/calendar?tab=tc">Calendar</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:51}); class=gb2 id=gb_51 href="http://translate.google.com/?hl=en&sa=N&tab=tT">Translate</a><a onclick=gbar.logger.il(1,{t:17}); class=gb2 id=gb_17 href="http://www.google.com/mobile/?hl=en&tab=tD">Mobile</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:10}); class=gb2 id=gb_10 href="http://www.google.com/search?hl=en&tbo=u&tbm=bks&source=og&sa=N&tab=tp">Books</a><a onclick=gbar.logger.il(1,{t:212}); class=gb2 id=gb_212 href="https://wallet.google.com/manage/?tab=ta">Wallet</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:6}); class=gb2 id=gb_6 href="http://www.google.com/search?hl=en&tbo=u&tbm=shop&source=og&sa=N&tab=tf">Shopping</a><a onclick=gbar.logger.il(1,{t:30}); class=gb2 id=gb_30 href="http://www.blogger.com/?tab=tj">Blogger</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:27}); class=gb2 id=gb_27 href="http://www.google.com/finance?sa=N&tab=te">Finance</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:31}); class=gb2 id=gb_31 href="https://plus.google.com/photos?sa=N&tab=tq">Photos</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:12}); class=gb2 id=gb_12 href="http://www.google.com/search?hl=en&tbo=u&tbm=vid&source=og&sa=N&tab=tv">Videos</a><div class=gb2><div class=gbd></div></div><a onclick=gbar.logger.il(1,{t:66}); href="http://www.google.com/intl/en/options/" class=gb2>Even more &raquo;</a></div></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=http://www.google.com/patents%3Fhl%3Den&hl=en" class=gb4>Sign in</a><div style="display: none"><div class=gbm id=gbd5 aria-owner=gbg5><div class=gbmc><ol id=gbom class=gbmcc></ol></div></div></div></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="http://www.google.com/patents/us7702809?hl=en&amp;output=html_text" title="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."><img border="0" src="http://www.google.com/images/cleardot.gif"alt="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."></a></div><div id="guser"><nobr></nobr></div><div style="clear:both;"></div><div id="gb-top-search-box" class="gb-top-search-box-small gb-reset"><table><tr><td class="logo"><a href="http://www.google.com/patents" class="logo-link"><img class="logo-img" src="/intl/en/images/logos/google_logo_41.png" alt="Go to Google Books Home" height="41"/></a></td><td><form action="http://www.google.com/search" name="f" id="vheadf" method="get"><span id="hf"></span><input type="hidden" name="tbm" value="pts"/><input type="hidden" name="tbo" value="1"/><input type="hidden" name="hl" value="en"/><table><tr><td><div class="inputs"><table><tr><td><div class="text-input"><input type="text" name="q" id="vheadq" class="text" maxlength="2048" size="31" value="" title="Search Patents" accesskey="s" autocomplete="off"/><script>window._OC_autoDir &&window._OC_autoDir('vheadq', 'tia-vheadq');</script></div></td><td><div class="submit-input"><input name="btnG" class="submit" type="submit" value=""/></div></td></tr></table></div></td><td class="col-ext-links"><div class="ext-links"><a href="http://www.google.com/advanced_patent_search">&lt;nobr&gt;Advanced Patent Search&lt;/nobr&gt;</a></div></td></tr></table></form></td></tr></table></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents">Patents</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/US7702809"></a><a id="appbar-patents-discuss-this-link" href="http://www.google.com/url?id=4dduBgABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpatent%3DUS7702809&amp;usg=AFQjCNFyItFs4uVuQcNFuOo_qm-AODn7MQ" data-is-grant="true"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/US7702809.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/US7702809.pdf"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="http://www.google.com/patents/US7702809" style="display:none"><span itemprop="description">A method and system is directed to routing a flow of packets over a network to multiple traffic management devices. An apparatus receives each packet from a network and forwards the packet to one of a group of traffic management devices. The apparatus also may receive packets from servers for which the...</span><span itemprop="url">http://www.google.com/patents/US7702809?utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">Patent US7702809 - Method and system for scaling network traffic managers</span><img itemprop="image" src="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="Patent US7702809 - Method and system for scaling network traffic managers" title="Patent US7702809 - Method and system for scaling network traffic managers"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="http://www.google.com/advanced_patent_search">Advanced Patent Search</a></li></ol></div><table id="viewport_table" cellpadding="0" style="clear:both" cellspacing="0"><tr><td id="viewport_td"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata"><tr><td class="patent-bibdata-heading">Publication number</td><td class="single-patent-bibdata">US7702809 B1</td></tr><tr><td class="patent-bibdata-heading">Publication type</td><td class="single-patent-bibdata">Grant</td></tr><tr><td class="patent-bibdata-heading">Application number</td><td class="single-patent-bibdata">US 11/929,603</td></tr><tr><td class="patent-bibdata-heading">Publication date</td><td class="single-patent-bibdata">Apr 20, 2010</td></tr><tr><td class="patent-bibdata-heading">Filing date</td><td class="single-patent-bibdata">Oct 30, 2007</td></tr><tr><td class="patent-bibdata-heading">Priority date<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="The priority date is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the date listed."></span></td><td class="single-patent-bibdata">May 24, 2001</td></tr><tr><td class="patent-bibdata-heading">Fee status<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="The fee status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status or dates listed."></span></td><td class="single-patent-bibdata">Paid</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Also published as</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/US7102996">US7102996</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7395349">US7395349</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7697427">US7697427</a>, </span><span class="patent-bibdata-value"><a href="/patents/US8477609">US8477609</a>, </span><span class="patent-bibdata-value"><a href="/patents/US20060291388">US20060291388</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading">Publication number</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">11929603, </span><span class="patent-bibdata-value">929603, </span><span class="patent-bibdata-value">US 7702809 B1, </span><span class="patent-bibdata-value">US 7702809B1, </span><span class="patent-bibdata-value">US-B1-7702809, </span><span class="patent-bibdata-value">US7702809 B1, </span><span class="patent-bibdata-value">US7702809B1</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Inventors</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Paul+Szabo%22">Paul Szabo</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22David+D.+Schmitt%22">David D. Schmitt</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Ning+X.+Li%22">Ning X. Li</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Original Assignee</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=inassignee:%22F5+Networks,+Inc.%22">F5 Networks, Inc.</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Export Citation</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/US7702809.bibtex">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7702809.enw">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7702809.ris">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">Patent Citations</a> (15),</span> <span class="patent-bibdata-value"><a href="#npl-citations">Non-Patent Citations</a> (17),</span> <span class="patent-bibdata-value"><a href="#forward-citations">Referenced by</a> (4),</span> <span class="patent-bibdata-value"><a href="#classifications">Classifications</a> (12),</span> <span class="patent-bibdata-value"><a href="#legal-events">Legal Events</a> (4)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">External Links:&nbsp;</span><span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=4dduBgABERAJ&q=http://patft.uspto.gov/netacgi/nph-Parser%3FSect2%3DPTO1%26Sect2%3DHITOFF%26p%3D1%26u%3D/netahtml/PTO/search-bool.html%26r%3D1%26f%3DG%26l%3D50%26d%3DPALL%26RefSrch%3Dyes%26Query%3DPN/7702809&usg=AFQjCNFMewveb6_X2CImjbtjFFAtImuhSg">USPTO</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=4dduBgABERAJ&q=http://assignments.uspto.gov/assignments/q%3Fdb%3Dpat%26pat%3D7702809&usg=AFQjCNEcD3MDuh6KLfHw5vfQRoWRIy6ajQ">USPTO Assignment</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=4dduBgABERAJ&q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DUS%26NR%3D7702809B1%26KC%3DB1%26FT%3DD&usg=AFQjCNHMcLKdv7buXLeYi9nZTnFrQlzAqQ">Espacenet</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT94926725" lang="EN" load-source="patent-office">Method and system for scaling network traffic managers</invention-title></span><br><span class="patent-number">US 7702809 B1</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title">Abstract</span></div><div class="patent-text"><abstract mxw-id="PA78571881" lang="EN" load-source="patent-office"> <div num="p-0001" class="abstract">A method and system is directed to routing a flow of packets over a network to multiple traffic management devices. An apparatus receives each packet from a network and forwards the packet to one of a group of traffic management devices. The apparatus also may receive packets from servers for which the traffic management devices are managing communications. When forwarding packets, a traffic management device is selected from the group of traffic management devices by employing a hash of an IP address and port number. The IP address and port number are selected from source or destination information in the packet that has a greater port number. When the traffic management device performs a network address translation, further actions may be performed so that packets that are part of a flow between two network devices are delivered to the same traffic management device.</div>
  </abstract></div></div><div class="patent-section patent-drawings-section"><div class="patent-section-header"><span class="patent-section-title">Images<span class="patent-section-count">(10)</span></span></div><div class="patent-drawings-body"><div class="patent-drawings-carousel"><div class="drawings"><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7702809B1/US07702809-20100420-D00000.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7702809B1/US07702809-20100420-D00000.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7702809B1/US07702809-20100420-D00001.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7702809B1/US07702809-20100420-D00001.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7702809B1/US07702809-20100420-D00002.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7702809B1/US07702809-20100420-D00002.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7702809B1/US07702809-20100420-D00003.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7702809B1/US07702809-20100420-D00003.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7702809B1/US07702809-20100420-D00004.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7702809B1/US07702809-20100420-D00004.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7702809B1/US07702809-20100420-D00005.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7702809B1/US07702809-20100420-D00005.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7702809B1/US07702809-20100420-D00006.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7702809B1/US07702809-20100420-D00006.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7702809B1/US07702809-20100420-D00007.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7702809B1/US07702809-20100420-D00007.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7702809B1/US07702809-20100420-D00008.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7702809B1/US07702809-20100420-D00008.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7702809B1/US07702809-20100420-D00009.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7702809B1/US07702809-20100420-D00009.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div></div></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img" alt="Previous page"src="/googlebooks/images/kennedy/page_left.png"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img" alt="Next page"src="/googlebooks/images/kennedy/page_right.png"width="21" height="21" /></div></div></div><div class="patent-post-drawings"></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">Claims<span class="patent-section-count">(3)</span></span></div><div class="patent-text"><div mxw-id="PCLM31948483" lang="EN" load-source="patent-office" class="claims">
  <div class="claim"> <div id="CLM-00001" num="00001" class="claim">
    <div class="claim-text">1. An apparatus for routing a packet over a network, comprising:
<div class="claim-text">(a) a transceiver that receives and forwards each packet; and</div>
<div class="claim-text">(b) coupled to the transceiver, a means for routing each received packet to a corresponding traffic manager, wherein the routing means determines the corresponding traffic manager based in part on hashing either source information or destination information in each received packet to determine a hash key useable as an index into an allocation table of traffic managers, wherein a response packet to each received packet is forwarded to the same corresponding traffic manager.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00002" num="00002" class="claim">
    <div class="claim-text">2. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein source information further comprises a source IP address and a source port number in the received packet, and wherein destination information further comprises a destination IP address and a destination port number in the received packet.</div>
  </div>
  </div> <div class="claim"> <div id="CLM-00003" num="00003" class="claim">
    <div class="claim-text">3. A method for routing packets between a first device and a second device on a network, comprising:
<div class="claim-text">(a) receiving a packet;</div>
<div class="claim-text">(b) extracting a source IP address and port of the first device and a destination IP address and port of the second device from the received packet;</div>
<div class="claim-text">(c) determining a traffic manager corresponding to a combination of the first device and the second device, based in part on a comparison of the extracted source port and extracted destination port, wherein the combination is determined by hashing at least one of the source IP address and port or the destination IP address and port to generate a hash key that is useable to determine the traffic manager; and</div>
<div class="claim-text">(d) forwarding the received packet to the determined traffic manager. </div>
</div>
  </div>
</div> </div></div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title">Description</span></div><div class="patent-text"><div mxw-id="PDES37317722" lang="EN" load-source="patent-office" class="description">
<heading>CROSS REFERENCE TO RELATED APPLICATIONS</heading> <p num="p-0002">This application is a continuation patent application of U.S. patent application Ser. No. 10/644,692, filed Aug. 20, 2003, entitled “Method and System for Scaling Network Traffic Managers,” and claims benefit under 35 U.S.C. §120, which is in turn a continuation-in-part patent application of U.S. patent application Ser. No. 10/119,433, filed on Apr. 9, 2002, and further claiming benefit under 35 U.S.C. §120, and in turn further claims benefit under 35 U.S.C. §119 to U.S. Provisional Patent Application No. 60/293,466 filed May 24, 2001, each of which is incorporated herein by reference.</p>
<heading>FIELD OF THE INVENTION</heading> <p num="p-0003">The present invention relates to computer network traffic, and in particular to distributing network traffic associated with traffic management devices.</p>
  <heading>BACKGROUND</heading> <p num="p-0004">The Internet's core bandwidth continues to double every year. Some of this additional bandwidth is consumed as more and more users access the Internet. Other additional bandwidth is consumed as existing users increase their use of the Internet. This increase of Internet use translates into an increase in traffic directed to and from World Wide Web (WWW) servers and other Internet servers.</p>
  <p num="p-0005">Replacing a WWW server with a WWW server of twice the capacity is a costly undertaking. Adding additional WWW servers is less costly but generally requires a load-balancing mechanism to balance workload so that each virtual server performs work proportional to its capacity and the number of servers available to the traffic management device that is performing the load balancing.</p>
  <p num="p-0006">This requirement for more sophisticated traffic management requires more processing. With a sufficient rate of requests, eventually a traffic management device may not be able to process traffic in a timely manner. Therefore, it is with respect to these considerations and others that the present invention has been made.</p>
<description-of-drawings> <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading> <p num="p-0007">Non-limiting and non-exhaustive embodiments of the present invention are described with reference to the following drawings. In the drawings, like reference numerals refer to like parts throughout the various figures unless otherwise specified.</p>
    <p num="p-0008">For a better understanding of the present invention, reference will be made to the following Detailed Description of the Invention, which is to be read in association with the accompanying drawings, wherein:</p>
    <p num="p-0009"> <figref idrefs="DRAWINGS">FIGS. 1-2</figref> show components of an exemplary environment in which the invention may be practiced;</p>
    <p num="p-0010"> <figref idrefs="DRAWINGS">FIG. 3</figref> illustrates an exemplary environment in which a system for distributing traffic to an array of traffic management devices operates;</p>
    <p num="p-0011"> <figref idrefs="DRAWINGS">FIG. 4</figref> shows another exemplary environment in which a system for distributing traffic to an array of traffic management devices operates;</p>
    <p num="p-0012"> <figref idrefs="DRAWINGS">FIG. 5</figref> shows yet another exemplary environment in which a system for routing traffic through an array of traffic management devices operates;</p>
    <p num="p-0013"> <figref idrefs="DRAWINGS">FIG. 6</figref> shows one embodiment of a statistical traffic distributor (STD);</p>
    <p num="p-0014"> <figref idrefs="DRAWINGS">FIG. 7</figref> shows another embodiment of a statistical traffic distributor (STD);</p>
    <p num="p-0015"> <figref idrefs="DRAWINGS">FIG. 8</figref> illustrates a flow chart for a process for determining how to forward packets; and</p>
    <p num="p-0016"> <figref idrefs="DRAWINGS">FIG. 9</figref> shows a flow chart for managing target port number selection, in accordance with the present invention.</p>
  </description-of-drawings> <heading>DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT</heading> <p num="p-0017">The present invention now will be described more fully hereinafter with reference to the accompanying drawings, which form a part hereof, and which show, by way of illustration, specific exemplary embodiments by which the invention may be practiced. This invention may, however, be embodied in many different forms and should not be construed as limited to the embodiments set forth herein; rather, these embodiments are provided so that this disclosure will be thorough and complete, and will fully convey the scope of the invention to those skilled in the art. Among other things, the present invention may be embodied as methods or devices. Accordingly, the present invention may take the form of an entirely hardware embodiment, an entirely software embodiment or an embodiment combining software and hardware aspects. The following detailed description is, therefore, not to be taken in a limiting sense.</p>
  <p num="p-0018">Throughout the specification, the meaning of “a,” “an,” and “the” include plural references. The meaning of “in” includes “in” and “on.”</p>
  <p num="p-0019">Briefly stated, the present invention is directed to a system and method for routing a flow of packets to one or more traffic management devices. The invention enables a client-side flow of packets and a server-side flow of packets in the flow of packets between a client and server to be directed to a same traffic management device. One or more distributors may be employed to route the flow of packets. As the packets are received, a distributor extracts information, such as source and destination IP addresses, and source and destination port numbers from the packet. If the source port number equals the destination port number, the distributor forwards the packet to a pre-determined traffic management device. If the source port number is greater than the destination port number, the distributor performs a hash on the source IP address and the source port number. If the source port number is not greater than the destination port number, the distributor performs the hash on the destination IP address and the destination port number. For both cases, the hash results are employed to select a destination traffic management device to forward the packet. Because, the destination traffic management device may perform a network address translation on the packet contents, the present invention may perform additional actions directed at maintaining the same relationship between the source and destination port numbers, such that a reply packet to the forwarded packet is handled by the same traffic management device.</p>
  <p num="h-0006">Illustrative Operating Environment</p>
  <p num="p-0020"> <figref idrefs="DRAWINGS">FIGS. 1-2</figref> show components of an exemplary environment in which the invention may be practiced. Not all of the components may be required to practice the invention, and variations in the arrangement and type of the components may be made without departing from the spirit or scope of the invention.</p>
  <p num="p-0021"> <figref idrefs="DRAWINGS">FIG. 1</figref> shows one embodiment of wide area network/local area network (WAN/LAN) <b>100</b>, in accordance with the present invention. WAN/LAN <b>100</b> includes a plurality of local area networks (“LANs”) <b>120</b> <sub>a-d </sub>and wide area network (“WAN”) <b>130</b> interconnected by routers <b>110</b>. Routers <b>110</b> are intermediary devices on a communications network that expedite message delivery. On a single network linking many computers through a mesh of possible connections, a router receives transmitted messages and forwards them to their correct destinations over available routes. On an interconnected set of LANs—including those based on differing architectures and protocols—, a router acts as a link between LANs, enabling messages to be sent from one to another. Communication links within LANs typically include twisted pair, fiber optics, or coaxial cable, while communication links between networks may utilize analog telephone lines, full or fractional dedicated digital lines including T<b>1</b>, T<b>2</b>, T<b>3</b>, and T<b>4</b>, Integrated Services Digital Networks (ISDNs), Digital Subscriber Lines (DSLs), wireless links, or other communications links known to those skilled in the art. Furthermore, computers, such as remote computer <b>140</b>, and other related electronic devices can be remotely connected to either LANs <b>120</b> <sub>a-d </sub>or WAN <b>130</b> via a modem and temporary telephone link. The number of WANs, LANs, and routers in <figref idrefs="DRAWINGS">FIG. 1</figref> may be increased or decreased arbitrarily without departing from the spirit or scope of this invention.</p>
  <p num="p-0022">As such, it will be appreciated that the Internet itself may be formed from a vast number of such interconnected networks, computers, and routers. Generally, the term “Internet” refers to the worldwide collection of networks, gateways, routers, and computers that use the Transmission Control Protocol/Internet Protocol (“TCP/IP”) suite of protocols to communicate with one another. At the heart of the Internet is a backbone of high-speed data communication lines between major nodes or host computers, including thousands of commercial, government, educational, and other computer systems, that route data and messages. An embodiment of the invention may be practiced over the Internet without departing from the spirit or scope of the invention.</p>
  <p num="p-0023">The media used to transmit information in communication links as described above illustrates one type of computer-readable media, namely communication media. Generally, computer-readable media includes any media that can be accessed by a computing device. Computer-readable media may include computer storage media, communication media, or any combination thereof.</p>
  <p num="p-0024">Communication media typically embodies computer-readable instructions, data structures, program modules, or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term “modulated data signal” means a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example, communication media includes wired media such as twisted pair, coaxial cable, fiber optics, wave guides, and other wired media and wireless media such as acoustic, RF, infrared, and other wireless media.</p>
  <p num="p-0025">Remote computer <b>140</b> is any device capable of connecting with local area networks (“LANs”) <b>120</b> <sub>a-d </sub>and wide area network (“WAN”) <b>130</b>. The set of such devices may include devices that typically connect using a wired communications medium such as personal computers, multiprocessor systems, microprocessor-based or programmable consumer electronics, network PCs, and the like. The set of such devices may also include devices that typically connect using a wireless communications medium such as cell phones, smart phones, pagers, walkie talkies, radio frequency (RF) devices, infrared (IR) devices, CBs, integrated devices combining one or more of the preceding devices, and the like. Alternatively, remote computer <b>140</b> may be any device that is capable of connecting using a wired or wireless communication medium such as a PDA, POCKET PC, wearable computer, or other device mentioned above that is equipped to use a wired and/or wireless communication medium.</p>
  <p num="p-0026"> <figref idrefs="DRAWINGS">FIG. 2</figref> shows an exemplary network device <b>200</b> that may operate as an intermediate network device in accordance with the present invention. It will be appreciated that not all components of network device <b>200</b> are illustrated, and that network device <b>200</b> may include more or fewer components than those shown in <figref idrefs="DRAWINGS">FIG. 2</figref>. Network device <b>200</b> may operate, for example, as a router, bridge, firewall, gateway, traffic management device (also referred to as a traffic manager), distributor, load balancer, server array controller, or proxy server. The communications may take place over the network <b>130</b>, the Internet, a WAN, LAN, or some other communications network known to those skilled in the art.</p>
  <p num="p-0027">As illustrated in <figref idrefs="DRAWINGS">FIG. 2</figref>, network device <b>200</b> includes a central processing unit (CPU) <b>202</b>, mass memory, and a network interface unit <b>212</b> connected via a bus <b>204</b>. Network interface unit <b>212</b> includes the necessary circuitry for connecting network device <b>200</b> to network <b>130</b>, and is constructed for use with various communication protocols including the TCP/IP and UDP/IP protocol. Network interface unit <b>212</b> may include or interface with circuitry and components for transmitting messages and data over a wired and/or wireless communications medium. Network interface unit <b>212</b> is sometimes referred to as a transceiver.</p>
  <p num="p-0028">The mass memory generally includes random access memory (“RAM”) <b>206</b>, read-only memory (“ROM”) <b>214</b>, and one or more permanent mass storage devices, such as hard disk drive <b>208</b>. The mass memory stores operating system <b>216</b> for controlling the operation of network device <b>200</b>. The operating system <b>216</b> may comprise an operating system such as UNIX, LINUX™, or Windows™.</p>
  <p num="p-0029">In one embodiment, the mass memory stores program code and data for implementing a hash function <b>218</b>, and program code and data for implementing an allocation table <b>220</b>, in accordance with the present invention. The mass memory may also store additional program code <b>224</b> and data for performing the functions of network device <b>200</b>.</p>
  <p num="p-0030">In one embodiment, the network device <b>200</b> includes one or more Application Specific Integrated Circuit (ASIC) chips <b>226</b> connected to the bus <b>204</b>. As shown in <figref idrefs="DRAWINGS">FIG. 2</figref>, the network interface unit <b>212</b> may connect to the bus through an ASIC chip. The ASIC chip <b>226</b> includes logic that performs some of the functions of network device <b>200</b>. For example, in one embodiment, the ASIC chip <b>226</b> performs a number of packet processing functions, to process incoming packets. In one embodiment, the logic of the hash function <b>218</b> is performed by the ASIC chip <b>226</b>. In one embodiment, the network device <b>200</b> includes one or more field-programmable gate arrays (FPGA) (not shown), instead of, or in addition to, the ASIC chip <b>226</b>. A number of functions of the network device can be performed by the ASIC chip <b>226</b>, by an FPGA, by the CPU <b>202</b> with the logic of program code stored in mass memory, or by a combination of the ASIC chip and the CPU.</p>
  <p num="p-0031">Computer storage media may include volatile and nonvolatile, removable and non-removable media implemented in any method or technology for storage of information, such as computer readable instructions, data structures, program modules or other data. Examples of computer storage media include RAM <b>206</b>, ROM <b>214</b>, EEPROM, flash memory or other memory technology, CD-ROM, digital versatile disks (DVD) or other optical storage, magnetic cassettes, magnetic tape, magnetic disk storage or other magnetic storage devices, or any other medium that can store the information and that can be accessed by a computing device.</p>
  <p num="p-0032">Network device <b>200</b> may also include an input/output interface (not shown) for communicating with external devices or users.</p>
  <p num="p-0033">Network device <b>200</b> can also be implemented as one or more “blades” where the term “blade” refers to one of multiple electronic circuit boards or cards that are installed in a hardware chassis with a backplane. An exemplary blade may include one or more processors, volatile and non-volatile memory, interfaces suitable for communicating information to and from the blade, and other components for enabling the operation of one or more applications. A blade may also include a specialized interface for the backplane and other interfaces, such as a USB port, FIREWIRE port, serial port, RF interface, IR interface, Ethernet interface, IDE controller, and the like. An application running on a blade may employ any of these interfaces to communicate information to other applications running on other blades and/or devices coupled to the blade server. Network device <b>200</b> can also be implemented as a combination of blades and additional components in the chassis.</p>
  <p num="h-0007">Illustrative Traffic Distributing Systems</p>
  <p num="p-0034"> <figref idrefs="DRAWINGS">FIG. 3</figref> illustrates an exemplary environment in which a system for distributing traffic through an array of traffic management devices operates, according to one embodiment of the invention. The system includes client <b>410</b>, distributors <b>415</b>-<b>416</b>, traffic management devices <b>420</b>-<b>422</b>, and origin servers <b>440</b>-<b>442</b>.</p>
  <p num="p-0035">Client <b>410</b> is coupled to distributor <b>415</b> over WAN/LAN <b>100</b>. Distributor <b>415</b> is coupled to distributor <b>416</b> through traffic management devices <b>420</b>-<b>422</b>. Distributor <b>415</b> also has a more direct connection to distributor <b>416</b>. Distributor <b>416</b> is coupled to origin servers <b>440</b>-<b>442</b>.</p>
  <p num="p-0036">Client <b>410</b> is any device capable of connecting with WAN/LAN <b>100</b>. As such, client <b>410</b> is substantially similar to remote computer <b>140</b> in <figref idrefs="DRAWINGS">FIG. 1</figref>.</p>
  <p num="p-0037">Distributor <b>415</b> receives information in the form of packets. Each packet may convey a piece of information. A packet may be sent for handshaking, i.e., to establish a connection or to acknowledge receipt of data. A communication includes a group of related packets sent between two devices, such as client <b>410</b> and server <b>440</b>. For example, to request a Web page, client <b>410</b> may send some packets requesting a connection, e.g., handshaking packets, server <b>440</b> may respond with other handshaking packets. Then client <b>410</b> may send a packet requesting a particular Web page. Server <b>440</b> may respond by sending data packets associated with the Web page. Finally, client <b>410</b> may end a communication by sending some more handshaking packets which server <b>440</b> may respond to with other handshaking packets. In essence, a communication may be thought to include all packets needed or necessary for a transaction to occur. A communication or part of a communication may also be referred to as a flow or as a flow of packets.</p>
  <p num="p-0038">As described above, a flow may include a bi-directional flow of packets. Bi-directional packet flows include packets sent from a client, such as client <b>410</b>, that are destined for a server, such as origin server <b>440</b>, and those packets sent from the server to the client. A flow of packets may also include related packet flows, such as a control packet flow and a data packet flow that may arise during a File Transfer Protocol (FTP) session, or the like. A flow of packets might further include IP fragments that may arise either at the original sender of the packets, or at any intermediate device along a communication path.</p>
  <p num="p-0039">A packet may come from various senders including client <b>410</b>, traffic management devices <b>420</b>-<b>422</b>, distributor <b>416</b>, or origin servers <b>440</b>-<b>442</b>. The packet may include information such as a request, response, or configuration command. Generally, packets received by distributor <b>415</b> will be formatted according to TCP/IP, but they could also be formatted using another transport protocol, such as User Datagram Protocol (UDP), Internet Control Message Protocol (ICMP), NETbeui, IPX/SPX, token ring, and the like. Upon receipt of a packet, a transcoder (not shown) associated with distributor <b>415</b> makes a determination as to where the packet should go. The transcoder may be logic circuitry or software executing on an electronic device, such as a processor, within distributor <b>415</b>, or it may execute or reside elsewhere.</p>
  <p num="p-0040">In one embodiment, the transcoder includes traffic distribution engine <b>224</b> shown in <figref idrefs="DRAWINGS">FIG. 2</figref>. The transcoder may access a database, a table, or other information to determine an action to perform upon receipt of a packet, or it may be “hard-wired” to perform a certain action depending pre-defined conditions. In some senses, the transcoder may be viewed as the “brains” of distributor <b>415</b> or as logic, which drives the operation of distributor <b>415</b>. In future references to distributors, the word transcoder may or may not be used. Furthermore, a distributor may be referred to as making decisions or determinations, but it should be understood in such references that a transcoder associated with the distributor is making the decisions or determinations and causing the distributor to take action appropriately.</p>
  <p num="p-0041">A user on client <b>410</b> may request, for example, a Web page associated with a URL, such as http://www.uspto.gov. If this is a Web page that is serviced by origin servers <b>440</b>-<b>442</b>, distributor <b>415</b> forwards the request to one of traffic management devices <b>420</b>-<b>422</b>. A user on client <b>410</b> may request communication specifically with one of the traffic managers. In this case, distributor <b>415</b> forwards the request to the specified traffic manager. For example, the user may wish to configure the traffic management device, install new software, provide maintenance, or some other activity. The user may wish to configure distributor <b>415</b>. In this case, distributor <b>415</b> processes the communication itself. Distributor <b>415</b> may receive a response to a previous request from one of traffic management devices <b>420</b>-<b>422</b>. Distributor <b>415</b> may then forward this request to the recipient by sending it to WAN/LAN <b>100</b>. A user may send a message directed specifically at one of origin servers <b>440</b>-<b>442</b>. In this case, distributor <b>415</b> may send the message to distributor <b>416</b> for relaying the message to the specified server.</p>
  <p num="p-0042">When requests for content come to distributor <b>415</b>, the distributor may be required to ensure that a request from the same source is sent through the same traffic management device. Distributor <b>415</b> (and <b>416</b>) may employ a variety of techniques to ensure that the request is from the same source is sent through the same traffic management device. For example, distributor <b>415</b> (and <b>416</b>) may employ such techniques as are described in U.S. patent application Ser. No. 10/119,433, filed Apr. 9, 2002, entitled “Method and System for Scaling Network Traffic Managers,” which is hereby incorporated by reference.</p>
  <p num="p-0043">Distributor <b>415</b> may extract information from the request to select the traffic management device. By dynamically employing the extracted information for each request, distributor <b>415</b> need not maintain state information about the connections between origin servers <b>440</b>-<b>442</b> and requestors, such as client <b>410</b>. Distributor <b>415</b> may select the traffic management device and forward requests by performing actions described below in conjunction with <figref idrefs="DRAWINGS">FIG. 8</figref>.</p>
  <p num="p-0044">Sometimes, when distributor <b>415</b> receives a packet, it acts like a router or switch, forwarding the packet toward the intended recipient. For example, distributor <b>415</b> may receive a request to connect with server <b>440</b>. Distributor <b>415</b> may forward this request to distributor <b>416</b> for forwarding to server <b>440</b>. Distributor <b>415</b> may receive a packet from distributor <b>416</b> or from traffic management devices <b>420</b>-<b>422</b> that is directed at a client, such as client <b>410</b>. In this case, distributor <b>415</b> forwards the packet to WAN/LAN <b>100</b> (or a router thereon). Alternatively, if client <b>410</b> is a device distributor <b>415</b> is more closely connected to, distributor <b>415</b> may send the message directly to client <b>410</b>.</p>
  <p num="p-0045">Distributor <b>415</b> may use a different algorithm for forwarding messages directed towards traffic management devices <b>420</b>-<b>422</b> than for messages from traffic management devices <b>420</b>-<b>422</b>. For example, when messages are directed at traffic management devices <b>420</b>-<b>422</b>, distributor <b>415</b> may perform a hash on either a source or destination IP address and port number to determine to which traffic management device the message is to be sent. When distributor <b>415</b> receives a message from a traffic management device, however, it may forego applying a hash.</p>
  <p num="p-0046">A hash is a function or algorithm that maps a set of input values to a set of output values. Typically, a hash is used when the set of input values has more elements than the set of output values. Some hashes when applied to a set of input values will map the input values approximately equally over the set of output values. Other hashes will map the input values disproportionately to a set of output values. For example, one traffic management device may be able to deal with twice as many packets as another traffic management device. A hash could be constructed to map input packets to the one traffic management device twice as often as mapping packets to the other traffic management device. Generally, a hash is deterministic. That is, the hash will produce the same output value whenever a particular input value is hashed on.</p>
  <p num="p-0047">Traffic management devices <b>420</b>-<b>422</b> receive messages sent from distributors <b>415</b> and <b>416</b>. In some operations, traffic management devices <b>420</b>-<b>422</b> act like level 7 switches. That is, they may look at content associated with higher TCP/IP layers of the message, e.g. a request for a page such as http://www.uspto.gov/ and information that identifies the user, such as a cookie, etc. They may store information in memory so that next time the requestor requests more information from http://www.uspto.gov/, each request is sent to the same server. They may do this, in part, to ensure that the user is connected to the server that the user previously connected to. This helps prevent the loss of transaction data, such as items in a shopping cart.</p>
  <p num="p-0048">In addition, traffic management devices <b>420</b>-<b>422</b> may perform network address translation (NAT). That is, in a TCP/IP packet, they may change the source and/or destination field. This may be done for many reasons. One reason is that each traffic management device is configured to cause future communications to and from a server to flow through the traffic management device, so that the traffic management device may maintain state information about the connection. The traffic management device may need state information to gracefully close a connection if, for example, the server fails. In addition, the traffic management device may need state information to reroute a connection to another server if the server fails. Another reason the traffic management device may be configured to have all future communications flow through it is for security purposes.</p>
  <p num="p-0049">When traffic management devices <b>420</b>-<b>422</b> perform a network address translation, a relationship between the source and destination field may change. For example, a source port number that was originally less than a destination port number, may now be greater. Such a change in the relationship between the port numbers may affect which traffic management device the reply is sent. This may result in a different traffic management device being selected to handle the reply than was selected to handle an initial client request. Therefore, traffic management devices <b>420</b>-<b>422</b> may need to perform actions such as those described below in conjunction with <figref idrefs="DRAWINGS">FIG. 9</figref> to ensure that the same traffic management device handles packets in the same flow of packets.</p>
  <p num="p-0050">Traffic management devices, such as traffic management devices <b>420</b>-<b>422</b>, are any devices that manage network traffic. Such devices include, for example, routers, proxies, firewalls, load balancers, devices that perform network address translation, any combination of the preceding devices, and the like. A traffic manager may, for example, control the flow of data packets delivered to and forwarded from an array of application servers, such as Web servers. A traffic manager may direct a request for a resource to a particular Web server based on network traffic, network topology, capacity of the server, content requested, and a host of other load balancing metrics. A traffic manager may receive data packets from and transmit data packets to the Internet, an intranet, or a local area network accessible through another network. A traffic manager may recognize packets that are part of the same communication, flow, and/or stream and may perform special processing on such packets, such as directing them to the same server so that state information is maintained. A traffic manager may support a wide variety of network applications such as Web browsing, email, telephony, streaming multimedia, and other traffic that is sent in packets.</p>
  <p num="p-0051">A traffic management device may be implemented using one or more personal computers, POCKET PCs, wearable computers, multiprocessor systems, microprocessor-based or programmable consumer electronics, network PCs, cell phones, smart phones, pagers, walkie talkies, radio frequency (RF) devices, infrared (IR) devices, CBs, integrated devices combining one or more of the preceding devices, and the like. Such devices may be implemented solely in hardware or in hardware and software. For example, such devices may include some application specific integrated circuits (ASICs) coupled to one or more microprocessors. The ASICs may be used to provide a high-speed switch fabric while the microprocessors may perform higher layer processing of packets. An exemplary device that could be used as a traffic management device is server computer <b>200</b> of <figref idrefs="DRAWINGS">FIG. 2</figref>, configured with appropriate software. A traffic management device may have multiple network interface units and each network interface unit may interface with one or more networks. It should be understood that traffic manager as it is used in this document means traffic management device.</p>
  <p num="p-0052">Distributor <b>416</b> receives communications and forwards them to one or more of origin servers <b>440</b>-<b>442</b>, to distributor <b>415</b>, or to traffic management devices <b>420</b>-<b>422</b>. When forwarding messages to traffic management devices <b>420</b>-<b>422</b>, distributor <b>416</b> may hash on the IP address and port number of either the destination or source, depending on which is greater, so that the same traffic management device that sent a packet to a server receives the server's response. Distributor <b>416</b> may perform actions described below in conjunction with <figref idrefs="DRAWINGS">FIG. 8</figref> to select the traffic management device. Distributor <b>416</b> may act as a switch or router in relaying messages to intended recipients. Although distributor <b>416</b> is shown as having one shared communications link (segment) going between it and origin servers <b>440</b>-<b>442</b>, it may have dedicated communications links to each of origin servers <b>440</b>-<b>442</b>.</p>
  <p num="p-0053">Origin servers <b>440</b>-<b>442</b> may include one or more WWW servers, such as network device <b>200</b> of <figref idrefs="DRAWINGS">FIG. 2</figref>, or other general-purpose servers. Origin servers <b>440</b>-<b>442</b> may serve content for more than one vendor. For example, a group of vendors may each run their Web sites using one or more origin servers <b>440</b>-<b>442</b>. Origin servers <b>440</b>-<b>442</b> may perform other services besides serving Web pages.</p>
  <p num="p-0054"> <figref idrefs="DRAWINGS">FIG. 4</figref> shows another exemplary environment in which a system for distributing traffic through an array of traffic management devices operates, according to one embodiment of the invention. The system includes client <b>410</b>, distributor <b>505</b>, traffic management devices <b>420</b>-<b>422</b>, and origin servers <b>440</b>-<b>442</b>.</p>
  <p num="p-0055">Client <b>410</b> is coupled to distributor <b>505</b> over WAN/LAN <b>100</b>. Distributor <b>505</b> is coupled to traffic management devices <b>420</b>-<b>422</b> and origin servers <b>440</b>-<b>442</b>.</p>
  <p num="p-0056">Components numbered similarly to those in <figref idrefs="DRAWINGS">FIG. 3</figref> operate similarly. A difference between the environment shown in <figref idrefs="DRAWINGS">FIG. 4</figref> and that shown in <figref idrefs="DRAWINGS">FIG. 3</figref> is that the functionality of distributors <b>415</b>-<b>416</b> has been combined in distributor <b>505</b>. In addition, distributor <b>505</b> is shown as having dedicated communication links (segments) to each of origin servers <b>440</b>-<b>442</b>. It will be understood that distributor <b>505</b> may also be configured to have more than one traffic management device connected to each communication link.</p>
  <p num="p-0057">Similarly, although <figref idrefs="DRAWINGS">FIG. 4</figref> shows each of origin servers <b>440</b>-<b>442</b> sharing a communications link, each server may be placed on its own dedicated communication link or paired with one or more other servers without departing from the spirit or scope of the invention.</p>
  <p num="p-0058">In general, distributor <b>505</b> operates logically like the combination of distributors <b>415</b> and <b>416</b>. Inter-distributor messages, e.g. ones sent directly from distributor <b>415</b> to distributor <b>416</b>, are no longer necessary with distributor <b>505</b>. A packet that is sent from client <b>410</b> addressed to a server, such as server <b>440</b>, may be routed to the server rather than passing through a traffic management device or a second distributor. Likewise, a packet sent from a server to the client may be forwarded to the client from the distributor rather than passing the packet through a traffic management device or a second distributor.</p>
  <p num="p-0059">The configuration of <figref idrefs="DRAWINGS">FIG. 4</figref> may be used for various reasons including to lower costs (of providing two distributors) or because a system does not need the capacity of two distributors.</p>
  <p num="p-0060"> <figref idrefs="DRAWINGS">FIG. 5</figref> shows yet another exemplary environment in which a system for routing traffic through an array of traffic management devices operates, according to another embodiment of the invention. The system includes client <b>410</b>, distributors <b>615</b>-<b>617</b> and <b>620</b>-<b>622</b>, traffic management devices <b>420</b>-<b>422</b>, and origin servers <b>440</b>-<b>442</b>.</p>
  <p num="p-0061">Client <b>410</b> and distributors <b>615</b>-<b>617</b> are each coupled to each other over WAN/LAN <b>100</b>. Distributors <b>615</b>-<b>617</b> are coupled to each other. Distributors <b>620</b>-<b>622</b> are coupled to each other. In one embodiment, distributors <b>620</b>-<b>622</b> are coupled serially to each other. In another embodiment, distributors <b>615</b>-<b>617</b> are also coupled serially to each other.</p>
  <p num="p-0062">Components numbered similarly to those in <figref idrefs="DRAWINGS">FIG. 3</figref> operate similarly. A difference between the environment shown in <figref idrefs="DRAWINGS">FIG. 5</figref> and that shown in <figref idrefs="DRAWINGS">FIG. 3</figref> is that the functionality of distributors <b>415</b> and <b>416</b> are distributed across distributors <b>615</b>-<b>617</b> and distributors <b>620</b>-<b>622</b>, respectively, in a manner that provides for link aggregation. Link aggregation may be viewed as a binding together of two or more data channels into a single data channel that appears as a single, higher-bandwidth logical link. Such link aggregation is sometimes referred to as load balancing of multiple communication links since traffic loads may be distributed across multiple links to one or more distributors (<b>615</b>-<b>617</b>, and <b>620</b>-<b>622</b>). In general, link aggregation enables distributors <b>615</b>-<b>617</b> (and <b>620</b>-<b>622</b>) to provide for asymmetric level 2, and level 3-packet routing.</p>
  <p num="p-0063"> <figref idrefs="DRAWINGS">FIG. 6</figref> shows one embodiment of a statistical traffic distributor (STD), in accordance with the present invention. As shown in the figure, STD <b>720</b> includes hash function <b>702</b> and allocation table <b>704</b>. Hash function <b>702</b> is coupled to allocation table <b>704</b>. Briefly, STD <b>720</b> operates to receive a combination of IP address and port number and provide an identifier associated with a destination traffic management device. STD <b>720</b> is further arranged to provide a pre-determined distribution profile that enables a distributor to statistically load balance traffic management devices. Moreover, STD <b>720</b> operates to allow the distribution profile to be dynamically changed with minimal disruption to existing flows of packets. STD <b>720</b> may be deployed as set of software actions, functions, and the like, deployed in hardware, and a combination of hardware and software.</p>
  <p num="p-0064">Hash function <b>702</b> is arranged to distribute its integer output of hash keys uniformly, typically between 0 and N−1, where N is the number of available entries in allocation table <b>704</b>. Hash function <b>702</b> may be implemented in software, hardware, or a combination of software and hardware. While virtually any hash function may be employed, some are known to provide weak distributions, e.g. a cyclical redundancy check (CRC) function. In one embodiment, an input to hash function <b>702</b> includes 144-bits (e.g. for a 128-bit IP version 6 address plus a 16-bit port number).</p>
  <p num="p-0065">Allocation table <b>704</b> includes a table, list, file, database, or the like, of entries. Each entry includes an identifier associated with an available traffic management device. The arrangement of entries enables traffic to be load balanced across the available traffic management devices. For example, as shown in <figref idrefs="DRAWINGS">FIG. 6</figref>, traffic management devices A through N are allocated at least twice to entries in allocation table <b>704</b>. In one embodiment of the present invention, allocation table <b>704</b> includes 2<sup>12</sup>, or 4096 entries, thereby enabling increased granularity and flexibility for allocating loads across traffic management devices. For example, traffic management devices may be allocated to entries based on a desired frequency of use for a given traffic management device.</p>
  <p num="p-0066">Allocation table <b>704</b> may be configured to reshape the uniform distribution of the hash keys produced by hash function <b>702</b> to meet a pre-determined statistical traffic distribution profile. The pre-determined statistical traffic distribution profile may include, but is not limited to, a uniform, Gaussian, and Rayleigh distributions.</p>
  <p num="p-0067">STD <b>720</b> may also be employed to determine self-source port numbers for a given IP address. Briefly, for a given traffic management device ID and IP address combination, a self-source port number is that port number that enables the determination of the targeted traffic management device. That is, when a traffic management device performs an address and/or port translation of the source fields, destination fields, or both, the resulting port number is the self-source port number that enables the selection of the targeted traffic management device such that the flow of packets in both directions are handled by the same traffic management device. To determine the self-source port number, STD <b>720</b> may be solved iteratively. That is, STD (IP address, X)=target traffic management device ID is iteratively solved for X, where X is the self-source port number to be found.</p>
  <p num="p-0068"> <figref idrefs="DRAWINGS">FIG. 7</figref> shows another embodiment of a statistical traffic distributor (STD), in accordance with the present invention. As shown in the figure, STD <b>740</b> includes hash functions <b>706</b>-<b>710</b>, and allocation tables <b>708</b>-<b>712</b>. Hash function <b>706</b> is coupled to allocation table <b>708</b>. Hash function <b>710</b> is coupled to allocation table <b>712</b>. Allocation table <b>708</b> includes identifiers associated with traffic management devices A-D, and allocation table <b>712</b> includes identifiers associated with traffic management devices K-N. STD <b>740</b> may include many more components than those shown. The components shown, however, are sufficient to disclose an illustrative embodiment for practicing the invention.</p>
  <p num="p-0069">STD <b>740</b> is configured to enable partitioning or grouping of traffic management devices, based on pre-determined criteria. For example, Secure Sockets Layer (SSL) packets may be processed through hash function <b>706</b> and allocation table <b>708</b>, while non-SSL packets are processed through hash function <b>710</b> and allocation table <b>712</b>. By partitioning packets based on pre-determined criteria, traffic management devices may be allocated and load-balanced based on packet types, events, or the like.</p>
  <p num="h-0008">Illustrative Method of Distributing Traffic</p>
  <p num="p-0070">The operation of certain aspects of the present invention will now be described with respect to <figref idrefs="DRAWINGS">FIGS. 8-9</figref>. <figref idrefs="DRAWINGS">FIG. 8</figref> illustrates a flow chart for a process for determining how to forward packets, in accordance with one embodiment of the invention. Process <b>800</b> is directed towards selecting a traffic management device such that a flow of packets from a given client flows through the same traffic management device, in both directions of the packet flow. Process <b>800</b> may operate for example, in distributors <b>415</b>-<b>416</b> of <figref idrefs="DRAWINGS">FIG. 3</figref>.</p>
  <p num="p-0071">Process <b>800</b> begins, after a start block, at block <b>802</b>, when a distributor receives a packet from a client. At block <b>802</b>, a determination is made whether a destination media access control (MAC) address associated with the received packet matches the MAC address associated with a group of traffic management devices to be load balanced. If MAC addresses do not match, then the received packet is intended for another destination, and processing branches to block <b>820</b>; otherwise, processing continues to decision block <b>804</b>. At block <b>820</b>, the received packet is forwarded to another destination using a level-2 mechanism, such as bridging. Upon completion of the actions at block <b>820</b>, process <b>800</b> ends.</p>
  <p num="p-0072">At decision block <b>804</b>, a determination is made whether the received packet is of an IP protocol. For example, the received packet may be an address resolution protocol (ARP) packet that is not intended for the group of traffic management devices. If the received packet is other than an IP protocol, processing branches to block <b>822</b>; otherwise, processing continues to decision block <b>806</b>. At block <b>822</b>, the received packet is forwarded by another process. In one embodiment, the other process includes a control processor that is arranged to handle ARP traffic, ping traffic, and the like. The control processor may be integrated into an existing system, such as distributor <b>415</b>, a traffic management device such as traffic management device <b>420</b> of <figref idrefs="DRAWINGS">FIG. 3</figref>, or a separate system (not shown in <figref idrefs="DRAWINGS">FIG. 3</figref>). Upon completion of actions at block <b>822</b>, process <b>800</b> ends.</p>
  <p num="p-0073">At decision block <b>806</b>, a determination is made whether the received packet is a packet fragment. When an IP datagram is fragmented into packets for transmission through a network, each packet fragment may operate substantially as a unique packet, with its own header. Typically, the first packet in the IP datagram includes the IP source and destination addresses, while subsequent packets may include references, or offsets, to the first packet. Thus, packet fragments may involve additional processing. Thus, if the received packet is a packet fragment, processing branches to block <b>824</b>; otherwise, processing continues to block <b>808</b>. At block <b>824</b>, the packet fragments are forwarded to a fragment handler that may reassemble, or otherwise handle the packet fragments. Upon completion of the actions at block <b>824</b>, process <b>800</b> ends.</p>
  <p num="p-0074">At decision block <b>808</b>, a determination is made whether the received packet is of type TCP or UDP Protocol type. For example, the received packet may be an Internet Control Message Protocol (ICMP) type Internet Group Management Protocol (IGMP) type, or the like. Such packet types may include one source and destination address. Therefore, if the received packet is not a TCP or UDP packet type, processing branches to block <b>826</b>; otherwise, processing continues to decision block <b>810</b>.</p>
  <p num="p-0075">At block <b>826</b>, a hash is performed on the source IP address, destination IP address, and the 8-bit protocol field in the received packet. The output of the hash may be employed using STD <b>720</b> of <figref idrefs="DRAWINGS">FIG. 6</figref> to determine a traffic management device to which the received packet is forwarded. Upon completion of the actions at block <b>826</b>, process <b>800</b> ends.</p>
  <p num="p-0076">At block <b>810</b>, a determination is made whether the traffic management devices have been partitioned into groups based on a pre-determined criterion. For example, all SSL packet traffic might be allocated to one group of available traffic management devices and non-SSL packet traffic to another group of available traffic management devices. If partitioning is employed, additional information may be associated with the packet so that different STDs are employed in subsequent actions. After block <b>810</b>, processing continues to decision block <b>814</b>.</p>
  <p num="p-0077">At decision block <b>814</b>, a determination is made whether the source port number equals the destination port number in the received packet. A source port number may equal a destination port number in a variety of situations, including, but not limited to, a DNS packet, a UDP packet, a Server Message Block (SMB) protocol, and the like. If the source and destination port numbers are equal, processing branches to block <b>832</b>; otherwise, processing continues to decision block <b>816</b>. At block <b>832</b>, the received packet is forwarded to a pre-determined traffic management device. Upon completion of the actions at block <b>832</b>, process <b>800</b> ends.</p>
  <p num="p-0078">At decision block <b>816</b>, a determination is made whether the source port number is greater than the destination port number in the received packet. If the source port number is greater, then processing branches to block <b>834</b>; otherwise, processing branches to block <b>818</b>. For example, if the received packet is from a client destined to a server, and the client port number is 6900, with a server port number of 80, then processing branches to block <b>834</b>. In this example, if the received packet is from the server destined for the client, processing branches to block <b>818</b>.</p>
  <p num="p-0079">At block <b>818</b>, a hash is performed on the destination IP address and the destination port number, as described above in conjunction with <figref idrefs="DRAWINGS">FIGS. 6-7</figref>. The results of the hash function provide an identifier associated with the target traffic management device. The received packet is forwarded to the target traffic management device. Upon completion of the actions at block <b>818</b>, process <b>800</b> ends.</p>
  <p num="p-0080">At block <b>834</b>, a hash is performed on the source IP address and the source port number, as described above in conjunction with <figref idrefs="DRAWINGS">FIGS. 6-7</figref>. The results of the hash function provide an identifier associated with the target traffic management device. The received packet is forwarded to the target traffic management device. Upon completion of the actions at block <b>834</b>, process <b>800</b> ends.</p>
  <p num="p-0081">Although process <b>800</b> employs a comparison of port numbers to determine which address to hash on, the present invention is not so limited. Recall that the invention is configured to ensure that a packet flow between a given client and server passes through the same traffic management device, in both directions of the packet flow. As such, virtually any common values, fields, and the like, in both types of the packets (e.g., packets flowing from a client, and packets flowing from a server) may be selected. In process <b>800</b>, the common values include a client address, which may be within source information or destination information of a received packet. However, another common value may be selected without departing from the scope or spirit of the present invention. For example, a pad bit in the packet may be employed. A common value, or combination of common values, may be used even when the common values appear in different respective fields within packets flowing from a client or a server. Furthermore, in one aspect of the invention, the common values may be determined by extracting one or more fields from the packet, and performing a test based on the field contents to determine the proper common values to use. For example, as described above, a test of which of the source or destination port number is greater may be used to determine whether to use the source address or the destination address as the common values.</p>
  <p num="p-0082">Moreover, while forwarding the received packet in process <b>800</b> is based in part on a comparison of port numbers, the invention is not so limited. For example, a hash of the common values may be employed, to determine how to route the received packet.</p>
  <p num="p-0083"> <figref idrefs="DRAWINGS">FIG. 9</figref> shows a flow chart for maintaining traffic management device selection, in accordance with one embodiment of the invention. Process <b>900</b> may operate in traffic management devices <b>420</b>-<b>422</b> of <figref idrefs="DRAWINGS">FIG. 3</figref>. Moreover, process <b>900</b> may be employed when a traffic management device performs a network address translation on the received packet. As noted earlier, changes to a packet's IP address and/or port number could affect the process flow described in conjunction with <figref idrefs="DRAWINGS">FIG. 8</figref>. Therefore, process <b>900</b> provides one embodiment for ensuring that the same traffic management device is selected to forward a reply packet that was selected to forward the client's initial packet during a network address translation.</p>
  <p num="p-0084">Process <b>900</b> begins, after a start block, at block <b>902</b>, when a traffic management device initiates a server-side packet flow. At block <b>902</b>, a determination is made whether a network address translation is to be performed on the source IP address in the received packet. Such a determination may be based in part on a configuration setting of the traffic management device, a type of traffic management device, and the like. If affirmative, processing branches to block <b>912</b>; otherwise, processing continues to decision block <b>904</b>.</p>
  <p num="p-0085">At block <b>912</b>, a new self-source port number is selected from a pre-computed self-source port table for the translated source IP address, such that the new self-source port number is greater than a new destination port number. The pre-computed self-source port table may be configured during an initial system configuration, and the like. In one embodiment, an inverse of STD <b>720</b>, described above in conjunction with <figref idrefs="DRAWINGS">FIG. 6</figref>, may be employed to generate the self-source port table with each entry representing a possible IP address, with some port number X, such that STD (IP address, X)=target traffic management device ID. As an example, assume that a source port number from a NAT-able client packet is 6900, and the server port number is 80, with a virtual port number of 80. Then, at block <b>912</b>, the new a self-source port number that is greater than 80 is selected using the pre-computed self-source port table. If a new self-source port number is not found, then a variety of mechanisms may be employed, including, but not limited to, dropping the network connection, try another source IP address, and the like. In any event, upon completion of the actions at block <b>912</b>, processing returns to a calling process to perform other actions.</p>
  <p num="p-0086">At decision block <b>904</b>, a determination is made whether a network address translation is to be performed on the destination IP address and/or destination port number. Such a determination may be based in part on a configuration setting of the traffic management device, a type of traffic management device, and the like. If a network address translation is not to be performed, the processing returns to a calling process to perform other actions; otherwise, processing continues to decision block <b>906</b>.</p>
  <p num="p-0087">At decision block <b>906</b> a determination is made whether the source port number in the received packet is greater than the destination port number in the received packet. If the source port number is greater, processing branches to decision block <b>914</b>; otherwise processing continues to decision block <b>908</b>.</p>
  <p num="p-0088">At decision block <b>914</b>, a determination is made whether the source port number is greater than the new destination port number. If the source port number is greater, then the reply packet is anticipated to be forwarded to the same traffic management device that handled the client's initial packet in the flow of packets. Thus, if the source port number is greater, processing returns to the calling process to perform other actions; otherwise, processing branches to block <b>916</b>.</p>
  <p num="p-0089">At block <b>908</b>, a determination is made whether the source port number is less than the destination port number. If the source port number is not less, processing branches to decision block <b>916</b>; otherwise, processing branches to decision block <b>910</b>.</p>
  <p num="p-0090">At decision block <b>910</b>, a determination is made whether the source port number in the received packet is less than the new destination port number. If the source port number is less, processing returns to the calling process to perform other actions; otherwise, processing branches to block <b>916</b>.</p>
  <p num="p-0091">At decision block <b>916</b>, a determination is made whether the received packet has a pre-computed source self port number. If the source address includes a pre-computed self-source port number, processing proceeds to block <b>920</b>; otherwise, processing continues to block <b>918</b>.</p>
  <p num="p-0092">At block <b>918</b>, a new self-source port number is determined that is greater than the new destination port number. For example, given a client with a source port number of 6900, and a virtual port number of 80, with a server port number of 8080, block <b>918</b> determines a new self source port number that is greater than 8080. In one embodiment, block <b>918</b> solves the STD iteratively for a new self source port number. Because this determination may be expensive, one embodiment includes a pre-constructed table that comprises frequently seen IP addresses. Upon completion of block <b>918</b>, processing returns to the calling process to perform other actions.</p>
  <p num="p-0093">At block <b>920</b>, a new self-source port number is selected from a pre-computed table such that the selected port number is greater than the new destination port number. For example, given a client port number of 6900, a virtual port number of 80, and a server port number of 80, a self source port number would be selected that is greater than 80. Thus, for traffic from the client, process <b>800</b> in <figref idrefs="DRAWINGS">FIG. 8</figref> would result in a hash performed on the destination IP and port number (block <b>818</b>). Traffic from the server, in this example, would also result in a hash performed on the destination IP and port number (block <b>818</b>), because 80 would be less than the selected new self-source port number. Upon completion of block <b>918</b>, processing returns to the calling process to perform other actions.</p>
  <p num="p-0094">While processes <b>800</b>-<b>900</b> employ destination and source port numbers to forward a packet, the invention is not so limited. Virtually any common information associated with a client-side and a server-side packet flow may be employed to forward the packets, such that both flows of packets are directed to the same traffic management device, without departing from the scope or spirit of the invention.</p>
  <p num="p-0095">It will be understood that each block of the flowchart illustration, and combinations of blocks in the flowchart illustration, can be implemented by computer program instructions. These program instructions may be provided to a processor to produce a machine, such that the instructions, which execute on the processor, create means for implementing the actions specified in the flowchart block or blocks. The computer program instructions may be executed by a processor to cause a series of operational steps to be performed by the processor to produce a computer implemented process such that the instructions, which execute on the processor provide steps for implementing the actions specified in the flowchart block or blocks.</p>
  <p num="p-0096">Accordingly, blocks of the flowchart illustration support combinations of means for performing the specified actions, combinations of steps for performing the specified actions and program instruction means for performing the specified actions. It will also be understood that each block of the flowchart illustration, and combinations of blocks in the flowchart illustration, can be implemented by special purpose hardware-based systems which perform the specified actions or steps, or combinations of special purpose hardware and computer instructions.</p>
  <p num="p-0097">The above specification, examples, and data provide a complete description of the manufacture and use of the composition of the invention. Since many embodiments of the invention can be made without departing from the spirit and scope of the invention, the invention resides in the claims hereinafter appended.</p>
</div></div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Patent Citations</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Cited Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6157950">US6157950</a></td><td class="patent-data-table-td patent-date-value">Dec 5, 1997</td><td class="patent-data-table-td patent-date-value">Dec 5, 2000</td><td class="patent-data-table-td ">Encanto Networks, Inc.</td><td class="patent-data-table-td ">Methods and apparatus for interfacing a computer or small network to a wide area network such as the internet</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6182146">US6182146</a></td><td class="patent-data-table-td patent-date-value">Jun 27, 1997</td><td class="patent-data-table-td patent-date-value">Jan 30, 2001</td><td class="patent-data-table-td ">Compuware Corporation</td><td class="patent-data-table-td ">Automatic identification of application protocols through dynamic mapping of application-port associations</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6330602">US6330602</a></td><td class="patent-data-table-td patent-date-value">Nov 7, 1997</td><td class="patent-data-table-td patent-date-value">Dec 11, 2001</td><td class="patent-data-table-td ">Nortel Networks Limited</td><td class="patent-data-table-td ">Scaleable web server and method of efficiently managing multiple servers</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6742045">US6742045</a></td><td class="patent-data-table-td patent-date-value">Jul 2, 1999</td><td class="patent-data-table-td patent-date-value">May 25, 2004</td><td class="patent-data-table-td ">Cisco Technology, Inc.</td><td class="patent-data-table-td ">Handling packet fragments in a distributed network service environment</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6775235">US6775235</a></td><td class="patent-data-table-td patent-date-value">Feb 7, 2003</td><td class="patent-data-table-td patent-date-value">Aug 10, 2004</td><td class="patent-data-table-td ">Ragula Systems</td><td class="patent-data-table-td ">Tools and techniques for directing packets over disparate networks</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6788692">US6788692</a></td><td class="patent-data-table-td patent-date-value">Jun 1, 1999</td><td class="patent-data-table-td patent-date-value">Sep 7, 2004</td><td class="patent-data-table-td ">Nortel Networks Limited</td><td class="patent-data-table-td ">Network switch load balancing</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6792461">US6792461</a></td><td class="patent-data-table-td patent-date-value">Sep 19, 2000</td><td class="patent-data-table-td patent-date-value">Sep 14, 2004</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">System and method to manage data to a plurality of proxy servers through a router by application level protocol and an authorized list</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6792463">US6792463</a></td><td class="patent-data-table-td patent-date-value">Oct 20, 2000</td><td class="patent-data-table-td patent-date-value">Sep 14, 2004</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">System, method and program product for providing invisibility to a proxy-server</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7065569">US7065569</a></td><td class="patent-data-table-td patent-date-value">Jan 9, 2001</td><td class="patent-data-table-td patent-date-value">Jun 20, 2006</td><td class="patent-data-table-td ">Turin Networks, Inc.</td><td class="patent-data-table-td ">System and method for remote traffic management in a communication network</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7088710">US7088710</a></td><td class="patent-data-table-td patent-date-value">Nov 10, 1999</td><td class="patent-data-table-td patent-date-value">Aug 8, 2006</td><td class="patent-data-table-td ">Xyratex Technology Limited</td><td class="patent-data-table-td ">Method of transmitting information through data switching apparatus and apparatus therefor</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20020114326">US20020114326</a></td><td class="patent-data-table-td patent-date-value">Feb 16, 2001</td><td class="patent-data-table-td patent-date-value">Aug 22, 2002</td><td class="patent-data-table-td ">Rupaka Mahalingaiah</td><td class="patent-data-table-td ">Address mapping mechanism enabling multi-domain addressing in communication networks</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20030021230">US20030021230</a></td><td class="patent-data-table-td patent-date-value">Mar 9, 2001</td><td class="patent-data-table-td patent-date-value">Jan 30, 2003</td><td class="patent-data-table-td ">Petaswitch Solutions, Inc.</td><td class="patent-data-table-td ">Switch fabric with bandwidth efficient flow control</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20030229809">US20030229809</a></td><td class="patent-data-table-td patent-date-value">Apr 24, 2003</td><td class="patent-data-table-td patent-date-value">Dec 11, 2003</td><td class="patent-data-table-td ">Asaf Wexler</td><td class="patent-data-table-td ">Transparent proxy server</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20040090919">US20040090919</a></td><td class="patent-data-table-td patent-date-value">Nov 4, 2003</td><td class="patent-data-table-td patent-date-value">May 13, 2004</td><td class="patent-data-table-td ">Callon Ross W.</td><td class="patent-data-table-td ">Apparatus and method for forwarding encapsulated data packets on a network having multiple links between nodes</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20050008017">US20050008017</a></td><td class="patent-data-table-td patent-date-value">Aug 3, 2004</td><td class="patent-data-table-td patent-date-value">Jan 13, 2005</td><td class="patent-data-table-td ">Ragula Systems D/B/A Fatpipe Networks</td><td class="patent-data-table-td ">Tools and techniques for directing packets over disparate networks</td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="npl-citations"></a><div class="patent-section-header"><span class="patent-section-title">Non-Patent Citations</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th colspan="3"class="patent-data-table-th">Reference</th></tr></thead><tr><td class="patent-data-table-td ">1</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">"<a href='http://scholar.google.com/scholar?q="Amendment+to+Carrier+Sense+Multiple+Access+with+Collision+Detection+%28CSMA%2FCD%29+Access+Method+and+Physical+Layer+Specifications-Aggregation+of+Multiple+Link+Segments"'>Amendment to Carrier Sense Multiple Access with Collision Detection (CSMA/CD) Access Method and Physical Layer Specifications-Aggregation of Multiple Link Segments</a>", IEEE Std. 802.3ad-2000, Mar. 30, 2000, pp. 1-173.</td></tr><tr><td class="patent-data-table-td ">2</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">"<a href='http://scholar.google.com/scholar?q="Amendment+to+Carrier+Sense+Multiple+Access+with+Collision+Detection+%28CSMA%2FCD%29+Access+Method+and+Physical+Layer+Specifications%E2%80%94Aggregation+of+Multiple+Link+Segments"'>Amendment to Carrier Sense Multiple Access with Collision Detection (CSMA/CD) Access Method and Physical Layer Specifications—Aggregation of Multiple Link Segments</a>", IEEE Std. 802.3ad-2000, Mar. 30, 2000, pp. 1-173.</td></tr><tr><td class="patent-data-table-td ">3</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Hewitt, John R. et al., "<a href='http://scholar.google.com/scholar?q="Securities+Practice+And+Electronic+Technology%2C"'>Securities Practice And Electronic Technology,</a>" Corporate Securities Series, (New York: Law Journal Seminars-Press) 1998, title page, bibliography page, pp. 4.29-4.30.</td></tr><tr><td class="patent-data-table-td ">4</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Hopps, C., "<a href='http://scholar.google.com/scholar?q="Analysis+of+an+Equal-Cost+Multi-Path+Algorithm"'>Analysis of an Equal-Cost Multi-Path Algorithm</a>", The Internet Society, Nov. 20, 2000, pp. 1-8.</td></tr><tr><td class="patent-data-table-td ">5</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Moy, J., "<a href='http://scholar.google.com/scholar?q="OSPF+Version+2"'>OSPF Version 2</a>", The Internet Society, Apr. 1998, pp. 1-53.</td></tr><tr><td class="patent-data-table-td ">6</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Reardon, Marguerite, "<a href='http://scholar.google.com/scholar?q="A+Smarter+Session+Switch%3A+Arrowpoint%27s+CS+Session+Switches+Boast+The+Brains+Needed+For+E-Commerce%2C"'>A Smarter Session Switch: Arrowpoint's CS Session Switches Boast The Brains Needed For E-Commerce,</a>" Data Communications, Jan. 1999, title page, pp. 3, 5, 18.</td></tr><tr><td class="patent-data-table-td ">7</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Thaler, D., et al., "<a href='http://scholar.google.com/scholar?q="Multipath+Issues+in+Unicast+and+Multicast+Next-Hop+Selection"'>Multipath Issues in Unicast and Multicast Next-Hop Selection</a>", The Internet Society, Nov. 2000, pp. 1-9.</td></tr><tr><td class="patent-data-table-td ">8</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">U.S. Appl. No. 10/119,433, Notice of Allowance mailed Jun. 14, 2006.</td></tr><tr><td class="patent-data-table-td ">9</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">U.S. Appl. No. 10/119,433, Official Communication mailed Mar. 30, 2006.</td></tr><tr><td class="patent-data-table-td ">10</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">U.S. Appl. No. 10/644,692, Notice of Allowance mailed Feb. 26, 2008.</td></tr><tr><td class="patent-data-table-td ">11</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">U.S. Appl. No. 10/644,692, Official Communication mailed May 18, 2007.</td></tr><tr><td class="patent-data-table-td ">12</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">U.S. Appl. No. 10/644,692, Official Communication mailed Oct. 30, 2007.</td></tr><tr><td class="patent-data-table-td ">13</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">U.S. Appl. No. 10/659,011, Official Communication mailed Dec. 23, 2008.</td></tr><tr><td class="patent-data-table-td ">14</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">U.S. Appl. No. 10/659,011, Official Communication mailed May 27, 2009.</td></tr><tr><td class="patent-data-table-td ">15</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">U.S. Appl. No. 10/659,011, Restriction Requirement mailed Sep. 19, 2008.</td></tr><tr><td class="patent-data-table-td ">16</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">U.S. Appl. No. 11/469,843, Notice of Allowance mailed Nov. 17, 2009.</td></tr><tr><td class="patent-data-table-td ">17</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">U.S. Appl. No. 11/469,843, Official Communication mail date Apr. 1, 2009.</td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Referenced by</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Citing Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7970916">US7970916</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jul 25, 2007</td><td class="patent-data-table-td patent-date-value">Jun 28, 2011</td><td class="patent-data-table-td ">Cisco Technology, Inc.</td><td class="patent-data-table-td ">Register clustering in a sip-based network</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8234390">US8234390</a></td><td class="patent-data-table-td patent-date-value">May 13, 2011</td><td class="patent-data-table-td patent-date-value">Jul 31, 2012</td><td class="patent-data-table-td ">Cisco Technology, Inc.</td><td class="patent-data-table-td ">Register clustering in a SIP-based network</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8260926">US8260926</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Nov 25, 2008</td><td class="patent-data-table-td patent-date-value">Sep 4, 2012</td><td class="patent-data-table-td ">Citrix Systems, Inc.</td><td class="patent-data-table-td ">Systems and methods for GSLB site persistence</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20130081047">US20130081047</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Nov 19, 2012</td><td class="patent-data-table-td patent-date-value">Mar 28, 2013</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Managing a workload of a plurality of virtual servers of a computing environment</td></tr></table><div class="patent-section-footer">* Cited by examiner</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">Classifications</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">U.S. Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=4dduBgABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc709/defs709.htm&usg=AFQjCNFBXWYqUOVuuxerz7B8cqt9daJk7Q#C709S238000">709/238</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=4dduBgABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc709/defs709.htm&usg=AFQjCNFBXWYqUOVuuxerz7B8cqt9daJk7Q#C709S226000">709/226</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=4dduBgABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc709/defs709.htm&usg=AFQjCNFBXWYqUOVuuxerz7B8cqt9daJk7Q#C709S245000">709/245</a></span></td></tr><tr><td class="patent-data-table-td ">International Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=4dduBgABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G06F0015173000">G06F15/173</a></span></td></tr><tr><td class="patent-data-table-td ">Cooperative Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=4dduBgABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L12/4641">H04L12/4641</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=4dduBgABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L47/10">H04L47/10</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=4dduBgABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L47/125">H04L47/125</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=4dduBgABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L47/2441">H04L47/2441</a></span></td></tr><tr><td class="patent-data-table-td ">European Classification</td><td class="patent-data-table-td "><span class="nested-value">H04L47/12B</span>, <span class="nested-value">H04L47/10</span>, <span class="nested-value">H04L47/24D</span>, <span class="nested-value">H04L12/46V</span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">Legal Events</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Date</th><th class="patent-data-table-th">Code</th><th class="patent-data-table-th">Event</th><th class="patent-data-table-th">Description</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">Oct 21, 2013</td><td class="patent-data-table-td ">FPAY</td><td class="patent-data-table-td ">Fee payment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Year of fee payment: </span><span class="nested-value">4</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Jun 11, 2013</td><td class="patent-data-table-td ">B1</td><td class="patent-data-table-td ">Reexamination certificate first reexamination</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">THE PATENTABILITY OF CLAIMS 1-2 IS CONFIRMED.CLAIM 3 IS DETERMINED TO BE PATENTABLE AS AMENDED.</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Feb 22, 2011</td><td class="patent-data-table-td ">RR</td><td class="patent-data-table-td ">Request for reexamination filed</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20101213</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Nov 2, 2007</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">F5 NETWORKS, INC.,WASHINGTON</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:SZABO, PAUL;SCHMITT, DAVID D.;LI, NING X.;SIGNED BETWEEN20030813 AND 20030819;US-ASSIGNMENT DATABASE UPDATED:20100420;REEL/FRAME:20062/595</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:SZABO, PAUL;SCHMITT, DAVID D.;LI, NING X.;SIGNING DATES FROM 20030813 TO 20030819;REEL/FRAME:020062/0595</span></div></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">Rotate</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">Original Image</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " Image not available"});</script></div></div></div></td></tr></table><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_8a2b04e7bf975d5171d8e4c0b6365c7a.js", Host:"http://www.google.com/", IsBooksRentalEnabled:1, IsWebstoreDisplayCaseEnabled:1, IsObfuscationEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsGeoLayerEnabled:1, IsImageModeNotesEnabled:1, IsCopyMenuItemEnabled:1, IsGiftingEnabled:0, IsWebReaderUniversalPaginatorEnabled:0, IsOfflineBubbleEnabled:1, IsReaderEnabledForPlayRequests:1, IsFutureOnSaleVolumesEnabled:1, IsOfflineRestrictedCopyEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsRestrictedCopyEnabled:1, IsZipitFolderCollectionEnabled:1, IsEndOfSampleRecommendationsEnabled:1, IsRatingsOnBookcardsEnabled:1, IsAdsDisabled:0, IsIframePageDisplayEnabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:0, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsPreOrdersEnabled:0, IsDisabledRandomBookshelves:0, WebstoreDisplayCasePosition:3});_OC_Run({"enable_p13n":false,"add_vol_to_collection_base_url":"http://www.google.com/patents?op=add\u0026sig=ACfU3U1lhmkrS-3E9aTUDAzWBvUBCwyZ4w\u0026id=4dduBgABERAJ","remove_vol_from_collection_base_url":"http://www.google.com/patents?op=remove\u0026sig=ACfU3U20jQBt9WSE9T7r5jnLStKwyj2Zdg\u0026id=4dduBgABERAJ","logged_in":false,"p13n_save_user_settings_url":"http://www.google.com/patents?op=edit_user_settings\u0026sig=ACfU3U34dh58JxIi9F-QBhz_7W33_jL2Wg","is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=http://www.google.com/patents%3Fhl%3Den\u0026hl=en","is_play_enabled":true}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"http://www.google.com/patents/download/Method_and_system_for_scaling_network_tr.pdf?id=4dduBgABERAJ\u0026output=pdf\u0026sig=ACfU3U2GpijYa2-woDRDXju1FGgZu0PXdA"},"sample_url":"http://www.google.com/patents/reader?id=4dduBgABERAJ\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href=http://www.google.com/><nobr>Google&nbsp;Home</nobr></a> - <a href=//www.google.com/patents/sitemap/><nobr>Sitemap</nobr></a> - <a href=http://www.google.com/googlebooks/uspto.html><nobr>USPTO Bulk Downloads</nobr></a> - <a href=/intl/en/privacy/><nobr>Privacy Policy</nobr></a> - <a href=/intl/en/policies/terms/><nobr>Terms of Service</nobr></a> - <a href=https://support.google.com/faqs/answer/2539193?hl=en><nobr>About Google Patents</nobr></a> - <a href="http://www.google.com/tools/feedback/intl/en/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'en'});return false;}catch(e){}"><nobr>Send Feedback</nobr></a></div><span>Data provided by IFI CLAIMS Patent Services</span><br><span >&copy;2012 Google</span></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>