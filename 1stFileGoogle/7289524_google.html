<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html><head><title>Patent US7289524 - Execution unit for a network processor - Google Patents</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_8a2b04e7bf975d5171d8e4c0b6365c7a/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_8a2b04e7bf975d5171d8e4c0b6365c7a__en.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "en",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="Execution unit for a network processor"><meta name="DC.contributor" content="Walter Clark Milliken" scheme="inventor"><meta name="DC.contributor" content="Jack Dietz" scheme="inventor"><meta name="DC.contributor" content="Bbn Technologies Corp." scheme="assignee"><meta name="DC.date" content="2002-10-3" scheme="dateSubmitted"><meta name="DC.description" content="An execution unit (260) within a network processor (110) performs multiple protocol-processing functions. The execution unit (260) includes a set of specialized registers (310-350) and a memory system (265). The specialized registers (310-350) store data during performance of the protocol-processing functions. The specialized registers (310-350) include one or more input registers, at least one control register, and one or more output registers. The memory system (265) includes multiple memories that operate together to facilitate performance of the protocol-processing functions by the execution unit (260)."><meta name="DC.date" content="2007-10-30" scheme="issued"><meta name="DC.relation" content="US:5809078" scheme="references"><meta name="DC.relation" content="US:6054942" scheme="references"><meta name="DC.relation" content="US:6076137" scheme="references"><meta name="DC.relation" content="US:6212569" scheme="references"><meta name="DC.relation" content="US:6327639" scheme="references"><meta name="DC.relation" content="US:6438678" scheme="references"><meta name="DC.relation" content="US:6725351" scheme="references"><meta name="citation_reference" content="Federal Information Processing Standards Publication 197, Nov. 26, 2001, Announcing the Advanced Encryption Standard (AES), 50 pages."><meta name="citation_reference" content="Joan Daemen and Vincent Rijmen, The Rijndael Block Cipher, AES Proposal: Rijndael, Document version 2, Mar. 9, 1999, 45 pages."><meta name="citation_patent_number" content="US:7289524"><meta name="citation_patent_application_number" content="US:10/263,641"><link rel="canonical" href="http://www.google.com/patents/US7289524"/><meta property="og:url" content="http://www.google.com/patents/US7289524"/><meta name="title" content="Patent US7289524 - Execution unit for a network processor"/><meta name="description" content="An execution unit (260) within a network processor (110) performs multiple protocol-processing functions. The execution unit (260) includes a set of specialized registers (310-350) and a memory system (265). The specialized registers (310-350) store data during performance of the protocol-processing functions. The specialized registers (310-350) include one or more input registers, at least one control register, and one or more output registers. The memory system (265) includes multiple memories that operate together to facilitate performance of the protocol-processing functions by the execution unit (260)."/><meta property="og:title" content="Patent US7289524 - Execution unit for a network processor"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>(function(){try{var aa=function(a,b,c,d){d=d||{};d._sn=["cfg",b,c].join(".");window.gbar.logger.ml(a,d)};var g=window.gbar=window.gbar||{},l=window.gbar.i=window.gbar.i||{},m={},n;function _tvn(a,b){var c=parseInt(a,10);return isNaN(c)?b:c}function _tvf(a,b){var c=parseFloat(a);return isNaN(c)?b:c}function _tvv(a){return!!a}function p(a,b,c){(c||g)[a]=b}g.bv={n:_tvn("2",0),r:"",f:".67.",e:"0",m:_tvn("0",1)};
function q(a,b,c){var d="on"+b;if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent(d,c);else{var f=a[d];a[d]=function(){var a=f.apply(this,arguments),b=c.apply(this,arguments);return void 0==a?b:void 0==b?a:b&&a}}}var s=function(a){return function(){return g.bv.m==a}},ba=s(1),ca=s(2);p("sb",ba);p("kn",ca);l.a=_tvv;l.b=_tvf;l.c=_tvn;l.i=aa;var da=window.gbar.i.i;var t,u,v,w;function ea(a){v=a}function fa(a){var b;if(b=v&&window.encodeURIComponent)b=a.href,b=!b.match(/^http[s]?:\/\/accounts\.google\.[^/]*\/ClearSID/i)&&!b.match(/^http[s]?:\/\/[^/]*\/accounts\/ClearSID/i);if(b=b&&encodeURIComponent(v()))a.href=a.href.replace(/([?&]continue=)[^&]*/,"$1"+b)}function ga(a){window.gApplication&&(a.href=window.gApplication.getTabUrl(a.href))}
function ha(a){var b=document.forms[0].q,c=window.encodeURIComponent&&b&&b.value,b=b&&b.placeholder;c&&c!=b&&(a.href=a.href.replace(/([?&])q=[^&]*|$/,function(a,b){return(b||"&")+"q="+encodeURIComponent(c)}))}n=l.a("")?ga:ha;
function x(a,b,c,d,f,e){var h=document.getElementById(a);if(h){var k=h.style;k.left=d?"auto":b+"px";k.right=d?b+"px":"auto";k.top=c+"px";k.visibility=u?"hidden":"visible";f&&e?(k.width=f+"px",k.height=e+"px"):(x(t,b,c,d,h.offsetWidth,h.offsetHeight),u=u?"":a)}}
var y=[],ia=function(a,b){y.push(b)},ja=function(a){a=a||window.event;var b=a.target||a.srcElement;a.cancelBubble=!0;null==t&&(a=document.createElement(Array.every||window.createPopup?"iframe":"div"),a.frameBorder="0",t=a.id="gbs",a.src="javascript:''",b.parentNode.appendChild(a),q(document,"click",z));var c=b,b=0;"gb3"!=c.className&&(c=c.parentNode);a=c.getAttribute("aria-owns")||"gbi";var d=c.offsetWidth,f=20<c.offsetTop?46:24;document.getElementById("tphdr")&&(f-=3);var e=!1;do b+=c.offsetLeft||
0;while(c=c.offsetParent);var c=(document.documentElement.clientWidth||document.body.clientWidth)-b-d,h,d=document.body,k=document.defaultView;k&&k.getComputedStyle?(d=k.getComputedStyle(d,""))&&(h=d.direction):h=d.currentStyle?d.currentStyle.direction:d.style.direction;h="rtl"==h;if("gbi"==a){for(d=0;k=y[d++];)k();A(null,window.navExtra);h&&(b=c,e=!0)}else h||(b=c,e=!0);u!=a&&z();x(a,b,f,e)},z=function(){u&&x(u,0,0)},A=function(a,b){var c,d=document.getElementById("gbi"),f=a;f||(f=d.firstChild);
for(;b&&(c=b.pop());){var e=d,h=c,k=f;w||(w="gb2");e.insertBefore(h,k).className=w}},ka=function(a,b,c){if((b=document.getElementById(b))&&a){a.className="gb4";var d=document.createElement("span");d.appendChild(a);d.appendChild(document.createTextNode(" | "));d.id=c;b.appendChild(d)}},la=function(){return document.getElementById("gb_70")},ma=function(){return!!u};p("qs",n);p("setContinueCb",ea);p("pc",fa);p("tg",ja);p("close",z);p("addLink",ka);p("almm",A);p("si",la);p("adh",ia);p("op",ma);var B=function(){},C=function(){},F=function(a){var b=new Image,c=D;b.onerror=b.onload=b.onabort=function(){try{delete E[c]}catch(a){}};E[c]=b;b.src=a;D=c+1},E=[],D=0;p("logger",{il:C,ml:B,log:F});var G=window.gbar.logger;var H={},na={},I=[],oa=l.b("0.1",.1),pa=l.a("1",!0),qa=function(a,b){I.push([a,b])},ra=function(a,b){H[a]=b},sa=function(a){return a in H},J={},K=function(a,b){J[a]||(J[a]=[]);J[a].push(b)},ta=function(a){K("m",a)},L=function(a,b){var c=document.createElement("script");c.src=a;c.async=pa;Math.random()<oa&&(c.onerror=function(){c.onerror=null;B(Error("Bundle load failed: name="+(b||"UNK")+" url="+a))});(document.getElementById("xjsc")||document.getElementsByTagName("body")[0]||
document.getElementsByTagName("head")[0]).appendChild(c)},N=function(a){for(var b=0,c;(c=I[b])&&c[0]!=a;++b);!c||c[1].l||c[1].s||(c[1].s=!0,M(2,a),c[1].url&&L(c[1].url,a),c[1].libs&&m.d&&m.d(c[1].libs))},O=function(a){K("gc",a)},P=null,ua=function(a){P=a},M=function(a,b,c){if(P){a={t:a,b:b};if(c)for(var d in c)a[d]=c[d];try{P(a)}catch(f){}}};p("mdc",H);p("mdi",na);p("bnc",I);p("qGC",O);p("qm",ta);p("qd",J);p("lb",N);p("mcf",ra);p("bcf",qa);p("aq",K);p("mdd","");p("has",sa);
p("trh",ua);p("tev",M);var Q=l.b("0.1",.001),R=0;
function _mlToken(a,b){try{if(1>R){R++;var c,d=a,f=b||{},e=encodeURIComponent,h=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&jexpid=",e("17483"),"&srcpg=",e("prop=22"),"&jsr=",Math.round(1/Q),"&ogev=",e("N03sU7qUOJKhyATlqYDgCQ"),"&ogf=",g.bv.f,"&ogrp=",e("1"),"&ogv=",e("1407723702.0"),"&oggv="+e("es_plusone_gc_20140723.0_p0"),"&ogd=",e("com"),"&ogc=",e("CAN"),"&ogl=",e("en")];f._sn&&(f._sn="og."+
f._sn);for(var k in f)h.push("&"),h.push(e(k)),h.push("="),h.push(e(f[k]));h.push("&emsg=");h.push(e(d.name+":"+d.message));var r=h.join("");S(r)&&(r=r.substr(0,2E3));c=r;var Aa=window.gbar.logger._aem(a,c);F(Aa)}}catch(Na){}}var S=function(a){return 2E3<=a.length},va=function(a,b){return b};function T(a){B=a;p("_itl",S,G);p("_aem",va,G);p("ml",B,G);a={};H.er=a}l.a("")?T(function(a){throw a;}):l.a("1")&&Math.random()<Q&&T(_mlToken);I.push(["m",{url:"//ssl.gstatic.com/gb/js/scm_7385cc5883250b43a39405734c1bea59.js"}]);g.mcf("c",{});g.sg={c:""};if(l.a("1")){var wa=l.a("");I.push(["gc",{auto:wa,url:"//ssl.gstatic.com/gb/js/abc/gci_91f30755d6a6b787dcc2a4062e6e9824.js",libs:"googleapis.client:plusone:gapi.iframes"}]);var xa={version:"gci_91f30755d6a6b787dcc2a4062e6e9824.js",index:"",lang:"en"};H.gc=xa;var U=function(a){window.googleapis&&window.iframes?a&&a():(a&&O(a),N("gc"))};p("lGC",U);l.a("1")&&p("lPWF",U)};window.__PVT="";if(l.a("1")&&l.a("1")){var V=function(a){U(function(){K("pw",a);N("pw")})};p("lPW",V);I.push(["pw",{url:"//ssl.gstatic.com/gb/js/abc/pwm_45f73e4df07a0e388b0fa1f3d30e7280.js"}]);var W=[],ya=function(a){W[0]=a},za=function(a,b){var c=b||{};c._sn="pw";B(a,c)},Ba={signed:W,elog:za,base:"https://plusone.google.com/u/0",loadTime:(new Date).getTime()};H.pw=Ba;var X=function(a,b){for(var c=b.split("."),d=function(){var b=arguments;a(function(){for(var a=g,d=0,e=c.length-1;d<e;++d)a=a[c[d]];a[c[d]].apply(a,b)})},f=g,e=0,h=c.length-1;e<h;++e)f=
f[c[e]]=f[c[e]]||{};return f[c[e]]=d};X(V,"pw.clk");X(V,"pw.hvr");p("su",ya,g.pw)};function Ca(){function a(){for(var b;(b=e[h++])&&"m"!=b[0]&&!b[1].auto;);b&&(M(2,b[0]),b[1].url&&L(b[1].url,b[0]),b[1].libs&&m.d&&m.d(b[1].libs));h<e.length&&setTimeout(a,0)}function b(){0<f--?setTimeout(b,0):a()}var c=l.a("1"),d=l.a(""),f=3,e=I,h=0,k=window.gbarOnReady;if(k)try{k()}catch(r){da(r,"ml","or")}d?p("ldb",a):c?q(window,"load",b):b()}p("rdl",Ca);var Da={D:1,H:2,da:3,p:4,W:5,M:6,F:7,g:8,ha:9,U:10,L:11,T:12,S:13,N:14,Q:15,P:16,fa:17,w:18,O:19,ga:20,ea:21,u:22,G:23,ja:24,ka:25,ia:26,A:27,j:28,o:29,k:30,ca:31,Z:32,$:33,J:34,K:35,ba:36,aa:37,Y:38,B:39,R:40,v:41,X:42,V:43,h:48,C:49,I:500},Y=[1,2,3,4,5,6,9,10,11,13,14,28,29,30,34,35,37,38,39,40,41,42,43,48,49,500];var Z=l.b("0.001",1E-4),Ea=l.b("1",1),Fa=!1,Ga=!1;if(l.a("1")){var Ha=Math.random();Ha<=Z&&(Fa=!0);Ha<=Ea&&(Ga=!0)}var Ia=Da,$=null;function Ja(){var a=0,b=function(b,d){l.a(d)&&(a|=b)};b(1,"");b(2,"");b(4,"");b(8,"");return a}
function Ka(a,b){var c=Z,d=Fa,f;f=a;if(!$){$={};for(var e=0;e<Y.length;e++){var h=Y[e];$[h]=!0}}if(f=!!$[f])c=Ea,d=Ga;if(d){d=encodeURIComponent;g.rp?(f=g.rp(),f="-1"!=f?f:"1"):f="1";c=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&oge=",a,"&ogex=",d("17483"),"&ogev=",d("N03sU7qUOJKhyATlqYDgCQ"),"&ogf=",g.bv.f,"&ogp=",d("22"),"&ogrp=",d(f),"&ogsr=",Math.round(1/c),"&ogv=",d("1407723702.0"),"&oggv="+
d("es_plusone_gc_20140723.0_p0"),"&ogd=",d("com"),"&ogl=",d("en"),"&ogc=",d("CAN"),"&ogus=",Ja()];if(b){"ogw"in b&&(c.push("&ogw="+b.ogw),delete b.ogw);var k;f=b;e=[];for(k in f)0!=e.length&&e.push(","),e.push(La(k)),e.push("."),e.push(La(f[k]));k=e.join("");""!=k&&(c.push("&ogad="),c.push(d(k)))}F(c.join(""))}}function La(a){"number"==typeof a&&(a+="");return"string"==typeof a?a.replace(".","%2E").replace(",","%2C"):a}C=Ka;p("il",C,G);var Ma={};H.il=Ma;setTimeout(function(){C(Ia.g)},0);}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var b=window.gbar.i.i;var c=window.gbar;var f=function(d){try{var a=document.getElementById("gbom");a&&d.appendChild(a.cloneNode(!0))}catch(e){b(e,"omas","aomc")}};c.aomc=f;}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var a=window.gbar;a.mcf("pm",{p:""});}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{window.gbar.rdl();}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{float:left;height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}#gbs,.gbm{background:#fff;left:0;position:absolute;text-align:left;visibility:hidden;z-index:1000}.gbm{border:1px solid;border-color:#c9d7f1 #36c #36c #a2bae7;z-index:1001}.gb1{margin-right:.5em}.gb1,.gb3{zoom:1}.gb2{display:block;padding:.2em .5em}.gb2,.gb3{text-decoration:none !important;border-bottom:none}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb2,a.gb3,a.gb4{color:#00c !important}.gbi .gb3,.gbi .gb2,.gbi .gb4{color:#dd8e27 !important}.gbf .gb3,.gbf .gb2,.gbf .gb4{color:#900 !important}a.gb2:hover{background:#36c;color:#fff !important}#gbar .gbz0l{color:#000 !important;cursor:default;font-weight:bold;text-decoration:none !important}
#gbar { padding:.3em .6em !important;}</style></head><body  topmargin="3" marginheight="3"><div id=gbar><nobr><a onclick=gbar.qs(this);gbar.logger.il(1,{t:1}); class=gb1 id=gb_1 href="https://www.google.com/search?sa=N&tab=tw">Search</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:2}); class=gb1 id=gb_2 href="http://www.google.com/search?hl=en&tbm=isch&source=og&sa=N&tab=ti">Images</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:8}); class=gb1 id=gb_8 href="http://maps.google.com/maps?hl=en&sa=N&tab=tl">Maps</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:78}); class=gb1 id=gb_78 href="https://play.google.com/?hl=en&sa=N&tab=t8">Play</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:36}); class=gb1 id=gb_36 href="http://www.youtube.com/results?sa=N&tab=t1">YouTube</a> <a onclick=gbar.logger.il(1,{t:5}); class=gb1 id=gb_5 href="http://news.google.com/nwshp?hl=en&tab=tn">News</a> <a onclick=gbar.logger.il(1,{t:23}); class=gb1 id=gb_23 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a onclick=gbar.logger.il(1,{t:25}); class=gb1 id=gb_25 href="https://drive.google.com/?tab=to">Drive</a> <a class=gb3 href="http://www.google.com/intl/en/options/" onclick="this.blur();gbar.tg(event);return !1" aria-haspopup=true><u>More</u> <small>&#9660;</small></a><div class=gbm id=gbi><a onclick=gbar.logger.il(1,{t:24}); class=gb2 id=gb_24 href="https://www.google.com/calendar?tab=tc">Calendar</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:51}); class=gb2 id=gb_51 href="http://translate.google.com/?hl=en&sa=N&tab=tT">Translate</a><a onclick=gbar.logger.il(1,{t:17}); class=gb2 id=gb_17 href="http://www.google.com/mobile/?hl=en&tab=tD">Mobile</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:10}); class=gb2 id=gb_10 href="http://www.google.com/search?hl=en&tbo=u&tbm=bks&source=og&sa=N&tab=tp">Books</a><a onclick=gbar.logger.il(1,{t:212}); class=gb2 id=gb_212 href="https://wallet.google.com/manage/?tab=ta">Wallet</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:6}); class=gb2 id=gb_6 href="http://www.google.com/search?hl=en&tbo=u&tbm=shop&source=og&sa=N&tab=tf">Shopping</a><a onclick=gbar.logger.il(1,{t:30}); class=gb2 id=gb_30 href="http://www.blogger.com/?tab=tj">Blogger</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:27}); class=gb2 id=gb_27 href="http://www.google.com/finance?sa=N&tab=te">Finance</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:31}); class=gb2 id=gb_31 href="https://plus.google.com/photos?sa=N&tab=tq">Photos</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:12}); class=gb2 id=gb_12 href="http://www.google.com/search?hl=en&tbo=u&tbm=vid&source=og&sa=N&tab=tv">Videos</a><div class=gb2><div class=gbd></div></div><a onclick=gbar.logger.il(1,{t:66}); href="http://www.google.com/intl/en/options/" class=gb2>Even more &raquo;</a></div></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=http://www.google.com/patents%3Fhl%3Den&hl=en" class=gb4>Sign in</a><div style="display: none"><div class=gbm id=gbd5 aria-owner=gbg5><div class=gbmc><ol id=gbom class=gbmcc></ol></div></div></div></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="http://www.google.com/patents/us7289524?hl=en&amp;output=html_text" title="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."><img border="0" src="http://www.google.com/images/cleardot.gif"alt="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."></a></div><div id="guser"><nobr></nobr></div><div style="clear:both;"></div><div id="gb-top-search-box" class="gb-top-search-box-small gb-reset"><table><tr><td class="logo"><a href="http://www.google.com/patents" class="logo-link"><img class="logo-img" src="/intl/en/images/logos/google_logo_41.png" alt="Go to Google Books Home" height="41"/></a></td><td><form action="http://www.google.com/search" name="f" id="vheadf" method="get"><span id="hf"></span><input type="hidden" name="tbm" value="pts"/><input type="hidden" name="tbo" value="1"/><input type="hidden" name="hl" value="en"/><table><tr><td><div class="inputs"><table><tr><td><div class="text-input"><input type="text" name="q" id="vheadq" class="text" maxlength="2048" size="31" value="" title="Search Patents" accesskey="s" autocomplete="off"/><script>window._OC_autoDir &&window._OC_autoDir('vheadq', 'tia-vheadq');</script></div></td><td><div class="submit-input"><input name="btnG" class="submit" type="submit" value=""/></div></td></tr></table></div></td><td class="col-ext-links"><div class="ext-links"><a href="http://www.google.com/advanced_patent_search">&lt;nobr&gt;Advanced Patent Search&lt;/nobr&gt;</a></div></td></tr></table></form></td></tr></table></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents">Patents</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/US7289524"></a><a id="appbar-patents-discuss-this-link" href="http://www.google.com/url?id=hJt_BAABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpatent%3DUS7289524&amp;usg=AFQjCNHFIz00rpHofORqgk1X7xlV8kD90g" data-is-grant="true"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/US7289524.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/US7289524.pdf"></a><a class="appbar-application-grant-link" data-label="Application" href="/patents/US20030091036"></a><a class="appbar-application-grant-link" data-selected="true" data-label="Grant" href="/patents/US7289524"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="http://www.google.com/patents/US7289524" style="display:none"><span itemprop="description">An execution unit (260) within a network processor (110) performs multiple protocol-processing functions. The execution unit (260) includes a set of specialized registers (310-350) and a memory system (265). The specialized registers (310-350) store data during performance of the protocol-processing...</span><span itemprop="url">http://www.google.com/patents/US7289524?utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">Patent US7289524 - Execution unit for a network processor</span><img itemprop="image" src="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="Patent US7289524 - Execution unit for a network processor" title="Patent US7289524 - Execution unit for a network processor"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="http://www.google.com/advanced_patent_search">Advanced Patent Search</a></li></ol></div><table id="viewport_table" cellpadding="0" style="clear:both" cellspacing="0"><tr><td id="viewport_td"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata"><tr><td class="patent-bibdata-heading">Publication number</td><td class="single-patent-bibdata">US7289524 B2</td></tr><tr><td class="patent-bibdata-heading">Publication type</td><td class="single-patent-bibdata">Grant</td></tr><tr><td class="patent-bibdata-heading">Application number</td><td class="single-patent-bibdata">US 10/263,641</td></tr><tr><td class="patent-bibdata-heading">Publication date</td><td class="single-patent-bibdata">Oct 30, 2007</td></tr><tr><td class="patent-bibdata-heading">Filing date</td><td class="single-patent-bibdata">Oct 3, 2002</td></tr><tr><td class="patent-bibdata-heading">Priority date<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="The priority date is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the date listed."></span></td><td class="single-patent-bibdata">Oct 4, 2001</td></tr><tr><td class="patent-bibdata-heading">Fee status<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="The fee status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status or dates listed."></span></td><td class="single-patent-bibdata">Paid</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Also published as</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/US20030091036">US20030091036</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading">Publication number</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">10263641, </span><span class="patent-bibdata-value">263641, </span><span class="patent-bibdata-value">US 7289524 B2, </span><span class="patent-bibdata-value">US 7289524B2, </span><span class="patent-bibdata-value">US-B2-7289524, </span><span class="patent-bibdata-value">US7289524 B2, </span><span class="patent-bibdata-value">US7289524B2</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Inventors</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Walter+Clark+Milliken%22">Walter Clark Milliken</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Jack+Dietz%22">Jack Dietz</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Original Assignee</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=inassignee:%22Bbn+Technologies+Corp.%22">Bbn Technologies Corp.</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Export Citation</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/US7289524.bibtex">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7289524.enw">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7289524.ris">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">Patent Citations</a> (7),</span> <span class="patent-bibdata-value"><a href="#npl-citations">Non-Patent Citations</a> (2),</span> <span class="patent-bibdata-value"><a href="#forward-citations">Referenced by</a> (1),</span> <span class="patent-bibdata-value"><a href="#classifications">Classifications</a> (8),</span> <span class="patent-bibdata-value"><a href="#legal-events">Legal Events</a> (10)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">External Links:&nbsp;</span><span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=hJt_BAABERAJ&q=http://patft.uspto.gov/netacgi/nph-Parser%3FSect2%3DPTO1%26Sect2%3DHITOFF%26p%3D1%26u%3D/netahtml/PTO/search-bool.html%26r%3D1%26f%3DG%26l%3D50%26d%3DPALL%26RefSrch%3Dyes%26Query%3DPN/7289524&usg=AFQjCNGIwikvNKb9plSFwEChImMmg-WY8Q">USPTO</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=hJt_BAABERAJ&q=http://assignments.uspto.gov/assignments/q%3Fdb%3Dpat%26pat%3D7289524&usg=AFQjCNFIKVUITPqadPLrklxURlTcvXfyLw">USPTO Assignment</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=hJt_BAABERAJ&q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DUS%26NR%3D7289524B2%26KC%3DB2%26FT%3DD&usg=AFQjCNEELnM8Pw-9j9FEucr6j97n7_gYgQ">Espacenet</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT55822876" lang="EN" load-source="patent-office">Execution unit for a network processor</invention-title></span><br><span class="patent-number">US 7289524 B2</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title">Abstract</span></div><div class="patent-text"><abstract mxw-id="PA51223098" lang="EN" load-source="patent-office"> <div num="p-0001" class="abstract">An execution unit (<b>260</b>) within a network processor (<b>110</b>) performs multiple protocol-processing functions. The execution unit (<b>260</b>) includes a set of specialized registers (<b>310</b>-<b>350</b>) and a memory system (<b>265</b>). The specialized registers (<b>310</b>-<b>350</b>) store data during performance of the protocol-processing functions. The specialized registers (<b>310</b>-<b>350</b>) include one or more input registers, at least one control register, and one or more output registers. The memory system (<b>265</b>) includes multiple memories that operate together to facilitate performance of the protocol-processing functions by the execution unit (<b>260</b>).</div>
  </abstract></div></div><div class="patent-section patent-drawings-section"><div class="patent-section-header"><span class="patent-section-title">Images<span class="patent-section-count">(20)</span></span></div><div class="patent-drawings-body"><div class="patent-drawings-carousel"><div class="drawings"><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00000.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00000.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00001.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00001.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00002.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00002.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00003.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00003.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00004.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00004.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00005.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00005.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00006.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00006.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00007.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00007.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00008.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00008.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00009.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00009.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00010.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00010.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00011.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00011.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00012.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00012.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00013.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00013.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00014.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00014.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00015.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00015.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00016.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00016.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00017.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00017.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00018.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00018.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7289524B2/US07289524-20071030-D00019.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7289524B2/US07289524-20071030-D00019.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div></div></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img" alt="Previous page"src="/googlebooks/images/kennedy/page_left.png"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img" alt="Next page"src="/googlebooks/images/kennedy/page_right.png"width="21" height="21" /></div></div></div><div class="patent-post-drawings"></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">Claims<span class="patent-section-count">(29)</span></span></div><div class="patent-text"><div mxw-id="PCLM9293091" lang="EN" load-source="patent-office" class="claims">
    <div class="claim"> <div id="CLM-00001" num="00001" class="claim">
      <div class="claim-text">1. A network device, comprising:
<div class="claim-text">a switching fabric; and</div>
<div class="claim-text">a plurality of network processors connected to communicate via the switching fabric, the network processors including:
<div class="claim-text">a plurality of input register files,</div>
<div class="claim-text">a plurality of output register files, and</div>
<div class="claim-text">an execution unit configured to perform a plurality of protocol-processing functions on data received via the input register files and output the data via the output register files, the execution unit comprising:
<div class="claim-text">a plurality of specialized registers configured to store the data during performance of the protocol-processing functions, and</div>
<div class="claim-text">a memory that performs a plurality of functions depending on which of the protocol-processing functions is performed by the execution unit.</div>
</div>
</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00002" num="00002" class="claim">
      <div class="claim-text">2. The network device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the memory includes:
<div class="claim-text">a plurality of fast memories.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00003" num="00003" class="claim">
      <div class="claim-text">3. The network device of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the fast memories operate together to form at least one of:
<div class="claim-text">a set of high-bandwidth scratchpad memories,</div>
<div class="claim-text">a set of control memories, and</div>
<div class="claim-text">a set of byte-indexed table memories.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00004" num="00004" class="claim">
      <div class="claim-text">4. The network device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the protocol-processing functions include at least two of stuffing and unstuffing, bit movement, space/time byte switching, table lookup, and cryptography primitive operations.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00005" num="00005" class="claim">
      <div class="claim-text">5. The network device of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the stuffing and unstuffing operations include High-Level Data Link Control (HDLC) bit-stuffing, HDLC bit-unstuffing, Packet-Over-SONET (POS) byte-stuffing, and POS byte-unstuffing.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00006" num="00006" class="claim">
      <div class="claim-text">6. The network device of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the bit movement operations include any combination of arithmetic or logical shift or rotate operations, extraction or insertion of one or more fields of the data, clearing of one or more sub-fields of the data, sign-extension of one or more of the sub-fields of the data, and insertion or deletion of one or more bits or bytes of the data.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00007" num="00007" class="claim">
      <div class="claim-text">7. The network device of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the space/time byte switching operations include SONET channel multiplexing and demultiplexing.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00008" num="00008" class="claim">
      <div class="claim-text">8. The network device of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the table lookup operations include parallel byte-mapping operations.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00009" num="00009" class="claim">
      <div class="claim-text">9. The network device of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the cryptography primitive operations include round calculations for an Advanced Encryption Standard encryption or decryption.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00010" num="00010" class="claim">
      <div class="claim-text">10. The network device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the specialized registers include:
<div class="claim-text">one or more input registers,</div>
<div class="claim-text">at least one control register, and</div>
<div class="claim-text">one or more output registers.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00011" num="00011" class="claim">
      <div class="claim-text">11. The network device of <claim-ref idref="CLM-00010">claim 10</claim-ref>, further comprising:
<div class="claim-text">a crossbar connecting the one or more input registers to the one or more output registers.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00012" num="00012" class="claim">
      <div class="claim-text">12. The network device of <claim-ref idref="CLM-00010">claim 10</claim-ref>, further comprising:
<div class="claim-text">a plurality of multiplexers connected to provide data to the one or more input registers and the one or more output registers.</div>
</div>
    </div>
    </div> <div class="claim"> <div id="CLM-00013" num="00013" class="claim">
      <div class="claim-text">13. An execution unit within a network processor that performs a plurality of protocol-processing functions, comprising:
<div class="claim-text">a plurality of specialized registers configured to store data during performance of the protocol-processing functions, the specialized registers including:
<div class="claim-text">one or more input registers,</div>
<div class="claim-text">at least one control register, and</div>
<div class="claim-text">one or more output registers: and</div>
</div>
<div class="claim-text">a memory system that includes a plurality of memories configured to operate together to facilitate performance of the protocol-processing functions by the execution unit,</div>
<div class="claim-text">wherein the protocol-processing functions include at least two of stuffing and unstuffing, bit movement, space/time byte switching, table lookup, or cryptography primitive operations.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00014" num="00014" class="claim">
      <div class="claim-text">14. The execution unit of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the memories operate together to form at least one of:
<div class="claim-text">a set of high-bandwidth scratchpad memories,</div>
<div class="claim-text">a set of control memories, or</div>
<div class="claim-text">a set of byte-indexed table memories.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00015" num="00015" class="claim">
      <div class="claim-text">15. The execution unit of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the stuffing and unstuffing operations include High-Level Data Link Control (HDLC) bit-stuffing, HDLC bit-unstuffing, Packet-Over-SONET (POS) byte-stuffing, and POS byte-unstuffing.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00016" num="00016" class="claim">
      <div class="claim-text">16. The execution unit of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the bit movement operations include any combination of arithmetic or logical shift or rotate operations, extraction or insertion of one or more fields of the data, clearing of one or more sub-fields of the data, sign-extension of one or more of the sub-fields of the data, and insertion or deletion of one or more bits or bytes of the data.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00017" num="00017" class="claim">
      <div class="claim-text">17. The execution unit of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the space/time byte switching operations include SONET channel multiplexing and demultiplexing.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00018" num="00018" class="claim">
      <div class="claim-text">18. The execution unit of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the table lookup operations include parallel byte-mapping operations.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00019" num="00019" class="claim">
      <div class="claim-text">19. The execution unit of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the cryptography primitive operations include round calculations for an Advanced Encryption Standard encryption or decryption.</div>
    </div>
    </div> <div class="claim"> <div id="CLM-00020" num="00020" class="claim">
      <div class="claim-text">20. An execution unit within a network processor that performs a plurality of protocol-processing functions, comprising:
<div class="claim-text">a plurality of specialized registers configured to store data during performance of the protocol-processing functions, the specialized registers including:
<div class="claim-text">one or more input registers,</div>
<div class="claim-text">at least one control register, and</div>
<div class="claim-text">one or more output registers;</div>
</div>
<div class="claim-text">a memory system that includes a plurality or memories configured to operate together to facilitate performance of the protocol-processing functions by the execution unit: and</div>
<div class="claim-text">a crossbar connecting the one or more input registers to the one or more output registers.</div>
</div>
    </div>
    </div> <div class="claim"> <div id="CLM-00021" num="00021" class="claim">
      <div class="claim-text">21. An execution unit within a network processor that performs a plurality of protocol-processing functions, comprising:
<div class="claim-text">a plurality of specialized registers configured to store data during performance of the protocol-processing functions, the specialized registers including:
<div class="claim-text">one or more input registers,</div>
<div class="claim-text">at least one control register, and</div>
<div class="claim-text">one or more output registers;</div>
</div>
<div class="claim-text">a memory system that includes a plurality of memories configured to operate together to facilitate performance of the protocol-processing functions by the execution unit: and</div>
<div class="claim-text">a plurality of multiplexers connected to provide data to the one or more input registers and the one or more output registers.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00022" num="00022" class="claim">
      <div class="claim-text">22. The execution unit of <claim-ref idref="CLM-00020">claim 20</claim-ref>, wherein the memories include 16 64Ã—128 memories.</div>
    </div>
    </div> <div class="claim"> <div id="CLM-00023" num="00023" class="claim">
      <div class="claim-text">23. A method for performing bit movement functions by an execution unit within a network processor, the execution unit including a plurality of specialized registers and a crossbar element, the method comprising:
<div class="claim-text">loading a first operand into a first one of the registers;</div>
<div class="claim-text">loading a second operand into a second one of the registers;</div>
<div class="claim-text">providing the first and second operands to the crossbar element;</div>
<div class="claim-text">writing an output of the crossbar element to third and fourth ones of the registers;</div>
<div class="claim-text">storing contents of the fourth one of the registers to the second one of the registers; and</div>
<div class="claim-text">outputting contents of the third and fourth ones of the registers.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00024" num="00024" class="claim">
      <div class="claim-text">24. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein the settings of the crossbar element are controlled by a control memory.</div>
    </div>
    </div> <div class="claim"> <div id="CLM-00025" num="00025" class="claim">
      <div class="claim-text">25. A method for performing a table lookup function by an execution unit within a network processor, the execution unit including a plurality of specialized registers and a memory system that includes a plurality of memories, the method comprising:
<div class="claim-text">loading an operand into a first one of the registers;</div>
<div class="claim-text">receiving an address of a table stored in one or more of the memories;</div>
<div class="claim-text">using the operand to access a value in the table;</div>
<div class="claim-text">writing the value from the table into a second one of the registers; and</div>
</div>
      <div class="claim-text">outputting contents of the second one of the registers.</div>
    </div>
    </div> <div class="claim"> <div id="CLM-00026" num="00026" class="claim">
      <div class="claim-text">26. A method for performing time-space switching by an execution unit within a network processor, the execution unit including a plurality of specialized registers and a memory system that includes a plurality of memories, the method comprising:
<div class="claim-text">(a) writing input data into a first one of the registers;</div>
<div class="claim-text">(b) storing a first input control word in a second one of the registers;</div>
<div class="claim-text">(c) storing a second input control word in a third one of the registers;</div>
<div class="claim-text">(d) writing the input data into the memories based on the first and second input control words;</div>
<div class="claim-text">(e) storing a first output control word in the second one of the registers;</div>
<div class="claim-text">(f) storing a second output control word in the third one of the registers; and</div>
<div class="claim-text">(g) outputting the input data from the memories based on the first and second output control words.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00027" num="00027" class="claim">
      <div class="claim-text">27. The method of <claim-ref idref="CLM-00026">claim 26</claim-ref>, wherein acts (b) through (g) are performed in a pipelined fashion.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00028" num="00028" class="claim">
      <div class="claim-text">28. The method of <claim-ref idref="CLM-00026">claim 26</claim-ref>, wherein the writing the input data to the memories includes:
<div class="claim-text">storing bytes of the input data in different ones of the memories based on the first and second input control words.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00029" num="00029" class="claim">
      <div class="claim-text">29. The method of <claim-ref idref="CLM-00028">claim 28</claim-ref>, wherein the outputting the input data from the memories includes:
<div class="claim-text">reading the bytes of the input data from the different ones of the memories based on the first and second output control words.</div>
</div>
    </div>
  </div> </div></div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title">Description</span></div><div class="patent-text"><div mxw-id="PDES16315635" lang="EN" load-source="patent-office" class="description">
    <heading>RELATED APPLICATION</heading> <p num="p-0002">This application claims priority under 35 U.S.C. Â§ 119 based on U.S. Provisional Application No. 60/327,094, filed Oct. 4, 2001, the disclosure of which is incorporated herein by reference.</p>
    <heading>BACKGROUND OF THE INVENTION</heading> <p num="p-0003">1. Field of the Invention</p>
    <p num="p-0004">The present invention relates generally to network systems and, more particularly, to an execution unit for a network device.</p>
    <p num="p-0005">2. Description of Related Art</p>
    <p num="p-0006">Network devices, such as switches and routers, connect together to form a network. These devices facilitate communication between parties connected to the network.</p>
    <p num="p-0007">During operation, conventional network devices perform a variety of common protocol-processing primitive functions, such as bit-field inserts and extracts, shift operations, bit- and byte-stuffing and unstuffing, time-space interleaving, byte-remapping, and primitive cryptography operations. To implement these functions, the network devices typically include dedicated components for performing each of these functions.</p>
    <heading>SUMMARY OF THE INVENTION</heading> <p num="p-0008">Systems and methods consistent with the present invention provide a functional processing unit within a larger network processor that implements a wide variety of common protocol-processing primitive functions.</p>
    <p num="p-0009">In accordance with the principles of the invention as embodied and broadly described herein, an execution unit within a network processor performs multiple protocol-processing functions. The execution unit includes a set of specialized registers and a memory system. The specialized registers store data during performance of the protocol-processing functions. The specialized registers include one or more input registers, at least one control register, and one or more output registers. The memory system includes multiple memories that operate together to facilitate performance of the protocol-processing functions by the execution unit.</p>
    <p num="p-0010">In another aspect of the invention, a network device includes network processors connected to communicate via a switching fabric. The network processors include input register files, output register files, and an execution unit. The execution unit performs protocol-processing functions on data received via the input register files and outputs data via the output register files. The execution unit includes specialized registers and a memory. The specialized registers store the data during performance of the protocol-processing functions. The memory takes different forms depending on which of the protocol-processing functions is performed by the execution unit.</p>
    <p num="p-0011">In yet another aspect of the invention, a method for performing bit movement functions by an execution unit within a network processor is provided. The execution unit includes specialized registers and a crossbar element. The method includes loading a first operand into a first one of the registers; loading a second operand into a second one of the registers; providing the first and second operands to the crossbar element; writing an output of the crossbar element to third and fourth ones of the registers; storing contents of the fourth register to the second register; and outputting the contents of the third and fourth registers.</p>
    <p num="p-0012">In a further aspect of the invention, a method for performing a table lookup function by an execution unit within a network processor is provided. The execution unit includes specialized registers and a memory system that includes multiple memories. The method includes loading an operand into a first one of the registers; receiving an address of a table stored in one or more of the memories; using the operand to access a value in the table; writing the value from the table into a second one of the registers; and outputting the contents of the second register.</p>
    <p num="p-0013">In another aspect of the invention, a method for performing time-space switching by an execution unit within a network processor is provided. The execution unit includes a number of specialized registers and a memory system that includes a number of memories. The method includes writing input data into a first one of the registers; storing a first input control word in a second one of the registers; storing a second input control word in a third one of the registers; and writing the input data into the memories based on the first and second input control words. The method further includes storing a first output control word in the second register; storing a second output control word in the third register; and outputting the input data from the memories based on the first and second output control words.</p>
    <description-of-drawings> <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading> <p num="p-0014">The accompanying drawings, which are incorporated in and constitute a part of this specification, illustrate the invention and, together with the description, explain the invention. In the drawings,</p>
      <p num="p-0015"> <figref idrefs="DRAWINGS">FIG. 1</figref> is a diagram of a network device in which systems and methods consistent with the present invention may be implemented;</p>
      <p num="p-0016"> <figref idrefs="DRAWINGS">FIG. 2</figref> is an exemplary diagram of a network processor of <figref idrefs="DRAWINGS">FIG. 1</figref> according to an implementation consistent with the principles of the invention;</p>
      <p num="p-0017"> <figref idrefs="DRAWINGS">FIG. 3</figref> is an exemplary diagram of the insert/shuffle/extract unit of <figref idrefs="DRAWINGS">FIG. 2</figref> according to an implementation consistent with the principles of the invention;</p>
      <p num="p-0018"> <figref idrefs="DRAWINGS">FIG. 4</figref> is an exemplary diagram of one of the memories of <figref idrefs="DRAWINGS">FIG. 3</figref> and surrounding logic according to an implementation consistent with the principles of the invention;</p>
      <p num="p-0019"> <figref idrefs="DRAWINGS">FIGS. 5A-5H</figref> are flowcharts of exemplary processing for performing bit/byte stuffing/unstuffing functions according to an implementation consistent with the principles of the invention;</p>
      <p num="p-0020"> <figref idrefs="DRAWINGS">FIG. 6A</figref> is a flowchart of exemplary processing for programming bit-movement functions according to an implementation consistent with the principles of the invention;</p>
      <p num="p-0021"> <figref idrefs="DRAWINGS">FIG. 6B</figref> is a flowchart of exemplary processing for performing bit-movement functions according to an implementation consistent with the principles of the invention;</p>
      <p num="p-0022"> <figref idrefs="DRAWINGS">FIGS. 7A and 7B</figref> are flowcharts of exemplary processing for performing space/time byte switching functions according to an implementation consistent with the principles of the invention;</p>
      <p num="p-0023"> <figref idrefs="DRAWINGS">FIG. 8A</figref> is a flowchart of exemplary processing for programming byte-wise table lookup functions according to an implementation consistent with the principles of the invention;</p>
      <p num="p-0024"> <figref idrefs="DRAWINGS">FIG. 8B</figref> is a flowchart of exemplary processing for performing byte-wise table lookup functions according to an implementation consistent with the principles of the invention; and</p>
      <p num="p-0025"> <figref idrefs="DRAWINGS">FIG. 9</figref> is a flowchart of exemplary processing for performing cryptography functions according to an implementation consistent with the principles of the invention.</p>
    </description-of-drawings> <heading>DETAILED DESCRIPTION</heading> <p num="p-0026">The following detailed description of the invention refers to the accompanying drawings. The same reference numbers in different drawings may identify the same or similar elements. Also, the following detailed description does not limit the invention. Instead, the scope of the invention is defined by the appended claims and equivalents.</p>
    <p num="p-0027">Systems and methods consistent with the present invention provide an execution unit within a network device. The execution unit performs a wide variety of protocol-processing primitive operations, such as bit-field inserts and extracts, shift operations, bit and byte stuffing and unstuffing, SONET channel decomposition (e.g., time-space interleaving), byte-remapping (e.g., table lookup), and cryptography operations.</p>
    <heading>Exemplary System Configuration</heading> <p num="p-0028"> <figref idrefs="DRAWINGS">FIG. 1</figref> is a diagram of an exemplary system <b>100</b> in which systems and methods consistent with the present invention may be implemented. In one implementation consistent with the present invention, system <b>100</b> takes the form of a network device, such as a switch or a router.</p>
    <p num="p-0029">System <b>100</b> may include network processors (NPs) <b>110</b> and a control processor (CP) <b>120</b> interconnected via a switching fabric <b>130</b>. Switching fabric <b>130</b> may include conventional mechanisms that provide point-to-point or point-to-multipoint connections between network processors <b>110</b> and between control processor <b>120</b> and network processors <b>110</b>. For example, switching fabric <b>130</b> may permit control processor <b>120</b> to communicate with network processors <b>110</b>. Alternatively, control processor <b>120</b> may connect to network processors <b>110</b> via separate connections. Switching fabric <b>130</b> may also permit network processors <b>110</b> to communicate with one another to perform, for example, different portions of complex protocol processing.</p>
    <p num="p-0030">Control processor <b>120</b> may include one or more controllers that may control the operation of network processors <b>110</b>. For example, control processor <b>120</b> may send data for processing by one or more of network processors <b>110</b> and receive data processed by one or more of network processors <b>110</b>.</p>
    <p num="p-0031">Each of network processors <b>110</b> may include a software-programmable device, such as a digital network processor, that is optimized for data movement and the processing of packets and packet headers. The typical application of a network processor <b>110</b> may be to handle a single protocol layer, in a single direction, vastly simplifying the code complexity.</p>
    <p num="p-0032">Generally, only a small number of operations need to be handled in a single network processor <b>110</b>, and complex protocol processing is built from a number of network processors <b>110</b> in sequence. In this way, different higher-level protocols or different operations within a single protocol can be handed off to specialized â€œdownstreamâ€ network processors <b>110</b>. A router protocol stack for packet-forwarding, for example, may require a single packet to pass through a half-dozen or more network processors <b>110</b>, handling ingress layer-1, ingress layer-2, forwarding, packet-scheduling, egress layer-2, and egress layer-1.</p>
    <p num="p-0033"> <figref idrefs="DRAWINGS">FIG. 2</figref> is an exemplary diagram of a network processor <b>110</b> according to an implementation consistent with the principles of the invention. The internal architecture of network processor <b>110</b> may include a set of functional units interconnected by one or more wide data buses. Most of the functional units are organized as register files, often 2-ported. Each functional block in network processor <b>110</b> normally has one or two output buses that may be used as inputs to other functional blocks. Also, each functional block normally has one or two inputs and may include an associated multiplexer (not shown) that selects among the outputs of other functional blocks.</p>
    <p num="p-0034">Network processor <b>110</b> may be programmed in an assembler programming language, though possibly with some additional tools to assist in parallelism extraction and register usage. In an implementation consistent with the present invention, network processor <b>110</b> may store approximately a thousand instructions. Network processor <b>110</b> may support four types of control structures: linear sequences of instructions, a multi-way branch, subroutine call/return, and an event-based dispatch mechanism.</p>
    <p num="p-0035">As shown in <figref idrefs="DRAWINGS">FIG. 2</figref>, network processor <b>110</b> may include input register file <b>210</b>, output register file <b>220</b>, general register file <b>230</b>, arithmetic logic unit (ALU) <b>240</b>, internal static random access memory (SRAM) <b>250</b>, and insert/shuffle/extract (ISE) unit <b>260</b> interconnected by one or more data buses <b>270</b>. Data bus(es) <b>270</b> may include wide data buses that connect various functional units of network processor <b>110</b>.</p>
    <p num="p-0036">Input register file <b>210</b> may include a read-only memory (i.e., a memory from which functional units of network processor <b>110</b> can read, but not write). In one implementation, input register file <b>210</b> includes five 128-bit wide registers. Input register file <b>210</b> may connect to two (or more) pipeline input ports. Each of the input ports may include a first-in, first-out (FIFO) memory that temporarily stores chunks (i.e., data units) that await storage in input register file <b>210</b>. Input register file <b>210</b> may also connect to a control input port to receive chunks from control processor <b>120</b> (<figref idrefs="DRAWINGS">FIG. 1</figref>).</p>
    <p num="p-0037">Output register file <b>220</b> may include a write-only memory (i.e., a memory to which functional units of network processor <b>110</b> can write, but not read). In one implementation, output register file <b>220</b> includes six 128-bit wide registers. Output register file <b>220</b> may connect to two (or more) pipeline output ports. Each of the output ports may include a FIFO that temporarily stores chunks that await transmission to the next processing stage (e.g., the next network processor <b>110</b>). Output register file <b>220</b> may also connect to a control output port to output chunks to control processor <b>120</b>.</p>
    <p num="p-0038">General register file <b>230</b> may include a large memory for storing temporary data and algorithmic constants and can be considered an adjunct to ALU <b>240</b> with a rich set of data paths to other functional units. In one implementation, general register file <b>230</b> includes 64 32-bit wide registers and may store data as 128-bit words. General register file <b>230</b> is large enough to handle the entire header of one or more packets simultaneously, thereby permitting pipelining of multiple packets in different stages of processing. Input register file <b>210</b> and output register file <b>220</b> also facilitate pipelining of multiple packets by not forcing data that is simply â€œpassing throughâ€ into general register file <b>230</b> or ALU <b>240</b> bottlenecks.</p>
    <p num="p-0039">ALU <b>240</b> may include a 32-bit ALU that supports most typical integer arithmetic and logical operations. ALU <b>240</b> may also include some additional specialized instructions for cyclic redundancy code (CRC) calculations, 1's-complement arithmetic, and the like.</p>
    <p num="p-0040">SRAM <b>250</b> may include a 16 Mb SRAM organized as eight banks of 2 Mbits each. SRAM <b>250</b> may also include a controller (not shown) that controls access to the memory banks. This memory design supports the storage of a limited number of chunks into and out of SRAM <b>250</b> at line speed. Larger amounts of storage may lead to use of an external SRAM (not shown).</p>
    <p num="p-0041">ISE unit <b>260</b> may perform a variety of multiplexing and demultiplexing tasks with byte and bit streams and may be used for Synchronous Optical Networking (SONET), High-Level Data Link Control (HDLC), and Digital Signal Level 3 (DS3) Layer 1 (L1) and Layer 2 (L2) protocol processing. ISE unit <b>260</b> may also perform arbitrary shifts, bit and byte-insertions and extractions, byte-oriented table lookups, cryptographic primitive operations, and possibly other functions. ISE unit <b>260</b> may include a small on-board memory <b>265</b> (e.g., RAM) that provides a multi-bank memory with byte, 32-bit, and 128-bit-wide bank organization. Memory <b>265</b> may be used as a staging area for SONET multiplexing and demultiplexing to lower the demand on SRAM <b>250</b>. Memory <b>265</b> may also be used for byte-translation, bit-field operation control, and cryptographic functions.</p>
    <p num="p-0042"> <figref idrefs="DRAWINGS">FIG. 3</figref> is an exemplary diagram of ISE unit <b>260</b> according to an implementation consistent with the principles of the invention. ISE unit <b>260</b> may include five specialized registers (ISEin <b>310</b>, ISEstate <b>320</b>, ISEctl <b>330</b>, ISEout <b>340</b>, and ISEoutX <b>350</b>), a crossbar <b>360</b>, and ISE memory <b>265</b>. ISE unit <b>260</b> may also include other elements that aid in its operation, such as various multiplexers, bit-/byte-/stuff/unstuff logic, a decoder, a latch, and Advanced Encryption Standard (AES) logic. The bit-/byte-/stuff/unstuff logic includes conventional mechanisms that perform HDLC bit stuffing and unstuffing and Packet-Over-SONET (POS) byte stuffing and unstuffing. Information regarding conventional bit-/byte-/stuff/unstuff mechanisms can be found in W. Simpson, â€œPPP in HDLC-like Framing,â€ Request for Comments 1662, IETF, 1994. The AES logic includes conventional mechanisms that implement byte-interchange data paths and XOR functions to perform AES round calculations. More information regarding conventional AES mechanisms is available from the National Institute of Standards and Technology (NIST).</p>
    <p num="p-0043">ISE unit <b>260</b> includes two input ports: A and B. Each of the input ports feeds only specific registers (of registers <b>310</b>-<b>350</b>). For example, the A input port feeds ISEin <b>310</b> and ISEctl <b>330</b> and can receive its input from INx or INy of input register file <b>210</b> (<figref idrefs="DRAWINGS">FIG. 2</figref>), Gx of general register file <b>230</b>, or Cx of SRAM <b>250</b>. The B input port feeds ISEstate <b>320</b> and can receive its input from INx or INy of input register file <b>210</b>, Gy of general register file <b>230</b>, or Cy of SRAM <b>250</b>. It may be possible for both the G outputs of general register file <b>230</b> (i.e., Gx and Gy) and both the C outputs of SRAM <b>250</b> (i.e., Cx and Cy) to be set up to feed both the A and B input ports.</p>
    <p num="p-0044">ISE unit <b>260</b> includes two output ports: Sx and Sy. Only specific registers (of registers <b>310</b>-<b>350</b>) can output to specific output ports. For example, ISEout <b>340</b> and ISEctl <b>330</b> can output on output port Sx, while ISEoutX <b>350</b> and ISEstate <b>320</b> can output on output port Sy.</p>
    <p num="p-0045">ISE unit <b>260</b> latches both its inputs and its outputs. Thus, any operations involving ISE unit <b>260</b> takes at least three cyclesâ€”one to set up the input register(s), one to perform the operation, and one to move the data from the output register(s). This can be illustrated as:
</p> <ul> <li id="ul0001-0001" num="0045">Cycle N: load inputs</li> <li id="ul0001-0002" num="0046">Cycle N+1: perform operation</li> <li id="ul0001-0003" num="0047">Cycle N+2: select outputs for Sx and Sy output ports.</li> </ul> <p num="p-0046">All inputs to ISE unit <b>260</b> may be latched at the end of the cycle they are loaded and can be operated on in the following cycle. The internal pipelining of ISE unit <b>260</b> allows registers to be loaded and used for an operation on the same cycle (much like conventional register files that can be read at the beginning of a cycle and written at the end of the same cycle).</p>
    <p num="p-0047">Each of the specialized registers (i.e., registers <b>310</b>-<b>350</b>) may include a 128-bit register. ISEin <b>310</b> may include a write-only register used to feed data into most ISE functions. ISEstate <b>320</b> may include a read/write register that is written on every cycle, either from the B input port (using ISEloadStateâ€”described below) or implicitly by the ISE function being used. Some functions do not produce a result in ISEstate <b>320</b> and, in this case, the result is undefined if the register is not loaded from the B port. ISEstate <b>320</b> provides a data input to many ISE functions and a control value for a few others. ISEstate <b>320</b> is often an output value for ISE operations.</p>
    <p num="p-0048">ISEctl <b>330</b> may include a read/write register that is used for miscellaneous ISE function parameters and sometimes serves as an auxiliary state register. ISEout <b>340</b> may include a read-only register that holds the result from most ISE functions. ISEoutX <b>350</b> may include a read-only register that serves as an extension of ISEout <b>340</b> for certain operations that produce a 256-bit result.</p>
    <p num="p-0049">Unlike some of the other functional units, the ISE registers (<b>310</b>-<b>350</b>) may not be organized as a register file, but as individual, function-specific registers. These registers store 128-bit values in ISE unit <b>260</b> and, in many instances, may not be loaded with smaller units (e.g., 32-bit or 8-bit loads). The various registers are associated with specific input or output buses. The writable ones can only be loaded from one of the two ISE input ports (A, B) and the readable ones can only be read via one of the two ISE output ports (Sx, Sy).</p>
    <p num="p-0050">Crossbar <b>360</b> may include a 256Ã—256Ã—1-bit crossbar used to support one or more ISE functions. ISE memory <b>265</b> may include 16 64Ã—128 fast memories <b>370</b> that serve one of three functions:</p>
    <p num="p-0051">(1) as a set of high-bandwidth scratchpad memories for byte-interleaving and de-interleaving operations (primarily for SONET channel multiplexing and demultiplexing). In this mode, each memory <b>370</b> is associated with a single input byte that can be stored in a single one of 16 byte lanes. A byte lane refers to one of the 16 bytes in the 128-bit-wide word in memory <b>370</b>. Each byte lane within a memory <b>370</b> is also associated with a single output byte, which may read the corresponding lane from any of the 16 memories <b>370</b>.</p>
    <p num="p-0052">(2) as a set of control memories to define ISE bit-exchanging operations. In this mode, all memories <b>370</b> receive the same address. Each byte of the resulting 2048-bit result controls one of the 256 output bit multiplexers, selecting one of 256 source bits based on the memory's output value.</p>
    <p num="p-0053">(3) as a set of byte-indexed table memories. In this mode, memories <b>370</b> are also associated with a single input byte. The input byte supplies the six low bits to address memory <b>370</b> and the two high bits to select one 32-bit word from the 128-bit result, thereby producing a 32-bit result for each byte. This 32-bit value for each input byte can be used, for example, by the cryptographic logic (AES). The table lookup operation, when used in conjunction with AES, may program the memories as â€œS-boxes.â€ In a variant of this mode, the low four bits of the input byte address are used to address memory <b>370</b> with the high four bits selecting one of the 16 output bytes. In this alternate implementation, the two upper memory address bits may be supplied from ISEfunc inputs, selecting one of 4 possible tables. This alternate implementation differs from the AES table lookup in that each table output result is 8 bits wide, not the 32 bits used for AES.</p>
    <p num="p-0054"> <figref idrefs="DRAWINGS">FIG. 4</figref> is an exemplary diagram of one of memories <b>370</b> and surrounding logic according to an implementation consistent with the principles of the invention. The particular memory <b>370</b>(<i>i</i>) illustrated in <figref idrefs="DRAWINGS">FIG. 4</figref> is the ith memory in ISE memory <b>265</b>, where 0â‰¦iâ‰¦15. Memory <b>370</b>(<i>i</i>) operates based on the ith byte of ISEstate <b>320</b>(<i>i</i>), ISEin <b>310</b>(<i>i</i>), and ISEctl <b>330</b>(<i>i</i>).</p>
    <p num="p-0055">As shown in <figref idrefs="DRAWINGS">FIG. 4</figref>, memory <b>370</b>(<i>i</i>) receives data from ISEin <b>310</b>(<i>i</i>), control information from ISEctl <b>330</b>(<i>i</i>), and address and control information from ISEstate <b>320</b>(<i>i</i>). Other logic, such as 1-of-16 decoder and various multiplexers and logic gates facilitate the writing and reading of data to and from memory <b>370</b>(<i>i</i>).</p>
    <p num="p-0056">Memory <b>370</b>(<i>i</i>) can be shared between ISE functions to the extent that there is sufficient address space. SONET channelization at OC-192 requires 12 or fewer of the 64 addresses. OC-768 would use up to 48 of the addresses. Each bit-exchange operation requires one address. Table lookups for AES cryptography occupy the entire 64 entries and, thus, prohibit other functions. Table lookups for other purposes use 16 memory locations per table.</p>
    <p num="p-0057">It may also be possible to support a mode where the low 4 bits of each byte are supplied to the address inputs, with the high two address bits coming from the function code, and the high 4 bits of each byte select one of the 16 byte lanes. This variant table mode might require 16 addresses to be allocated per table.</p>
    <p num="p-0058">Returning to <figref idrefs="DRAWINGS">FIG. 3</figref>, ISE unit <b>260</b> may receive certain control signals for controlling its operation. The control signals may include, for example, ISESelA, ISESelB, ISEloadIn, ISEloadCtl, ISEloadState, ISEmodeA/B, ISEfunc[5], ISEregX, and ISEregY. ISESelA may include two bits used to select one of INx, INy, Gx, or Cx as the source for the A input port. ISESelB may include two bits used to select one of INx, INy, Gy, or Cy as the source for the B input port. ISEloadIn may include one bit used to load ISEin <b>310</b> from the A input port. ISEloadCtl may include one bit used to load ISEctl <b>330</b> from the A input port. ISEloadState may include one bit used to load ISEstate <b>320</b> from the B input port. If, for example, ISEloadState is not asserted, then ISEstate <b>320</b> may be loaded from the internal datapath, according to the function selected.</p>
    <p num="p-0059">ISEmodeA/B may include two bits used to control the major mode of ISE unit <b>260</b>. ISEmodeB selects whether the output of ISE unit <b>260</b> is derived from the memory outputs (if=1) or logic functions (if=0). ISEmodeA selects between bit-exchange (if=0) and bit-stuffing (if=1) in logic-function mode. In memory access mode, ISEmodeA selects between table lookup (if=0) and SONET or AES operations (if=1).</p>
    <p num="p-0060">ISEfunc may include five bits used to control the functions performed by ISE unit <b>260</b>. For example, if ISEmodeA/B is 00, the operation is a bit-movement function, and ISEfunc&lt;<b>5</b> . . . <b>0</b>&gt; supplies a memory address to control the function. ISEfunc&lt;<b>5</b>&gt; enables writing to memory <b>265</b> when ISEmodeA/B=<b>11</b>. ISEfunc&lt;<b>4</b>&gt; controls whether the memory output byte selects come from ISEstate (=<b>0</b>, for table and AES operations) or ISEctl (=<b>1</b>, for SONET multiplexing/demultiplexing). ISEfunc&lt;<b>1</b> . . . <b>0</b>&gt; are used by AES and stuffing/unstuffing modes to distinguish sub-functions. When ISEmodeB=<b>1</b>, ISEfunc&lt;<b>3</b>&gt; enables loading of ISEout <b>340</b> and ISEfunc&lt;<b>2</b>&gt; enables loading of ISEoutX <b>350</b> and ISEstate <b>320</b>.</p>
    <p num="p-0061">ISEregX may include one bit used to select either ISEout <b>340</b> or ISEctl <b>330</b> for presentation at the Sx output port. ISEregY may include one bit used to select either ISEoutX <b>350</b> or ISEstate <b>320</b> for presentation at the Sy output port.</p>
    <p num="p-0062">The functions performed by ISE unit <b>260</b> may be broken down into five general types: (1) bit and byte-stuffing and unstuffing operations (for HDLC and POS); (2) bit movement operations, such as shifts, field insertions and extractions, sign extension, set-to-1 and set-to-0, and the like; (3) space/time byte switching (used for SONET channel multiplexing and demultiplexing); (4) byte-wise table lookup; and (5) cryptography primitives. These functions are described in more detail below and are summarized in Table 1:</p>
    <p num="p-0063"> <tables id="TABLE-US-00001" num="00001"> <table frame="none" colsep="0" rowsep="0" pgwide="1" class="description-table"> <tgroup align="left" colsep="0" rowsep="0" cols="6"> <colspec colname="1" colwidth="49pt" align="left"> </colspec> <colspec colname="2" colwidth="42pt" align="center"> </colspec> <colspec colname="3" colwidth="49pt" align="left"> </colspec> <colspec colname="4" colwidth="35pt" align="left"> </colspec> <colspec colname="5" colwidth="42pt" align="left"> </colspec> <colspec colname="6" colwidth="42pt" align="left"> </colspec> <thead> <tr class="description-tr"> <td namest="1" nameend="6" rowsep="1" class="description-td" colspan="6">TABLE 1</td> </tr> <tr class="description-tr"> <td namest="1" nameend="6" align="center" rowsep="1" class="description-td" colspan="6"> </td> </tr> <tr class="description-tr"> <td class="description-td">Function</td> <td class="description-td">ISEmode</td> <td class="description-td">ISEfunc&lt;5..0&gt;</td> <td class="description-td">Inputs</td> <td class="description-td">Outputs</td> <td class="description-td">State</td> </tr> <tr class="description-tr"> <td namest="1" nameend="6" align="center" rowsep="1" class="description-td" colspan="6"> </td> </tr> </thead> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td> </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="6"> <colspec colname="1" colwidth="49pt" align="left"> </colspec> <colspec colname="2" colwidth="42pt" align="char" char="."> </colspec> <colspec colname="3" colwidth="49pt" align="left"> </colspec> <colspec colname="4" colwidth="35pt" align="left"> </colspec> <colspec colname="5" colwidth="42pt" align="left"> </colspec> <colspec colname="6" colwidth="42pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td">HDLCstuff</td> <td class="description-td">01</td> <td class="description-td">xxx00</td> <td class="description-td">ISEin,</td> <td class="description-td">ISEout,</td> <td class="description-td">ISEstate,</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">ISEstate</td> <td class="description-td">ISEoutX</td> <td class="description-td">ISEctl</td> </tr> <tr class="description-tr"> <td class="description-td">HDLCunstuff</td> <td class="description-td">01</td> <td class="description-td">xxx01</td> <td class="description-td">ISEin,</td> <td class="description-td">ISEout,</td> <td class="description-td">ISEstate,</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">ISEstate</td> <td class="description-td">ISEoutX</td> <td class="description-td">ISEctl</td> </tr> <tr class="description-tr"> <td class="description-td">POSstuff</td> <td class="description-td">01</td> <td class="description-td">xxx10</td> <td class="description-td">ISEin,</td> <td class="description-td">ISEout,</td> <td class="description-td">ISEstate,</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">ISEstate</td> <td class="description-td">ISEoutX</td> <td class="description-td">ISEctl</td> </tr> <tr class="description-tr"> <td class="description-td">POSunstuff</td> <td class="description-td">01</td> <td class="description-td">xxx11</td> <td class="description-td">ISEin,</td> <td class="description-td">ISEout,</td> <td class="description-td">ISEstate,</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">ISEstate</td> <td class="description-td">ISEoutX</td> <td class="description-td">ISEctl</td> </tr> <tr class="description-tr"> <td class="description-td">BitExchange</td> <td class="description-td">00</td> <td class="description-td">function</td> <td class="description-td">ISEin,</td> <td class="description-td">ISEout,</td> <td class="description-td">ISEstate</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">number</td> <td class="description-td">ISEstate</td> <td class="description-td">ISEoutX</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">(=ISEstate)</td> </tr> <tr class="description-tr"> <td class="description-td">ByteDistribute</td> <td class="description-td">11</td> <td class="description-td">1000x</td> <td class="description-td">ISEin,</td> <td class="description-td">â€”</td> <td class="description-td">â€”</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">ISEstate,</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">ISEctl</td> </tr> <tr class="description-tr"> <td class="description-td">ByteCollect</td> <td class="description-td">11</td> <td class="description-td">0110x</td> <td class="description-td">ISEin,</td> <td class="description-td">ISEout</td> <td class="description-td">â€”</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">ISEstate,</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">ISEctl</td> </tr> <tr class="description-tr"> <td class="description-td">ByteLookup</td> <td class="description-td">10</td> <td class="description-td">0010x</td> <td class="description-td">ISEstate</td> <td class="description-td">ISEout</td> <td class="description-td">â€”</td> </tr> <tr class="description-tr"> <td class="description-td">AESRound</td> <td class="description-td">11</td> <td class="description-td">00010</td> <td class="description-td">ISEstate,</td> <td class="description-td">ISEoutX</td> <td class="description-td">ISEstate</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">ISEin</td> <td class="description-td">(=ISEstate)</td> </tr> <tr class="description-tr"> <td class="description-td">AESFinal</td> <td class="description-td">11</td> <td class="description-td">00011</td> <td class="description-td">ISEstate,</td> <td class="description-td">ISEoutX</td> <td class="description-td">ISEstate</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">ISEin</td> <td class="description-td">(=ISEstate)</td> </tr> <tr class="description-tr"> <td class="description-td">ISEnop</td> <td class="description-td">10</td> <td class="description-td">0000x</td> </tr> <tr class="description-tr"> <td namest="1" nameend="6" align="center" rowsep="1" class="description-td" colspan="6"> </td> </tr> </tbody> </tgroup> </table> </tables> <br>
ISEout <b>340</b>, ISEoutX <b>350</b>, ISEstate <b>320</b>, and ISEctl <b>330</b> do not change unless the selected ISE operation changes them explicitly. The particular registers (of registers <b>310</b>-<b>350</b>) affected by an operation are shown in the table above.
</p>
    <p num="p-0064">Due to the probable tight timing inside ISE unit <b>260</b>, there may actually be multiple copies of various registers, in different functional paths. These may be concealed from the programmer, but selecting the correct copy of an output register may require that ISEmodeA/B be pipelined in the hardware to control the output multiplexers on subsequent cycles (N+2 or later) where the output of the operation is being selected to Sx or Sy. The bit-movement operation will probably require that the ISEfunc value be supplied on cycle N, rather than cycle N+1, due to internal pipelining on the output of memory <b>265</b>. It may occur that the function lookup in memory <b>265</b> and the 256-input multiplexers create a propagation path longer than a single cycle, so ISEfunc may need to be pipelined ahead (e.g., one cycle earlier). In this case, ISE unit <b>260</b> may pipeline the correct output register selection values from cycle N, if multiple copies of the output registers are used. The HDLC bit-stuffing operation may need two cycles to complete. In this case, the second operation cycle will likely have a different ISEfunc value.</p>
    <heading>Bit and Byte-Stuffing/Unstuffing</heading> <p num="p-0065">This subset of ISE functions is specialized for handling HDLC bit-stuffing and unstuffing and POS byte-stuffing and unstuffing. There are four operations in this function group: (1) HDLC bit-stuffing; (2) HDLC bit-unstuffing; (3) POS byte-stuffing; and (4) POS byte-unstuffing. All four operations are stateful and operate similarly. The mode of operation for these functions may be to initialize ISE unit <b>260</b> with the state for a particular context, pass four 128-bit quantities from a single input chunk through ISE unit <b>260</b>, using the same operation each time and saving the result, and then unload the final ISE state. The POS operations may take a single clock cycle per stuffing/unstuffing operation, while the HDLC operations may have long and complex carry chains and may likely take two clock cycles per operation.</p>
    <p num="p-0066">If other ISE operations must be interspersed with the stuffing and unstuffing operations, the state may be loaded before each series of stuffing (or unstuffing) operations and saved after each series has finished. It may be better to do these operations in groups of 4 or more to keep the state loading/saving overhead to a minimum.</p>
    <p num="p-0067">Each stuffing operation may result in either one or two 128-bit output values (data-dependent). Each unstuffing operation produces either zero or one 128-bit output value (again, data-dependent). Both operations also leave 0-127 bits of partial result as part of the ISE state. If only one 128-bit value results from the operation, the ISEout <b>340</b> register may store the output value. If two 128-bit values are produced, the first value (in network transmission order) may be stored in ISEout <b>340</b> and the subsequent value in ISEoutX <b>350</b>.</p>
    <p num="p-0068">The state for the stuffing/unstuffing operations contains four values: Residue, ResidueCount, OutputValid, and EscapePending. Residue may include a 128-bit value that contains from 0 to 127 bits of partial output left over from the prior operation in the context. The Residue value may be stored in the ISEstate <b>320</b> register, and may be left-justified. ResidueCount may include an 8-bit value that indicates the number of valid bits in the Residue. ResidueCount may be stored as bits &lt;<b>15</b> . . . <b>8</b>&gt; of ISEctl <b>330</b> register. OutputValid may include a 4-bit status value that indicates whether the last four stuffing/unstuffing operations produced one or two 128-bit output values on each operation (for stuffing) or zero or one 128-bit output results (for unstuffing). The OutputValid value may be zeroed when ISE unit <b>260</b> is initialized to handle a chunk. OutputValid may be stored as bits &lt;<b>3</b> . . . <b>0</b>&gt; of ISEctl <b>330</b> register. The EscapePending value may be used for POS byte-unstuffing. The EscapePending value may be stored as bit &lt;<b>31</b>&gt; of ISEctl <b>330</b> register.</p>
    <p num="p-0069">The OutputValid status field may reduce branching while performing stuffing/unstuffing operations. Stuffing each 128-bit input value can produce either one or two 128-bit output values (as well as leaving some amount of output in Residue). In order to avoid having to supply a set of result flags from ISE unit <b>260</b> to the branch logic and to simplify the branch logic, the OutputValid field is designed to be used in a 16-way branch (by passing it through ALU <b>240</b> and doing a branch on the low 4 ALUout bits) after performing four ISE stuffing or unstuffing operations on a single chunk. Normally, all the possible results of a stuffing or unstuffing operation may be stored in a set of general registers <b>230</b>, and then branch on the value from OutputValid to select which registers actually need to be stored (or output).</p>
    <p num="p-0070">When processing multiple data streams (e.g., channelized POS), the Residue, ResidueCount, and EscapePending values may be saved as part of each stream's context, while OutputValid can be set to zero when the context state is loaded into ISE unit <b>260</b>. Correct use of OutputValid relies on doing sequential operations on the same data stream for up to four successive operations, with no other intervening ISE operations.</p>
    <p num="h-0008">HDLC Operations</p>
    <p num="p-0071">For the HDLC operations, the order of bits within a byte and the order of bytes within the 128-bit input and output data words is significant. Within a byte, HDLC transmits data from low-order bit to high-order bit. If the order of byte transmission within a 128-bit word is from high-order byte to low-order byte (as is typically done in IETF-standardized protocols), the 128-bit input and output values from the operations may need to have the byte order reversed within the 128-bit word before processing of the input, and again before generation of the output. This may be done statically, by the order in which the input (ISEin <b>310</b>) and output (ISEout <b>340</b> and ISEoutX <b>350</b>) bytes are connected to the 128-bit-wide HDLC logic block input and output ports. This ensures that the HDLC bit-stuff/unstuff logic operates on sequential bits in the order of actual transmission. It may also be done programmatically, by using the bit-exchange operation of this unit to re-order the input and output bits, as separate pre- and post-stuff/unstuff operations.</p>
    <p num="p-0072">The basic HDLC bit-stuffing operation looks for a sequence of 5 sequential 1-bits, and inserts a zero after the 5th one; then starts counting 1-bits from 0 again. This prevents the output sequence from containing any sequence of 6 or more sequential 1-bits. The HDLC-unstuffing operation reverses the above, deleting a 0-bit found after 5 sequential 1-bits, and then starts counting 1-bits from zero and repeating.</p>
    <p num="p-0073"> <figref idrefs="DRAWINGS">FIGS. 5A and 5B</figref> are flowcharts of exemplary processing for performing HDLC bit-stuffing according to an implementation consistent with the principles of the invention. Processing may begin with the loading of values into ISEin <b>310</b>, ISEstate <b>320</b>, and ISEctl <b>330</b>. For example, the saved ResidueCount value may be stored in a field within ISEctl <b>330</b> (act <b>501</b>) (<figref idrefs="DRAWINGS">FIG. 5A</figref>). A zero value may be stored in the OutputValid field in ISEctl <b>330</b> (act <b>502</b>). The saved Residue value may be stored in ISEstate <b>320</b> (act <b>503</b>). An input value may be stored in ISEin <b>310</b> (act <b>504</b>).</p>
    <p num="p-0074">The HDLC bit-stuff operation may then be performed on the contents of ISEin <b>310</b>, using the last four bits of Residue and ResidueCount as additional inputs (in case a sequence of five 1-bits spans the previous input word and the current input word) (act <b>505</b>). The result of the HDLC bit-stuff operation is an output value (HDLCstuffOut) of up to 128+26 bits (where 26 is the most zero bits that the process can insert into a 128-bit value, when the last four bits of the Residue value are also included). The HDLC bit-stuff operation also produces a count of zeros inserted (StuffCount).</p>
    <p num="p-0075">The valid ResidueCount bits of the Residue may be concatenated with the valid (128+StuffCount) bits of HDLCstuffOut to get a temporary result of (ResidueCount+128+StuffCount) bits. The first 128 bits of the temporary result may be stored in ISEout <b>340</b> (act <b>506</b>). It may then be determined whether (ResidueCount+128+StuffCount) is less than 256 (act <b>507</b>). If not, the next 128 bits of the temporary result may be stored in ISEoutX <b>350</b> (act <b>508</b>). Bit <b>0</b> of OutputValid may then be set to â€œ1â€ (act <b>509</b>). The remaining (ResidueCount+StuffCountâˆ’128) bits of the temporary result (forming the new Residue value) may be stored in ISEstate <b>320</b> (act <b>510</b>) (<figref idrefs="DRAWINGS">FIG. 5B</figref>). The ResidueCount field of ISEctl <b>330</b> may be loaded with (ResidueCount+StuffCountâˆ’128) (act <b>511</b>).</p>
    <p num="p-0076">If (ResidueCount+128+StuffCount) is less than 256 (act <b>507</b>), then the remaining (ResidueCount+StuffCount) bits of the temporary result (forming the new Residue value) may be stored in ISEstate <b>320</b> (act <b>512</b>). The ResidueCount field of ISEctl <b>330</b> may then be loaded with (ResidueCount+StuffCount) (act <b>513</b>). OutputValid may then be shifted left by one bit (act <b>514</b>). The contents of ISEout <b>340</b> and ISEoutX <b>350</b> may be output on output ports Sx and Sy, respectively (act <b>515</b>).</p>
    <p num="p-0077">It may then be determined whether more operations are to be performed on the same input stream (up to four inputs can be processed in sequence due to the size of the OutputValid field) (act <b>516</b>). If so, processing may continue at act <b>504</b> with the loading of an input value into ISEin <b>310</b>. Otherwise, the contents of ISEstate <b>320</b> may be saved, as well as the ResidueCount value from ISEctl <b>330</b> (acts <b>517</b> and <b>518</b>). The OutputValid field may also be examined to determine which output cycles had valid data on output port Sy.</p>
    <p num="p-0078">Several of the above-described acts may be performed in parallel or may be pipelined. For example, acts <b>501</b>-<b>503</b> may be performed in parallel; acts <b>505</b>-<b>515</b> may be performed in parallel, or may be pipelined internally as several acts; acts <b>517</b> and <b>518</b> can be performed in parallel. Further, act <b>504</b> and acts <b>505</b>-<b>515</b> may be pipelined, loading ISEin <b>310</b> with input word i+1 while processing input word i. Similarly, act <b>515</b> may be pipelined, outputting the results of input word iâˆ’1 while processing input word i.</p>
    <p num="p-0079"> <figref idrefs="DRAWINGS">FIGS. 5C and 5D</figref> are flowcharts of exemplary processing for performing HDLC bit-unstuffing according to an implementation consistent with the principles of the invention. Processing may begin with the loading of values into ISEin <b>310</b>, ISEstate <b>320</b>, and ISEctl <b>330</b>. For example, the saved ResidueCount value may be stored in a field within ISEctl <b>330</b> (act <b>521</b>) (<figref idrefs="DRAWINGS">FIG. 5C</figref>). A zero value may be stored in the OutputValid field in ISEctl <b>330</b> (act <b>522</b>). The saved Residue value may be stored in ISEstate <b>320</b> (act <b>523</b>). An input value may be stored in ISEin <b>310</b> (act <b>524</b>).</p>
    <p num="p-0080">The HDLC bit-unstuff operation may then be performed on the contents of ISEin <b>310</b>, using the last five bits of Residue and ResidueCount as additional inputs (in case a sequence of five 1-bits followed by a 0 bit spans the previous input word and the current input word) (act <b>525</b>). The result of the HDLC bit-unstuff operation is an output value (HDLCstuffOut) of up to 128âˆ’22 bits (where 22 is the most zero bits that the process can delete from a 128-bit value, when the last five bits of the Residue value are also included). The HDLC bit-unstuff operation also produces a count of zeros deleted (StuffCount).</p>
    <p num="p-0081">The valid ResidueCount bits of the Residue may be concatenated with the valid (128âˆ’StuffCount) bits of HDLCstuffOut to get a temporary result of (ResidueCount+128âˆ’StuffCount) bits (act <b>526</b>). It may then be determined whether (ResidueCount+128âˆ’StuffCount) is less than 128 (act <b>527</b>). If not, the first 128 bits of the temporary result may be stored in ISEout <b>340</b> (act <b>528</b>). Bit <b>0</b> <b>7534</b> of OutputValid may then be set to â€œ1â€ (act <b>529</b>). The remaining (ResidueCountâˆ’StuffCountâˆ’128) bits of the temporary result (forming the new Residue value) may be stored in ISEstate <b>320</b> (act <b>530</b>) (<figref idrefs="DRAWINGS">FIG. 5D</figref>). The ResidueCount field of ISEctl <b>330</b> may be loaded with (ResidueCountâˆ’StuffCountâˆ’128) (act <b>531</b>).</p>
    <p num="p-0082">If (ResidueCount+128âˆ’StuffCount) is less than 128 (act <b>527</b>), then the remaining (ResidueCountâˆ’StuffCount) bits of the temporary result (forming the new Residue value) may be stored in ISEstate <b>320</b> (act <b>532</b>). The ResidueCount field of ISEctl <b>330</b> may then be loaded with (ResidueCountâˆ’StuffCount) (act <b>533</b>). OutputValid may then be shifted left by one bit (act <b>534</b>). The contents of ISEout <b>340</b> may be output on output port Sx (act <b>535</b>).</p>
    <p num="p-0083">It may then be determined whether more operations are to be performed on the same input stream (up to four inputs can be processed in sequence due to the size of the OutputValid field) (act <b>536</b>). If so, processing may continue at act <b>524</b> with the loading of an input value into ISEin <b>310</b>. Otherwise, the contents of ISEstate <b>320</b> may be saved, as well as the ResidueCount value from ISEctl <b>330</b> (acts <b>537</b> and <b>538</b>). The OutputValid field may also be examined to determine which output cycles had valid data on output port Sx.</p>
    <p num="p-0084">Several of the above-described acts may be performed in parallel or may be pipelined. For example, acts <b>521</b>-<b>523</b> may be performed in parallel; acts <b>525</b>-<b>535</b> may be performed in parallel, or may be pipelined internally as several acts; acts <b>537</b> and <b>538</b> can be performed in parallel. Further, act <b>5242</b> and acts <b>525</b>-<b>535</b> may be pipelined, loading ISEin <b>310</b> with input word i+1 while processing input word i. Similarly, act <b>535</b> may be pipelined, outputting the results of input word iâˆ’1 while processing input word i.</p>
    <p num="h-0009">POS Operations</p>
    <p num="p-0085">The basic POS byte-stuffing operation looks for â€œflagâ€ byte (0x7e) or â€œcontrol escapeâ€ byte (0x7d), and replaces it with a two-byte escape sequence (0x7d 0x5e for flags, 0x7d 0x5d for control-escapes). This prevents the output sequence from containing any flag bytes, or any control escape bytes taken directly from the input. The POS byte-unstuffing operation reverses the above, replacing the sequence 0x7d 0x5e with a single byte 0x7e, and the sequence 0x7d 0x5d with a single byte value 0x7d.</p>
    <p num="p-0086"> <figref idrefs="DRAWINGS">FIGS. 5E and 5F</figref> are flowcharts of exemplary processing for performing POS byte-stuffing according to an implementation consistent with the principles of the invention. Processing may begin with the loading of values into ISEin <b>310</b>, ISEstate <b>320</b>, and ISEctl <b>330</b>. For example, the saved ResidueCount value may be stored in a field within ISEctl <b>330</b> (act <b>541</b>) (<figref idrefs="DRAWINGS">FIG. 5E</figref>). A zero value may be stored in the OutputValid field in ISEctl <b>330</b> (act <b>542</b>). The saved Residue value may be stored in ISEstate <b>320</b> (act <b>543</b>). An input value may be stored in ISEin <b>310</b> (act <b>544</b>).</p>
    <p num="p-0087">The POS byte-stuff operation may then be performed on the contents of ISEin <b>310</b>, replacing any instances of the single bytes 0x7e or 0x7d with the two-byte sequence 0x7d 0x5e and 0x7d 0x5d, respectively (act <b>545</b>). The result of the POS byte-stuff operation is an output value (POSstuffOut) of up to 16+16 bytes (where 16 is the most bytes that the process can add to a 16-byte input value). The POS byte-stuff operation also produces a count of bytes inserted (StuffCount).</p>
    <p num="p-0088">The valid ResidueCount bytes of the Residue may be concatenated with the valid (16+StuffCount) bytes of POSstuffOut to get a temporary result of (ResidueCount+16+StuffCount) bytes (act <b>546</b>). The first 16 bytes of the temporary result may be stored in ISEout <b>340</b>. It may then be determined whether (ResidueCount+16+StuffCount) is less than 32 (act <b>547</b>). If not, the next 16 bytes of the temporary result may be stored in ISEoutX <b>350</b> (act <b>548</b>). Bit <b>0</b> of OutputValid may then be set to â€œ1â€ (act <b>549</b>). The remaining (ResidueCount+StuffCountâˆ’16) bytes of the temporary result (forming the new Residue value) may be stored in ISEstate <b>320</b> (act <b>550</b>) (<figref idrefs="DRAWINGS">FIG. 5F</figref>). The ResidueCount field of ISEctl <b>330</b> may be loaded with (ResidueCount+StuffCountâˆ’16) (act <b>551</b>).</p>
    <p num="p-0089">If (ResidueCount+16+StuffCount) is less than 32 (act <b>547</b>), then the remaining (ResidueCount+StuffCount) bytes of the temporary result (forming the new Residue value) may be stored in ISEstate <b>320</b> (act <b>552</b>). The ResidueCount field of ISEctl <b>330</b> may then be loaded with (ResidueCount+StuffCount) (act <b>553</b>). OutputValid may then be shifted left by one bit (act <b>554</b>). The contents of ISEout <b>340</b> and ISEoutX <b>350</b> may be output on output ports Sx and Sy, respectively (act <b>555</b>).</p>
    <p num="p-0090">It may then be determined whether more operations are to be performed on the same input stream (up to four inputs can be processed in sequence due to the size of the OutputValid field) (act <b>556</b>). If so, processing may continue at act <b>554</b> with the loading of an input value into ISEin <b>310</b>. Otherwise, the contents of ISEstate <b>320</b> may be saved, as well as the ResidueCount value from ISEctl <b>330</b> (acts <b>557</b> and <b>558</b>). The OutputValid field may also be examined to determine which output cycles had valid data on output port Sy.</p>
    <p num="p-0091">Several of the above-described acts may be performed in parallel or may be pipelined. For example, acts <b>541</b>-<b>543</b> may be performed in parallel; acts <b>545</b>-<b>555</b> may be performed in parallel, or may be pipelined internally as several acts; acts <b>557</b> and <b>558</b> can be performed in parallel. Further, act <b>544</b> and acts <b>545</b>-<b>555</b> may be pipelined, loading ISEin <b>310</b> with input word i+1 while processing input word i. Similarly, act <b>555</b> may be pipelined, outputting the results of input word iâˆ’1 while processing input word i.</p>
    <p num="p-0092"> <figref idrefs="DRAWINGS">FIGS. 5G and 5H</figref> are flowcharts of exemplary processing for performing POS byte-unstuffing according to an implementation consistent with the principles of the invention. Processing may begin with the loading of values into ISEin <b>310</b>, ISEstate <b>320</b>, and ISEctl <b>330</b>. For example, the saved ResidueCount value may be stored in a field within ISEctl <b>330</b> (act <b>561</b>) (<figref idrefs="DRAWINGS">FIG. 5G</figref>). The saved EscapePending bit may also be stored in ISEctl <b>330</b> (act <b>562</b>). A zero value may be stored in the OutputValid field in ISEctl <b>330</b> (act <b>563</b>). The saved Residue value may be stored in ISEstate <b>320</b> (act <b>564</b>). An input value may be stored in ISEin <b>310</b> (act <b>565</b>).</p>
    <p num="p-0093">The POS byte-unstuff operation may then be performed on the contents of ISEin <b>310</b>, using the EscapePending bit from ISEctl <b>330</b> as an additional input (in case the previous input word ended with a 0x7d byte) (act <b>566</b>). This replaces all 0x7d &lt;X&gt; byte pairs with a single byte equal to &lt;X&gt; XORed with the value 0Ã—20. If the EscapePending bit is set, the first byte of the input word is treated as having a preceding 0x7d byte. The result of the POS byte-unstuff operation is an output value (POSstuffOut) of up to 16âˆ’8 bytes (where 8 is the most control escape bytes that the process can delete from a 16-byte input value. The POS byte-unstuff operation also produces a count of control escape bytes deleted (StuffCount). It also updates the EscapePending bit in ISEctl <b>330</b>, which is set to â€œ1â€ if the last input byte was a 0x7d value (which will also have been deleted in the POSstuffOut); otherwise, the EscapePending bit is set to â€œ0.â€</p>
    <p num="p-0094">The valid ResidueCount bytes of the Residue may be concatenated with the valid (16âˆ’StuffCount) bytes of POSstuffOut to get a temporary result of (ResidueCount+16âˆ’StuffCount) bytes (act <b>567</b>). It may then be determined whether (ResidueCount+16âˆ’StuffCount) is less than <b>16</b> (act <b>568</b>). If not, the first 16 bytes of the temporary result may be stored in ISEout <b>340</b> (act <b>569</b>). Byte 0 of OutputValid may then be set to â€œ1â€ (act <b>570</b>). The remaining (ResidueCountâˆ’StuffCount) bytes of the temporary result (forming the new Residue value) may be stored in ISEstate <b>320</b> (act <b>571</b>) (<figref idrefs="DRAWINGS">FIG. 5H</figref>). The ResidueCount field of ISEctl <b>330</b> may be loaded with (ResidueCountâˆ’StuffCount) (act <b>572</b>).</p>
    <p num="p-0095">If (ResidueCount+16âˆ’StuffCount) is less than 16 (act <b>527</b>), then the remaining (ResidueCount+16âˆ’StuffCount) bytes of the temporary result (forming the new Residue value) may be stored in ISEstate <b>320</b> (act <b>573</b>). The ResidueCount field of ISEctl <b>330</b> may then be loaded with (ResidueCount+16âˆ’StuffCount) (act <b>574</b>). OutputValid may then be shifted left by one bit (act <b>575</b>). The contents of ISEout <b>340</b> may be output on output port Sx (act <b>576</b>).</p>
    <p num="p-0096">It may then be determined whether more operations are to be performed on the same input stream (up to four inputs can be processed in sequence due to the size of the OutputValid field) (act <b>577</b>). If so, processing may continue at act <b>565</b> with the loading of an input value into ISEin <b>310</b>. Otherwise, the contents of ISEstate <b>320</b> may be saved, as well as the ResidueCount and EscapePending values from ISEctl <b>330</b> (acts <b>578</b> and <b>579</b>). The OutputValid field may also be examined to determine which output cycles had valid data on output port Sx.</p>
    <p num="p-0097">Several of the above-described acts may be performed in parallel or may be pipelined. For example, acts <b>561</b>-<b>564</b> may be performed in parallel; acts <b>566</b>-<b>576</b> may be performed in parallel, or may be pipelined internally as several acts; acts <b>578</b> and <b>579</b> can be performed in parallel. Further, act <b>565</b> and acts <b>566</b>-<b>576</b> may be pipelined, loading ISEin <b>310</b> with input word i+1 while processing input word i. Similarly, act <b>576</b> may be pipelined, outputting the results of input word iâˆ’1 while processing input word i.</p>
    <heading>Bit Movement</heading> <p num="p-0098">The bit-movement functions of ISE unit <b>260</b> are programmed using memories <b>370</b>. The 16 64Ã—128 memories <b>370</b> may be ganged to function as 256 64Ã—8 memories. Each of these memories controls one of the 256 output bits in ISEout <b>340</b> and ISEoutX <b>350</b> by controlling a 256-to-1 multiplexer of crossbar <b>360</b> that selects from one of the 256 input bits held in ISEin <b>310</b> and ISEstate <b>320</b>. The value sent to ISEoutX <b>350</b> may also be loaded into ISEstate <b>340</b> to allow for â€œchainedâ€ operations that require multiple cycles.</p>
    <p num="p-0099">ISE unit <b>260</b> may be programmed to perform several types of functions (up to 64, in any combination), such as:
</p> <ul> <li id="ul0002-0001" num="0000"> <ul> <li id="ul0003-0001" num="0102">(1) any arithmetic or logical shift or rotate operation on up to 256 bits or any sub-field thereof;</li> <li id="ul0003-0002" num="0103">(2) extract any field or fields from up to 256 input bits into any positions in up to 256 output bits (extract);</li> <li id="ul0003-0003" num="0104">(3) insert any field (or fields) into 128 output bits (merge);</li> <li id="ul0003-0004" num="0105">(4) set or clear any sub-field from 1 to 128 bits (requires a known constant with at least one 1 and one 0 in ISEstate);</li> <li id="ul0003-0005" num="0106">(5) sign-extend any sub-field of up to 256 bits to any boundary desired in up to 256 output bits; and</li> <li id="ul0003-0006" num="0107">(6) insert or delete bits or bytes from a data stream.</li> </ul> </li> </ul> <p num="p-0100"> <figref idrefs="DRAWINGS">FIG. 6A</figref> is a flowchart of exemplary processing for programming bit-movement functions according to an implementation consistent with the principles of the invention. This programming may be done when code is loaded into ISE unit <b>260</b>, but typically not during normal operation. Processing may begin with each byte of ISEstate <b>320</b> being set to the function code f of the operation to be programmed (act <b>605</b>). The function code f may contain a value in the range 0 . . . 63 that identifies the operation to be programmed. The function code f may be duplicated in each byte of ISEstate <b>320</b>.</p>
    <p num="p-0101">A counter, i, may then be initialized to zero (act <b>610</b>). The value i may be loaded into each byte j (j=0 . . . 15) of ISEctl <b>330</b> (act <b>615</b>). Each byte j (j=0 . . . 15) of ISEin <b>310</b> may be loaded with the input bit index (0-255) that is used to select one of the 256 bits from the concatenation of the two 128-bit input registers (ISEin <b>310</b>, ISEstate <b>320</b>) for output bit (16*j+i) (on ISEout <b>340</b> and ISEoutX <b>350</b>) (act <b>620</b>). The loading of ISEctl <b>330</b> and ISEin <b>310</b> may be performed concurrently within a single operation cycle of ISE unit <b>260</b>. Also, the values loaded into ISEctl <b>330</b> and ISEin <b>310</b> may be pre-computed constants fetched from a table or may be generated by ALU <b>240</b>.</p>
    <p num="p-0102">Next, the ByteDistribute operation (Table 1) may be performed, where the 16 bytes of ISEin <b>310</b> (i.e., the multiplexer selector values) are written into lane i of memory address f of each of the 16 memories (j=0 . . . 15) (act <b>625</b>). This operation may be pipelined with the loading of ISEctl <b>330</b> and ISEin <b>310</b>. For example, while the values for i+1 are being loaded into ISEctl <b>330</b> and ISEin <b>310</b>, the ByteDistribute operation may be performed for the value i.</p>
    <p num="p-0103">The value i may then be incremented by one (act <b>630</b>). If i is less than 16 (act <b>635</b>), then processing may return to act <b>615</b>. Otherwise, processing may return to act <b>605</b> for programming of the next operation. The 16-count loop may be part of a larger loop that loads the entire memory <b>265</b> from a table of 1024 pairs of values from ISEin <b>310</b> and ISEstate <b>320</b>.</p>
    <p num="p-0104"> <figref idrefs="DRAWINGS">FIG. 6B</figref> is a flowchart of exemplary processing for performing bit-movement functions according to an implementation consistent with the principles of the invention. Processing may begin with the loading of a first operand into ISEin <b>310</b> and a second operand into ISEstate <b>320</b> (acts <b>650</b> and <b>655</b>). In one implementation, the operands include 128-bit operands. The loading operations may be performed concurrently during the same cycle. It may be possible to omit the loading of ISEstate <b>320</b> if the value from the prior cycle's output to ISEstate <b>320</b> is to be used (e.g., a chained operation) or if the bits to be used in the output come only from ISEin <b>310</b>.</p>
    <p num="p-0105">Next, the BitExchange operation (Table 1) may be performed (act <b>660</b>). During this operation, the desired function code f (0 . . . 63) may be supplied on the ISEfunc inputs and the 256 bit result may be loaded into ISEout <b>340</b> and ISEoutX <b>350</b>. For example, bits <b>127</b> . . . <b>0</b> of ISEin <b>310</b> may be supplied to bits <b>255</b> . . . <b>128</b> of crossbar <b>360</b> and bits <b>127</b> . . . <b>0</b> of ISEstate <b>320</b> may be supplied to bits <b>127</b> . . . <b>0</b> of crossbar <b>360</b>. Output bits <b>255</b> . . . <b>128</b> of crossbar <b>360</b> may be supplied to bits <b>127</b> . . . <b>0</b> of ISEout <b>340</b> and output bits <b>127</b> . . . <b>0</b> of crossbar <b>360</b> may be supplied to bits <b>127</b> . . . <b>0</b> of ISEoutX <b>350</b>. The value loaded into ISEoutX <b>350</b> may also be loaded into ISEstate <b>320</b>. The 256 bit result from ISEout <b>340</b> and ISEoutX <b>350</b> may then be provided on output ports Sx and Sy, respectively (act <b>665</b>).</p>
    <p num="p-0106">These acts may be pipelined and represent successive cycles in ISE unit <b>260</b>. Also, it may not be necessary to use all the memory locations in the BitExchange operation. For example, 16 locations may be used for the BitExchange and 48 locations may be used for other purposes, such as space-time switching operations.</p>
    <p num="p-0107">In a simple example of a bit-movement function, assume that bits or bytes are to be inserted or deleted from a data stream. In implementing this operation, ISEstate <b>320</b> may function as a â€œpartial resultâ€ register for a chaining operation.</p>
    <p num="p-0108">Assume that the data being inserted or deleted is at the front of a chunk (e.g., at the front of a packet). For a deletion operation, ISE unit <b>260</b> may be programmed to take the first 128-bit word of the chunk in ISEstate <b>320</b>, and the second word in ISEin <b>310</b>, and output the first 128-bit result word in ISEout <b>340</b>, while leaving whatever bits remain in ISEstate <b>320</b>, aligned so that the â€œunusedâ€ bits of the result in ISEstate <b>320</b> are in the same position as the deleted bits from the first 128-bit input word (originally loaded into ISEstate <b>320</b>). Repeating the operation while supplying succeeding 128-bit input words in ISEin <b>310</b> produces the desired result. Basically, this is a 256-bit shift operation on ISEstateâˆ¥ISEin, with the 256-bit result (minus the deleted field size) going into ISEoutâˆ¥ISEstate. Thus, ISEstate <b>320</b> serves as a â€œmulti-bit carry.â€</p>
    <p num="p-0109">Insertion works similarly, except the data to be inserted may be put into ISEstate <b>320</b>, right-justified, the first 128-bit word of the original chunk put into ISEin <b>310</b>, and the shift operation shifts right instead of left. The feedback operation of ISEstate <b>320</b> allows data to be streamed through ISE unit <b>260</b> at a rate of 128 input and output bits every cycle.</p>
    <heading>Space/Time Byte Switching</heading> <p num="p-0110">This subset of ISE functions is intended primarily to support SONET channel multiplexing and demultiplexing. There may be other applications as well. There are two operations supported in this mode: ByteDistribute and ByteCollect. ByteDistribute may include a write operation that writes each input byte of ISEin <b>310</b> into one of 16 lanes in the corresponding memory <b>370</b>. The lane selected and the memory address used is independent for each memory <b>370</b>, and are controlled by the corresponding bytes of ISEctl <b>330</b> (lane selection) and ISEstate <b>320</b> (address selection).</p>
    <p num="p-0111">ByteCollect may include a read operation that selects one of the 16 input-byte memories to source each byte in ISEout <b>340</b>. The memory <b>370</b> selected for each byte is controlled by the corresponding byte of ISEctl <b>330</b>, and the address used for each memory <b>370</b> may be controlled by the corresponding byte of ISEstate <b>320</b>. The byte lane used from the input memory <b>370</b> is automatically the same as the output byte lane's number.</p>
    <p num="p-0112">Essentially, this operation implements a multi-channel, time-distributed crossbar switching function between 16 input byte lanes and 16 output byte lanes. By applying the right sequence of address and byte-selection patterns for alternating ByteDistribute and ByteCollect operations, ISEout <b>340</b> can be controlled to have 16 sequential bytes from one SONET subchannel on each ByteCollect cycle (or the reverse, for SONET multiplexing).</p>
    <p num="p-0113">Control of ISE unit <b>260</b> for SONET multiplexing/demultiplexing operations may require four internal memory references per 128 bits of input/output to supply the values to ISEctl <b>330</b> and ISEstate <b>320</b> for each of the write and read operations. These will typically be read from tables generated by control processor <b>120</b> (<figref idrefs="DRAWINGS">FIG. 1</figref>) and stored in SRAM <b>250</b> (<figref idrefs="DRAWINGS">FIG. 2</figref>) to correspond to the SONET subchannel structure. Thus, each of the four control values may need to be in its own memory bank within SRAM <b>250</b>, since a total of 4 such reads may be required for each chunk input (and output), and each bank may only support 4-5 accesses per chunk-time.</p>
    <p num="p-0114">The 16-byte values produced by the ISE operation will also typically need to be buffered in SRAM <b>250</b>. Since producing a chunk requires a total of four 128-bit words, and these will not usually be emitted sequentially by the demultiplexing (or multiplexing) algorithm, they should be stored in the channel's context. This adds three memory writes and three memory reads, and requires at least two more banks of SRAM <b>250</b>. Only three write/read pairs are needed, since the fourth 128-bit result will complete an outgoing chunk, and can be sent directly to the output registers (e.g., output register file <b>220</b>) to join the other 128-bit words pulled from context memory as the time nears for the output chunk. ISE unit <b>260</b> may need four cycles per 128 bits passed through in this mode: one each for the read and write operations, and one each to set up the control values for read and for write.</p>
    <p num="p-0115">These operations are driven by two tables of control values. One table controls the input side (via the ByteDistribute operation), and the other table controls the output side (via the ByteCollect operation). In typical operation, the input and output operations are interleaved in such a way that for each 16-byte input value, one, and only one, of the 16 input bytes is a final byte in a block of 16 bytes to be output.</p>
    <p num="p-0116">The values stored in the two control tables may determine whether the overall operation being performed is a multiplexing or demultiplexing operation. In the case of SONET multiplexing and demultiplexing, the table values also reflect the aggregation structure of the SONET subchannels. For example, SONET OC-1 channels 1, 2, and 3 may be individual channels, or they may be a concatenated channel, such as an OC-3c, or they may be part of a larger aggregate, such as Â¼ of an OC-12c, etc.</p>
    <p num="p-0117">For SONET multiplexing and demultiplexing, each of the tables may include a number of entries equal to 90*9*(number of OC-1 subchannels)/(number of input bytes used per table entry). For example, in an implementation that processes OC-192 SONET channels and 16 input bytes, there may be 9720 entries in each of the two control tables, with each entry containing two 16-byte values, one for ISEctl <b>330</b>, and one for ISEin <b>310</b>.</p>
    <p num="p-0118">In one implementation, the fetching of control word entries may be performed external to ISE unit <b>260</b>, typically handled by storing the two tables (e.g., an input control table and an output control table) in different banks of SRAM <b>250</b>. General register file <b>230</b> may store pointers (IPtr and OPtr) to each of the two tables and a loop counter. ALU <b>240</b> may increment the pointers and decrement the loop counter. When the loop counter reaches zero, the pointers may be reset to point to the start of the tables and the loop counter may be set to the maximum value, while processing input taken from input register file <b>210</b> and outputting results to output register file <b>220</b>.</p>
    <p num="p-0119">Alternatively, the 16-byte output words from ISE unit <b>260</b> may be buffered in additional SRAM banks <b>265</b>, before being passed to output register file <b>220</b>. This may be useful if ISE memory <b>265</b> is shared between time-space switching and other functions, such as bit-exchange operations, leaving less than 64 bytes for each of the 192 channels for use by the time-space switching operation.</p>
    <p num="p-0120"> <figref idrefs="DRAWINGS">FIGS. 7A and 7B</figref> are flowcharts of exemplary processing for performing space/time byte switching according to an implementation consistent with the principles of the invention. Processing may begin with the setting of pointers IPtr and OPtr and a loop counter value (COUNT) (act <b>705</b>) (<figref idrefs="DRAWINGS">FIG. 7A</figref>). Pointer IPtr may be set to the start of the input control table and pointer OPtr may be set to the start of the output control table. The loop counter may be set to a maximum value, such as 9720.</p>
    <p num="p-0121">The first input control word (e.g., a 16-byte input control word) may then be read from SRAM <b>250</b> at the location of pointer IPtr (act <b>710</b>). Pointer IPtr may then be incremented by one (act <b>715</b>). A 16-byte input value may be written to ISEin <b>310</b> and the first input control word may be written to ISEstate <b>320</b> (act <b>720</b>). The second input control word may be read from SRAM <b>250</b> at the location of pointer IPtr (act <b>725</b>). Pointer IPtr may then be incremented by one (act <b>730</b>). The second input control word may be written to ISEctl <b>330</b> (act <b>735</b>). A ByteDistribute operation may then be performed, using the first and second input control words, as described above (act <b>740</b>).</p>
    <p num="p-0122">Next, the first output control word (e.g., a 16-byte output control word) may be read from SRAM <b>250</b> at the location of pointer OPtr (act <b>745</b>) (<figref idrefs="DRAWINGS">FIG. 7B</figref>). Pointer OPtr may then be incremented by one (act <b>750</b>). The first output control word may be written to ISEstate <b>320</b> (act <b>755</b>).</p>
    <p num="p-0123">The second output control word may be read from SRAM <b>250</b> at the location of pointer OPtr (act <b>760</b>). The pointer OPtr may then be incremented by one (act <b>765</b>). The second output control word may be written to ISEctl <b>330</b> (act <b>770</b>). A ByteCollect operation may then be performed, using the first and second output control words, as described above (act <b>775</b>).</p>
    <p num="p-0124">A 16-byte output word may then be read from ISEout <b>350</b> (act <b>780</b>). The value of the loop counter may then be decremented by one (act <b>785</b>). If the resulting value of the loop counter is zero (act <b>790</b>), then processing may continue at act <b>705</b>. Otherwise, processing may continue at act <b>710</b>.</p>
    <p num="p-0125">Some of the above-identified acts may be performed external to ISE unit <b>260</b>. Also, acts <b>710</b>-<b>790</b> may be pipelined, such that a total of four ISE cycles are used for each 16-byte input and output. This pipelining may be summarized as: (1) load input data word i, load input control word i.1, and perform ByteCollect; (2) load input control word i.2, and unload output data iâˆ’1; (3) perform ByteDistribute, and load output control word i.1; and (4) load output control word i.2.</p>
    <p num="p-0126">The operations external to ISE unit <b>260</b> can be similarly pipelined, with SRAM <b>250</b> performing and completing a read on each of 4 cycles. The pointer increment and the counter decrement operations can similarly be reduced to 4 cycles or less, by interleaving the input and output control words in a single table, and employing a 4-word-burst read operation in SRAM <b>250</b>, allowing the pointer to be incremented by 4, instead of incrementing it 4 times by +1, leaving only 2 ALU operations per loop iteration.</p>
    <p num="p-0127">A separate process may be used to compute the tables: one version for multiplexing and one for demultiplexing. The process may use the SONET channel structure as input (i.e., which channels are concatenated together, and which are independent). Essentially, each of the 16 input bytes on a particular iteration of the demultiplexing operation is put into a byte lane corresponding to its phase, with a total of 16 phases possible. Each input byte lane belongs to a different phase, and the channel corresponding to the lane that has phase 16 on this cycle will output its collected 16 bytes in the output part of the loop on the current iteration. This gets a bit more complicated when aggregated channels are taken into account, but numerous channel patterns can be computed relatively easily which will produce viable control word tables.</p>
    <heading>Byte-Wise Table Lookup</heading> <p num="p-0128">In this mode, ISE unit <b>260</b> allows the internal memories <b>370</b> to be used for a parallel byte-mapping operation that includes a byte-wise remapping of 128 input bits into 128 output bits. A 256Ã—8 table may be used to map each of the 16 input bytes into the corresponding output bytes. The table used for each of the 16 input bytes may be different. Up to four different table sets can be supported.</p>
    <p num="p-0129">This operation may be useful for translating complex values in headers, such as the IP TOS/DS byte, into a smaller set of values used to index internal tables. It may also be useful for mapping byte values to one of 16 (or fewer) values subsequently used for 16-way branching via the ALUout&lt;<b>3</b> . . . <b>0</b>&gt; flags, or to otherwise recognize â€œmagic numbersâ€ in headers.</p>
    <p num="p-0130">In this mode, the 16 64Ã—128 memories <b>370</b> operate as 16 4Ã—256Ã—8 memories. Each of the mapping tables uses a block of 16 memory addresses (out of 64 total). The 16 addresses may be aligned on even address multiples of 16. Addresses not used for the table may be used for any other purpose. The table may be loaded by initialization code when ISE unit <b>260</b> is initialized. Alternatively, the table may be loaded at any other time, though addresses in the table cannot be safely used during the period when the table is loaded.</p>
    <p num="p-0131"> <figref idrefs="DRAWINGS">FIG. 8A</figref> is a flowchart of exemplary processing for programming byte-wise table lookup functions according to an implementation consistent with the principles of the invention. This programming may be done for each mapping table to be programmed. In one implementation, up to four mapping tables may be defined.</p>
    <p num="p-0132">Processing may begin with setting of the base address â€œaâ€ of the table (act <b>805</b>). In one implementation, the base address may be set to 0, 16, 32, or 48 (i.e., multiples of 16). A counter, n, may then be initialized to zero (act <b>810</b>). Each byte of ISEstate <b>320</b> may be set to a+n (act <b>815</b>). This results in a value in the range of 0 . . . 63, which is duplicated in each byte of ISEstate <b>320</b>.</p>
    <p num="p-0133">A counter, i, may then be initialized to zero (act <b>820</b>). The value i may then be loaded into each byte j (j=0 . . . 15) of ISEctl <b>330</b> (act <b>825</b>). Each byte j (j=0 . . . 15) of ISEin <b>310</b> may be loaded with the output byte desired for the input byte value (16*n+i) if found in the input byte position j (act <b>830</b>). The loading of ISEctl <b>330</b> and ISEin <b>310</b> may be performed concurrently within a single operation cycle of ISE unit <b>260</b>. Also, the values loaded into ISEctl <b>330</b> and ISEin <b>310</b> may be pre-computed constants fetched from a table or may be generated by ALU <b>240</b>.</p>
    <p num="p-0134">Next, the ByteDistribute operation (Table 1) may be performed, where the 16 bytes of ISEin <b>310</b> (i.e., the output values for each of the 16 input lanes for input value 16*n+i) are written into lane i of memory address a+n of each of the 16 memories (j=0 . . . 15) (act <b>835</b>). This operation may be pipelined with the loading of ISEctl <b>330</b> and ISEin <b>310</b>. For example, while the values for i+1 are being loaded into ISEctl <b>330</b> and ISEin <b>310</b>, the ByteDistribute operation may be performed for the value i.</p>
    <p num="p-0135">The value i may then be incremented by one (act <b>840</b>). If i is less than 16 (act <b>845</b>), then processing may return to act <b>825</b>. Otherwise, the value n may be incremented by one (act <b>850</b>). If n is less than 16 (act <b>855</b>), then processing may return to act <b>815</b>. Otherwise, processing may return to act <b>805</b> for programming of the next table.</p>
    <p num="p-0136"> <figref idrefs="DRAWINGS">FIG. 8B</figref> is a flowchart of exemplary processing for performing byte-wise table lookup functions according to an implementation consistent with the principles of the invention. Processing may begin with the loading of an operand into ISEstate <b>320</b> (act <b>860</b>). In one implementation, the operand includes a 128-bit operand.</p>
    <p num="p-0137">Next, the ByteLookup operation (Table 1) may be performed (act <b>865</b>). During this operation, the desired table number (0 . . . 3) may be supplied on the ISEfunc&lt;<b>5</b> . . . <b>4</b>&gt; inputs and the result may be loaded into ISEout <b>340</b>. Each of the input bytes may be replaced in the output value by the 8-bit memory value it indexes in memory <b>370</b> for its byte lane. The 16 byte result from ISEout <b>340</b> may then be provided on output port Sx (act <b>870</b>).</p>
    <p num="p-0138">In other words, this operation is implemented by having each byte of ISEstate <b>320</b> address a single 8-bit result from one of memories <b>370</b>. This uses the high 2 bits of ISEfunc concatenated with the low 4 bits of each input byte as the memory address, and the high 4 bits of each ISEstate <b>320</b> byte to select one 8-bit lane from the 128-bit result. Thus, ISEfunc selects one of four (or fewer) tables. This allows memories <b>370</b> to be shared between bit exchange, space/time byte-switching, and byte lookup operations.</p>
    <p num="p-0139">These acts may be pipelined and represent successive cycles in ISE unit <b>260</b>. Also, it may not be necessary to use all the memory locations in the ByteLookup operation. For example, 16 locations may be used for a single ByteLookup table and 48 locations may be used for other purposes, such as space-time switching operations.</p>
    <heading>Cryptography</heading> <p num="p-0140">ISE unit <b>260</b> supports four cryptography primitives: AESRound and AESFinal for encryption, and AESInverseRound and AESInverseFinal for decryption. AESRound and AESInverseRound perform a single round calculation for the new NIST Advanced Encryption Standard. The round key is stored in ISEin <b>310</b> at the start of the operation. ISEstate <b>320</b> contains the round state and is normally loaded with the data to encrypt/decrypt at the start of a 10-round sequence. The output of the round is left in ISEstate <b>320</b>. AESFinal and AESInverseFinal perform the last round of an AES encryption/decryption operation. The inputs and outputs are the same as for AESRound and AESInverseRound, but the internal logic functions slightly differently.</p>
    <p num="p-0141">The AES operations assume that the memories are preloaded with tables derived from the AES cipher algorithm (these are sometimes referred to as â€œTâ€ tables). The loading of the tables is basically the same as the procedure for loading the tables for a table-lookup operation (as described previously), except that each AES table is 32 bits wide, not 8, and, thus, includes four table blocks in the memory. Different versions of the tables may be used for encryption and decryption, and the logic may also differ.</p>
    <p num="p-0142">The cipher key may be expanded into a set of round keys for both encryption and decryption. The operations of ISE unit <b>260</b> (described below) assumes that the round keys are available in the registers or memory external to ISE unit <b>260</b> and are provided to ISE unit <b>260</b> in the correct order. Generally, the round keys may be computed once when the cipher key is first supplied, and the resulting round key array may be stored in SRAM <b>250</b>. If only one round key is in use at a time, however, the round keys might be stored in the general register file <b>230</b>. The initial computation of the round keys may differ for encryption and decryption.</p>
    <p num="p-0143">Generally, ISE unit <b>260</b> may support 128-bit blocksize AES with 128-bit keys. The sequence of operations (assuming AES is used in ECB mode) may include loading ISEstate <b>320</b> with the data to encrypt/decrypt, ISEin <b>310</b> with the first round key, and then performing nine AESRound/AESInverseRound operations. The sequence further includes loading the next round key into ISEin <b>310</b> for the following round, performing a single AESFinal/AESInverseFinal operation, and then taking the result out of ISEstate <b>320</b>. Using ISE unit <b>260</b> to perform AES operations may use the entire memories <b>370</b> to store the necessary S-box tables. The cryptography primitive may also be useful as a hashing operation on 128-bit inputs.</p>
    <p num="p-0144"> <figref idrefs="DRAWINGS">FIG. 9</figref> is a flowchart of exemplary processing for performing cryptographic functions according to an implementation consistent with the principles of the invention. Processing may begin with the loading of input data (an initialization vector in the case of CBC mode) in ISEstate <b>320</b>. A counter i may then be set to one (act <b>920</b>). ISEin <b>310</b> may then be loaded with the round i key (act <b>930</b>).</p>
    <p num="p-0145">AESRound, in the case of encryption, or AESInverseRound, in the case of decryption, may then be performed (act <b>940</b>). The AESRound/AESInverseRound operation is very similar to the byte-wise table lookup operations. For example, each byte of ISEstate <b>320</b> addresses a single 32-bit result word from one of memories <b>370</b> (using the low 6 bits of the byte as the memory address, and the high 2 to select one 32-bit lane from the 128-bit result). The 32-bit outputs from each memory <b>370</b>, and the round key, are combined using a simple set of byte-wise XOR operations (as described in the AES implementation description, available from the NIST web site), and the result latched into ISEstate <b>320</b> for the next round.</p>
    <p num="p-0146">The value i may then be incremented by one (act <b>950</b>). A determination may then be made whether the value of i is less than ten (act <b>960</b>). If so, processing may continue at act <b>930</b> with the loading of the next round key into ISEin <b>310</b>. Otherwise, ISEin <b>310</b> may be loaded with the final round key (act <b>970</b>). AESFinal, in the case of encryption, or AESInverseFinal, in the case of decryption, may then be performed (act <b>980</b>). The AESFinal/AESInverseFinal operation selects a slightly different set of output bytes for the XOR operations, but is otherwise identical to the AESRound/AESInverseRound operation. The encrypted/decrypted data may be stored in ISEoutX and, then, output from output port Sy (act <b>990</b>).</p>
    <p num="p-0147">In an alternative implementation, acts <b>930</b> and <b>940</b> may be repeated a predetermined number of times (e.g., nine times) and acts <b>920</b>, <b>950</b>, and <b>960</b> may be eliminated.</p>
    <heading>CONCLUSION</heading> <p num="p-0148">Systems and methods consistent with the present invention provide an execution unit within a network device. The execution unit may be programmed to perform a wide variety of protocol-processing primitive operations, such as bit-field inserts and extracts, shift operations, bit and byte stuffing and unstuffing, SONET channel decomposition (e.g., time-space interleaving), byte-remapping (e.g., table lookup), and cryptography operations. The execution unit, as described herein, may perform protocol processing at speeds of 10 Gb/s and higher.</p>
    <p num="p-0149">The foregoing description of preferred embodiments of the present invention provides illustration and description, but is not intended to be exhaustive or to limit the invention to the precise form disclosed. Modifications and variations are possible in light of the above teachings or may be acquired from practice of the invention. For example, certain portions of the invention have been described as â€œlogicâ€ that performs one or more functions. This logic may include hardware, such as an application specific integrated circuit, software, or a combination of hardware and software.</p>
    <p num="p-0150">Also, while series of acts have been presented with regard to the flowcharts of <figref idrefs="DRAWINGS">FIGS. 5A-9</figref>, the order of the acts may differ in other implementations consistent with the principles of the invention. In addition, certain acts may be performed concurrently.</p>
    <p num="p-0151">No element, act, or instruction used in the description of the present application should be construed as critical or essential to the invention unless explicitly described as such. Also, as used herein, the article â€œaâ€ is intended to include one or more items. Where only one item is intended, the term â€œoneâ€ or similar language is used. The scope of the invention is defined by the claims and their equivalents.</p>
    </div></div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Patent Citations</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Cited Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5809078">US5809078</a></td><td class="patent-data-table-td patent-date-value">May 13, 1997</td><td class="patent-data-table-td patent-date-value">Sep 15, 1998</td><td class="patent-data-table-td ">Digital Vision Laboratories Corporation</td><td class="patent-data-table-td ">Relay node system and relay control method of the same system</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6054942">US6054942</a></td><td class="patent-data-table-td patent-date-value">Aug 14, 1997</td><td class="patent-data-table-td patent-date-value">Apr 25, 2000</td><td class="patent-data-table-td ">Cisco Technology, Inc.</td><td class="patent-data-table-td ">System and method for scaleable encoding and decoding of variable bit frames</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6076137">US6076137</a></td><td class="patent-data-table-td patent-date-value">Dec 11, 1997</td><td class="patent-data-table-td patent-date-value">Jun 13, 2000</td><td class="patent-data-table-td ">Lexar Media, Inc.</td><td class="patent-data-table-td ">Method and apparatus for storing location identification information within non-volatile memory devices</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6212569">US6212569</a></td><td class="patent-data-table-td patent-date-value">Nov 6, 1998</td><td class="patent-data-table-td patent-date-value">Apr 3, 2001</td><td class="patent-data-table-td ">Cisco Technology, Inc.</td><td class="patent-data-table-td ">Data processor with bit stuffing instruction set extension</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6327639">US6327639</a></td><td class="patent-data-table-td patent-date-value">May 26, 2000</td><td class="patent-data-table-td patent-date-value">Dec 4, 2001</td><td class="patent-data-table-td ">Lexar Media, Inc.</td><td class="patent-data-table-td ">Method and apparatus for storing location identification information within non-volatile memory devices</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6438678">US6438678</a></td><td class="patent-data-table-td patent-date-value">Aug 11, 1998</td><td class="patent-data-table-td patent-date-value">Aug 20, 2002</td><td class="patent-data-table-td ">Cisco Technology, Inc.</td><td class="patent-data-table-td ">Apparatus and method for operating on data in a data communications system</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6725351">US6725351</a></td><td class="patent-data-table-td patent-date-value">Aug 9, 2000</td><td class="patent-data-table-td patent-date-value">Apr 20, 2004</td><td class="patent-data-table-td ">Murata Manufacturing Co., Ltd.</td><td class="patent-data-table-td ">Data communication device having a buffer in a nonvolatile storage device</td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="npl-citations"></a><div class="patent-section-header"><span class="patent-section-title">Non-Patent Citations</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th colspan="3"class="patent-data-table-th">Reference</th></tr></thead><tr><td class="patent-data-table-td ">1</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Federal Information Processing Standards Publication 197, Nov. 26, 2001, Announcing the Advanced Encryption Standard (AES), 50 pages.</td></tr><tr><td class="patent-data-table-td ">2</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Joan Daemen and Vincent Rijmen, The Rijndael Block Cipher, AES Proposal: Rijndael, Document version 2, Mar. 9, 1999, 45 pages.</td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Referenced by</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Citing Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7570760">US7570760</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Sep 13, 2004</td><td class="patent-data-table-td patent-date-value">Aug 4, 2009</td><td class="patent-data-table-td ">Sun Microsystems, Inc.</td><td class="patent-data-table-td ">Apparatus and method for implementing a block cipher algorithm</td></tr></table><div class="patent-section-footer">* Cited by examiner</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">Classifications</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">U.S. Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=hJt_BAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc370/defs370.htm&usg=AFQjCNEr5EDctcusna2HU7Iww2g4dx3BIw#C370S419000">370/419</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=hJt_BAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc370/defs370.htm&usg=AFQjCNEr5EDctcusna2HU7Iww2g4dx3BIw#C370S413000">370/413</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=hJt_BAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc370/defs370.htm&usg=AFQjCNEr5EDctcusna2HU7Iww2g4dx3BIw#C370S412000">370/412</a></span></td></tr><tr><td class="patent-data-table-td ">International Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=hJt_BAABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=H04L0012020000">H04L12/02</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=hJt_BAABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=H04L0029060000">H04L29/06</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=hJt_BAABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G06F0021000000">G06F21/00</a></span></td></tr><tr><td class="patent-data-table-td ">Cooperative Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=hJt_BAABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06F21/72">G06F21/72</a></span></td></tr><tr><td class="patent-data-table-td ">European Classification</td><td class="patent-data-table-td "><span class="nested-value">G06F21/72</span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">Legal Events</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Date</th><th class="patent-data-table-th">Code</th><th class="patent-data-table-th">Event</th><th class="patent-data-table-th">Description</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">Nov 20, 2012</td><td class="patent-data-table-td ">B1</td><td class="patent-data-table-td ">Reexamination certificate first reexamination</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">CLAIMS 1-4, 6, 10, 13, 14 AND 16 ARE CANCELLED.CLAIMS 5, 7-9, 11-12, 15 AND 17-29 WERE NOT REEXAMINED.</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Nov 29, 2011</td><td class="patent-data-table-td ">RR</td><td class="patent-data-table-td ">Request for reexamination filed</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20111013</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Apr 29, 2011</td><td class="patent-data-table-td ">FPAY</td><td class="patent-data-table-td ">Fee payment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Year of fee payment: </span><span class="nested-value">4</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Feb 8, 2010</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">STRAGENT, LLC,TEXAS</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:AZURE NETWORKS, LLC;US-ASSIGNMENT DATABASE UPDATED:20100210;REEL/FRAME:23905/349</span></div><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20090820</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:AZURE NETWORKS, LLC;REEL/FRAME:023905/0349</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Aug 19, 2009</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">STRAGENT, LLC, TEXAS</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:BBN TECHNOLOGIES CORP.;REEL/FRAME:023107/0963</span></div><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20080707</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Aug 18, 2009</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">BBN TECHNOLOGIES CORP., MASSACHUSETTS</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">RELEASE BY SECURED PARTY;ASSIGNOR:BANK OF AMERICA, N. A. (AS SUCCESSOR TO FLEET NATIONAL BANK), AS AGENT;REEL/FRAME:023107/0492</span></div><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20080701</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Oct 10, 2008</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">AZURE NETWORKS, LLC, TEXAS</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:STRAGENT, LLC;REEL/FRAME:021691/0286</span></div><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20081010</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Mar 2, 2006</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">BBN TECHNOLOGIES CORP., MASSACHUSETTS</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">MERGER;ASSIGNOR:BBNT SOLUTIONS LLC;REEL/FRAME:017274/0318</span></div><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20060103</span></div><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">BBN TECHNOLOGIES CORP.,MASSACHUSETTS</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">MERGER;ASSIGNOR:BBNT SOLUTIONS LLC;US-ASSIGNMENT DATABASE UPDATED:20100223;REEL/FRAME:17274/318</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">MERGER;ASSIGNOR:BBNT SOLUTIONS LLC;US-ASSIGNMENT DATABASE UPDATED:20100413;REEL/FRAME:17274/318</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">May 12, 2004</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">FLEET NATIONAL BANK, AS AGENT, MASSACHUSETTS</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">PATENT &amp; TRADEMARK SECURITY AGREEMENT;ASSIGNOR:BBNT SOLUTIONS LLC;REEL/FRAME:014624/0196</span></div><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20040326</span></div><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">FLEET NATIONAL BANK, AS AGENT,MASSACHUSETTS</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">PATENT &amp; TRADEMARK SECURITY AGREEMENT;ASSIGNOR:BBNT SOLUTIONS LLC;US-ASSIGNMENT DATABASE UPDATED:20100223;REEL/FRAME:14624/196</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Jan 21, 2003</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">BBNT SOLUTIONS LLC, MASSACHUSETTS</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:MILLIKEN, WALTER CLARK;DIETZ, JACK;REEL/FRAME:013680/0914</span></div><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20021017</span></div></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">Rotate</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">Original Image</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " Image not available"});</script></div></div></div></td></tr></table><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_8a2b04e7bf975d5171d8e4c0b6365c7a.js", Host:"http://www.google.com/", IsBooksRentalEnabled:1, IsWebstoreDisplayCaseEnabled:1, IsObfuscationEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsGeoLayerEnabled:1, IsImageModeNotesEnabled:1, IsCopyMenuItemEnabled:1, IsGiftingEnabled:0, IsWebReaderUniversalPaginatorEnabled:0, IsOfflineBubbleEnabled:1, IsReaderEnabledForPlayRequests:1, IsFutureOnSaleVolumesEnabled:1, IsOfflineRestrictedCopyEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsRestrictedCopyEnabled:1, IsZipitFolderCollectionEnabled:1, IsEndOfSampleRecommendationsEnabled:1, IsRatingsOnBookcardsEnabled:1, IsAdsDisabled:0, IsIframePageDisplayEnabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:0, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsPreOrdersEnabled:0, IsDisabledRandomBookshelves:0, WebstoreDisplayCasePosition:3});_OC_Run({"enable_p13n":false,"add_vol_to_collection_base_url":"http://www.google.com/patents?op=add\u0026sig=ACfU3U05N_HoGefMloIZhi_69VZMuVM7UA\u0026id=hJt_BAABERAJ","remove_vol_from_collection_base_url":"http://www.google.com/patents?op=remove\u0026sig=ACfU3U3NLjyV0T_Q9FWJnLxFbU2nP4r9ew\u0026id=hJt_BAABERAJ","logged_in":false,"p13n_save_user_settings_url":"http://www.google.com/patents?op=edit_user_settings\u0026sig=ACfU3U3L8iKnXbr0gIl8vwYDzydSJAaakw","is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=http://www.google.com/patents%3Fhl%3Den\u0026hl=en","is_play_enabled":true}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"http://www.google.com/patents/download/Execution_unit_for_a_network_processor.pdf?id=hJt_BAABERAJ\u0026output=pdf\u0026sig=ACfU3U3IDT5SNTmZNcz_UB3MjtNKZgaDPw"},"sample_url":"http://www.google.com/patents/reader?id=hJt_BAABERAJ\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href=http://www.google.com/><nobr>Google&nbsp;Home</nobr></a> - <a href=//www.google.com/patents/sitemap/><nobr>Sitemap</nobr></a> - <a href=http://www.google.com/googlebooks/uspto.html><nobr>USPTO Bulk Downloads</nobr></a> - <a href=/intl/en/privacy/><nobr>Privacy Policy</nobr></a> - <a href=/intl/en/policies/terms/><nobr>Terms of Service</nobr></a> - <a href=https://support.google.com/faqs/answer/2539193?hl=en><nobr>About Google Patents</nobr></a> - <a href="http://www.google.com/tools/feedback/intl/en/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'en'});return false;}catch(e){}"><nobr>Send Feedback</nobr></a></div><span>Data provided by IFI CLAIMS Patent Services</span><br><span >&copy;2012 Google</span></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>