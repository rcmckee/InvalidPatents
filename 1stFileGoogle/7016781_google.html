<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html><head><title>Patent US7016781 - Method and system for querying in a moving object database - Google Patents</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_8a2b04e7bf975d5171d8e4c0b6365c7a/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_8a2b04e7bf975d5171d8e4c0b6365c7a__en.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "en",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="Method and system for querying in a moving object database"><meta name="DC.contributor" content="Ouri Wolfson" scheme="inventor"><meta name="DC.contributor" content="Board Of Trustees Of The University Of Illinois" scheme="assignee"><meta name="DC.date" content="2005-1-31" scheme="dateSubmitted"><meta name="DC.description" content="A database receives location information about a moving object. Using the destination of the object and an electronic map, the database finds a projected path for the moving object. From the projected path, the database computes a trajectory. The trajectory may be used to estimate past and future positions of the moving object. The moving object may send location updates to the database when its actual location differs from its anticipated location by more than an uncertainty threshold."><meta name="DC.date" content="2006-3-21" scheme="issued"><meta name="DC.relation" content="US:6662105" scheme="references"><meta name="DC.relation" content="US:6791472" scheme="references"><meta name="citation_patent_number" content="US:7016781"><meta name="citation_patent_application_number" content="US:11/048,039"><link rel="canonical" href="http://www.google.com/patents/US7016781"/><meta property="og:url" content="http://www.google.com/patents/US7016781"/><meta name="title" content="Patent US7016781 - Method and system for querying in a moving object database"/><meta name="description" content="A database receives location information about a moving object. Using the destination of the object and an electronic map, the database finds a projected path for the moving object. From the projected path, the database computes a trajectory. The trajectory may be used to estimate past and future positions of the moving object. The moving object may send location updates to the database when its actual location differs from its anticipated location by more than an uncertainty threshold."/><meta property="og:title" content="Patent US7016781 - Method and system for querying in a moving object database"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>(function(){try{var aa=function(a,b,c,d){d=d||{};d._sn=["cfg",b,c].join(".");window.gbar.logger.ml(a,d)};var g=window.gbar=window.gbar||{},l=window.gbar.i=window.gbar.i||{},m={},n;function _tvn(a,b){var c=parseInt(a,10);return isNaN(c)?b:c}function _tvf(a,b){var c=parseFloat(a);return isNaN(c)?b:c}function _tvv(a){return!!a}function p(a,b,c){(c||g)[a]=b}g.bv={n:_tvn("2",0),r:"",f:".67.",e:"0",m:_tvn("0",1)};
function q(a,b,c){var d="on"+b;if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent(d,c);else{var f=a[d];a[d]=function(){var a=f.apply(this,arguments),b=c.apply(this,arguments);return void 0==a?b:void 0==b?a:b&&a}}}var s=function(a){return function(){return g.bv.m==a}},ba=s(1),ca=s(2);p("sb",ba);p("kn",ca);l.a=_tvv;l.b=_tvf;l.c=_tvn;l.i=aa;var da=window.gbar.i.i;var t,u,v,w;function ea(a){v=a}function fa(a){var b;if(b=v&&window.encodeURIComponent)b=a.href,b=!b.match(/^http[s]?:\/\/accounts\.google\.[^/]*\/ClearSID/i)&&!b.match(/^http[s]?:\/\/[^/]*\/accounts\/ClearSID/i);if(b=b&&encodeURIComponent(v()))a.href=a.href.replace(/([?&]continue=)[^&]*/,"$1"+b)}function ga(a){window.gApplication&&(a.href=window.gApplication.getTabUrl(a.href))}
function ha(a){var b=document.forms[0].q,c=window.encodeURIComponent&&b&&b.value,b=b&&b.placeholder;c&&c!=b&&(a.href=a.href.replace(/([?&])q=[^&]*|$/,function(a,b){return(b||"&")+"q="+encodeURIComponent(c)}))}n=l.a("")?ga:ha;
function x(a,b,c,d,f,e){var h=document.getElementById(a);if(h){var k=h.style;k.left=d?"auto":b+"px";k.right=d?b+"px":"auto";k.top=c+"px";k.visibility=u?"hidden":"visible";f&&e?(k.width=f+"px",k.height=e+"px"):(x(t,b,c,d,h.offsetWidth,h.offsetHeight),u=u?"":a)}}
var y=[],ia=function(a,b){y.push(b)},ja=function(a){a=a||window.event;var b=a.target||a.srcElement;a.cancelBubble=!0;null==t&&(a=document.createElement(Array.every||window.createPopup?"iframe":"div"),a.frameBorder="0",t=a.id="gbs",a.src="javascript:''",b.parentNode.appendChild(a),q(document,"click",z));var c=b,b=0;"gb3"!=c.className&&(c=c.parentNode);a=c.getAttribute("aria-owns")||"gbi";var d=c.offsetWidth,f=20<c.offsetTop?46:24;document.getElementById("tphdr")&&(f-=3);var e=!1;do b+=c.offsetLeft||
0;while(c=c.offsetParent);var c=(document.documentElement.clientWidth||document.body.clientWidth)-b-d,h,d=document.body,k=document.defaultView;k&&k.getComputedStyle?(d=k.getComputedStyle(d,""))&&(h=d.direction):h=d.currentStyle?d.currentStyle.direction:d.style.direction;h="rtl"==h;if("gbi"==a){for(d=0;k=y[d++];)k();A(null,window.navExtra);h&&(b=c,e=!0)}else h||(b=c,e=!0);u!=a&&z();x(a,b,f,e)},z=function(){u&&x(u,0,0)},A=function(a,b){var c,d=document.getElementById("gbi"),f=a;f||(f=d.firstChild);
for(;b&&(c=b.pop());){var e=d,h=c,k=f;w||(w="gb2");e.insertBefore(h,k).className=w}},ka=function(a,b,c){if((b=document.getElementById(b))&&a){a.className="gb4";var d=document.createElement("span");d.appendChild(a);d.appendChild(document.createTextNode(" | "));d.id=c;b.appendChild(d)}},la=function(){return document.getElementById("gb_70")},ma=function(){return!!u};p("qs",n);p("setContinueCb",ea);p("pc",fa);p("tg",ja);p("close",z);p("addLink",ka);p("almm",A);p("si",la);p("adh",ia);p("op",ma);var B=function(){},C=function(){},F=function(a){var b=new Image,c=D;b.onerror=b.onload=b.onabort=function(){try{delete E[c]}catch(a){}};E[c]=b;b.src=a;D=c+1},E=[],D=0;p("logger",{il:C,ml:B,log:F});var G=window.gbar.logger;var H={},na={},I=[],oa=l.b("0.1",.1),pa=l.a("1",!0),qa=function(a,b){I.push([a,b])},ra=function(a,b){H[a]=b},sa=function(a){return a in H},J={},K=function(a,b){J[a]||(J[a]=[]);J[a].push(b)},ta=function(a){K("m",a)},L=function(a,b){var c=document.createElement("script");c.src=a;c.async=pa;Math.random()<oa&&(c.onerror=function(){c.onerror=null;B(Error("Bundle load failed: name="+(b||"UNK")+" url="+a))});(document.getElementById("xjsc")||document.getElementsByTagName("body")[0]||
document.getElementsByTagName("head")[0]).appendChild(c)},N=function(a){for(var b=0,c;(c=I[b])&&c[0]!=a;++b);!c||c[1].l||c[1].s||(c[1].s=!0,M(2,a),c[1].url&&L(c[1].url,a),c[1].libs&&m.d&&m.d(c[1].libs))},O=function(a){K("gc",a)},P=null,ua=function(a){P=a},M=function(a,b,c){if(P){a={t:a,b:b};if(c)for(var d in c)a[d]=c[d];try{P(a)}catch(f){}}};p("mdc",H);p("mdi",na);p("bnc",I);p("qGC",O);p("qm",ta);p("qd",J);p("lb",N);p("mcf",ra);p("bcf",qa);p("aq",K);p("mdd","");p("has",sa);
p("trh",ua);p("tev",M);var Q=l.b("0.1",.001),R=0;
function _mlToken(a,b){try{if(1>R){R++;var c,d=a,f=b||{},e=encodeURIComponent,h=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&jexpid=",e("17483"),"&srcpg=",e("prop=22"),"&jsr=",Math.round(1/Q),"&ogev=",e("_K3tU6iyOO_NsQSX8oGYDg"),"&ogf=",g.bv.f,"&ogrp=",e("1"),"&ogv=",e("1407723702.0"),"&oggv="+e("es_plusone_gc_20140723.0_p0"),"&ogd=",e("com"),"&ogc=",e("PAN"),"&ogl=",e("en")];f._sn&&(f._sn="og."+
f._sn);for(var k in f)h.push("&"),h.push(e(k)),h.push("="),h.push(e(f[k]));h.push("&emsg=");h.push(e(d.name+":"+d.message));var r=h.join("");S(r)&&(r=r.substr(0,2E3));c=r;var Aa=window.gbar.logger._aem(a,c);F(Aa)}}catch(Na){}}var S=function(a){return 2E3<=a.length},va=function(a,b){return b};function T(a){B=a;p("_itl",S,G);p("_aem",va,G);p("ml",B,G);a={};H.er=a}l.a("")?T(function(a){throw a;}):l.a("1")&&Math.random()<Q&&T(_mlToken);I.push(["m",{url:"//ssl.gstatic.com/gb/js/scm_7385cc5883250b43a39405734c1bea59.js"}]);g.mcf("c",{});g.sg={c:""};if(l.a("1")){var wa=l.a("");I.push(["gc",{auto:wa,url:"//ssl.gstatic.com/gb/js/abc/gci_91f30755d6a6b787dcc2a4062e6e9824.js",libs:"googleapis.client:plusone:gapi.iframes"}]);var xa={version:"gci_91f30755d6a6b787dcc2a4062e6e9824.js",index:"",lang:"en"};H.gc=xa;var U=function(a){window.googleapis&&window.iframes?a&&a():(a&&O(a),N("gc"))};p("lGC",U);l.a("1")&&p("lPWF",U)};window.__PVT="";if(l.a("1")&&l.a("1")){var V=function(a){U(function(){K("pw",a);N("pw")})};p("lPW",V);I.push(["pw",{url:"//ssl.gstatic.com/gb/js/abc/pwm_45f73e4df07a0e388b0fa1f3d30e7280.js"}]);var W=[],ya=function(a){W[0]=a},za=function(a,b){var c=b||{};c._sn="pw";B(a,c)},Ba={signed:W,elog:za,base:"https://plusone.google.com/u/0",loadTime:(new Date).getTime()};H.pw=Ba;var X=function(a,b){for(var c=b.split("."),d=function(){var b=arguments;a(function(){for(var a=g,d=0,e=c.length-1;d<e;++d)a=a[c[d]];a[c[d]].apply(a,b)})},f=g,e=0,h=c.length-1;e<h;++e)f=
f[c[e]]=f[c[e]]||{};return f[c[e]]=d};X(V,"pw.clk");X(V,"pw.hvr");p("su",ya,g.pw)};function Ca(){function a(){for(var b;(b=e[h++])&&"m"!=b[0]&&!b[1].auto;);b&&(M(2,b[0]),b[1].url&&L(b[1].url,b[0]),b[1].libs&&m.d&&m.d(b[1].libs));h<e.length&&setTimeout(a,0)}function b(){0<f--?setTimeout(b,0):a()}var c=l.a("1"),d=l.a(""),f=3,e=I,h=0,k=window.gbarOnReady;if(k)try{k()}catch(r){da(r,"ml","or")}d?p("ldb",a):c?q(window,"load",b):b()}p("rdl",Ca);var Da={D:1,H:2,da:3,p:4,W:5,M:6,F:7,g:8,ha:9,U:10,L:11,T:12,S:13,N:14,Q:15,P:16,fa:17,w:18,O:19,ga:20,ea:21,u:22,G:23,ja:24,ka:25,ia:26,A:27,j:28,o:29,k:30,ca:31,Z:32,$:33,J:34,K:35,ba:36,aa:37,Y:38,B:39,R:40,v:41,X:42,V:43,h:48,C:49,I:500},Y=[1,2,3,4,5,6,9,10,11,13,14,28,29,30,34,35,37,38,39,40,41,42,43,48,49,500];var Z=l.b("0.001",1E-4),Ea=l.b("1",1),Fa=!1,Ga=!1;if(l.a("1")){var Ha=Math.random();Ha<=Z&&(Fa=!0);Ha<=Ea&&(Ga=!0)}var Ia=Da,$=null;function Ja(){var a=0,b=function(b,d){l.a(d)&&(a|=b)};b(1,"");b(2,"");b(4,"");b(8,"");return a}
function Ka(a,b){var c=Z,d=Fa,f;f=a;if(!$){$={};for(var e=0;e<Y.length;e++){var h=Y[e];$[h]=!0}}if(f=!!$[f])c=Ea,d=Ga;if(d){d=encodeURIComponent;g.rp?(f=g.rp(),f="-1"!=f?f:"1"):f="1";c=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&oge=",a,"&ogex=",d("17483"),"&ogev=",d("_K3tU6iyOO_NsQSX8oGYDg"),"&ogf=",g.bv.f,"&ogp=",d("22"),"&ogrp=",d(f),"&ogsr=",Math.round(1/c),"&ogv=",d("1407723702.0"),"&oggv="+
d("es_plusone_gc_20140723.0_p0"),"&ogd=",d("com"),"&ogl=",d("en"),"&ogc=",d("PAN"),"&ogus=",Ja()];if(b){"ogw"in b&&(c.push("&ogw="+b.ogw),delete b.ogw);var k;f=b;e=[];for(k in f)0!=e.length&&e.push(","),e.push(La(k)),e.push("."),e.push(La(f[k]));k=e.join("");""!=k&&(c.push("&ogad="),c.push(d(k)))}F(c.join(""))}}function La(a){"number"==typeof a&&(a+="");return"string"==typeof a?a.replace(".","%2E").replace(",","%2C"):a}C=Ka;p("il",C,G);var Ma={};H.il=Ma;setTimeout(function(){C(Ia.g)},0);}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var b=window.gbar.i.i;var c=window.gbar;var f=function(d){try{var a=document.getElementById("gbom");a&&d.appendChild(a.cloneNode(!0))}catch(e){b(e,"omas","aomc")}};c.aomc=f;}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var a=window.gbar;a.mcf("pm",{p:""});}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{window.gbar.rdl();}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{float:left;height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}#gbs,.gbm{background:#fff;left:0;position:absolute;text-align:left;visibility:hidden;z-index:1000}.gbm{border:1px solid;border-color:#c9d7f1 #36c #36c #a2bae7;z-index:1001}.gb1{margin-right:.5em}.gb1,.gb3{zoom:1}.gb2{display:block;padding:.2em .5em}.gb2,.gb3{text-decoration:none !important;border-bottom:none}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb2,a.gb3,a.gb4{color:#00c !important}.gbi .gb3,.gbi .gb2,.gbi .gb4{color:#dd8e27 !important}.gbf .gb3,.gbf .gb2,.gbf .gb4{color:#900 !important}a.gb2:hover{background:#36c;color:#fff !important}#gbar .gbz0l{color:#000 !important;cursor:default;font-weight:bold;text-decoration:none !important}
#gbar { padding:.3em .6em !important;}</style></head><body  topmargin="3" marginheight="3"><div id=gbar><nobr><a onclick=gbar.qs(this);gbar.logger.il(1,{t:1}); class=gb1 id=gb_1 href="https://www.google.com/search?sa=N&tab=tw">Search</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:2}); class=gb1 id=gb_2 href="http://www.google.com/search?hl=en&tbm=isch&source=og&sa=N&tab=ti">Images</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:8}); class=gb1 id=gb_8 href="http://maps.google.com/maps?hl=en&sa=N&tab=tl">Maps</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:78}); class=gb1 id=gb_78 href="https://play.google.com/?hl=en&sa=N&tab=t8">Play</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:36}); class=gb1 id=gb_36 href="http://www.youtube.com/results?sa=N&tab=t1">YouTube</a> <a onclick=gbar.logger.il(1,{t:5}); class=gb1 id=gb_5 href="http://news.google.com/nwshp?hl=en&tab=tn">News</a> <a onclick=gbar.logger.il(1,{t:23}); class=gb1 id=gb_23 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a onclick=gbar.logger.il(1,{t:25}); class=gb1 id=gb_25 href="https://drive.google.com/?tab=to">Drive</a> <a class=gb3 href="http://www.google.com/intl/en/options/" onclick="this.blur();gbar.tg(event);return !1" aria-haspopup=true><u>More</u> <small>&#9660;</small></a><div class=gbm id=gbi><a onclick=gbar.logger.il(1,{t:24}); class=gb2 id=gb_24 href="https://www.google.com/calendar?tab=tc">Calendar</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:51}); class=gb2 id=gb_51 href="http://translate.google.com/?hl=en&sa=N&tab=tT">Translate</a><a onclick=gbar.logger.il(1,{t:17}); class=gb2 id=gb_17 href="http://www.google.com/mobile/?hl=en&tab=tD">Mobile</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:10}); class=gb2 id=gb_10 href="http://www.google.com/search?hl=en&tbo=u&tbm=bks&source=og&sa=N&tab=tp">Books</a><a onclick=gbar.logger.il(1,{t:212}); class=gb2 id=gb_212 href="https://wallet.google.com/manage/?tab=ta">Wallet</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:6}); class=gb2 id=gb_6 href="http://www.google.com/search?hl=en&tbo=u&tbm=shop&source=og&sa=N&tab=tf">Shopping</a><a onclick=gbar.logger.il(1,{t:30}); class=gb2 id=gb_30 href="http://www.blogger.com/?tab=tj">Blogger</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:27}); class=gb2 id=gb_27 href="http://www.google.com/finance?sa=N&tab=te">Finance</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:31}); class=gb2 id=gb_31 href="https://plus.google.com/photos?sa=N&tab=tq">Photos</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:12}); class=gb2 id=gb_12 href="http://www.google.com/search?hl=en&tbo=u&tbm=vid&source=og&sa=N&tab=tv">Videos</a><div class=gb2><div class=gbd></div></div><a onclick=gbar.logger.il(1,{t:66}); href="http://www.google.com/intl/en/options/" class=gb2>Even more &raquo;</a></div></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=http://www.google.com/patents%3Fhl%3Den&hl=en" class=gb4>Sign in</a><div style="display: none"><div class=gbm id=gbd5 aria-owner=gbg5><div class=gbmc><ol id=gbom class=gbmcc></ol></div></div></div></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="http://www.google.com/patents/us7016781?hl=en&amp;output=html_text" title="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."><img border="0" src="http://www.google.com/images/cleardot.gif"alt="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."></a></div><div id="guser"><nobr></nobr></div><div style="clear:both;"></div><div id="gb-top-search-box" class="gb-top-search-box-small gb-reset"><table><tr><td class="logo"><a href="http://www.google.com/patents" class="logo-link"><img class="logo-img" src="/intl/en/images/logos/google_logo_41.png" alt="Go to Google Books Home" height="41"/></a></td><td><form action="http://www.google.com/search" name="f" id="vheadf" method="get"><span id="hf"></span><input type="hidden" name="tbm" value="pts"/><input type="hidden" name="tbo" value="1"/><input type="hidden" name="hl" value="en"/><table><tr><td><div class="inputs"><table><tr><td><div class="text-input"><input type="text" name="q" id="vheadq" class="text" maxlength="2048" size="31" value="" title="Search Patents" accesskey="s" autocomplete="off"/><script>window._OC_autoDir &&window._OC_autoDir('vheadq', 'tia-vheadq');</script></div></td><td><div class="submit-input"><input name="btnG" class="submit" type="submit" value=""/></div></td></tr></table></div></td><td class="col-ext-links"><div class="ext-links"><a href="http://www.google.com/advanced_patent_search">&lt;nobr&gt;Advanced Patent Search&lt;/nobr&gt;</a></div></td></tr></table></form></td></tr></table></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents">Patents</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/US7016781"></a><a id="appbar-patents-discuss-this-link" href="http://www.google.com/url?id=2y1yBAABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpatent%3DUS7016781&amp;usg=AFQjCNHAyjm4Y_JYBM0ImE8ClzIkyhTvSA" data-is-grant="true"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/US7016781.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/US7016781.pdf"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="http://www.google.com/patents/US7016781" style="display:none"><span itemprop="description">A database receives location information about a moving object. Using the destination of the object and an electronic map, the database finds a projected path for the moving object. From the projected path, the database computes a trajectory. The trajectory may be used to estimate past and future positions...</span><span itemprop="url">http://www.google.com/patents/US7016781?utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">Patent US7016781 - Method and system for querying in a moving object database</span><img itemprop="image" src="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="Patent US7016781 - Method and system for querying in a moving object database" title="Patent US7016781 - Method and system for querying in a moving object database"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="http://www.google.com/advanced_patent_search">Advanced Patent Search</a></li></ol></div><table id="viewport_table" cellpadding="0" style="clear:both" cellspacing="0"><tr><td id="viewport_td"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata"><tr><td class="patent-bibdata-heading">Publication number</td><td class="single-patent-bibdata">US7016781 B1</td></tr><tr><td class="patent-bibdata-heading">Publication type</td><td class="single-patent-bibdata">Grant</td></tr><tr><td class="patent-bibdata-heading">Application number</td><td class="single-patent-bibdata">US 11/048,039</td></tr><tr><td class="patent-bibdata-heading">Publication date</td><td class="single-patent-bibdata">Mar 21, 2006</td></tr><tr><td class="patent-bibdata-heading">Filing date</td><td class="single-patent-bibdata">Jan 31, 2005</td></tr><tr><td class="patent-bibdata-heading">Priority date<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="The priority date is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the date listed."></span></td><td class="single-patent-bibdata">Oct 30, 2000</td></tr><tr><td class="patent-bibdata-heading">Fee status<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="The fee status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status or dates listed."></span></td><td class="single-patent-bibdata">Lapsed</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Also published as</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/US6801850">US6801850</a>, </span><span class="patent-bibdata-value"><a href="/patents/US6895329">US6895329</a>, </span><span class="patent-bibdata-value"><a href="/patents/US6965827">US6965827</a>, </span><span class="patent-bibdata-value"><a href="/patents/US6968271">US6968271</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading">Publication number</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">048039, </span><span class="patent-bibdata-value">11048039, </span><span class="patent-bibdata-value">US 7016781 B1, </span><span class="patent-bibdata-value">US 7016781B1, </span><span class="patent-bibdata-value">US-B1-7016781, </span><span class="patent-bibdata-value">US7016781 B1, </span><span class="patent-bibdata-value">US7016781B1</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Inventors</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Ouri+Wolfson%22">Ouri Wolfson</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Original Assignee</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=inassignee:%22Board+Of+Trustees+Of+The+University+Of+Illinois%22">Board Of Trustees Of The University Of Illinois</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Export Citation</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/US7016781.bibtex">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7016781.enw">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7016781.ris">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">Patent Citations</a> (2),</span> <span class="patent-bibdata-value"><a href="#forward-citations">Referenced by</a> (8),</span> <span class="patent-bibdata-value"><a href="#classifications">Classifications</a> (16),</span> <span class="patent-bibdata-value"><a href="#legal-events">Legal Events</a> (9)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">External Links:&nbsp;</span><span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=2y1yBAABERAJ&q=http://patft.uspto.gov/netacgi/nph-Parser%3FSect2%3DPTO1%26Sect2%3DHITOFF%26p%3D1%26u%3D/netahtml/PTO/search-bool.html%26r%3D1%26f%3DG%26l%3D50%26d%3DPALL%26RefSrch%3Dyes%26Query%3DPN/7016781&usg=AFQjCNGZG1Dc5AjsO9G_llwYtVQduQ9FiQ">USPTO</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=2y1yBAABERAJ&q=http://assignments.uspto.gov/assignments/q%3Fdb%3Dpat%26pat%3D7016781&usg=AFQjCNFnVEGZFI6mmPL5IPCpr_5ZPITWGw">USPTO Assignment</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=2y1yBAABERAJ&q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DUS%26NR%3D7016781B1%26KC%3DB1%26FT%3DD&usg=AFQjCNH2P2HLgtQlM9UGtZAk0Zm-eSo8lQ">Espacenet</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT55546624" lang="EN" load-source="patent-office">Method and system for querying in a moving object database</invention-title></span><br><span class="patent-number">US 7016781 B1</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title">Abstract</span></div><div class="patent-text"><abstract mxw-id="PA50945879" lang="EN" load-source="patent-office"> <div num="p-0001" class="abstract">A database receives location information about a moving object. Using the destination of the object and an electronic map, the database finds a projected path for the moving object. From the projected path, the database computes a trajectory. The trajectory may be used to estimate past and future positions of the moving object. The moving object may send location updates to the database when its actual location differs from its anticipated location by more than an uncertainty threshold.</div>
  </abstract></div></div><div class="patent-section patent-drawings-section"><div class="patent-section-header"><span class="patent-section-title">Images<span class="patent-section-count">(13)</span></span></div><div class="patent-drawings-body"><div class="patent-drawings-carousel"><div class="drawings"><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7016781B1/US07016781-20060321-D00000.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7016781B1/US07016781-20060321-D00000.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7016781B1/US07016781-20060321-D00001.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7016781B1/US07016781-20060321-D00001.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7016781B1/US07016781-20060321-D00002.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7016781B1/US07016781-20060321-D00002.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7016781B1/US07016781-20060321-D00003.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7016781B1/US07016781-20060321-D00003.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7016781B1/US07016781-20060321-D00004.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7016781B1/US07016781-20060321-D00004.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7016781B1/US07016781-20060321-D00005.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7016781B1/US07016781-20060321-D00005.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7016781B1/US07016781-20060321-D00006.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7016781B1/US07016781-20060321-D00006.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7016781B1/US07016781-20060321-D00007.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7016781B1/US07016781-20060321-D00007.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7016781B1/US07016781-20060321-D00008.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7016781B1/US07016781-20060321-D00008.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7016781B1/US07016781-20060321-D00009.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7016781B1/US07016781-20060321-D00009.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7016781B1/US07016781-20060321-D00010.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7016781B1/US07016781-20060321-D00010.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7016781B1/US07016781-20060321-D00011.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7016781B1/US07016781-20060321-D00011.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7016781B1/US07016781-20060321-D00012.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7016781B1/US07016781-20060321-D00012.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div></div></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img" alt="Previous page"src="/googlebooks/images/kennedy/page_left.png"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img" alt="Next page"src="/googlebooks/images/kennedy/page_right.png"width="21" height="21" /></div></div></div><div class="patent-post-drawings"></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">Claims<span class="patent-section-count">(26)</span></span></div><div class="patent-text"><div mxw-id="PCLM8979336" lang="EN" load-source="patent-office" class="claims">
  <div class="claim"> <div id="CLM-00001" num="00001" class="claim">
    <div class="claim-text">1. A method of providing a notification, the method comprising:
<div class="claim-text">storing respective trajectories for each of a plurality of moving objects, wherein each respective trajectory defines permissible spatial and temporal uncertainties in actual locations of one of the moving objects relative to expected locations of the moving object along a temporal-spatial path that the moving object travels from a starting location through intermediate locations to a destination location;</div>
<div class="claim-text">obtaining a condition for one of the moving objects;</div>
<div class="claim-text">determining that the condition has occurred, wherein the determination is made at least in part by querying the respective trajectory for the moving object; and</div>
<div class="claim-text">responsively providing a notification that the condition has occurred to a user.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00002" num="00002" class="claim">
    <div class="claim-text">2. A computer readable medium having stored therein instructions for causing a processor to execute the method of <claim-ref idref="CLM-00001">claim 1</claim-ref>.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00003" num="00003" class="claim">
    <div class="claim-text">3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein determining that the condition has occurred comprises determining that the condition has become true.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00004" num="00004" class="claim">
    <div class="claim-text">4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein determining that the condition has occurred comprises determining that the condition has become false.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00005" num="00005" class="claim">
    <div class="claim-text">5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein responsively providing the notification comprising sending the notification to the user via a wireless communication interface.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00006" num="00006" class="claim">
    <div class="claim-text">6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising providing the notification that the condition has occurred to a second user.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00007" num="00007" class="claim">
    <div class="claim-text">7. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<div class="claim-text">obtaining a second condition for the moving object;</div>
<div class="claim-text">determining that the second condition has occurred, wherein the determination is made at least in part by querying the respective trajectory for the moving object; and</div>
<div class="claim-text">responsively providing a second notification that the second condition has occurred to a user.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00008" num="00008" class="claim">
    <div class="claim-text">8. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein determining that the condition has occurred comprises:
<div class="claim-text">performing a query on the respective trajectory for the moving object;</div>
<div class="claim-text">based on a result of the query, determining that the condition has not occurred; and</div>
<div class="claim-text">repeating the query at least one time, and based on a result of the repeated query, determining that the condition has occurred.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00009" num="00009" class="claim">
    <div class="claim-text">9. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein obtaining the condition for one of the moving objects comprises receiving the condition from the user.</div>
  </div>
  </div> <div class="claim"> <div id="CLM-00010" num="00010" class="claim">
    <div class="claim-text">10. A method of providing a notification, the method comprising:
<div class="claim-text">storing respective trajectories for each of a plurality of moving objects, wherein each respective trajectory defines permissible spatial and temporal uncertainties in actual locations of one of the moving objects relative to expected locations of the moving object along a temporal-spatial path that the moving object travels from a starting location through intermediate locations to a destination location;</div>
<div class="claim-text">for each of a plurality of moving objects, obtaining a respective condition for the moving object;</div>
<div class="claim-text">monitoring the conditions of the moving objects to determine if one or more of the conditions occurs;</div>
<div class="claim-text">determining that the respective condition for one of the moving objects has occurred, wherein the determination is made at least in part by querying the respective trajectory for the moving object; and</div>
<div class="claim-text">responsively providing a notification that the respective condition for one of the moving object has occurred to a user.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00011" num="00011" class="claim">
    <div class="claim-text">11. A computer readable medium having stored therein instructions for causing a processor to execute the method of <claim-ref idref="CLM-00010">claim 10</claim-ref>.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00012" num="00012" class="claim">
    <div class="claim-text">12. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein determining that the respective condition has occurred comprises determining that the respective condition has become true.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00013" num="00013" class="claim">
    <div class="claim-text">13. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein determining that the respective condition has occurred comprises determining that the respective condition has become false.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00014" num="00014" class="claim">
    <div class="claim-text">14. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein responsively providing the notification comprising sending the notification to the user via a wireless communication interface.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00015" num="00015" class="claim">
    <div class="claim-text">15. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, further comprising providing the notification to a second user.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00016" num="00016" class="claim">
    <div class="claim-text">16. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, further comprising:
<div class="claim-text">obtaining a second condition for the moving object;</div>
<div class="claim-text">determining that the second condition has occurred, wherein the determination is made at least in part by querying the trajectory for the moving object; and</div>
<div class="claim-text">responsively providing a second notification that the second condition has occurred to a user.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00017" num="00017" class="claim">
    <div class="claim-text">17. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein determining that the respective condition has occurred comprises:
<div class="claim-text">performing a query on the respective trajectory for the moving object;</div>
<div class="claim-text">based on a result of the query, determining that the respective condition has not occurred; and</div>
<div class="claim-text">repeating the query at least one time, and based on a result of the repeated query, determining that the respective condition has occurred.</div>
</div>
  </div>
  </div> <div class="claim"> <div id="CLM-00018" num="00018" class="claim">
    <div class="claim-text">18. A method of providing a notification, the method comprising:
<div class="claim-text">storing respective trajectories for each of a plurality of moving objects, wherein each respective trajectory defines permissible spatial and temporal uncertainties in actual locations of one of the moving objects relative to expected locations of the moving object along a temporal-spatial path that the moving object travels from a starting location through intermediate locations to a destination location;</div>
<div class="claim-text">obtaining a condition involving at least two of the moving objects;</div>
<div class="claim-text">determining that the condition has occurred, wherein the determination is made at least in part by querying the respective trajectories for the two moving objects; and</div>
<div class="claim-text">responsively providing a notification that the condition has occurred to a user.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00019" num="00019" class="claim">
    <div class="claim-text">19. A computer readable medium having stored therein instructions for causing a processor to execute the method of <claim-ref idref="CLM-00018">claim 18</claim-ref>.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00020" num="00020" class="claim">
    <div class="claim-text">20. The method of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein determining that the condition has occurred comprises determining that the condition has become true.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00021" num="00021" class="claim">
    <div class="claim-text">21. The method of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein determining that the condition has occurred comprises determining that the condition has become false.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00022" num="00022" class="claim">
    <div class="claim-text">22. The method of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein responsively providing the notification comprising sending the notification to the user via a wireless communication interface.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00023" num="00023" class="claim">
    <div class="claim-text">23. The method of <claim-ref idref="CLM-00018">claim 18</claim-ref>, further comprising providing the notification to a second user.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00024" num="00024" class="claim">
    <div class="claim-text">24. The method of <claim-ref idref="CLM-00018">claim 18</claim-ref>, further comprising:
<div class="claim-text">obtaining a second condition involving the two moving objects;</div>
<div class="claim-text">determining that the second condition has occurred, wherein the determination is made at least in part by querying the respective trajectories for the two moving objects; and</div>
<div class="claim-text">responsively providing a second notification that the second condition has occurred to a user.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00025" num="00025" class="claim">
    <div class="claim-text">25. The method of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein determining that the condition has occurred comprises:
<div class="claim-text">performing a query on the respective trajectories for the two moving objects;</div>
<div class="claim-text">based on a result of the query, determining that the condition has not occurred; and</div>
<div class="claim-text">repeating the query at least one time, and based on a result of the repeated query, determining that the condition has occurred.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00026" num="00026" class="claim">
    <div class="claim-text">26. The method of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein obtaining a condition for one of the moving objects comprises receiving the condition from the user.</div>
  </div>
</div> </div></div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title">Description</span></div><div class="patent-text"><div mxw-id="PDES16001880" lang="EN" load-source="patent-office" class="description">
<heading>RELATED APPLICATIONS</heading> <p num="p-0002">This application is a continuation of U.S. patent application Ser. No. 10/074,903, filed Oct. 29, 2001, now U.S. Pat. No. 6,895,329, which claims the benefit of both U.S. Provisional Patent Application No. 60/243,839 filed Oct. 30, 2000, and U.S. Provisional Patent Application No. 60/292,322 filed May 22, 2001. U.S. Provisional Patent Application No. 60/243,839 filed Oct. 30, 2000, U.S. Provisional Patent Application No. 60/292,322 filed May 22, 2001, and U.S. patent application Ser. No. 10/074,903 are all incorporated herein by reference in their entirety.</p>
<heading>GOVERNMENT RIGHTS</heading> <p num="p-0003">This invention was made with government support under grant numbers ITR-0086144, CCR-9816633, CCR-9803974, IRI-9712967 and INT-9812325 sponsored by the National Science Foundation, and DAAL01-96-2-0003, mods 18 and 34, sponsored by the Army Research Laboratories. The government may have certain rights in this invention.</p>
<heading>BACKGROUND</heading> <p num="p-0004">1. Field of the Invention</p>
  <p num="p-0005">This invention relates to tracking moving objects. More specifically, it relates to using past location and future destination information to compute an expected trajectory of a moving object.</p>
  <p num="p-0006">2. Description of Related Art</p>
  <p num="p-0007">Common devices such as cell phones, personal digital assistants, laptops and the like, can be equipped to provide location information. These devices are generally also equipped for wireless transmission of data. The device's location is updated using positioning technologies. Examples of positioning technologies include 1) global positioning systems, commonly called GPS, 2) network based positioning, which computes the location of a device by triangulation of its wireless signal between transmission towers, 3) a fixed sensor in the environment that identifies the moving object, and 4) cell-identification, which identifies the cell in which the moving object is located.</p>
  <p num="p-0008">The devices can be carried by, or mounted on, moving objects such as vehicles, aircraft, vessels or pedestrians. The location of the small device corresponds directly to the location of the larger device. Using the wireless capability of the devices, the location is transmitted to a central system for tracking the motion of the moving object. The central system typically stores the location information of the object, and provides a method for displaying that information to a user.</p>
  <p num="p-0009">Location information management involves tracking the moving object, modeling its location (for example, by representing it in a server) and retrieving data. Existing systems perform location management by receiving a time-location point. This point is typically of the form (x,y,t), and it is generated periodically by the device and transmitted to the location management system. This may occur, for example, once every 10 minutes. The point indicates the object's coordinates (x,y) at time t.</p>
  <p num="p-0010">The location management system is typically a database managed by a Database Management System (DBMS). The database provides interfaces for receiving the location information and for displaying the information to users. When the DBMS receives a location point, it stores it in the database. The DBMS supports Structured Query Language (SQL), which can be used to access and query the information stored in the database. In these systems, if the exact current location of a moving object is required at a particular time, then the object is contacted, its location is retrieved, and the result is stored in the database. The method is called point-location management, and it has several disadvantages.</p>
  <p num="p-0011">First, point-location management does not allow interpolation or extrapolation of data. In point-location management, the system only knows the time-location points stored in its database. It cannot interpolate the past position of a moving object, for example at time X, using data sets subsequent to that time. Also, it cannot extrapolate a future location of the moving object from past data sets. In addition, the point-location management system has difficulty determining the current location of all its moving objects. Since the system does not support extrapolation, to find the current location of its moving objects the system must simultaneously poll each moving object. This causes an undesirable bandwidth spike on the network as the system attempts to contact each object. Objects disconnected from the network are not polled, and their location will not be known.</p>
  <p num="p-0012">A second disadvantage is that point-location leads to a tradeoff between precision and resources. Obtaining an accurate picture of moving objects' precise locations requires frequent location updates. This consumes limited system resources such as bandwidth and processing power. When these resources are not taxed by frequent location updates, the location information quickly becomes dated and, therefore, imprecise.</p>
  <p num="p-0013">A third problem of point-location management is that it leads to cumbersome and inefficient software development. This creates several problems for developing location based service applications. Existing DBMS's are not well equipped to handle continuously changing data, such as the location of moving objects, because in existing databases data is assumed to be constant unless it is explicitly modified. Location based service applications also need to manage space and time information; however, SQL is not designed or optimized for these types of when/where queries. For example, the query “retrieve the vehicles that are inside the region R always between 4 pm and 5 pm” would be extremely difficult to express in SQL.</p>
  <p num="p-0014">Additionally, moving object locations are inherently imprecise because the database location of the object (i.e., the object location stored in the database) cannot always be identical to the actual location of the object. This inherent uncertainty impacts database modeling, querying and indexing. For example, there can be two different kinds of answers to queries. These are the set of object that “may” satisfy the query, and the set of objects that “must” satisfy the query. These queries aren't supported in current point-location DBMS's. Furthermore, existing DBMS's have no parameters to account for varying levels of uncertainty, such as was that truck within 100 inches, 100 feet, 100 yards, or 100 miles of an intermediate point calculated.</p>
  <p num="p-0015">Therefore, there exists a need to more accurately represent the travel paths of moving object and to predict the future movement of objects. There further exists a need to allow complex queries regarding the past and future locations of moving objects.</p>
  <heading>SUMMARY</heading> <p num="p-0016">A database system receives location information from a moving object. The object may be a vehicle, aircraft, pedestrian or some other object. Using the object's destination and a past known location, the system estimates the object's current location. The estimation is done by constructing and maintaining a trajectory of the moving object. Using the trajectory, the system can also estimate past or future locations.</p>
  <p num="p-0017">The moving object periodically transmits its location to a moving object database (MOD). The moving object database receives and stores the time and location of the moving object. An electronic map, which contains travel time and distances for permissible travel paths, is also stored in the database. Destinations of the moving object are inputted into the system. Using the electronic map, the system finds the shortest path from the current location of the moving object to its destination. The system then converts the path into a trajectory.</p>
  <p num="p-0018">The trajectory may be maintained by updating it to account for location updates of the moving object. It may also be updated to account for changes in travel conditions. These may be received, for instance, from websites that provide real-time traffic conditions. A traffic incident model identifies trajectories affected by traffic incidents, and it provides a method of updating a trajectory to account for delays caused by traffic incidents.</p>
  <p num="p-0019">The trajectory may be sent from the database to the moving object. Using the trajectory, the moving object may extrapolate its anticipated position from the trajectory. The moving object compares its anticipated position to its actual position and provides an updated location to the moving object database when the difference between the two positions exceeds a specified threshold. The moving object database then computes a new trajectory using the new location information, and it sends this information back to the moving object.</p>
  <p num="p-0020">The system also defines a set of operators that can be used to query trajectory data in the moving object database. For example, a query might find the objects that will be within 1 mile of a certain location at a given time. The operators may also be used to notify a user when specific condition occurs. For example, a user may be notified when an object is expected to be late by more than one hour. The operators can be incorporated into the traditional SQL query language, which has been widely adopted by many commercial database systems. The new operators allow for the development of complex spatial and temporal applications.</p>
  <p num="p-0021">These as well as other aspects and advantages of the present invention will become apparent to those of ordinary skill in the art by reading the following detailed description, with appropriate reference to the accompanying drawings.</p>
<description-of-drawings> <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading> <p num="p-0022">An exemplary embodiment of the present invention is described herein with reference to the drawings, in which:</p>
    <p num="p-0023"> <figref idrefs="DRAWINGS">FIG. 1</figref> is a flowchart of the mobile object database system's operation;</p>
    <p num="p-0024"> <figref idrefs="DRAWINGS">FIG. 2</figref> shows a connection between a wireless device and the database;</p>
    <p num="p-0025"> <figref idrefs="DRAWINGS">FIG. 3</figref> shows an alternate connection between a wireless device and the database.</p>
    <p num="p-0026"> <figref idrefs="DRAWINGS">FIG. 4</figref> illustrates a 3D uncertainty volume associated with a trajectory and a 2D projection of the uncertainty volume;</p>
    <p num="p-0027"> <figref idrefs="DRAWINGS">FIG. 5</figref> is a flowchart of one embodiment of a mobile device's operation;</p>
    <p num="p-0028"> <figref idrefs="DRAWINGS">FIG. 6</figref> is a flowchart of one embodiment of the database's operation;</p>
    <p num="p-0029"> <figref idrefs="DRAWINGS">FIG. 7</figref> is a flowchart of an alternate embodiment of a mobile device's operation;</p>
    <p num="p-0030"> <figref idrefs="DRAWINGS">FIG. 8</figref> shows a graphical representation of a traffic incident model;</p>
    <p num="p-0031"> <figref idrefs="DRAWINGS">FIG. 9</figref> shows a graphical representation of a volatile traffic incident;</p>
    <p num="p-0032"> <figref idrefs="DRAWINGS">FIG. 10</figref> shows a graphical representation of a constant traffic incident;</p>
    <p num="p-0033"> <figref idrefs="DRAWINGS">FIG. 11</figref> is a sample graphical output of the system showing a trajectory and an uncertainty for a moving object; and</p>
    <p num="p-0034"> <figref idrefs="DRAWINGS">FIG. 12</figref> illustrates a configuration of the database system.</p>
  </description-of-drawings> <heading>DETAILED DESCRIPTION OF AN EXEMPLARY EMBODIMENT</heading> <p num="p-0035"> <figref idrefs="DRAWINGS">FIG. 1</figref> shows a high-level flowchart of a mobile object database system. The database system tracks the location of mobile objects. The system creates a trajectory for the mobile object, and using the trajectory, the database can predict the location of the mobile device at times when the actual location is not known. The trajectory may be used to estimate the location of the mobile object at a future time, or it may be used to estimate the object's location at a past time.</p>
  <p num="p-0036">At Step <b>20</b>, the database begins by determining a mobile device's current location. This may be done, for example, by receiving a GPS location sent wirelessly from the mobile object. Next, the database determines the destination of the mobile device <b>22</b>. A user may input the destination into the database, or the destination may be obtained from the mobile device.</p>
  <p num="p-0037">Once the database knows the current location of the device and the device's destination, it computes a path <b>24</b> that the mobile object will use to travel between its current location and its destination. The path may be determined in a variety of ways, but in a preferred embodiment the database expects the mobile object to travel on the shortest path between its current location and its destination. Electronic maps containing distances and travel-times along the distances can be used to determine an object's path.</p>
  <p num="p-0038">At Step <b>26</b> the database computes a trajectory of the mobile device. The trajectory may be a sequence of points that represents the time-based movement of the object along its project path. The travel-times stored in the electronic map are used in creating the time-based trajectory. The trajectory can be simplified to reduce the number of segments it contains. This may be done, for example, by using line simplification.</p>
  <p num="p-0039">The database also receives real-time traffic updates. The updates can come, for example, from websites that provide real-time traffic information. Various traffic incidents, such as accidents and rush hour, can affect the travel-times on road segments. A traffic incident model allows the database to compensation for varying traffic conditions when computing the trajectory. The updates from a traffic website indicate the severity associated with a traffic incident. Using the severity, the traffic incident model estimates the duration of the traffic incident and its effect on travel times.</p>
  <p num="p-0040">The trajectory can be recomputed by the database during the travel of the moving object. For instance, when the database receives information about a traffic incident, the database may recompute the object's trajectory to account for the changes in travel-times caused by the incident. Additionally, each segment on the trajectory may have an uncertainty threshold associated with it. The uncertainty threshold can reflect the maximum tolerable deviation of the object from its expected path. By sending the trajectory, including the uncertainty to the moving object, the moving object can compute its expected location and its actual location. If the difference between these locations exceeds the uncertainty threshold, then the device sends an updated location to the database. The database then uses the updated location to recompute the trajectory in order to more accurately reflect the travel of the moving object.</p>
  <p num="p-0041">After an object's trajectory is computed and stored in the database, a new set of time-location-based queries can be used to access the data. The database can query the trajectory information to estimate the future location of a moving object <b>28</b> when its actual location is not known. Using the trajectory, the database can also estimate the past or present location of an object when the object's actual location at that time is not known. The database can also perform more complex queries, for example, determining which moving objects will be in a given region during a specified time.</p>
  <p num="p-0042">The flowchart of <figref idrefs="DRAWINGS">FIG. 1</figref> depicts a high-level description of the database system's operation. The description of <figref idrefs="DRAWINGS">FIG. 1</figref> is not meant to cover all the possible variations and additions that can be made to the database system. Other changes and modifications may also be made.</p>
  <p num="p-0043">The mobile device may communicate with the database system to exchange location, trajectory or other information. While the mobile device can communicate with the database through a wired connected, in a preferred embodiment the mobile device communicates wirelessly with the database. A variety of devices are available that utilize wireless communications to send and receive information. Cellular phones, personal digital assistants (PDAs), laptop computers and other application specific devices may all be equipped for wireless communications. By connecting to a cellular wireless network, these devices can connect to the public switched telephone network (PSTN) or ultimately interface with the Internet. It is also possible to communicate as a part of other wireless networks.</p>
  <p num="p-0044">Wireless communications can occur according to a number of various standards and signaling methods. Code division multiple access (CDMA) is a commonly employed standard for wireless networks. Geographic areas are generally divided into cells. The wireless devices communicate, using the appropriate standard, with a base station in their cell. The base station connects to the PSTN, which can then also provide connectivity to the Internet. When the device moves to another cell, a handoff procedure occurs. The wireless device then communicates with a different base station located in the new cell. The connection is transferred to the new base station without interruption, and the handoff appears transparent to the user. This way a device may move seamlessly through multiple cells during one call.</p>
  <p num="p-0045"> <figref idrefs="DRAWINGS">FIG. 2</figref> shows an implementation of a connection between a wireless device <b>50</b> and a database <b>62</b>. The wireless device <b>50</b> transmits a wireless signal <b>52</b> to a base station <b>54</b>. In a preferred embodiment, the wireless device <b>50</b> is part of a cellular wireless network. The communication between the wireless device <b>50</b> and the base station <b>54</b> occurs according to the standard for wireless communications used in that area. This may be, for example, code division multiple access (CDMA).</p>
  <p num="p-0046">The base station <b>54</b> provides connectivity to the PSTN, shown generally by <b>58</b>, through a link <b>56</b>. The signal <b>52</b> from the wireless device <b>50</b> is received at the base station <b>54</b> and sent via the link <b>56</b> to the PSTN <b>58</b>. The signal <b>52</b> is routed through the PSTN <b>58</b> to the database <b>62</b>. The database <b>62</b> runs on a computer <b>64</b>. The computer is coupled to a monitor <b>66</b>, for displaying output, and a keyboard <b>68</b>, for receiving input. Many different variations to the computer <b>64</b> are possible, and additional or less equipment may be attached to the computer <b>64</b>. Generally, the computer <b>64</b> contains a central processing unit <b>70</b> for executing instructions and memory for storing data. The computer <b>64</b> connects to the PSTN <b>58</b> using a modem or other interface device. The resulting connection of the wireless device <b>50</b> and the database <b>62</b> through the PSTN <b>58</b> may be a circuit switched connection or a packet switched connection.</p>
  <p num="p-0047"> <figref idrefs="DRAWINGS">FIG. 3</figref> shows another configuration for connecting between a wireless device <b>100</b> and a database <b>120</b>. The wireless device <b>100</b> sends a wireless signal <b>102</b> to a base station <b>104</b>. Preferably the wireless device <b>100</b> and the base station <b>104</b> are part of a cellular wireless network. The communication between the wireless device <b>100</b> and the base station <b>104</b> occurs according to one of the communications standards employed in that area. The base station <b>104</b> connects via a link <b>106</b> to the PSTN <b>108</b>. Through the PSTN <b>108</b>, the wireless device connects to the Internet, shown generally by <b>112</b>, via link <b>110</b>.</p>
  <p num="p-0048">The database <b>120</b> typically runs on a computer (not shown). The computer may contain one or more processors for performing computations. It also generally contains both volatile and non-volatile memory, which are used in performing computations and in data storage. The database <b>120</b> may run as a software program on the computer, and the computer may also run other programs. A database may also be implemented in other ways, for instance, it may be distributed across more than one computer, or it may run on dedicated hardware. Other ways also exist.</p>
  <p num="p-0049">The computer may also be connected to the Internet <b>112</b>. <figref idrefs="DRAWINGS">FIG. 2</figref> shows the database <b>120</b> connected to an access point <b>116</b> via a link <b>118</b>. The access point <b>116</b> provides connectivity to the Internet <b>112</b> through a link <b>114</b>. In one embodiment, the computer may be equipped with a modem. The access point <b>116</b> may be the PSTN <b>108</b>. The modem would dial into the access point <b>116</b> and connect to the Internet <b>120</b> through the access point <b>116</b>. In another embodiment, the computer is equipped with a network interface card (NIC). The computer connects via a link <b>118</b> to the access point <b>116</b>, which may be a network service provider. The access point <b>116</b> then interfaces the computer with the Internet <b>112</b>. Using this setup, the computer may establish a PPP or TCP/IP connection with the Internet <b>112</b>.</p>
  <p num="p-0050">In a preferred embodiment each device <b>100</b>, <b>120</b> connected to the Internet is assigned an IP address. The address is usually unique to each device <b>100</b>, <b>120</b>. The devices <b>100</b>, <b>120</b> communicate over the Internet <b>112</b> using an established protocol such as IPv4. They transmit packets of information that are routed to the appropriate device based on the device's IP address. This allows communication between the wireless device <b>100</b> and the database <b>120</b> via the Internet <b>112</b>.</p>
  <p num="p-0051">One skilled in the art will recognize that a variety of other ways exist to establish a connection between the wireless device <b>100</b> and the database <b>120</b>.</p>
  <p num="p-0052">A wireless device may also be equipped to obtain its location. One common way of obtaining location information is through the use of the Global Positioning System (GPS). Another method is network based positioning, which computes the location of a device by using three or more transmission towers to triangulate the device's wireless signal. A fixed sensor in the environment may be used to identify the moving object and determine its position. Various other ways also exist to determine the location of a device.</p>
  <p num="p-0053">Once the location of a wireless device is obtained, it can be transmitted, through the wireless network, to a central point. The central point can be a database, or other system, which stores and tracks the location of the wireless device. The small wireless devices may also be coupled to larger objects, such as airplanes, trucks, cars, bicycles, pedestrians or others. By tracking the location of the smaller wireless device, the location of the larger object can be accurately determined. Using this technique, it is possible to establish a system to track one or more large objects.</p>
  <p num="p-0054">In one embodiment a system to track the flight patterns of commercial aircraft is established. A central authority, for instance the air traffic controllers at an airport, may track the location of all the aircraft in a particular area. Alternatively, a particular airline may track all its planes in a geographic area. In another embodiment, a shipping company may track the location of its trucks. In yet another embodiment, a delivery service may track the location of its mobile carriers. A plethora of other applications exist for tracking the location of objects.</p>
  <p num="p-0055">In a preferred embodiment, the location information is transmitted from the wireless device to a database system. The database system uses trajectory location management to store and process the location data. First, the current location of the object is determined. This may be done using any of the previously discussed methods, such as GPS. The location information may be obtained directly from the wireless device through the connection with the database.</p>
  <p num="p-0056">In another embodiment, the location information is transmitted from a source other than the wireless device to the database system. For example, a central authority can track the locations of cellular phones. The database may obtain the location of a cell phone from the central authority instead of directly from the cell phone. This method is not limited to cell phones, but may be applied to any other device whose location may be tracked by an external source.</p>
  <p num="p-0057">Next, the destination of the moving object is determined and inputted into the database. The destination may be obtained by the database using a variety of different means. A user may manually enter the information into the database. This may be the case where a shipping company enters the known route of one of its trucks, or where known flight plans of airplanes are entered into the database. The input may also occur automatically. This may be the case, for instance, where a computer automatically generates a truck route for a shipping company. The computer may be linked to the database and automatically provide the truck route to the database. It is also possible for a remote user to enter in the destination. For instance, the driver of a truck may manually enter his next destination into the wireless device, which then transmits it to the database. The information can also be obtained from a user's electronic calendar. For example, the database can obtain a user's schedule from the user's PDA. Using the schedule, the database may determine that at 9:45 am the user is traveling to the destination of his 10:00 am meeting.</p>
  <p num="p-0058">The destination may be a single location. For instance, a non-stop flight between Los Angeles and Orlando would have a single destination. The destination may also be a list of destinations. This would be the case for a delivery truck that makes several stops on its daily route.</p>
  <p num="p-0059">The database system stores an electronically coded map. The map is typically coded with distance and travel-time information for available road sections. A road section may have one travel time associated with it, or it may have more than one travel time associated with it. The map may provide multiple travel times for a road section to take into account changes in travel conditions that occur throughout the day. The map information can be inputted into the database for use in computing trajectories.</p>
  <p num="p-0060">In one embodiment, the map is a graph, represented as a relation where each tuple corresponds to a block with the following attributes:
</p> <ul> <li id="ul0001-0001" num="0000"> <ul> <li id="ul0002-0001" num="0060">POLYLINE: each block is a polygonal line segment. POLYLINE gives the sequence of the endpoints (x1,y1),(x2,y2) . . . (xn,yn).</li> <li id="ul0002-0002" num="0061">LENGTH: the length of the block</li> <li id="ul0002-0003" num="0062">FID: the block ID number.</li> <li id="ul0002-0004" num="0063">SPEED: speed limit along the block.</li> <li id="ul0002-0005" num="0064">L_F_ADD: left side from street number.</li> <li id="ul0002-0006" num="0065">L_T_ADD: left side to street number.</li> <li id="ul0002-0007" num="0066">R_F_ADD: right side from street number.</li> <li id="ul0002-0008" num="0067">R_T_ADD: right side to street number.</li> <li id="ul0002-0009" num="0068">ZIPL: left side zip code.</li> <li id="ul0002-0010" num="0069">ZIPR: right side zip code</li> <li id="ul0002-0011" num="0070">ONE_WAY: a Boolean one way flag</li> <li id="ul0002-0012" num="0071">METERS: length of the block in meters</li> <li id="ul0002-0013" num="0072">DRIVE_TIME: typical drive time from one end of the block to the other, in minutes.</li> </ul> </li> </ul> <p num="p-0061">The attributes L_F_ADD, L_T_ADD, R_F_ADD, R_T_ADD, ZIPL, ZIPR, and METERS are geo-coded attributes, which may be used to translate between a coordinate and an address, such as “1030 North State Street.” These types of maps are available from commercial vendors, such as Geographic Data Technology Co. Other vendors also provide maps. Many different formats may be used to store the map data, and a map may provide additional or less data than the above example.</p>
  <p num="p-0062">In addition, it is possible to construct a new map for use in the database system, or to obtain the information from other sources. For instance, the travel-times for road segments may be obtained separately from the map. They may come from a different source and be specific to the road segments on the map, or the travel times may be estimates based on the type of road (i.e., interstate, city street, etc. . . . ), the time of day (i.e., late night, rush hour, etc. . . . ) or other factors. The database may use a single map for a travel area, or it may use a series of maps.</p>
  <p num="p-0063">In another embodiment, the system tracks the location of airplanes or other flying objects. The map may not correspond to road segments since the sky doesn't have actual roads, but it may correspond to known flight patterns or travel ways. The travel-times along flight paths in the sky may be dependent on the type of aircraft and on weather conditions. For instance, a headwind or a tailwind may alter the flying time of a particular segment along a flight path. A storm may alter the flying times or the flight paths of a flying object. The database may receive real-time weather updates and adjust the trajectories to account for these changing conditions.</p>
  <p num="p-0064">The database computes the path of the moving object using the map. The path is specified by giving the starting address or (x,y) coordinate, the start time, and the destination address or (x,y) coordinate. The path may be computed using an external routine, which takes into account various factors that will be discussed later. The path is then a sequence of blocks (edges), i.e. tuples of the map. The endpoint of one block POLYLINE is the beginning point of the next block POLYLINE. Using the path and the trip's starting time, a trajectory may be computed. The DRIVE_TIME attribute may be used to determine the time at which the object will reach the end of each poly-line segment on the path.</p>
  <p num="p-0065">In a preferred embodiment, the database computes the shortest path between the object's current location and the destination. The shortest path may be based on different factors. In one embodiment, the shortest path represents the path that takes the least amount of time to travel. In another embodiment the shortest path is the path the covers the least distance. For an object with multiple destinations, additional paths are computed between subsequent destinations. The optimal path can be computed using multi-stop routing software.</p>
  <p num="p-0066">In another embodiment, the database computes the expected paths based on other criteria. For instance, an object may travel on a known path for one or more legs of a journey. The known information may be entered into the database for use in generating the path information. Other restrictions, such as not traveling on toll roads or only traveling on major highways, may also be considered in computing the object's travel path. Additionally, historical data can be used to determine the path of an object. These additional considerations may cause the path to deviate from the shortest between the two points.</p>
  <p num="p-0067">In yet another embodiment, the database system sends the current location and the destination information to another site, which computes the path and provides the path back to the database. The remote site may be another database system linked to the moving object database through the Internet or through some other connection. A commercial vendor may provide the remote site, or it may be a part of the database system distributed across one or more other computers.</p>
  <p num="p-0068">Roads and other travel ways are often non-linear. While it is possible to represent the path as a compilation of non-linear segments, in a preferred embodiment, the database represents the path as a compilation of linear segments. The map preferably represents the travels ways as linear segments; however it is possible to use a map containing non-linear segments when developing the path. Using a map containing linear segments, a linear path may be generated directly; however, when using a map containing non-linear segments, the non-linear segments may be stored in the database to represent the path, or they may be converted into linear segments for the database representation.</p>
  <p num="p-0069">The path can be represented to a high degree of precision using only straight lines. Decreasing the maximum length of the lines correspondingly increases the number of line segments used to represent a distance. An increase in the number of lines representing a distance allows a more accurate depiction of the actual travel path, thereby increasing the precision of the representation; however, using more line segments to represent the path increases the complexity of the representation. More resources may be needed to store the representation, and using a greater number of line segments may decrease the system's speed.</p>
  <p num="p-0070">In a preferred embodiment, the shortest path is presumed to be the route that the moving object follows. The database converts the path, which was determined using the electronic map, into a trajectory. The trajectory may be a sequence of straight-line segments (x1,y1,t1), (x2,y2,t2), . . . , (xn,yn,tn) in 3-dimensional space. The times may be determined using the average travel speeds of the road sections in the electronic map. The database models the motion of the object by progressing it a long the travel path. The object starts at a location having coordinates (x1,y1) at time t1, and it moves on a straight line at a constant speed to the next coordinate. The object reaches location (x2,y2) at time t2. Then it moves on a straight line at a constant speed and reaches location (x3,y3) at time t3. This process continues until the object reaches its final destination. In a preferred embodiment, the trajectory is continuous; however, it is possible that gaps can exist in the trajectory so that it may not be possible to compute an object's expected location at every point between its beginning and ending locations.</p>
  <p num="p-0071">The trajectory of the object may be stored as the sequence of coordinates. The trajectory approximates the expected motion of the object in space and time. It is an approximation, because the object does not ordinarily move in straight lines and at constant speeds. However, increasing the number of straight lines in the representation, the approximation can be accurate up to an arbitrary precision. The number of line segments on the trajectory impacts the performance and precision of queries and triggers on the data. The performance increases, and the precision decreases, as the number of line segments decreases. Conversely, the performance decreases, and the precision increases, as the number of line segments increases.</p>
  <p num="p-0072">The number of line segments on each trajectory can be adjusted using a variety of different methods. In one embodiment, adjacent line segments that have the same travel speed and direction are coalesced. This decreases the total number of line segments. A preferred embodiment uses line simplification to adjust the number of line segments on the trajectory. In line simplification, a new set of line segments connects the endpoints of the original trajectory. The new set of line segments is such that each point on the original trajectory is not further that some given distance from a point on the new set of line segments. The simplification may be performed on the trajectory to decrease the number of line segments. It may also be performed before computing the trajectory. For instance, the path may be simplified before it is converted into the trajectory.</p>
  <p num="p-0073">The trajectory is stored in the database and may also be stored on board the moving object. At any point in time t between t<sub>i </sub>and t<sub>i+1</sub>, the database can compute the expected location of the moving object at time t. This method allows for both interpolation and extrapolation. The database can compute the expected location of the moving object at any point in time between the start and end times of the trip. For example, if it is known that the object is at location (x5,y5) at 5 pm and at location (x6,y6) at 6 pm, and it moves in a straight line at constant speed between the two locations, then the location at 5:16 pm can computed any time. The computation can occur before 5:16 pm (e.g., extrapolation), or after 5:16 pm, (e.g., interpolation).</p>
  <p num="p-0074">An uncertainty may also be associated with each line segment on the trajectory. The uncertainty corresponds to the tolerance of the system to deviation of the actual location from the expected location. For each point, the associated uncertainty represents an area in which the moving object may actually travel. This area may be in one dimension, or may be in two dimensions.</p>
  <p num="p-0075">In a preferred embodiment, each line segment in the trajectory has its own uncertainty. It is possible, however, to vary the uncertainty along a line segment. The uncertainty may vary with location, or it may vary with time. Other factors may also be used to vary the uncertainty.</p>
  <p num="p-0076"> <figref idrefs="DRAWINGS">FIG. 4</figref> illustrates a two-dimensional uncertainty <b>162</b> associated with a trajectory <b>156</b>. Three points <b>150</b>, <b>152</b>, <b>154</b> generate the trajectory. The continuous trajectory is the solid line, indicated generally by <b>162</b>. The moving object is anticipated to travel along the trajectory <b>156</b> from the first point <b>150</b> to the second point <b>152</b> and then to the third point <b>154</b>. Each point along the trajectory has associated with it an uncertainty. At point two <b>152</b>, the uncertainty is shown by a circle <b>160</b>. The dashed lines, shown generally by <b>162</b>, indicate the outer bounds of the uncertainty. The uncertainty is the area created by progressing a circle of radius r along the entire length of the trajectory <b>156</b>. The moving object ideally travels along the trajectory <b>156</b>, but it actually may travel on any path inside the uncertainty <b>162</b>. One possible path is shown at <b>158</b>.</p>
  <p num="p-0077"> <figref idrefs="DRAWINGS">FIG. 4</figref> also illustrates the three-dimensional uncertainty <b>162</b> used to create the two-dimensional projection. The 3D first point <b>164</b> projects to the first point <b>150</b>. The second 3d point <b>166</b> projects to the second point <b>152</b>, and the third 3D point <b>168</b> projects to the third point <b>154</b>. The 3D trajectory <b>170</b> connects the three 3D points <b>164</b>, <b>166</b>, <b>168</b>. The possible motion curve <b>174</b> represents part of a possible path traveled by the moving object. This projects into two dimensions to create the possible path <b>158</b>. The three-dimensional uncertainty volume <b>172</b> projects into two dimensions to create the two-dimensional uncertainty <b>162</b>.</p>
  <p num="p-0078">Uncertainties may be implemented in the database by representing a trajectory point as a five dimensional point. The trajectory point (xn, yn, tn, rn, dn) contains the location on the map (xn, yn) and the time (tn) that the object is expected to be at that point. The value (dn) represents the dimensionality of the uncertainty, and the value (rn) represents the deviation threshold. When the value of dn is one, the dimensionality is one and rn represents the permissible deviation in that dimension. For a dn value of two, the deviation threshold is two-dimensional. The uncertainty is then represented by a circle having its center at (xn,yn) and a radius of (rn).</p>
  <p num="p-0079">The uncertainty thresholds associated with line segments on the trajectory may be used to synchronize location updates between the moving object and the server. The moving object may send an update to the server if it deviates from its expected location, as determined from the trajectory, by more than the allowed uncertainty. Software running on the device may allow it to perform the necessary computations to determine when it has traveled outside the permissible uncertainty area.</p>
  <p num="p-0080">In a preferred embodiment, the wireless device on the moving object is capable of executing a software program. Personal digital assistants are currently equipped to allow users to download and run simple software programs on the device. In addition, some commercially available cellular phones also support user-loaded software programs. These devices typically have less memory and less processing power than a computer, but they are able to run various software programs. The software may be written in a variety of languages, including C, C++ and Java. It is also possible to manufacture a device specifically for this application. This device may have the necessary programs hardcoded into its memory, or it may be capable of executing software programs that are subsequently loaded onto the device.</p>
  <p num="p-0081">The software running on the device allows it to be programmed to implement the tracking system. For instance, a device may be programmed to periodically receive trajectory data from the database. The software may also enable the device to compute its anticipated location versus it actual location and to send a location update under given conditions. The device may also be programmed to perform additional functions.</p>
  <p num="p-0082">The moving object periodically receives its location information. For example, the device may receive a GPS location update every two seconds. Of course other location systems and other update time periods may also be utilized. Using the update, the device knows its actual location. The device also receives its trajectory from the database. Using the trajectory, the device can interpolate its expected location. The device then computes the distance between its actual and its expected location. If the distance exceeds a determined threshold, the device may send a location update to the database. In a preferred embodiment, the threshold is sent from the database to the device. This allows the database to set and vary the uncertainty allowed by the device. The device may also have the uncertainty threshold programmed in its software or entered by a user, or the device may compute its own threshold. Other methods of obtaining the threshold are also possible.</p>
  <p num="p-0083"> <figref idrefs="DRAWINGS">FIG. 5</figref> depicts a flowchart for a device that receives trajectory information from the database. The device begins by obtaining its present location <b>200</b>. Next, it transmits that location to the moving object database <b>202</b>. Using the location information, the database computes a trajectory and sends the trajectory to the device. The device receives the trajectory <b>204</b>, and it uses the trajectory to compute its expected location <b>206</b>. The device then obtains its current location <b>208</b> and compares the current location to the expected location <b>210</b>. Next the device determines of the difference between the expected location and the current location exceeds a specified threshold <b>212</b>. If the difference exceeds the uncertainty threshold, the device begins the processes over by obtaining its location <b>200</b> and transmitting the location to the database <b>202</b>. If the difference does not exceed the uncertainty threshold the device returns to Step <b>206</b> and continues the process by obtaining another location reading. This flowchart only depicts one possible implementation; other variations and implementations are also possible. In one example of a variation, after determining in Step <b>212</b> that it has exceeded the maximum allowable uncertainty, the device transmits the current location computed in Step <b>208</b> to the database and proceeds from step <b>212</b> to Step <b>202</b>.</p>
  <p num="p-0084"> <figref idrefs="DRAWINGS">FIG. 6</figref> depicts a flowchart for the database in a system that provides trajectory information to the device. The database receives the location of the object <b>250</b>. Next, it computes the path between the current location and the destination <b>252</b>. The database then creates a trajectory for the object <b>254</b>, which is transmitted to the object <b>256</b>. The database computes and displays the expected location of the object <b>258</b>. The database then checks to see if the device is sending it updated location information <b>260</b>. If the device is sending new location information, then the database receives the location information <b>262</b>, and it continues the process by computing a new path <b>252</b> and trajectory <b>254</b>. If the object hasn't updated its location information, then the database proceeds from Step <b>260</b> back to section <b>258</b>, and it continues this cycle until the object arrives at its destination or sends new location information. While this flowchart depicts one possible implementation, others are possible and many variations may be made. In one example of a possible variation, Step <b>258</b> may be removed so that the database does not display the expected location of the object.</p>
  <p num="p-0085">In another embodiment, the device computes its own trajectory. The database system may receive location information from the device and compute a trajectory. Instead of sending the trajectory back to the device, the database system may send the device a map or a section of the map. Using the map, the device may compute its own trajectory and its own anticipated location. Then the device makes the comparison against its own location and determines when to send a location update to the database system. In another embodiment, the device contains the required map segments. In this case, the device simply provides location information to the database system. It is not necessary that the device receive map or trajectory information back from the database, although it is possible. The device may receive an uncertainty threshold from the database, or it may compute the threshold on its own and transmit it to the database.</p>
  <p num="p-0086"> <figref idrefs="DRAWINGS">FIG. 7</figref> illustrates a flowchart for a device that receives map information from the database and computes its own trajectory. The device determines its current location <b>300</b>, and it transmits that location to the database <b>302</b>. The device then receives a map from the database <b>304</b>, and it uses the map to compute its trajectory <b>306</b>. The device then computes it expected location <b>308</b> and determines its actual location. Next, it compares its expected location to its actual location <b>312</b>. At Step <b>314</b> the device determines whether it has exceeded the maximum allowable uncertainty threshold. If the device has not exceeded its threshold it then it returns to Step <b>308</b> and continues the process. If, however, the device has exceeded the uncertainty threshold, then it proceed from Step <b>314</b> to Step <b>316</b> where it transmits its current location to the database. From Step <b>316</b> the device returns to step <b>306</b> and continues the cycle. This flowchart only depicts one possible implementation. Other implementations and variations to the process depicted in the flowchart are possible.</p>
  <p num="p-0087">In another embodiment, the database and the moving device use a remote site to compute the path. The database receives the location and destination information for the moving object. Then, the database sends the information to a remote site, which computes the object's path and sends the path back to the database to be used in computing the trajectory. The trajectory can be sent to the mobile device, or the mobile device may similarly compute its own trajectory. For instance, the mobile device can also send the location and destination information to a remote site, which computes the path and sends the path back to the mobile device. The mobile device uses the path it receives to compute its trajectory. It is preferred that the database and the mobile device use the same remote site, so that they both obtain the same path, and, thereby, compute the same trajectory; however, it is possible that they use different sites and receive different paths.</p>
  <p num="p-0088">The uncertainty thresholds may be obtained by various methods. One method sets the uncertainty threshold based on the maximum error-tolerance in queries. In this method, a maximum error value is set for the results of the queries. Then the maximum values of the uncertainties of the inputs are determined so that the error of the resulting query doesn't exceed the maximum allowable value.</p>
  <p num="p-0089">A preferred method sets the uncertainties using a cost optimization function. The cost optimization function may balance many factors, including bandwidth and imprecision. It may also take into account factors such as the behavior of past deviations, the message cost, the number of expected queries and the probability of disconnect. Other factors may also be considered. The cost optimization function may be altered to compensation for changing conditions. For instance, if the wireless network is slow and supports many devices, then rapid location updates may not be practical. In this case the cost function may be altered to allow more imprecision and not to request as many updates. However, if the wireless network is fast, then it may be practical to design the cost function to tolerate a low uncertainty in locations at the expense of requiring more frequency location updates. The particular cost function used by the database may be static while it tracks a series of moving objects, or the system may modify the cost function during the system's operation.</p>
  <p num="p-0090">Given a planned trajectory and an actual trajectory, in order to maintain a lower level of uncertainty the moving object needs to issue more updates. This creates a tradeoff between communication cost and uncertainty. A cost-based approach may be used to determine the appropriate uncertainty parameter r for the system. The information cost of a moving object's trip has two components.</p>
  <p num="p-0091">The first component is the query imprecision cost. The uncertainty implies a cost, because a higher uncertainty conveys less information when answering a query concerning the object's trajectory. The cost of the uncertainty depends on the size of the uncertainty and the number of queries that are issued during the trip. The penalty for each unit of uncertainty per one query is Cq. The value of the uncertainty radius is r, and the average number of queries per time unit during [ta,tb] is Q. Then the total cost of the uncertainty during the trip is f(t)=Cq*r*Q*(tb−ta), where (tb−ta) is the time of the trip.</p>
  <p num="p-0092">The second component is the update data cost. The update cost Cu, is a nonnegative number representing the cost of a location-update message sent from the moving object to the database. The update cost may differ from one moving object to another, and it may even vary for a single moving object during a trip, due to, for example, changes in the availability of bandwidth. If N is the average number of updates per time unit during the trip, then the total update cost during the trip is defined by g(t)=Cu*N*(tb−ta).</p>
  <p num="p-0093">The total information cost of a trip, denoted COST(ta,tb) is the sum of the total uncertainty cost and the total update cost. Therefore, COST(ta,tb)=Cq*r*Q*(tb−ta)+Cu*N*(tb−ta). The optimal value of r may be found by quantifying the relationship between N and r. A heuristic function may be used to take an inverse-proportional dependence between N and r, i.e. N=K/r where K is a nonnegative integer. K can be given based on an archive of historical trips. For example, by using the values of N and r for each trip in the archive, K can be derived using linear regression based on the values of N and 1/r. The optimal value of r in this case is given by the following formula:
<br> <i>r</i>=square_root((<i>Cu*K</i>)/(<i>Cq*Q</i>))</p>
  <p num="p-0094">Business considerations may also be used to set the uncertainty threshold. For example, it may be required that the location of the repair crew is known with an uncertainty that does not exceed 3 miles. A lower uncertainty may be desirable if the extra communications cost justifies it, but an uncertainty of 3 miles is the maximum tolerable uncertainty. A cost function may then be designed that balances other factors. The balancing may return an uncertainty that doesn't exceed 3 miles. In this case, the cost function's uncertainty is used. The balancing of factors, however, may yield an uncertainty that exceeds three miles. The resulting uncertainty must then be limited to a ceiling of 3 miles.</p>
  <p num="p-0095">One skilled in the art will recognize that many other ways exist to determine the uncertainty threshold.</p>
  <p num="p-0096">The moving object may update its uncertainty threshold at each location update. For a location update, the database recomputes a new trajectory, and it sends this trajectory back to the devices. Along with the trajectory, the device may also receive a new uncertainty. The device determines how far it has strayed from its estimated course and uses the new uncertainty to decide if it should provide updated location information to the database. The new uncertainty may be a result of a recomputed trajectory, it may be a result the database using a different cost function; it may be a result of the behavior of the deviation; or it may be a result of other factors or a combination of factors.</p>
  <p num="p-0097">In another embodiment, the device is not capable of running its own software. This may prevent the device from receiving information from the database system and from determining when to send a location update. It may also prevent the device from establishing a connection with the database system and sending location updates at all. These devices, however, may still be used in the tracking system.</p>
  <p num="p-0098">For example, the FCC has mandated that all wireless carriers offer a 911 service with the ability to pinpoint the location of callers making emergency requests. This has caused many wireless carriers to upgrade their infrastructures to provide location data about mobile devices. This may be done through GPS, triangulation or other methods. The mobile devices may not be capable of running software code or providing their location to 3d parties; however, it may be possible to obtain the location information of a mobile device from the wireless carrier. This may be done, for example, by completing an authorization with the wireless carrier allowing it to provide the location information to the database system. The database system may then receive periodic updates from the wireless carrier as to the device's location. By knowing the device's destinations, the database system can compute an appropriate trajectory. The uncertainty of the device's location may be greater than for a programmed device, because the database system may only receive periodic location updates at a fixed frequency.</p>
  <p num="p-0099">In yet another embodiment, the destination of an object may not be known. This may prevent the database system of computing a trajectory based on the object's present location and its destination, because its destination is unknown. The system, however, may use dead reckoning to establish a trajectory for the object. Under this implementation, an object is presumed to continue on a straight course or on the same route. The database then computes a trajectory based on this assumption. The device may be programmed to provide a location update when it changes roads, thereby allowing the database to recompute its trajectory. It may also be programmed to provide an update at specified time intervals, to provide an update at specified distance intervals to provide an update based on the uncertainty threshold or to provide an update based on other criteria. In a preferred embodiment, dead reckoning is used for moving object traveling on major road segments, while periodic updates are used for moving objects traveling on minor road segments. Electronic maps typically divide roads into major and minor categories; however, it is also possible to use other criteria to make the distinction.</p>
  <p num="p-0100">At the database, the trajectory may be maintained by revising it according to location-updates from the moving object. It may also be revised based on real-time traffic conditions. They may be obtained, for example, from commercially available traffic websites. Traffic websites typically monitor current traffic conditions for delays, which may be caused by accidents, rush hour or other circumstances. The information may then be used to update the travel times of various road segments affected by the conditions. It is possible to obtain the updated travel time information and input it into the database. This allows the database to adapt to real-time conditions.</p>
  <p num="p-0101">A traffic incident model and a method of identifying the trajectories affected by traffic incidents may be used. For example, an object is scheduled to pass through highway section X twenty minutes from now, and a traffic website currently reports a traffic jam on highway section X. This may affect the object's expected arrival time at the destination. The effect depends on whether the traffic jam clears by the time the van arrives at highway section X. Historical information and a traffic model can be used to predict how long the traffic incident will last.</p>
  <p num="p-0102">Certain traffic incidents may occur periodically. For instance, rush hour may cause a slow down Monday through Friday during a general timeframe. A model may then be created to estimate the length of this reoccurring delay. For instance, it is possible to measure the length of the delay over a period of time. The delays may then be averaged to produce an estimate of the delay used during the operation of the database system.</p>
  <p num="p-0103">In another case, the traffic incidents may be accidents, which are not periodically reoccurring; however, it is still possible to develop models to characterize the length of a delay. This may be done, for instance, by obtaining information about past accidents. This information can be obtained from a variety of sources, including a regional Department of Transportation. The information generally includes the location of an accident, the length of any delay caused by the accident and the seriousness of the accident. A model may be created, for example, by averaging the length of the delay caused by each type of accident. This model can then be applied in real-time to estimate the length of a delay caused by an accident. Once the location and the seriousness of an accident is known, the database can use the model to estimate the duration of the delay caused by the accident. The location and severity of an accident may be obtained, for example, from the data stream of a real-time traffic website.</p>
  <p num="p-0104">In a preferred embodiment, the traffic incident is a three-piece linear function, which gives the speed on block i as a function of time since t when the incident occurs. The first piece is a build-up interval, which models the slowdown in traffic speed caused by the incident. The second piece is the pair of points (v,t), (v,t+tp) where v is the traffic speed at time t. [t, t+tp] is the persistent time interval. The third piece is (v,t+tp), (vj, t+tp+tr) where vj is the speed of block i in the jth time period for which Tj&lt;=t&lt;Tj+1. [t+tp, t+tp+tr] is the recovery time interval. The build-up interval may be a mirror image of the recovery interval, or it may be different.</p>
  <p num="p-0105"> <figref idrefs="DRAWINGS">FIG. 8</figref> illustrates a traffic incident model. The traffic incident shows two phases, the persistent interval <b>350</b> and the recovery interval <b>352</b>. The build-up interval is not shown. In the persistent interval <b>350</b> the traffic speed is a constant value, shown by line <b>354</b>. During the recovery interval <b>352</b> the speed recovers to the normal speed at a constant rate. Dashed line <b>358</b> depicts the normal speed, while line <b>356</b> shows the linearly increase speed during the recovery interval <b>352</b>. In addition to the traffic incident model depicted in <figref idrefs="DRAWINGS">FIG. 7</figref>, there are two specialized traffic incidents.</p>
  <p num="p-0106"> <figref idrefs="DRAWINGS">FIG. 9</figref> shows the first specialized traffic incident model. It has a persistent interval of length zero (not shown). The zero length persistent interval means the incident is modeled as beginning to recover immediately after it occurs. Line <b>402</b> shows the linear increase in speed during the recovery interval <b>400</b>. Dashed line <b>404</b> represents the normal speed on the length, and at the end of the persistent interval <b>400</b> the speed has returned to normal. This type of model is termed a volatile incident. A volatile incident may occur when, for example, a small accident happens and the damaged cars are quickly removed off the road.</p>
  <p num="p-0107">The second kind of incident is a constant incident, depicted in <figref idrefs="DRAWINGS">FIG. 10</figref>. In this model the incident persists for a certain amount of time and recovers suddenly. The constant speed during the persistent interval <b>450</b> is indicated by a first solid line <b>452</b>. At the end of the persistent interval <b>450</b> the speed is still at velocity v, shown generally at point <b>454</b>. A dashed line <b>460</b> indicates the end of the persistent interval <b>450</b>. A second solid line <b>456</b> illustrates the increased speed for times after the persistent interval <b>450</b>. A constant incident may occur when there is construction occurring on a section of road. During the construction, the speed limit may be decreased on a section of road. At the end of the construction the speed increases to its normal level, and the traffic incident can be modeled as suddenly recovering.</p>
  <p num="p-0108">In one embodiment, the traffic incident models are developed using data from various accidents. The data from various traffic incidents is divided into classes. Different classes are used for different levels of seriousness of accidents, rush hour conditions or another occurrences. Each data set in a class is analyzed to compute its persistent and recovery intervals. The data sets are then averaged to create one traffic incident model for each class. One skilled in the art will recognize that there are many additional ways to model and account for traffic incidents.</p>
  <p num="p-0109">When a traffic incident is reported to the database, it selects the appropriate traffic incident model to use in recomputing trajectories. If a trajectory does not include the section having a traffic incident, then it may not need to be updated. If the object's route includes the affected traffic incident area, then its trajectory still may not need to be updated if the traffic incident recovers before the object reaches that segment. If however, the object reaches the segment before it recovers, the object's trajectory may need to be updated.</p>
  <p num="p-0110">In spite of the traffic incident, the object may stay on the same path. In this case, the trajectory is updated taking into account the change in travel time caused by the incident. This may occur, for example, when the trajectory is computed using the shortest distance between the starting location and the destination. In another case, a new trajectory is computed. The new trajectory will be computed taking into account the traffic incident and the changes in travel time caused by the persistent and recovery intervals of the traffic incident model.</p>
  <p num="p-0111">The use of a trajectory and an uncertainty threshold to track a moving object has additional benefits over point location management. In trajectory location management the location of a moving object can be computed with a high degree of precision, using a small number of location updates, or no updates at all. If the moving object is “on schedule”, i.e., it does not deviate from it prescribed trajectory by more than the uncertainty threshold, then the object may provide not location update and consume no additional resources associated with a location update. Trajectory location management allows the implementation of complex queries that are not supported under point-location management systems.</p>
  <p num="h-0007">Database Operators</p>
  <p num="p-0112">The location information is obtained and stored in the database for the moving object the system is tracking. This information is used to create trajectories for each of the moving objects. A user of the system may wish to run various queries on the data. The trajectory management system supports many different types of queries that are not available under a point-management implementation.</p>
  <p num="p-0113">In an example implementation, the database system may be employed by dispatchers to track the location of police cars. A dispatcher may need to know which police officers are currently within one mile from the location of an emergency. To perform this query in a point location management system, all the objects are polled for their location. This results in a bandwidth utilization spike, and objects that are disconnected from the network are not identified—even if they are within the range. In a trajectory management system, some objects may need to be polled, but the number of polled objects is smaller than in point location management.</p>
  <p num="p-0114">Since in the trajectory location management method there is an uncertainty associated with the location of each police car, the dispatcher would run a query that asks: “which police cars may be within one mile of the location?” The retrieved set of objects may be divided into two parts. The first part is the set of police cars that are definitely within one mile, and the second part is the set of police cars that are possibly within one mile. For example, a police car may have an expected location within 0.8 miles of the emergency. If its uncertainty threshold is 0.2 miles or less, then the police car satisfies the condition. If its uncertainty threshold is greater than 0.2 miles, then it possibly, but not necessarily, satisfies the condition. Objects that possibly, but not necessarily, satisfy the condition are polled to more accurately determine their position. The status of objects that are disconnected will not be known, but since the polled set of objects is smaller, the disconnection problem is not a great as in point location management.</p>
  <p num="p-0115">New operators may be implemented to access the database. The operators query the database, and they express when/where questions in an uncertain environment. They can be incorporated into the traditional SQL query language, which has been widely adopted by many commercial database systems. Queries can also combine traditional database conditions with the new operators. For example, using the new queries, a dispatcher can run the query: “retrieve the service-personnel who have Qualification=‘ds1’ AND will be within 1 mile of 851 S. Morgan St. at 5 pm.” This also means that the operators can be combined using Boolean operators such as AND and OR. A user can enter these operators/queries on a client computer, and the same set of operators can be invoked for a program. The latter option enables development of complex spatial and temporal applications.</p>
  <p num="p-0116">Two operators, WHERE_AT and WHEN_AT, are defined for point queries.</p>
  <p num="p-0117">WHERE_AT(trajectory Tr, time t). This operator returns the location of the object currently, or at an arbitrary time t. If the current location of the object is requested, then the maximum tolerable uncertainty u can also be specified. If the current location uncertainty associated with object o in the database is higher than u, then the server contacts the object wirelessly to get its exact current location. This operator may be used, for example, when a dispatcher needs to assign a job to a mobile service employee. The job need to be done at time t, and the dispatcher needs to know where the technician is expected to be at that time according to the current schedule.</p>
  <p num="p-0118">WHEN_AT(trajectory Tr, location 1). This operator returns the times at which the object on Tr is at location 1. The answer may be a set of times, because the object may pass through the same location more that once. If the location 1 is not on the route of the trajectory, the query may determine all the points on the trajectory that are closest to 1. The query then returns the times at which the object will be at the points closest to 1.</p>
  <p num="p-0119">In one embodiment, the WHERE_AT operator is implemented in O(log n) time using a binary search algorithm, where n is the number of line segments of the trajectory. The WHEN_AT operator is implemented in linear time by examining each line segment of the trajectory. Other ways also exist to implement the queries.</p>
  <p num="p-0120">Another type of query that may be developed is a spatio-temporal range query. In this type of query the operators are a set of conditions, and the conditions may be satisfied if a moving object is inside a given range R, during a given time interval [t1,t2]. A user may specify the range, for example, by drawing an appropriate region on a map displayed by the database system. The region may be specified by manually entering coordinates into the database system or by other methods.</p>
  <p num="p-0121">The spatio-temporal query has multiple operators that account for the changing location of the moving object. For instance, the condition may be satisfied sometime or always within the time range. The object may satisfy the condition everywhere or somewhere in the range. Due to the uncertainty, the object may possibly satisfy the condition, or it may definitely satisfy the condition.</p>
  <p num="p-0122">In the following descriptions, the region is represented by a static convex polygon. Tr is a trajectory of the form (x1,y1,t1) . . . (xn,yn,tn), and r is an uncertainty threshold. For each point (x,y,t) along T, its uncertainty area is a horizontal circle with radius r centered at (x,y,t), where (x,y) is the expected location at time t, which is an element of [t1,tn]. The Possible Motion Curve PMC<sup>T</sup>r is any continuous function f<sub>PMC</sub> <sup>T</sup> <sub>r</sub>: Time→R<sup>2 </sup>defined on the interval [t1,tn] such that for any t that is an element of [t1,tn], f<sub>PMC</sub> <sup>T</sup> <sub>r </sub>is inside the uncertainty area of the expected location at time t. Given an uncertainty trajectory (Tr,r) and two end-points (x<sub>i</sub>,y<sub>i</sub>,t<sub>i</sub>), (x<sub>i+1</sub>, y<sub>i+1</sub>,t<sub>i+1</sub>) that are elements of Tr, the trajectory volume of Tr between t<sub>i </sub>and t<sub>i+1 </sub>is the set of all points (x,y,t) such that: (x,y,t) belongs to a possible motion curve of Tr and t<sub>i</sub>&lt;=t&lt;=t<sub>i+1</sub>. Given a trajectory, Tr, and an uncertainty threshold, r, the trajectory volume of (Tr,r) is the set of all trajectory volumes between t<sub>i </sub>and t<sub>i+1</sub>. The 2D projection of the trajectory volume is the uncertainty zone. VTr denotes the trajectory volume of a given uncertainty trajectory T=(Tr,r) between t1 and t2.</p>
  <p num="p-0123">POSSIBLY_SOMETIME_INSIDE(T,R,t1,t2). This query is true if and only if (iff) there exists a PMC<sup>T </sup>and there exists a time, t, that is an element of [t1,t2] such that at time t the PMC<sup>T </sup>is inside the region R. The truth of the predicate means that the moving object may take a possible route, within its uncertainty zone, such that the particular route will intersect the query polygon R between times t1 and t2.</p>
  <p num="p-0124">SOMETIME_POSSIBLY_INSDE(T,R,t1,t2). This query is true iff there exists a time t that is an element of [t1,t2] and a possible motion curve PMC<sup>T </sup>of the trajectory T, which at time t is inside the region R. This operator is semantically equivalent to POSSIBLY_SOMETIME_INSIDE.</p>
  <p num="p-0125">POSSIBLY_ALWAYS_INSIDE(T,R,t1,t2). This is true iff there exists a possible motion curve PMC<sup>T </sup>of the trajectory T which is inside the region R for every t in [t1,t2]. In other words, the motion of the object is such that it may take (at least one) specific 2D possible route, which is entirely contained within the polygon R during the whole query time interval.</p>
  <p num="p-0126">ALWAYS_POSSIBLY_INSIDE(T,R,t1,t2). This is true iff for every time point t that is an element of [t1,t2] there exists a PMC<sup>T </sup>which will intersect the region R at t.</p>
  <p num="p-0127">ALWAYS_DEFINITELY_INSIDE(T,R,t1,t2). This query is true iff at every time t that is an element of [t1,t2], every possible motion curve PMC<sup>T </sup>of the trajectory T is in the region R. In other words, no matter which possible motion curve the object takes, it is guaranteed to be within the query polygon R throughout the entire interval [t1,t2]. This predicate is semantically equivalent to DEFINITELY_ALWAYS_INSIDE.</p>
  <p num="p-0128">DEFINITELY_SOMETIME_INSIDE(T,R,t1,t2). This query is true iff for every possible motion curve PMC<sup>T </sup>of the trajectory T, there exists some time t that is an element of [t1,t2] in which the particular motion curve is inside the region R. No matter which possible motion curve within the uncertainty zone is taken by the moving object, it will intersect the polygon at some time between t1 and t2. The time of intersection, however, may be different for different possible motion curves.</p>
  <p num="p-0129">SOMETIME_DEFINITELY_INSIDE(T,R,t1,t2). This is true iff there exists a time point t that is an element of [t1,t2] at which every possible route PMC<sup>T </sup>of the trajectory T is inside the region R. Satisfaction of this predicate means that no matter which possible motion curve is taken by the moving object, at specific time t the object will be inside the query polygon.</p>
  <p num="p-0130">More complex query conditions can be expressed by a composition of the operators. For example, the query “retrieve all objects which are possibly within a region R, always between the times the object A arrives at locations L1 and L2,” may be expressed as:
</p> <ul> <li id="ul0003-0001" num="0000"> <ul> <li id="ul0004-0001" num="0143">POSSIBLY_ALWAYS_INSIDE(T,R,WHEN_AT(Tr,L1), WHEN_AT(Tr,L2)).</li> </ul> </li> </ul> <p num="p-0131">The region R along with the query time-interval [t1,t2] can be represented as a prism Pr in 3d space: Pr={(x,y,t)|(x,y) is an element R and t1&lt;=t&lt;=t2}. Pr is the query-prism. A 3D indexing scheme may be available in the under-lying DBMS. The insertion of a trajectory in the index is done by enclosing, for each trajectory, each trajectory volume between t<sub>i </sub>and t<sub>i+1 </sub>in a Minimum Bounding Box (MBB).</p>
  <p num="p-0132">The operation of Minkowski Sum, denoted at ++ is described as follows: let P denote a polygon and dr denote a disk with radius r. P++dr is the set of all the points in a plane which are elements of {P union (interior of P) union (the points which are in the “sweep” of dr when its center moves along the edges of P)}. Trx,y denotes the projection of the trajectory Tr between t1 and t2, on the X-Y plane.</p>
  <p num="p-0133">POSSIBLY_SOMETIME_INSDE(T,R,t1,t2)—Sample Algorithm
</p> <ul> <li id="ul0005-0001" num="0000"> <ul> <li id="ul0006-0001" num="0147">1. Construct the Minkowski sum of R and the disk dr with radius r, where r is the uncertainty of T. Denote it R++dr.</li> <li id="ul0006-0002" num="0148">2. If Trx,y ∩(R++dr)=null between t1 and t2</li> <li id="ul0006-0003" num="0149">3. then return false;</li> <li id="ul0006-0004" num="0150">4. else return true.</li> </ul> </li> </ul> <p num="p-0134">ALWAYS_POSSIBLY_INSIDE(T,R,t1,t2)—Sample Algorithm
</p> <ul> <li id="ul0007-0001" num="0000"> <ul> <li id="ul0008-0001" num="0152">1. Construct the Minkowski sum of R and the disk dr with radius r, where r is the uncertainty of T. Denote it R++dr.</li> <li id="ul0008-0002" num="0153">2. If Trx,y lies completely inside R++dr</li> <li id="ul0008-0003" num="0154">3. then return true;</li> <li id="ul0008-0004" num="0155">4. else return false.</li> </ul> </li> </ul> <p num="p-0135">The algorithm for this operator is the same as for ALWAYS_POSSIBLY_INSIDE.</p>
  <p num="p-0136">DEFINITELY_ALWAYS_INSIDE(Tr,R,t1,t2)—Sample Algorithm
</p> <ul> <li id="ul0009-0001" num="0000"> <ul> <li id="ul0010-0001" num="0158">1. For each segment [t1<sub>i</sub>,t1<sub>i+1</sub>] of Tr, between t1 and t2</li> <li id="ul0010-0002" num="0159">2. If the uncertainty zone of the segment is not entirely contained in R;</li> <li id="ul0010-0003" num="0160">3. then return false and exit;</li> <li id="ul0010-0004" num="0161">4. EndFor;</li> <li id="ul0010-0005" num="0162">5. return true.</li> </ul> </li> </ul> <p num="p-0137">SOMETIME_DEFINITELY_INSIDE(Tr,R,t1,t2)—Sample Algorithm
</p> <ul> <li id="ul0011-0001" num="0000"> <ul> <li id="ul0012-0001" num="0164">1. For each segment [t<sub>i</sub>,t<sub>1+1</sub>] of Tr such that Trx,y ∩R !=null</li> <li id="ul0012-0002" num="0165">2. If R contains a circle with radius r centered at some point on Trx,y,</li> <li id="ul0012-0003" num="0166">3. Then return true and exit;</li> <li id="ul0012-0004" num="0167">4. EndFor,</li> <li id="ul0012-0005" num="0168">5. EndFor;</li> <li id="ul0012-0006" num="0169">6. return false.</li> </ul> </li> </ul> <p num="p-0138">DEFINITELY_SOMETIME_INSIDE(T,R,t1,t2)—Sample Algorithm</p>
  <p num="p-0139">PTr is the uncertainty zone of the trajectory (equivalently, the 2D projection of VTr, the uncertainty volume). PTrr is PTr with the uncertainty areas at t1 and t2 eliminated. L is the boundary of PTrr. L has at most 2k line segments and k+1 circular segments (at most one around the endpoints of each segment). Lprime=L\D, where D denotes two half-circles which bound the uncertainty areas at t1 and t2. Clearly Lprime has two disjoint “lines” l1 and l2 which are left from the initial boundaries of the uncertainty zone. Using these definitions, an algorithm can be developed
</p> <ul> <li id="ul0013-0001" num="0000"> <ul> <li id="ul0014-0001" num="0172">1. If there exists a path P between a point l1 and one on l2 which consists entirely of edges R (or parts thereof) AND P is entirely in PTrr</li> <li id="ul0014-0002" num="0173">2. then return true and exit;</li> <li id="ul0014-0003" num="0174">3. return false.</li> </ul> </li> </ul> <p num="p-0140">The previously discussed algorithm implementations apply to convex polygons. It is also possible to specify a circular region. The circular region may be implemented by approximating it as a convex polygon. The approximation can be accurate up to an arbitrary precision by increasing the number of sides in the polygon. These algorithms can also be applied to certain concave polygonal regions; however, the Minkowski sum, when applied to a concave polygon, may produce a resulting 2D region that is not simple. For these polygons, significant time points may be used to specify the finite set of horizontal planes where the verification of the predicate is not performed. This is similar to the notion of the sweep lines in computational geometry.</p>
  <p num="p-0141">Other operators may also be implemented. The algorithms for these operators may be developed similarly to those previously described.</p>
  <p num="p-0142">POSSIBLY-WITHIN [distance d|travel-time t] from R, sometime in the time interval T. This condition is satisfied by the objects which are at distance at-most d or travel time at-most t from R, sometime in the time interval T. The time interval may indicate currently. This operator is used, for example, when a dispatcher needs to assign a job R to a technician. The job needs to be done in the time-interval T. The dispatcher needs to know which technicians are expected to be within distance d or travel-time t from R within the time interval T. Since there is an uncertainty associated with the location at each object at each point in time, the condition retrieves the objects that are possibly within-sometime.</p>
  <p num="p-0143">DEFINITELY-WITHIN [distance d|travel-time t] from R, sometime in the interval T. The difference between this operator and the previous operator is the certainty quantifier. This operator retrieves the objects that are definitely within-sometime. The dispatcher may use this operator when many technicians are possibly within-sometime. To narrow the search, the dispatcher is interested in the ones that, according to the current schedule, definitely satisfy the condition.</p>
  <p num="p-0144">POSSIBLY-WITHIN [distance d|travel-time t] from R, always in the time interval T. For example, the police dispatcher may need to know which patrol cars will stay in the region R for the whole duration T.</p>
  <p num="p-0145">DEFINITELY-WITHIN [distance d|travel-time t] form R, always in the time interval T. This is a combination of operators 2 and 3. This may be used, for example, when a police dispatcher needs to know which patrol cars will definitely stay in the region R for a whole duration T, according to the current schedule.</p>
  <p num="p-0146">POSSIBLY-DURING time interval T, everywhere in R. This would represent which police cars will possibly cover the whole region R during interval T.</p>
  <p num="p-0147">DEFINITELY-DURING time interval T, everywhere in R. This would represent which police cars will definitely cover the whole region R during the interval T.</p>
  <p num="p-0148">POSSIBLY-CLOSEST-TO (or furthest from) R, sometime in time interval T. This will show which technician is possibly closest to location R sometime during T. Due to the uncertainty and the duration of T, there may be more than a single technician that may be closest to R during the interval. To find out if there is a single technician that will definitely be the closest, then the next operator should be used.</p>
  <p num="p-0149">DEFINITELY-CLOSEST-TO (or furthest from) R, sometime in time interval T. The operator identifies object o1, o2, etc. . . . such that o1 is definitely closest between times t1 and t2, o2 is definitely closest between times t3 and t4, etc. . . . Due to the location uncertainty there may be time intervals within T for which no single moving object will definitely be the closest.</p>
  <p num="p-0150">POSSIBLY-CLOSEST-TO (or furthest from) R, always in time interval T. This would show, for example, which technician is possibly closest to location R always during T.</p>
  <p num="p-0151">DEFINITELY-CLOSEST-TO (or furthest from) R, always in time interval T. This operation would be the same as the previous one, except it searches for moving objects satisfying the condition.</p>
  <p num="p-0152">Each operator may be implemented in one of two variations. These variations are 1) Along Existing Route (AER) or 2) Along Shortest Route (ASR). For example, the first condition POSSIBLY-WITHIN-SOMETIME may be satisfied with the AER variant for object O, if R is on O's route, and o is within distance d from R while traveling along its predefined route. However, a police dispatcher, for instance, may be interested in the patrol cars that can reach an emergency destination while traveling along the shortest path from their current location to the destination. In this ASR variant, the patrol cars are allowed to abandon their predefined route in order to reach the destination.</p>
  <p num="p-0153">POSSIBLY-WITHIN [distance d|travel-time t], sometime in time interval T. The condition is satisfied by the pairs of trajectories that are within distance d or travel time t from each other, sometime in time interval T. This operator is used, for example, in an air-traffic control system that stores the trajectories of planes. We assume that, in contrast to the existing system in which planes fly on “highways in the sky,” the new free-flight system has been implemented. An air traffic controller may need to know which planes are expected to be within distance d from each other, thus representing a safety hazard.</p>
  <p num="p-0154">An opposite operator may also be implemented.</p>
  <p num="p-0155">POSSIBLY-FARTHERTHAN [distance d|travel-time t], sometime in time interval T. This condition is satisfied by the pairs of trajectories which are farther than distance d or travel time t from each other, sometime in time interval T. This operator is used, for example, in a military situation in which a database represents vehicles and aircraft moving as a unit. This operator enables the commander to know if a vehicle moves too far away from the rest of the company.</p>
  <p num="p-0156">Some single-trajectory-analysis operators may be applied to pairs of trajectories. For example, WEN trajectory i AND trajectory j are CLOSEST. This operator returns a list of times at which the two trajectories come closest to each other.</p>
  <p num="p-0157">Operators and queries may be applied as a trigger. In this capacity an alert message is sent when the condition of the operator is satisfied. For example, the SECTIONS operator may be used with the set of facilities as a list of locations of motel. When used as a trigger, this operator may alert the driver every time he is closest to, or within x minutes drive-time, from a motel. To provide another example, the POSSIBLY-WITHIN-DISTANCE operator may be used as a trigger to send an alert message when the trajectories of two airplanes are too close to each other.</p>
  <p num="p-0158">The new operators may be used to set alerts (triggers) that occur when conditions are satisfied by the database. The alerts can notify a user when a query would return a particular result, or when another event occurs. The notifications can correspond to queries that may be implemented using the new operators or to other events. For instance, a user may be notified “if truck X will pass within 5 miles of location Y.” The user may be notified by a particular output on the user's display. Other methods, such as sending a wireless message to the user's PDA, pager or cell phone can also be used. A user may also be notified by an email, a voice message or another type of notification.</p>
  <p num="p-0159">Triggers may be implemented using continuous queries. Continuous queries are queries that execute continually. Due to performance constraints the queries may not actually be continuously executed, but their frequency may be such that their output appears continuous to a user. The query may execute at given time intervals, or when other events occur. The resulting set of retrieved objects may change as the database changes.</p>
  <p num="p-0160">The database system may provide output in a variety of different ways. A display can be attached to a computer in the database system. <figref idrefs="DRAWINGS">FIG. 11</figref> shows a sample output. The database outputs a map, shown generally by <b>500</b>. The map plots a tracked object as a point <b>502</b> and the uncertainty as a circle surrounding the point <b>504</b>. It additionally shows the current trajectory of the object as a darkened line <b>506</b> on the map. A user can change the scale of the map by zooming in or out on the display. This allows the user to view the full range of objects tracked by the system, or to see more detailed information about a subset of objects tracked by the system.</p>
  <p num="p-0161">The output information may also be sent to remote users. This may be done, for instance, by sending the output over the Internet to another user. The display may be the same as for the terminal attached to the database system, or it may be different. The information sent to the remote user may be altered so that its precision is decreased. For instance, the remote user may only be able to view a less detailed map or may only be allowed to view a map covering a larger area. This decreases the precision of the trajectory shown to the remote user. The output may be sent to multiple users, and the precision of the output sent to the multiple users may be varied among the users. It is also possible to encrypt the data sent to the remote users, in order to provide a higher level of security for the system.</p>
  <p num="p-0162">In one embodiment, the database system simultaneously tracks moving objects for multiple companies. The database only allows a particular company to view the trajectories and location of objects from that company. It cannot view the information for other companies. In another embodiment, one company can view the trajectory and location information for the objects from one or more other companies.</p>
  <p num="p-0163">In another display format, the database outputs a map and a location of the moving object at a certain time. Then, the user can vary the time and view the corresponding locations of the object. For instance, the user could replay the object's past travel, or the user could watch the projected travel of the object for future times. The database uses the known data points, and then interpolates and extrapolates the locations of the object for the running times. The location of the object on the map is updated as the times change. This is similar to watching the object travel in real-time. The user may fast forward to a new time or rewind replay sections of the travel.</p>
  <p num="p-0164">One skilled in the art will recognize that various other output formats also exist. For instance, it is possible to simply output a list of the objects that satisfy a certain query. It is also possible to output a list of destinations and currently estimated arrival times for the moving objects. Other outputs are also possible.</p>
  <p num="h-0008">Example Database System Configuration</p>
  <p num="p-0165">A mobile object database (MOD) can be implemented in many different configurations. In a preferred embodiment, the MOD provides inheritable abstract data types (ADTs) for moving objects, a set of query operators, methods to define and manipulate the abstract data types, and geodetic and trajectory finding services. When combined with the application tier, the MOD can connect to wireless and World Wide Web (WWW) applications.</p>
  <p num="p-0166"> <figref idrefs="DRAWINGS">FIG. 12</figref> depicts an exemplary configuration for the database. The database uses two types of clients, a WWW client <b>550</b> and a PDA client <b>552</b>; however, it is possible to use additional or fewer clients. The WWW client <b>550</b> monitors moving objects. Users may use the WWW client <b>550</b> to query the moving, objects, monitor and review their motion, and communicate with the database or with other devices. It can display a graphical user interface of various queries, and it may provide trajectory visualization, triggers and notifications. Additionally, the WWW client <b>550</b> can perform a VCR-like function to playback the motion of moving objects. It also renders the map as background of moving object's motion and provides basic GIS features such as geodetic, label and distance measurement. The WWW client <b>550</b> may be a program running on a user's computer specifically designed for use with the database, or it may be an existing program on the user's computer, such as one used to connect to the Internet or to another type of network.</p>
  <p num="p-0167">The PDA client <b>552</b> handles the interface of the moving objects. Mobile users may use the PDA client <b>552</b> to acquire current location information, update the location information, navigate, manage moving plans, monitor moving states or otherwise interface with the database. It may also handle location device management, provide a moving state monitor and synchronize the trajectory between the client and server. Additionally, it can update the trajectory and provide an interface of geodetic services. The PDA client <b>552</b> may also provide connectivity to another user or system. It may provide a graphical user interface, which displays data from the device, from the database or from another source. The PDA client <b>552</b> can be a software program running on a movable object that provides these or other features. Each movable object may have its own PDA client <b>552</b>.</p>
  <p num="p-0168">In one embodiment, the PDA client <b>552</b> communicates directly with the WWW client <b>550</b>. This may be done through the Internet or through some other type of connection. The PDA client <b>552</b> and the WWW client <b>550</b> communicate with the database through the HTTP server <b>554</b>. In a preferred embodiment, the PDA client <b>552</b> and the WWW client <b>550</b> communicate with the HTTP server <b>554</b> through the Internet; however, other connections are possible. The HTTP server <b>554</b> may be a software program running on the database that provides connectivity between the other devices and the database.</p>
  <p num="p-0169">The map server <b>556</b> connects to the GIS data module <b>558</b>. The GIS data module <b>558</b> may be, for example, a hard disk that provides storage for the electronic map information. The map server <b>556</b> contains information about the storage structure of the map information stored in the GIS data module <b>558</b>. It provides an interface between the GIS data module <b>558</b> and the clients <b>550</b>, <b>552</b> or other system parts. For example, the map server <b>556</b> may translate the data stored in the GIS data module <b>558</b> into protocols or formats that can be understood by the clients <b>550</b>, <b>552</b> or other module. Likewise, it may take data and protocols received from the clients <b>550</b>, <b>552</b> or other modules and convert it into the format used in the GIS data module <b>558</b>.</p>
  <p num="p-0170">The application adapter <b>560</b> connects with the data storage <b>570</b>. It provides an interface between the clients <b>550</b>, <b>552</b> and other modules. The application adapter may convert data into protocols or formats that can be understood by the clients <b>550</b>, <b>552</b> or other system parts, and it may convert data from other sources into protocols or formats understood by its subsystems. It may also perform additional functions.</p>
  <p num="p-0171">Four services connect to the application adapter <b>560</b>. They are: the management service <b>562</b>, the query service <b>564</b>, the pathway service <b>566</b> and the geodetic service <b>568</b>. These services <b>562</b>, <b>564</b>, <b>566</b>, <b>568</b> provide various functions of the database system. The management service <b>562</b>, for example, may perform functions of the database management system. The query service <b>564</b> may be the software subsystem that implements the queries on the data stored in the data storage <b>570</b>. The pathway service may aid in the interface of the database to the clients <b>550</b>, <b>552</b> and to other software subsystems. The geodetic service <b>568</b> may compute the trajectories of moving objects and interface with the map server <b>556</b>. The services <b>562</b>, <b>564</b>, <b>566</b>, <b>568</b> may access the GIS data storage <b>558</b> through the map server <b>556</b>, or alternatively they may access the GIS data storage <b>558</b> directly.</p>
  <p num="p-0172">While <figref idrefs="DRAWINGS">FIG. 12</figref> shows the MOD partitioned into four layers (the presentation layer, the application adaptor layer, the application serviced layer and the data storage layer), it is only one exemplary embodiment. One skilled in the art will recognize the many different ways exist to implement the database system. For instance, the database may be part of one computer system, or it may be partitioned across multiple computers. The GIS data storage <b>558</b> and the data storage <b>570</b> can be merged into one module. A fewer or greater number of services may be used to provide functionality to the database system. The map server <b>556</b> and the application adapter <b>560</b> can be merged into one system. Many additional changes can also be made.</p>
  <p num="p-0173">An exemplary embodiment of the present invention has been described above. Those skilled in the art will understand, however, that changes and modifications may be made to this embodiment without departing from the true scope and spirit of the present invention, which is defined by the claims.</p>
</div></div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Patent Citations</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Cited Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6662105">US6662105</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Nov 6, 2000</td><td class="patent-data-table-td patent-date-value">Dec 9, 2003</td><td class="patent-data-table-td ">Toyota Jidosha Kabushiki Kaisha</td><td class="patent-data-table-td ">Navigation device and method of use having two separate route searching devices</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6791472">US6791472</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jun 19, 2001</td><td class="patent-data-table-td patent-date-value">Sep 14, 2004</td><td class="patent-data-table-td ">Steven M. Hoffberg</td><td class="patent-data-table-td ">Mobile communication device</td></tr></table><div class="patent-section-footer">* Cited by examiner</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Referenced by</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Citing Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7197393">US7197393</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jan 19, 2005</td><td class="patent-data-table-td patent-date-value">Mar 27, 2007</td><td class="patent-data-table-td ">Lg Electronics Inc.</td><td class="patent-data-table-td ">Method for converting coordinate values of map data</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7299126">US7299126</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Nov 3, 2003</td><td class="patent-data-table-td patent-date-value">Nov 20, 2007</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">System and method for evaluating moving queries over moving objects</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8135414">US8135414</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Aug 30, 2007</td><td class="patent-data-table-td patent-date-value">Mar 13, 2012</td><td class="patent-data-table-td ">Cisco Technology, Inc.</td><td class="patent-data-table-td ">Method and system for mobile trajectory based services</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8260553">US8260553</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Sep 30, 2008</td><td class="patent-data-table-td patent-date-value">Sep 4, 2012</td><td class="patent-data-table-td ">Nokia Corporation</td><td class="patent-data-table-td ">Methods, apparatuses, and computer program products for providing user location information</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8306748">US8306748</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Oct 5, 2009</td><td class="patent-data-table-td patent-date-value">Nov 6, 2012</td><td class="patent-data-table-td ">Honeywell International Inc.</td><td class="patent-data-table-td ">Location enhancement system and method based on topology constraints</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20100082247">US20100082247</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Sep 30, 2008</td><td class="patent-data-table-td patent-date-value">Apr 1, 2010</td><td class="patent-data-table-td ">Nokia Corporation</td><td class="patent-data-table-td ">Methods, apparatuses, and computer program products for providing user location information</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20100332125">US20100332125</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Sep 7, 2010</td><td class="patent-data-table-td patent-date-value">Dec 30, 2010</td><td class="patent-data-table-td ">Containertrac, Inc.</td><td class="patent-data-table-td ">Automatic correction of past position errors for location and inventory tracking</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20110082643">US20110082643</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Oct 5, 2009</td><td class="patent-data-table-td patent-date-value">Apr 7, 2011</td><td class="patent-data-table-td ">Honeywell International Inc.</td><td class="patent-data-table-td ">Location enhancement system and method based on topology constraints</td></tr></table><div class="patent-section-footer">* Cited by examiner</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">Classifications</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">U.S. Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=2y1yBAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc701/defs701.htm&usg=AFQjCNFn25anNrI7_vY4MNK7_80zsoxwdA#C701S410000">701/410</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=2y1yBAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc340/defs340.htm&usg=AFQjCNGk_NCDWkt8oMijCQ2jvfqday0GbA#C340S995230">340/995.23</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=2y1yBAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc340/defs340.htm&usg=AFQjCNGk_NCDWkt8oMijCQ2jvfqday0GbA#C340S988000">340/988</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=2y1yBAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc707/defs707.htm&usg=AFQjCNE7Q7Bg2eD2wcE_fXEcdOe7Yesevw#C707S999003">707/999.003</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=2y1yBAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc701/defs701.htm&usg=AFQjCNFn25anNrI7_vY4MNK7_80zsoxwdA#C701S533000">701/533</a></span></td></tr><tr><td class="patent-data-table-td ">International Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=2y1yBAABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G01C0021300000">G01C21/30</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=2y1yBAABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G08G0001123000">G08G1/123</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=2y1yBAABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G01C0021340000">G01C21/34</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=2y1yBAABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G01C0021260000">G01C21/26</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=2y1yBAABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G06F0019000000">G06F19/00</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=2y1yBAABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G01C0023000000">G01C23/00</a></span></td></tr><tr><td class="patent-data-table-td ">Cooperative Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=2y1yBAABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=Y10S707/99933">Y10S707/99933</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=2y1yBAABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G08G1/20">G08G1/20</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=2y1yBAABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G01C21/3415">G01C21/3415</a></span></td></tr><tr><td class="patent-data-table-td ">European Classification</td><td class="patent-data-table-td "><span class="nested-value">G08G1/20</span>, <span class="nested-value">G01C21/34A1</span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">Legal Events</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Date</th><th class="patent-data-table-th">Code</th><th class="patent-data-table-th">Event</th><th class="patent-data-table-th">Description</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">Oct 18, 2010</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">RELEASE BY SECURED PARTY;ASSIGNOR:COMERICA BANK;REEL/FRAME:025150/0623</span></div><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">FLUENSEE, INC., COLORADO</span></div><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20101018</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">May 11, 2010</td><td class="patent-data-table-td ">FP</td><td class="patent-data-table-td ">Expired due to failure to pay maintenance fee</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20100321</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Mar 21, 2010</td><td class="patent-data-table-td ">LAPS</td><td class="patent-data-table-td ">Lapse for failure to pay maintenance fees</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">Oct 26, 2009</td><td class="patent-data-table-td ">REMI</td><td class="patent-data-table-td ">Maintenance fee reminder mailed</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">Aug 5, 2008</td><td class="patent-data-table-td ">FPB1</td><td class="patent-data-table-td ">Expired due to reexamination which canceled all claims</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">Aug 3, 2007</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">COMERICA BANK, CALIFORNIA</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">SECURITY AGREEMENT;ASSIGNOR:FLUENSEE, INC.;REEL/FRAME:019640/0893</span></div><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20070713</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Jun 19, 2007</td><td class="patent-data-table-td ">RR</td><td class="patent-data-table-td ">Request for reexamination filed</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20070515</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Sep 19, 2006</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">FLUENSEE, INC., COLORADO</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:MOBITRAC, INC.;REEL/FRAME:018268/0330</span></div><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20060825</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Jan 31, 2005</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">BOARD OF TRUSTEES OF THE UNIVERSITY OF ILLINOIS, I</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:WOLFSON, OURI;REEL/FRAME:016242/0830</span></div><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20011029</span></div></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">Rotate</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">Original Image</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " Image not available"});</script></div></div></div></td></tr></table><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_8a2b04e7bf975d5171d8e4c0b6365c7a.js", Host:"http://www.google.com/", IsBooksRentalEnabled:1, IsWebstoreDisplayCaseEnabled:1, IsObfuscationEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsGeoLayerEnabled:1, IsImageModeNotesEnabled:1, IsCopyMenuItemEnabled:1, IsGiftingEnabled:0, IsWebReaderUniversalPaginatorEnabled:0, IsOfflineBubbleEnabled:1, IsReaderEnabledForPlayRequests:1, IsFutureOnSaleVolumesEnabled:1, IsOfflineRestrictedCopyEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsRestrictedCopyEnabled:1, IsZipitFolderCollectionEnabled:1, IsEndOfSampleRecommendationsEnabled:1, IsRatingsOnBookcardsEnabled:1, IsAdsDisabled:0, IsIframePageDisplayEnabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:0, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsPreOrdersEnabled:0, IsDisabledRandomBookshelves:0, WebstoreDisplayCasePosition:3});_OC_Run({"enable_p13n":false,"add_vol_to_collection_base_url":"http://www.google.com/patents?op=add\u0026sig=ACfU3U0sz3H3uEq1JDJlaVq4wle0UmHzVA\u0026id=2y1yBAABERAJ","remove_vol_from_collection_base_url":"http://www.google.com/patents?op=remove\u0026sig=ACfU3U1XOwTV5pKKZ1NWlh6mldLEyxUWzw\u0026id=2y1yBAABERAJ","logged_in":false,"p13n_save_user_settings_url":"http://www.google.com/patents?op=edit_user_settings\u0026sig=ACfU3U1p_2uCLfWHXGgnXWsrf7Buvf-0vw","is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=http://www.google.com/patents%3Fhl%3Den\u0026hl=en","is_play_enabled":true}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"http://www.google.com/patents/download/Method_and_system_for_querying_in_a_movi.pdf?id=2y1yBAABERAJ\u0026output=pdf\u0026sig=ACfU3U1cRwxHEgMyRGpwAs4sbLIxozGpAQ"},"sample_url":"http://www.google.com/patents/reader?id=2y1yBAABERAJ\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href=http://www.google.com/><nobr>Google&nbsp;Home</nobr></a> - <a href=//www.google.com/patents/sitemap/><nobr>Sitemap</nobr></a> - <a href=http://www.google.com/googlebooks/uspto.html><nobr>USPTO Bulk Downloads</nobr></a> - <a href=/intl/en/privacy/><nobr>Privacy Policy</nobr></a> - <a href=/intl/en/policies/terms/><nobr>Terms of Service</nobr></a> - <a href=https://support.google.com/faqs/answer/2539193?hl=en><nobr>About Google Patents</nobr></a> - <a href="http://www.google.com/tools/feedback/intl/en/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'en'});return false;}catch(e){}"><nobr>Send Feedback</nobr></a></div><span>Data provided by IFI CLAIMS Patent Services</span><br><span >&copy;2012 Google</span></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>