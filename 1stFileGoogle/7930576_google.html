<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html><head><title>Patent US7930576 - Sharing non-sharable devices between an embedded controller and a processor ... - Google Patents</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_8a2b04e7bf975d5171d8e4c0b6365c7a/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_8a2b04e7bf975d5171d8e4c0b6365c7a__en.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "en",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="Sharing non-sharable devices between an embedded controller and a processor in a computer system"><meta name="DC.contributor" content="Ian F. Harris" scheme="inventor"><meta name="DC.contributor" content="Drew J. Dutton" scheme="inventor"><meta name="DC.contributor" content="Standard Microsystems Corporation" scheme="assignee"><meta name="DC.date" content="2007-12-18" scheme="dateSubmitted"><meta name="DC.description" content="System and method for sharing a device, e.g., non-volatile memory, between a host processor and a microcontroller. In response to system state change to a first state wherein the microcontroller is assured safe access to the non-volatile memory (e.g., in response to power-on reset, system reset, sleep state, etc.), the microcontroller holds the system in the first state (e.g., system reset), and switches access to the non-volatile memory from the processor to the microcontroller. While the system is held in the first state, the microcontroller accesses the device (e.g., non-volatile memory), e.g., fetches program instructions/data from the non-volatile memory and loads the program instructions/data into a memory of the microcontroller. After the access, the microcontroller changes or allows change of the system state, e.g., switches access to the device, e.g., the non-volatile memory, from the microcontroller to the processor, and releases the system from the first state."><meta name="DC.date" content="2011-4-19" scheme="issued"><meta name="DC.relation" content="US:5428760" scheme="references"><meta name="DC.relation" content="US:5634004" scheme="references"><meta name="DC.relation" content="US:5819087" scheme="references"><meta name="DC.relation" content="US:5925097" scheme="references"><meta name="DC.relation" content="US:5949997" scheme="references"><meta name="DC.relation" content="US:6154838" scheme="references"><meta name="DC.relation" content="US:6925522" scheme="references"><meta name="DC.relation" content="US:7386326" scheme="references"><meta name="citation_patent_number" content="US:7930576"><meta name="citation_patent_application_number" content="US:11/958,601"><link rel="canonical" href="http://www.google.com/patents/US7930576"/><meta property="og:url" content="http://www.google.com/patents/US7930576"/><meta name="title" content="Patent US7930576 - Sharing non-sharable devices between an embedded controller and a processor in a computer system"/><meta name="description" content="System and method for sharing a device, e.g., non-volatile memory, between a host processor and a microcontroller. In response to system state change to a first state wherein the microcontroller is assured safe access to the non-volatile memory (e.g., in response to power-on reset, system reset, sleep state, etc.), the microcontroller holds the system in the first state (e.g., system reset), and switches access to the non-volatile memory from the processor to the microcontroller. While the system is held in the first state, the microcontroller accesses the device (e.g., non-volatile memory), e.g., fetches program instructions/data from the non-volatile memory and loads the program instructions/data into a memory of the microcontroller. After the access, the microcontroller changes or allows change of the system state, e.g., switches access to the device, e.g., the non-volatile memory, from the microcontroller to the processor, and releases the system from the first state."/><meta property="og:title" content="Patent US7930576 - Sharing non-sharable devices between an embedded controller and a processor in a computer system"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>(function(){try{var aa=function(a,b,c,d){d=d||{};d._sn=["cfg",b,c].join(".");window.gbar.logger.ml(a,d)};var g=window.gbar=window.gbar||{},l=window.gbar.i=window.gbar.i||{},m={},n;function _tvn(a,b){var c=parseInt(a,10);return isNaN(c)?b:c}function _tvf(a,b){var c=parseFloat(a);return isNaN(c)?b:c}function _tvv(a){return!!a}function p(a,b,c){(c||g)[a]=b}g.bv={n:_tvn("2",0),r:"",f:".67.",e:"0",m:_tvn("0",1)};
function q(a,b,c){var d="on"+b;if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent(d,c);else{var f=a[d];a[d]=function(){var a=f.apply(this,arguments),b=c.apply(this,arguments);return void 0==a?b:void 0==b?a:b&&a}}}var s=function(a){return function(){return g.bv.m==a}},ba=s(1),ca=s(2);p("sb",ba);p("kn",ca);l.a=_tvv;l.b=_tvf;l.c=_tvn;l.i=aa;var da=window.gbar.i.i;var t,u,v,w;function ea(a){v=a}function fa(a){var b;if(b=v&&window.encodeURIComponent)b=a.href,b=!b.match(/^http[s]?:\/\/accounts\.google\.[^/]*\/ClearSID/i)&&!b.match(/^http[s]?:\/\/[^/]*\/accounts\/ClearSID/i);if(b=b&&encodeURIComponent(v()))a.href=a.href.replace(/([?&]continue=)[^&]*/,"$1"+b)}function ga(a){window.gApplication&&(a.href=window.gApplication.getTabUrl(a.href))}
function ha(a){var b=document.forms[0].q,c=window.encodeURIComponent&&b&&b.value,b=b&&b.placeholder;c&&c!=b&&(a.href=a.href.replace(/([?&])q=[^&]*|$/,function(a,b){return(b||"&")+"q="+encodeURIComponent(c)}))}n=l.a("")?ga:ha;
function x(a,b,c,d,f,e){var h=document.getElementById(a);if(h){var k=h.style;k.left=d?"auto":b+"px";k.right=d?b+"px":"auto";k.top=c+"px";k.visibility=u?"hidden":"visible";f&&e?(k.width=f+"px",k.height=e+"px"):(x(t,b,c,d,h.offsetWidth,h.offsetHeight),u=u?"":a)}}
var y=[],ia=function(a,b){y.push(b)},ja=function(a){a=a||window.event;var b=a.target||a.srcElement;a.cancelBubble=!0;null==t&&(a=document.createElement(Array.every||window.createPopup?"iframe":"div"),a.frameBorder="0",t=a.id="gbs",a.src="javascript:''",b.parentNode.appendChild(a),q(document,"click",z));var c=b,b=0;"gb3"!=c.className&&(c=c.parentNode);a=c.getAttribute("aria-owns")||"gbi";var d=c.offsetWidth,f=20<c.offsetTop?46:24;document.getElementById("tphdr")&&(f-=3);var e=!1;do b+=c.offsetLeft||
0;while(c=c.offsetParent);var c=(document.documentElement.clientWidth||document.body.clientWidth)-b-d,h,d=document.body,k=document.defaultView;k&&k.getComputedStyle?(d=k.getComputedStyle(d,""))&&(h=d.direction):h=d.currentStyle?d.currentStyle.direction:d.style.direction;h="rtl"==h;if("gbi"==a){for(d=0;k=y[d++];)k();A(null,window.navExtra);h&&(b=c,e=!0)}else h||(b=c,e=!0);u!=a&&z();x(a,b,f,e)},z=function(){u&&x(u,0,0)},A=function(a,b){var c,d=document.getElementById("gbi"),f=a;f||(f=d.firstChild);
for(;b&&(c=b.pop());){var e=d,h=c,k=f;w||(w="gb2");e.insertBefore(h,k).className=w}},ka=function(a,b,c){if((b=document.getElementById(b))&&a){a.className="gb4";var d=document.createElement("span");d.appendChild(a);d.appendChild(document.createTextNode(" | "));d.id=c;b.appendChild(d)}},la=function(){return document.getElementById("gb_70")},ma=function(){return!!u};p("qs",n);p("setContinueCb",ea);p("pc",fa);p("tg",ja);p("close",z);p("addLink",ka);p("almm",A);p("si",la);p("adh",ia);p("op",ma);var B=function(){},C=function(){},F=function(a){var b=new Image,c=D;b.onerror=b.onload=b.onabort=function(){try{delete E[c]}catch(a){}};E[c]=b;b.src=a;D=c+1},E=[],D=0;p("logger",{il:C,ml:B,log:F});var G=window.gbar.logger;var H={},na={},I=[],oa=l.b("0.1",.1),pa=l.a("1",!0),qa=function(a,b){I.push([a,b])},ra=function(a,b){H[a]=b},sa=function(a){return a in H},J={},K=function(a,b){J[a]||(J[a]=[]);J[a].push(b)},ta=function(a){K("m",a)},L=function(a,b){var c=document.createElement("script");c.src=a;c.async=pa;Math.random()<oa&&(c.onerror=function(){c.onerror=null;B(Error("Bundle load failed: name="+(b||"UNK")+" url="+a))});(document.getElementById("xjsc")||document.getElementsByTagName("body")[0]||
document.getElementsByTagName("head")[0]).appendChild(c)},N=function(a){for(var b=0,c;(c=I[b])&&c[0]!=a;++b);!c||c[1].l||c[1].s||(c[1].s=!0,M(2,a),c[1].url&&L(c[1].url,a),c[1].libs&&m.d&&m.d(c[1].libs))},O=function(a){K("gc",a)},P=null,ua=function(a){P=a},M=function(a,b,c){if(P){a={t:a,b:b};if(c)for(var d in c)a[d]=c[d];try{P(a)}catch(f){}}};p("mdc",H);p("mdi",na);p("bnc",I);p("qGC",O);p("qm",ta);p("qd",J);p("lb",N);p("mcf",ra);p("bcf",qa);p("aq",K);p("mdd","");p("has",sa);
p("trh",ua);p("tev",M);var Q=l.b("0.1",.001),R=0;
function _mlToken(a,b){try{if(1>R){R++;var c,d=a,f=b||{},e=encodeURIComponent,h=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&jexpid=",e("17483"),"&srcpg=",e("prop=22"),"&jsr=",Math.round(1/Q),"&ogev=",e("0EvsU4m1NMf4yQT36YLQDQ"),"&ogf=",g.bv.f,"&ogrp=",e("1"),"&ogv=",e("1407723702.0"),"&oggv="+e("es_plusone_gc_20140723.0_p0"),"&ogd=",e("com"),"&ogc=",e("CAN"),"&ogl=",e("en")];f._sn&&(f._sn="og."+
f._sn);for(var k in f)h.push("&"),h.push(e(k)),h.push("="),h.push(e(f[k]));h.push("&emsg=");h.push(e(d.name+":"+d.message));var r=h.join("");S(r)&&(r=r.substr(0,2E3));c=r;var Aa=window.gbar.logger._aem(a,c);F(Aa)}}catch(Na){}}var S=function(a){return 2E3<=a.length},va=function(a,b){return b};function T(a){B=a;p("_itl",S,G);p("_aem",va,G);p("ml",B,G);a={};H.er=a}l.a("")?T(function(a){throw a;}):l.a("1")&&Math.random()<Q&&T(_mlToken);I.push(["m",{url:"//ssl.gstatic.com/gb/js/scm_7385cc5883250b43a39405734c1bea59.js"}]);g.mcf("c",{});g.sg={c:""};if(l.a("1")){var wa=l.a("");I.push(["gc",{auto:wa,url:"//ssl.gstatic.com/gb/js/abc/gci_91f30755d6a6b787dcc2a4062e6e9824.js",libs:"googleapis.client:plusone:gapi.iframes"}]);var xa={version:"gci_91f30755d6a6b787dcc2a4062e6e9824.js",index:"",lang:"en"};H.gc=xa;var U=function(a){window.googleapis&&window.iframes?a&&a():(a&&O(a),N("gc"))};p("lGC",U);l.a("1")&&p("lPWF",U)};window.__PVT="";if(l.a("1")&&l.a("1")){var V=function(a){U(function(){K("pw",a);N("pw")})};p("lPW",V);I.push(["pw",{url:"//ssl.gstatic.com/gb/js/abc/pwm_45f73e4df07a0e388b0fa1f3d30e7280.js"}]);var W=[],ya=function(a){W[0]=a},za=function(a,b){var c=b||{};c._sn="pw";B(a,c)},Ba={signed:W,elog:za,base:"https://plusone.google.com/u/0",loadTime:(new Date).getTime()};H.pw=Ba;var X=function(a,b){for(var c=b.split("."),d=function(){var b=arguments;a(function(){for(var a=g,d=0,e=c.length-1;d<e;++d)a=a[c[d]];a[c[d]].apply(a,b)})},f=g,e=0,h=c.length-1;e<h;++e)f=
f[c[e]]=f[c[e]]||{};return f[c[e]]=d};X(V,"pw.clk");X(V,"pw.hvr");p("su",ya,g.pw)};function Ca(){function a(){for(var b;(b=e[h++])&&"m"!=b[0]&&!b[1].auto;);b&&(M(2,b[0]),b[1].url&&L(b[1].url,b[0]),b[1].libs&&m.d&&m.d(b[1].libs));h<e.length&&setTimeout(a,0)}function b(){0<f--?setTimeout(b,0):a()}var c=l.a("1"),d=l.a(""),f=3,e=I,h=0,k=window.gbarOnReady;if(k)try{k()}catch(r){da(r,"ml","or")}d?p("ldb",a):c?q(window,"load",b):b()}p("rdl",Ca);var Da={D:1,H:2,da:3,p:4,W:5,M:6,F:7,g:8,ha:9,U:10,L:11,T:12,S:13,N:14,Q:15,P:16,fa:17,w:18,O:19,ga:20,ea:21,u:22,G:23,ja:24,ka:25,ia:26,A:27,j:28,o:29,k:30,ca:31,Z:32,$:33,J:34,K:35,ba:36,aa:37,Y:38,B:39,R:40,v:41,X:42,V:43,h:48,C:49,I:500},Y=[1,2,3,4,5,6,9,10,11,13,14,28,29,30,34,35,37,38,39,40,41,42,43,48,49,500];var Z=l.b("0.001",1E-4),Ea=l.b("1",1),Fa=!1,Ga=!1;if(l.a("1")){var Ha=Math.random();Ha<=Z&&(Fa=!0);Ha<=Ea&&(Ga=!0)}var Ia=Da,$=null;function Ja(){var a=0,b=function(b,d){l.a(d)&&(a|=b)};b(1,"");b(2,"");b(4,"");b(8,"");return a}
function Ka(a,b){var c=Z,d=Fa,f;f=a;if(!$){$={};for(var e=0;e<Y.length;e++){var h=Y[e];$[h]=!0}}if(f=!!$[f])c=Ea,d=Ga;if(d){d=encodeURIComponent;g.rp?(f=g.rp(),f="-1"!=f?f:"1"):f="1";c=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&oge=",a,"&ogex=",d("17483"),"&ogev=",d("0EvsU4m1NMf4yQT36YLQDQ"),"&ogf=",g.bv.f,"&ogp=",d("22"),"&ogrp=",d(f),"&ogsr=",Math.round(1/c),"&ogv=",d("1407723702.0"),"&oggv="+
d("es_plusone_gc_20140723.0_p0"),"&ogd=",d("com"),"&ogl=",d("en"),"&ogc=",d("CAN"),"&ogus=",Ja()];if(b){"ogw"in b&&(c.push("&ogw="+b.ogw),delete b.ogw);var k;f=b;e=[];for(k in f)0!=e.length&&e.push(","),e.push(La(k)),e.push("."),e.push(La(f[k]));k=e.join("");""!=k&&(c.push("&ogad="),c.push(d(k)))}F(c.join(""))}}function La(a){"number"==typeof a&&(a+="");return"string"==typeof a?a.replace(".","%2E").replace(",","%2C"):a}C=Ka;p("il",C,G);var Ma={};H.il=Ma;setTimeout(function(){C(Ia.g)},0);}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var b=window.gbar.i.i;var c=window.gbar;var f=function(d){try{var a=document.getElementById("gbom");a&&d.appendChild(a.cloneNode(!0))}catch(e){b(e,"omas","aomc")}};c.aomc=f;}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var a=window.gbar;a.mcf("pm",{p:""});}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{window.gbar.rdl();}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{float:left;height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}#gbs,.gbm{background:#fff;left:0;position:absolute;text-align:left;visibility:hidden;z-index:1000}.gbm{border:1px solid;border-color:#c9d7f1 #36c #36c #a2bae7;z-index:1001}.gb1{margin-right:.5em}.gb1,.gb3{zoom:1}.gb2{display:block;padding:.2em .5em}.gb2,.gb3{text-decoration:none !important;border-bottom:none}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb2,a.gb3,a.gb4{color:#00c !important}.gbi .gb3,.gbi .gb2,.gbi .gb4{color:#dd8e27 !important}.gbf .gb3,.gbf .gb2,.gbf .gb4{color:#900 !important}a.gb2:hover{background:#36c;color:#fff !important}#gbar .gbz0l{color:#000 !important;cursor:default;font-weight:bold;text-decoration:none !important}
#gbar { padding:.3em .6em !important;}</style></head><body  topmargin="3" marginheight="3"><div id=gbar><nobr><a onclick=gbar.qs(this);gbar.logger.il(1,{t:1}); class=gb1 id=gb_1 href="https://www.google.com/search?sa=N&tab=tw">Search</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:2}); class=gb1 id=gb_2 href="http://www.google.com/search?hl=en&tbm=isch&source=og&sa=N&tab=ti">Images</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:8}); class=gb1 id=gb_8 href="http://maps.google.com/maps?hl=en&sa=N&tab=tl">Maps</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:78}); class=gb1 id=gb_78 href="https://play.google.com/?hl=en&sa=N&tab=t8">Play</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:36}); class=gb1 id=gb_36 href="http://www.youtube.com/results?sa=N&tab=t1">YouTube</a> <a onclick=gbar.logger.il(1,{t:5}); class=gb1 id=gb_5 href="http://news.google.com/nwshp?hl=en&tab=tn">News</a> <a onclick=gbar.logger.il(1,{t:23}); class=gb1 id=gb_23 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a onclick=gbar.logger.il(1,{t:25}); class=gb1 id=gb_25 href="https://drive.google.com/?tab=to">Drive</a> <a class=gb3 href="http://www.google.com/intl/en/options/" onclick="this.blur();gbar.tg(event);return !1" aria-haspopup=true><u>More</u> <small>&#9660;</small></a><div class=gbm id=gbi><a onclick=gbar.logger.il(1,{t:24}); class=gb2 id=gb_24 href="https://www.google.com/calendar?tab=tc">Calendar</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:51}); class=gb2 id=gb_51 href="http://translate.google.com/?hl=en&sa=N&tab=tT">Translate</a><a onclick=gbar.logger.il(1,{t:17}); class=gb2 id=gb_17 href="http://www.google.com/mobile/?hl=en&tab=tD">Mobile</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:10}); class=gb2 id=gb_10 href="http://www.google.com/search?hl=en&tbo=u&tbm=bks&source=og&sa=N&tab=tp">Books</a><a onclick=gbar.logger.il(1,{t:212}); class=gb2 id=gb_212 href="https://wallet.google.com/manage/?tab=ta">Wallet</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:6}); class=gb2 id=gb_6 href="http://www.google.com/search?hl=en&tbo=u&tbm=shop&source=og&sa=N&tab=tf">Shopping</a><a onclick=gbar.logger.il(1,{t:30}); class=gb2 id=gb_30 href="http://www.blogger.com/?tab=tj">Blogger</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:27}); class=gb2 id=gb_27 href="http://www.google.com/finance?sa=N&tab=te">Finance</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:31}); class=gb2 id=gb_31 href="https://plus.google.com/photos?sa=N&tab=tq">Photos</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:12}); class=gb2 id=gb_12 href="http://www.google.com/search?hl=en&tbo=u&tbm=vid&source=og&sa=N&tab=tv">Videos</a><div class=gb2><div class=gbd></div></div><a onclick=gbar.logger.il(1,{t:66}); href="http://www.google.com/intl/en/options/" class=gb2>Even more &raquo;</a></div></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=http://www.google.com/patents%3Fhl%3Den&hl=en" class=gb4>Sign in</a><div style="display: none"><div class=gbm id=gbd5 aria-owner=gbg5><div class=gbmc><ol id=gbom class=gbmcc></ol></div></div></div></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="http://www.google.com/patents/us7930576?hl=en&amp;output=html_text" title="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."><img border="0" src="http://www.google.com/images/cleardot.gif"alt="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."></a></div><div id="guser"><nobr></nobr></div><div style="clear:both;"></div><div id="gb-top-search-box" class="gb-top-search-box-small gb-reset"><table><tr><td class="logo"><a href="http://www.google.com/patents" class="logo-link"><img class="logo-img" src="/intl/en/images/logos/google_logo_41.png" alt="Go to Google Books Home" height="41"/></a></td><td><form action="http://www.google.com/search" name="f" id="vheadf" method="get"><span id="hf"></span><input type="hidden" name="tbm" value="pts"/><input type="hidden" name="tbo" value="1"/><input type="hidden" name="hl" value="en"/><table><tr><td><div class="inputs"><table><tr><td><div class="text-input"><input type="text" name="q" id="vheadq" class="text" maxlength="2048" size="31" value="" title="Search Patents" accesskey="s" autocomplete="off"/><script>window._OC_autoDir &&window._OC_autoDir('vheadq', 'tia-vheadq');</script></div></td><td><div class="submit-input"><input name="btnG" class="submit" type="submit" value=""/></div></td></tr></table></div></td><td class="col-ext-links"><div class="ext-links"><a href="http://www.google.com/advanced_patent_search">&lt;nobr&gt;Advanced Patent Search&lt;/nobr&gt;</a></div></td></tr></table></form></td></tr></table></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents">Patents</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/US7930576"></a><a id="appbar-patents-discuss-this-link" href="http://www.google.com/url?id=33_VBgABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpatent%3DUS7930576&amp;usg=AFQjCNEp4H7_zdCzShh63xFaIXqipyj8sQ" data-is-grant="true"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/US7930576.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/US7930576.pdf"></a><a class="appbar-application-grant-link" data-label="Application" href="/patents/US20080256374"></a><a class="appbar-application-grant-link" data-selected="true" data-label="Grant" href="/patents/US7930576"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="http://www.google.com/patents/US7930576" style="display:none"><span itemprop="description">System and method for sharing a device, e.g., non-volatile memory, between a host processor and a microcontroller. In response to system state change to a first state wherein the microcontroller is assured safe access to the non-volatile memory (e.g., in response to power-on reset, system reset, sleep...</span><span itemprop="url">http://www.google.com/patents/US7930576?utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">Patent US7930576 - Sharing non-sharable devices between an embedded controller and a processor in a computer system</span><img itemprop="image" src="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="Patent US7930576 - Sharing non-sharable devices between an embedded controller and a processor in a computer system" title="Patent US7930576 - Sharing non-sharable devices between an embedded controller and a processor in a computer system"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="http://www.google.com/advanced_patent_search">Advanced Patent Search</a></li></ol></div><table id="viewport_table" cellpadding="0" style="clear:both" cellspacing="0"><tr><td id="viewport_td"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata"><tr><td class="patent-bibdata-heading">Publication number</td><td class="single-patent-bibdata">US7930576 B2</td></tr><tr><td class="patent-bibdata-heading">Publication type</td><td class="single-patent-bibdata">Grant</td></tr><tr><td class="patent-bibdata-heading">Application number</td><td class="single-patent-bibdata">US 11/958,601</td></tr><tr><td class="patent-bibdata-heading">Publication date</td><td class="single-patent-bibdata">Apr 19, 2011</td></tr><tr><td class="patent-bibdata-heading">Filing date</td><td class="single-patent-bibdata">Dec 18, 2007</td></tr><tr><td class="patent-bibdata-heading">Priority date<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="The priority date is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the date listed."></span></td><td class="single-patent-bibdata">Apr 10, 2007</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Also published as</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101441607A">CN101441607A</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101441607B">CN101441607B</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102981983A">CN102981983A</a>, </span><span class="patent-bibdata-value"><a href="/patents/US20080256374">US20080256374</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading">Publication number</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">11958601, </span><span class="patent-bibdata-value">958601, </span><span class="patent-bibdata-value">US 7930576 B2, </span><span class="patent-bibdata-value">US 7930576B2, </span><span class="patent-bibdata-value">US-B2-7930576, </span><span class="patent-bibdata-value">US7930576 B2, </span><span class="patent-bibdata-value">US7930576B2</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Inventors</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Ian+F.+Harris%22">Ian F. Harris</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Drew+J.+Dutton%22">Drew J. Dutton</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Original Assignee</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=inassignee:%22Standard+Microsystems+Corporation%22">Standard Microsystems Corporation</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Export Citation</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/US7930576.bibtex">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7930576.enw">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7930576.ris">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">Patent Citations</a> (8),</span> <span class="patent-bibdata-value"><a href="#forward-citations">Referenced by</a> (2),</span> <span class="patent-bibdata-value"><a href="#classifications">Classifications</a> (7),</span> <span class="patent-bibdata-value"><a href="#legal-events">Legal Events</a> (4)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">External Links:&nbsp;</span><span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=33_VBgABERAJ&q=http://patft.uspto.gov/netacgi/nph-Parser%3FSect2%3DPTO1%26Sect2%3DHITOFF%26p%3D1%26u%3D/netahtml/PTO/search-bool.html%26r%3D1%26f%3DG%26l%3D50%26d%3DPALL%26RefSrch%3Dyes%26Query%3DPN/7930576&usg=AFQjCNHC8jE4YRu_zzYya1RK-IkndtY11w">USPTO</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=33_VBgABERAJ&q=http://assignments.uspto.gov/assignments/q%3Fdb%3Dpat%26pat%3D7930576&usg=AFQjCNEiARgYJFBmwxeJLuAhMc7GcEIePQ">USPTO Assignment</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=33_VBgABERAJ&q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DUS%26NR%3D7930576B2%26KC%3DB2%26FT%3DD&usg=AFQjCNFSxaGexnfrsincvwCxMYwhgdmo8w">Espacenet</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT102219283" lang="EN" load-source="patent-office">Sharing non-sharable devices between an embedded controller and a processor in a computer system</invention-title></span><br><span class="patent-number">US 7930576 B2</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title">Abstract</span></div><div class="patent-text"><abstract mxw-id="PA84020167" lang="EN" load-source="patent-office"> <div num="p-0001" class="abstract">System and method for sharing a device, e.g., non-volatile memory, between a host processor and a microcontroller. In response to system state change to a first state wherein the microcontroller is assured safe access to the non-volatile memory (e.g., in response to power-on reset, system reset, sleep state, etc.), the microcontroller holds the system in the first state (e.g., system reset), and switches access to the non-volatile memory from the processor to the microcontroller. While the system is held in the first state, the microcontroller accesses the device (e.g., non-volatile memory), e.g., fetches program instructions/data from the non-volatile memory and loads the program instructions/data into a memory of the microcontroller. After the access, the microcontroller changes or allows change of the system state, e.g., switches access to the device, e.g., the non-volatile memory, from the microcontroller to the processor, and releases the system from the first state.</div>
  </abstract></div></div><div class="patent-section patent-drawings-section"><div class="patent-section-header"><span class="patent-section-title">Images<span class="patent-section-count">(6)</span></span></div><div class="patent-drawings-body"><div class="patent-drawings-carousel"><div class="drawings"><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7930576B2/US07930576-20110419-D00000.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7930576B2/US07930576-20110419-D00000.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7930576B2/US07930576-20110419-D00001.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7930576B2/US07930576-20110419-D00001.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7930576B2/US07930576-20110419-D00002.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7930576B2/US07930576-20110419-D00002.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7930576B2/US07930576-20110419-D00003.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7930576B2/US07930576-20110419-D00003.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7930576B2/US07930576-20110419-D00004.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7930576B2/US07930576-20110419-D00004.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7930576B2/US07930576-20110419-D00005.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7930576B2/US07930576-20110419-D00005.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div></div></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img" alt="Previous page"src="/googlebooks/images/kennedy/page_left.png"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img" alt="Next page"src="/googlebooks/images/kennedy/page_right.png"width="21" height="21" /></div></div></div><div class="patent-post-drawings"></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">Claims<span class="patent-section-count">(23)</span></span></div><div class="patent-text"><div mxw-id="PCLM35453297" lang="EN" load-source="patent-office" class="claims">
    <div class="claim"> <div id="CLM-00001" num="00001" class="claim">
      <div class="claim-text">1. A system, comprising:
<div class="claim-text">a non-volatile memory;</div>
<div class="claim-text">a processor; and</div>
<div class="claim-text">a microcontroller coupled to the non-volatile memory and to the processor, wherein the microcontroller is configured to:
<div class="claim-text">in response to a change in system state to a first state wherein the microcontroller is assured safe access to the non-volatile memory, hold the system in the first state and switch access to the non-volatile memory from the processor to the microcontroller;</div>
<div class="claim-text">while the system is held in the first state, fetch program instructions or data from the non-volatile memory and load the program instructions or data into a memory of the microcontroller; and</div>
<div class="claim-text">after the program instructions or data have been loaded, switch access to the non-volatile memory from the microcontroller to the processor, and release the system from the first state.</div>
</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00002" num="00002" class="claim">
      <div class="claim-text">2. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the change in system state to the first state is performed by software.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00003" num="00003" class="claim">
      <div class="claim-text">3. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first state comprises one or more of:
<div class="claim-text">a power on reset (POR) state;</div>
<div class="claim-text">a system reset state; or</div>
<div class="claim-text">a sleep state.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00004" num="00004" class="claim">
      <div class="claim-text">4. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the program instructions or data comprise firmware code or data for the microcontroller.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00005" num="00005" class="claim">
      <div class="claim-text">5. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, the microcontroller is a peripheral device controller for a computer system.</div>
    </div>
    </div> <div class="claim"> <div id="CLM-00006" num="00006" class="claim">
      <div class="claim-text">6. A method for sharing a non-volatile memory between a processor and a microcontroller in a system, comprising:
<div class="claim-text">in response to a change in system state to a first state wherein the microcontroller is assured safe access to the non-volatile memory, holding the system in the first state and switching access to the non-volatile memory from the processor to the microcontroller;</div>
<div class="claim-text">while the system is held in the first state, fetching program instructions or data from the non-volatile memory and loading the program instructions or data into a memory of the microcontroller; and</div>
<div class="claim-text">after the program instructions or data have been loaded, switching access to the non-volatile memory from the microcontroller to the processor, and releasing the system from the first state.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00007" num="00007" class="claim">
      <div class="claim-text">7. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the change in system state to the first state is performed by software.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00008" num="00008" class="claim">
      <div class="claim-text">8. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the first state comprises one or more of:
<div class="claim-text">a power on reset (POR) state;</div>
<div class="claim-text">a system reset state; or</div>
<div class="claim-text">a sleep state.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00009" num="00009" class="claim">
      <div class="claim-text">9. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the program instructions or data comprise firmware code or data for the microcontroller.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00010" num="00010" class="claim">
      <div class="claim-text">10. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, the microcontroller is a peripheral device controller for a computer system.</div>
    </div>
    </div> <div class="claim"> <div id="CLM-00011" num="00011" class="claim">
      <div class="claim-text">11. A system, comprising:
<div class="claim-text">a non-volatile memory;</div>
<div class="claim-text">a processor; and</div>
<div class="claim-text">a microcontroller coupled to the non-volatile memory and to the processor, wherein the microcontroller is configured to:
<div class="claim-text">in response to a power on reset, hold a system reset signal in a reset state, thereby prohibiting the processor from accessing the non-volatile memory;</div>
<div class="claim-text">while the system reset signal is held in the reset state, fetch program instructions or data from the non-volatile memory and load the program instructions or data into a memory of the microcontroller; and</div>
<div class="claim-text">after the program instructions or data have been loaded, permit the processor in the system access to the non-volatile memory, and release the system reset signal from the reset state.</div>
</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00012" num="00012" class="claim">
      <div class="claim-text">12. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the program instructions or data comprise firmware code or data for the microcontroller.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00013" num="00013" class="claim">
      <div class="claim-text">13. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref>, the microcontroller is a peripheral device controller for a computer system.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00014" num="00014" class="claim">
      <div class="claim-text">14. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the microcontroller is coupled to the non-volatile memory via a non-volatile memory bus, and wherein the microcontroller is operable to fetch the program instructions or data from the non-volatile memory via the non-volatile memory bus.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00015" num="00015" class="claim">
      <div class="claim-text">15. The system of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the microcontroller is coupled to the processor via a host memory bus, and wherein the microcontroller is operable to switchably intercept or pass communications between the processor and the non-volatile memory.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00016" num="00016" class="claim">
      <div class="claim-text">16. The system of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the microcontroller comprises or is coupled to a switch, interposed between the non-volatile memory bus and the host memory bus, wherein the switch is controllable by the microcontroller to switchably intercept or pass communications between the processor and the non-volatile memory.</div>
    </div>
    </div> <div class="claim"> <div id="CLM-00017" num="00017" class="claim">
      <div class="claim-text">17. A method for sharing a non-volatile memory between a processor and a microcontroller in a system, comprising:
<div class="claim-text">in response to a power on reset, holding a system reset signal in a reset state, thereby prohibiting the processor from accessing the non-volatile memory;</div>
<div class="claim-text">while the system reset signal is held in the reset state, fetching program instructions or data from the non-volatile memory and loading the program instructions or data into a memory of the microcontroller; and</div>
<div class="claim-text">after the program instructions or data have been loaded, permitting the processor in the system access to the non-volatile memory, and releasing the system reset signal from the reset state.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00018" num="00018" class="claim">
      <div class="claim-text">18. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the program instructions or data comprise firmware code or data for the microcontroller.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00019" num="00019" class="claim">
      <div class="claim-text">19. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, the microcontroller is a peripheral device controller for a computer system.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00020" num="00020" class="claim">
      <div class="claim-text">20. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the microcontroller is coupled to the processor via a system reset bus, and wherein the microcontroller is operable to assert the system reset signal over the system reset bus.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00021" num="00021" class="claim">
      <div class="claim-text">21. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the microcontroller is coupled to the non-volatile memory via a non-volatile memory bus, and wherein the microcontroller is operable to fetch the program instructions or data from the non-volatile memory via the non-volatile memory bus.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00022" num="00022" class="claim">
      <div class="claim-text">22. The method of <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein the microcontroller is coupled to the processor via a host memory bus, and wherein the microcontroller is operable switchably intercept or pass communications between the processor and the non-volatile memory.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00023" num="00023" class="claim">
      <div class="claim-text">23. The method of <claim-ref idref="CLM-00022">claim 22</claim-ref>, wherein the microcontroller comprises or is coupled to a switch, interposed between the non-volatile memory bus and the host memory bus, wherein the switch is controllable by the microcontroller to switchably intercept or pass communications between the processor and the non-volatile memory.</div>
    </div>
  </div> </div></div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title">Description</span></div><div class="patent-text"><div mxw-id="PDES41257936" lang="EN" load-source="patent-office" class="description">
    <heading>PRIORITY DATA</heading> <p num="p-0002">This application claims benefit of priority to U.S. Provisional Application Ser. No. 60/910,863, titled “Sharing Non-Sharable Devices Between an Embedded Controller and A Processor in a Computer System”, filed on Apr. 10, 2007, whose inventors were Ian Harris and Drew J. Dutton.</p>
    <heading>BACKGROUND OF THE INVENTION</heading> <p num="p-0003">1. Field of the Invention</p>
    <p num="p-0004">This invention relates generally to the field of computing devices, and more specifically to sharing devices, such as non-volatile memory, which are not designed for sharing among processors in a system.</p>
    <p num="p-0005">2. Description of the Related Art</p>
    <p num="p-0006">Many hardware systems include a central processing unit (CPU), i.e., a main processor, and one or more microcontrollers for performing auxiliary functions for the system, such as initialization, management and reset functionality. Each processor or microcontroller, in a system generally has a corresponding non-volatile memory from which the processor or microcontroller reads instructions for performing boot-up, reset, management (such as power state management), or other functions, implemented in firmware. Current solutions for providing controller memory are: (1) to have a separate dedicated/private memory device for each controller/processor; (2) to integrate memory on-chip; or (3) to attempt to arbitrate for the use of an existing memory device.</p>
    <p num="p-0007">However, a problem with attempting to arbitrate for the use of another device is that system performance and user experience may be degraded. Moreover, providing each processor and microcontroller with a separate non-volatile memory is expensive in both cost and time. For example, many current embedded microcontroller solutions for notebook and desktop computers use ROM (read-only memory) solutions that present challenges in time to market and flexibility. The time to market issue is due to the need to finalize the microcontroller firmware and data early enough in the design and manufacturing process to meet the schedule needs for production. This usually represents at least a month in the time schedule of a development program. In addition, any late error found in the firmware or data means that all existing inventory is out of date and may have to be discarded.</p>
    <p num="p-0008">For the above reasons, some customers or designers prefer using embedded flash or similar memory for storage, since this type of memory allows updates at production test or even in the field. However, use of embedded flash requires a very expensive manufacturing process, because the microcontroller chip integrates flash memory on the same die, and therefore requires a flash manufacturing process. It is typically 30% more expensive to manufacture a chip with this process, and thus makes the chip significantly more expensive. This expense only makes sense if offset by some other factors, e.g., cost savings or product requirements. If a customer only has one set of firmware (code) that is used and if the code never changes, and if the customer is confident that there are no errors in the code that might require an update, ROM and a standard manufacturing process may be used instead of embedded flash memory. If, on the other hand, the customer has multiple firmware codes (e.g., one per product model), then it may be cheaper to use flash. Thus, due to expense, use of embedded flash memory may only be viable if the risk of ROM is too high or if there are multiple codes, low volume or other specific business reasons.</p>
    <p num="p-0009">Thus, as discussed above, current solutions are generally expensive, inflexible, cannot be guaranteed to work reliably, may have occasional errors, and/or can cause significant system performance degradation.</p>
    <p num="p-0010">Other corresponding issues related to the prior art will become apparent to one skilled in the art after comparing such prior art with embodiments of the present invention as described herein.</p>
    <heading>SUMMARY OF THE INVENTION</heading> <p num="p-0011">Various embodiments are presented of a system and method for sharing devices such as non-volatile memory between processors in a computer system where one of the processors has control over operating states, e.g., power and/or execution states, of the other processors in the computer system.</p>
    <p num="p-0012">In response to a system state change, such as power on reset or system reset, where a microcontroller in a system is assured of safe access to a shared device, or can prevent the system from entering a state where a processor in the system can access the shared device, the microcontroller may set control signals to cause access to the shared device to be with the microcontroller. In other words, the system may be changed to a state (a “first” state) in which the microcontroller is guaranteed the ability to access the shared device safely, e.g., without interruption or interference by the processor.</p>
    <p num="p-0013">In one embodiment, the microcontroller may be situated between a system interface (and therefore, the processor in the system) and the shared device, e.g., non-volatile memory, e.g., embedded flash memory, and thus may intercept communications between the system interface and the device. The device may include or be associated with an interface whereby access to the device is facilitated or implemented, and where this interface may be configured to direct or restrict access to the device to different system components, e.g., the processor or the microcontroller. In one embodiment, the microcontroller setting control signals to cause access to the shared device to be with the microcontroller comprises the microcontroller setting the interface to the shared device interface with the microcontroller. Said another way, the microcontroller may set one or more control signals to configure or redirect the shared device interface to grant exclusive access to the device to the microcontroller.</p>
    <p num="p-0014">In one embodiment, the microcontroller controls and manages power on reset (POR) for the system, and thus may respond to and/or generate signals related to power on reset or system reset (or other management signals) in a way that preempts access to the device by the main processor of the system, thereby facilitating sharing a device that otherwise could not be shared. In some embodiments, the change in system state may be invoked or indicated by a management signal, e.g., a system reset or POR signal, generated or received by the microcontroller. It should be noted, however, that in some embodiments, control of the direction of the interface, i.e., control of which component of the system has access to the device, may be independent of the management (e.g., system reset or POR) signal. In other words, the microcontroller may control whether the shared device interface is directed to the processor of the system, or to the microcontroller, independent of the management (e.g., system reset or POR) signal.</p>
    <p num="p-0015">While in the first state, i.e., the state where the microcontroller is ensured safe access to the device, or can prohibit access by the processor in the system to the shared device, and has properly configured access to the device, the microcontroller may retrieve or exchange data with the device. For example, in embodiments where the system state is dependent on or indicated by a management signal, e.g., a system reset signal, the microcontroller may receive or generate the management signal, and hold the management signal in this state, i.e., may maintain assertion of the management signal, and, while this signal is asserted, may read, write, acquire, or otherwise exchange (e.g., via invocation of a read or write by some other component of the system), data or program instructions from, to, or with, the device.</p>
    <p num="p-0016">Once the controller has completed the data retrieval or exchange with the device or has determined that it may no longer be assured of safe access, the microcontroller may reconfigure the interface through control signals to enable access by the processor in the system, e.g., via a switch that controls access to the device, as will be described below in more detail. Once the microcontroller has configured the device to enable access by the processor in the system, the microcontroller may change or allow change of the system state, thereby permitting the processor in the system to access the shared device. For example, in embodiments where the system state is dependent on or indicated by a management signal, e.g., a system reset signal, the microcontroller may de-assert the management signal, thereby putting the system into a state that allows access to the shared device by the processor of the system.</p>
    <p num="p-0017">Thus, using embodiments of the above-described method, the microcontroller may preempt or suspend access to the device by the processor, e.g., the main CPU, of the system, or otherwise configure safe access to the device by the microcontroller; retrieve or otherwise exchange data or program instructions with the device; then return access to the device to the processor, or otherwise relinquish exclusive or safe access to the device by the microcontroller.</p>
    <p num="p-0018">It should be noted that in various other embodiments where the microcontroller manages or controls operating states of the system (e.g., reset, POR, sleep, and other states related to specific system activities where it is known by the microcontroller that the system cannot or will not access the device), the microcontroller may monitor (or control) such system states, and take advantage of these states to access the device safely, e.g., to take control and use the shared device. Note that these system states should be such that the microcontroller either manages when the system will exit these states or is provided sufficient warning as to when the system will again need control of the shared interface (to the device). As one example, when a system is being shut down, the microcontroller may take over the device interface, i.e., may redirect the device interface to allow (only) access by the microcontroller, before power-off, i.e., before turning off the final power rail. In this way, writes or other exchanges with the shared device may be “saved up” or queued, and their completion (e.g., by the microcontroller) may be guaranteed before final power off.</p>
    <p num="p-0019">Thus, the microcontroller may gracefully share access to the device with the processor of the system. It should be noted that in other embodiments, additional microcontrollers may also share the device with the host or main system CPU, using the techniques described above. In further embodiments, such sharing of devices may also be used in other ways. For example, in some embodiments, a plurality of processors (e.g., microcontrollers) may share such a device, where each processor may in turn suspend or prevent access to the device by the other processors while it accesses the device.</p>
    <p num="p-0020">Below are described more specific embodiments of the above-described general method that are particularly directed to the sharing of non-volatile memory between a main processor and a microcontroller in a system. In other words, in the below embodiments, the shared device comprises a non-volatile memory device. It should be noted, however, that these embodiments are meant to be exemplary only, and are not intended to limit the type or use of the shared device to any particular form or function.</p>
    <p num="p-0021">In response to a power on reset (POR), a microcontroller in a system, e.g., microcontroller, may hold a system reset signal in a reset state, thereby prohibiting a processor in the system from accessing a non-volatile memory in the system. Note that the POR and/or the system reset may or may not be invoked by the microcontroller.</p>
    <p num="p-0022">In other words, in response to the POR, the microcontroller may receive or generate the system reset signal, and hold the signal in a reset state. As described above, in one embodiment, the microcontroller may be situated between the system interface (and therefore, the processor in the system) and the shared device, e.g., non-volatile memory, e.g., embedded flash memory, and thus may intercept communications between the system interface and the device, e.g., the non-volatile memory. As will be described below in more detail, in some embodiments, when the system reset signal is in the reset state, the interface to the non-volatile memory may be configured by the microcontroller to preclude the processor in the system from accessing the non-volatile memory, e.g., via a switch.</p>
    <p num="p-0023">While the system reset signal (or other management signal) is held in the reset state, e.g., is asserted by the microcontroller (e.g., and the interface to the non-volatile memory is configured to only allow access by the microcontroller), the microcontroller may fetch program instructions/data from the non-volatile memory and load the program instructions/data into a memory of the microcontroller, or otherwise access the non-volatile memory. In other words, the microcontroller may generate or receive the system reset signal, and may hold the system reset signal in the reset state (e.g., on the system management bus via a system reset line), i.e., may maintain assertion of the system reset signal, and, while the system reset signal is asserted, may fetch, i.e., read, acquire, or otherwise receive (e.g., via invocation of a read by some other component of the system), program instructions/data from the non-volatile memory and load or write the program instructions/data into the microcontroller's memory. Note that the microcontroller's memory is preferably RAM (random access memory), although any type of re-writeable memory may be used as desired. As noted above, in some embodiments, the program instructions/data may include program firmware code, that may, for example, be usable by the embedded microcontroller for startup or reset functionality, e.g., for initializing the microcontroller, among other uses. In some embodiments, the microcontroller may be or include a peripheral device controller for a computer system. For example, in one exemplary embodiment, the embedded microcontroller may be a keyboard controller, and the non-volatile memory device <b>108</b> may store keyboard controller (KBC) code, although in other embodiments, any other program instructions/code or data may be used as desired.</p>
    <p num="p-0024">In one embodiment, the microcontroller may include or couple to a host memory bus, which may couple to the system interface, and may also include or couple to a device bus, in this embodiment, a non-volatile memory bus, which may couple to the shared non-volatile memory device. In one embodiment, the host memory bus and the non-volatile memory bus are SPI (serial peripheral interface) buses, although other protocols may be used as desired. Note that in some embodiments, the host memory bus and the non-volatile memory bus may be considered the same bus, e.g., a memory bus, where the microcontroller is inserted to switchably intercept and possibly redirect signals signals on the bus(es).</p>
    <p num="p-0025">In one embodiment, the microcontroller includes or is coupled to a switch controlled by a switch control, for providing switching functionality for the host memory bus and the non-volatile memory bus, e.g., for the memory bus. The microcontroller may thus be operable to switchably preempt and inhibit signal flow on the memory bus (i.e., the host memory bus and the non-volatile memory bus) between the host interface and the non-volatile memory, e.g., by placing the switches into a high-impedance state, and to fetch instructions/data from the non-volatile memory while communication between the host interface and the non-volatile memory is suspended. Thus, the microcontroller may operate to configure the interface to the device (e.g., the switch) to regulate and enforce safe access to the device.</p>
    <p num="p-0026">After the microcontroller has loaded the program instructions/data from the non-volatile memory, the microcontroller may reconfigure the access to the non-volatile memory, e.g., via the switch, and release the system reset signal from the reset state, thereby permitting the processor in the system access to the non-volatile memory. In other words, upon completion of the fetch of instructions/data from the non-volatile memory by the microcontroller, the microcontroller may terminate the suspension or preemption of communications between host interface and the non-volatile memory, thereby allowing resumption of such communications, e.g., via switch, and de-assert the system reset signal.</p>
    <p num="p-0027">Thus, using embodiments of the above-described method, the microcontroller may preempt or suspend communications with the non-volatile memory by the main CPU and read instructions/data from the non-volatile memory, e.g., to initialize the microcontroller and/or perform other functionality prior to, or independent from, operation of the main system, i.e., the main CPU, thus sharing the non-volatile memory with the main system. For example, in some embodiments, the microcontroller may, in addition to initialization code/data, may also fetch program instructions and/or data related to pre-boot security operations, and may operate to perform such pre-boot security operations prior to boot-up of the main system, thereby providing additional security to the system.</p>
    <p num="p-0028">Thus, the microcontroller may gracefully share use of the main system's non-volatile memory. It should be noted that in other embodiments, additional microcontrollers may also share this non-volatile memory with the host or main system CPU, using the techniques described above. In further embodiments, such sharing of non-volatile memory may also be used in other ways. For example, in some embodiments, a plurality of microcontrollers may share a non-volatile memory (e.g., that is not used by the main system CPU), where each microcontroller may in turn suspend or prevent access to the non-volatile memory by the other microcontrollers while it loads instructions/data from the memory.</p>
    <p num="p-0029">Note that in various embodiments, the system changing to a state where the microcontroller is assured safe access to the non-volatile memory (or device) may be performed or mediated by software or hardware. In other words, in some embodiments, the state change may be in response to hardware signals, such as POR signals, etc. In other embodiments, the state change may be in response to software events, tokens, software conditions, software messages, software handshakes, and so forth. Said another way, embodiments of the present invention are intended to cover virtually any case where the embedded controller can determine that it can safely take control of the shared non-volatile memory, whether the “safe” system state is mediated or signaled via software or hardware. For example, the system may pass the microcontroller a token, which grants the microcontroller ownership of the memory through a software handshake.</p>
    <p num="p-0030">Thus, various embodiments of the invention described herein may allow an embedded microcontroller and a processor in a system to share a device that is not designed to be shared.</p>
    <description-of-drawings> <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading> <p num="p-0031">The foregoing, as well as other objects, features, and advantages of this invention may be more completely understood by reference to the following detailed description when read together with the accompanying drawings in which:</p>
      <p num="p-0032"> <figref idrefs="DRAWINGS">FIG. 1A</figref> illustrates an exemplary computer system configured to implement one embodiment of the present invention;</p>
      <p num="p-0033"> <figref idrefs="DRAWINGS">FIG. 1B</figref> is a high-level block diagram of an exemplary system configured to implement one embodiment of the present invention;</p>
      <p num="p-0034"> <figref idrefs="DRAWINGS">FIG. 2</figref> is a flowchart of a method for sharing a device between a processor and a microcontroller in a system, according to one embodiment;</p>
      <p num="p-0035"> <figref idrefs="DRAWINGS">FIG. 3</figref> is a flowchart of a method for sharing non-volatile memory between a processor and a microcontroller in a system, according to one embodiment.</p>
      <p num="p-0036"> <figref idrefs="DRAWINGS">FIG. 4</figref> illustrates a microcontroller, according to one embodiment of the invention; and</p>
      <p num="p-0037"> <figref idrefs="DRAWINGS">FIG. 5</figref> illustrates an exemplary signal timing diagram, according to one embodiment.</p>
    </description-of-drawings> <p num="p-0038">While the invention is susceptible to various modifications and alternative forms, specific embodiments thereof are shown by way of example in the drawings and will herein be described in detail. It should be understood, however, that the drawings and detailed description thereto are not intended to limit the invention to the particular form disclosed, but on the contrary, the intention is to cover all modifications, equivalents, and alternatives falling within the spirit and scope of the present invention as defined by the appended claims.</p>
    <heading>DETAILED DESCRIPTION OF THE EMBODIMENTS</heading> <heading>Incorporation by Reference</heading> <p num="p-0039">The following references are hereby incorporated by reference in their entirety as though fully and completely set forth herein:</p>
    <p num="p-0040">U.S. Provisional Application Ser. No. 60/910,863, titled “Sharing Non-Sharable Devices Between an Embedded Controller and A Processor in a Computer System”, filed on Apr. 10, 2007, whose inventors were Ian Harris and Drew J. Dutton.</p>
    <p num="p-0041">Various embodiments of a system and method are presented for sharing devices between processors, e.g., between a one or more main processors and a microcontroller, in a system, e.g., a computer system, where the microcontroller has control over the power or execution states of the main processor(s) or other unique management capabilities relative to the other processors in the system.</p>
    <p num="p-0042">Note that any headings used are for organizational purposes only and are not meant to be used to limit or interpret the description or claims. Furthermore, it should be noted that the word “may” is used throughout this application in a permissive sense (i.e., having the potential to, being able to), not a mandatory sense (i.e., must).” The term “include”, and derivations thereof, mean “including, but not limited to”. The term “coupled” means “directly or indirectly connected”.</p>
    <p num="p-0043">Moreover, as used herein, a “set of instructions” may refer to one or more instructions. More specifically, in some embodiments, “instructions” may refer to programming code, software, and/or functions implemented in the form of a code that is executable by a controller, microprocessor, and/or custom logic circuit adapted to execute these instructions. In some embodiments, these instructions may comprise device drivers, control software, and/or machine code.</p>
    <p num="p-0044">As used herein, a “controller” refers to any type of processor, such as a central processing unit (CPU), microprocessor, microcontroller, or embedded controller or microcontroller, among others.</p>
    <p num="h-0007">Overview</p>
    <p num="p-0045">Various embodiments of the invention described herein may provide access by an embedded microcontroller to a device (e.g., non-volatile memory) which allows the microcontroller to access and read or write program instructions/data (meaning program instructions and/or data) from or to the device while holding the system, e.g., the CPU, in a state such as reset where access to the non-volatile memory device will not disrupt the normal system function.</p>
    <p num="h-0008">FIG. <b>1</b>A—Exemplary Computer System</p>
    <p num="p-0046"> <figref idrefs="DRAWINGS">FIG. 1</figref> is a high-level block diagram of an exemplary computer system <b>82</b> configured to implement some embodiments of the present invention. The system of <figref idrefs="DRAWINGS">FIG. 1</figref> comprises a computer system, e.g., a personal computer (PC), although in other embodiments, the techniques and systems described herein may be implemented in any other systems as desired.</p>
    <p num="p-0047">In preferred embodiments, the computer system <b>82</b> includes a main or central processor, i.e., a host processor, as well as one or more microcontrollers, e.g., each in a respective system-on-chip (SoC), such as, for example, a keyboard controller for managing or controlling communications between a keyboard and the main processor. The memory is preferably included on the SoC with the embedded controller, and in various embodiments, may be a non-volatile memory, e.g., ROM (read only memory), or a volatile memory, such as Flash memory, as desired. As <figref idrefs="DRAWINGS">FIG. 1</figref> shows, the computer system <b>82</b> includes logic <b>104</b> for sharing memory, e.g., between the main processor and the microcontroller, according to embodiments of the present invention. Further details regarding exemplary embodiments of the system are provided below with reference to <figref idrefs="DRAWINGS">FIGS. 1B</figref>, <b>2</b>, <b>4</b>, and <b>6</b>.</p>
    <p num="h-0009">FIG. <b>1</b>B—Exemplary System</p>
    <p num="p-0048"> <figref idrefs="DRAWINGS">FIG. 1B</figref> is a high-level block diagram of an exemplary system configured to implement one embodiment of the present invention, specifically to share a device, e.g., non-volatile memory, between a CPU or main processor, and an embedded microcontroller in the system. The system of <figref idrefs="DRAWINGS">FIG. 1B</figref> preferably resides in a computer system, e.g., a personal computer (PC) such as computer system <b>82</b> of <figref idrefs="DRAWINGS">FIG. 1A</figref>, although in other embodiments, the techniques and systems described herein may be implemented in any other systems as desired.</p>
    <p num="p-0049">As <figref idrefs="DRAWINGS">FIG. 1B</figref> shows, the system may include an embedded microcontroller <b>102</b>, coupled to system interface <b>106</b> via a system interface bus <b>103</b>, whereby the microcontroller <b>102</b> may communicate with the CPU of the computer system, referred to as the host CPU or processor. Note that in various embodiments, this system interface <b>106</b> may simply be a connection or bus suitable for communications between the microcontroller <b>102</b> and the host CPU, or may include additional structure or functionality as desired. As indicated in <figref idrefs="DRAWINGS">FIG. 1B</figref>, the microcontroller <b>102</b> may be further coupled to a shared device <b>108</b> that may store program instructions or other data that may be uploaded or programmed by the embedded microcontroller, e.g., for startup, general, or reset functionality, via a device bus <b>107</b>, as shown. The microcontroller <b>102</b> may be further coupled to the system interface <b>106</b> via a host memory bus <b>105</b>, whereby the embedded microcontroller <b>102</b> may intercept memory requests or other signals transmitted between the system interface (e.g., the host CPU) and the shared device <b>108</b>. Note that the program instructions/data stored in the shared device (e.g., non-volatile memory) <b>108</b> preferably includes program instructions, e.g., firmware code, that may, for example, be usable by the embedded microcontroller <b>102</b> for startup, general, or reset functionality, e.g., for initializing the microcontroller <b>102</b>, among other uses. In some embodiments, the microcontroller <b>102</b> may comprise a peripheral device controller for a computer system. For example, in one exemplary embodiment, the embedded microcontroller <b>102</b> is a keyboard controller, and the shared device <b>108</b> may store keyboard controller (KBC) code, although in other embodiments, any other program instructions, data or code may be used as desired.</p>
    <p num="p-0050">Thus, in the embodiment shown in <figref idrefs="DRAWINGS">FIG. 1B</figref>, the embedded microcontroller <b>102</b> is situated between the system interface <b>106</b> and the shared device (e.g., non-volatile memory) <b>108</b>, and so may function as an intermediary or intercept between these two components, thereby facilitating sharing the device <b>108</b> between the host processor and the embedded microcontroller <b>102</b>, as will be described below in more detail. Note that in this embodiment, a system management bus, e.g., a system reset bus, <b>101</b> coupling the system interface <b>106</b> and the microcontroller <b>102</b> may be included for communicating a reset or other management signal (or other signal) between the two components, although in other embodiments, the system interface bus <b>103</b> may be used. In preferred embodiments, the shared device <b>108</b> is an embedded flash memory, although other types of devices may be used as desired, e.g., ROM or any other type of memory.</p>
    <p num="h-0010">FIG. <b>2</b>—Method for Sharing a Device Between Processors in a System</p>
    <p num="p-0051"> <figref idrefs="DRAWINGS">FIG. 2</figref> is a high-level flowchart of embodiments of a method for sharing a device, e.g., non-volatile memory, between processors, e.g., between a processor and a microcontroller in a system, e.g., a computer system, where the shared device is not designed to be shared. In various embodiments, some of the method elements shown may be performed concurrently, in a different order than shown, or may be omitted. Additional method elements may also be performed as desired. As shown, this method may operate as follows.</p>
    <p num="p-0052">In <b>202</b>, in response to a system state change, such as, for example, power on reset (POR), system reset, or sleep mode, where a microcontroller, e.g., microcontroller <b>102</b>, in a system is assured of safe access to a shared device, or can prevent the system from entering a state where a processor in the system can access the shared device, the microcontroller may set control signals or utilize software to cause access to the shared device to be with the microcontroller. In other words, when the system is changed to a state, e.g., a first state, in which the microcontroller <b>102</b> is guaranteed the ability to access the shared device safely, e.g., without interruption or interference by the processor, the microcontroller may hold the system in the state and switch access to the shared device, e.g., the non-volatile memory, from the processor to the microcontroller. Examples of this first state may include one or more of: a power on reset (POR) state, a system reset state, or a sleep state, among others. Holding the system in this first state may prohibit the processor in the system from accessing the shared device, e.g., non-volatile memory in the system.</p>
    <p num="p-0053">Similarly, the state change may be invoked or caused by a management signal, such as a POR, system reset, sleep, signal, etc., which may include a software signal, event, token, handshake, etc. In one embodiment, holding the system in the first state may include holding a management signal in a corresponding state, e.g., holding a system reset signal in a reset state.</p>
    <p num="p-0054">Note that the management signal, e.g., the POR and/or the system reset, and/or any other type of management signal used, may or may not be invoked by the microcontroller. Thus, for example, in response to a received management signal, e.g., POR signal, or in response to generating the management signal, e.g., the POR signal, the microcontroller may generate or receive another management signal, e.g., the system reset signal, then hold or assert the other management signal in a specified state, e.g., a reset state.</p>
    <p num="p-0055">As noted above with reference to <figref idrefs="DRAWINGS">FIG. 1B</figref>, in one embodiment, the microcontroller <b>102</b> may be situated between the system interface <b>106</b> (and therefore, the processor in the system) and the shared device <b>108</b>, e.g., non-volatile memory, e.g., embedded flash memory, and thus may intercept communications between the system interface and the device <b>108</b>.</p>
    <p num="p-0056">The device <b>108</b> may include or be associated with an interface whereby access to the device is facilitated or implemented, and where this interface may be configured to direct or restrict access to the device to different system components, e.g., the processor or the microcontroller. In one embodiment, the microcontroller setting control signals to cause access to the shared device to be with the microcontroller comprises the microcontroller setting the interface to the shared device interface with the microcontroller. Said another way, the microcontroller may set one or more control signals to configure or redirect the shared device interface to grant exclusive access to the device to the microcontroller. In other embodiments, the switching of access to the shared device from the processor to the microcontroller may be performed via software, or a combination of software and hardware. Note that as used herein, the term “signal” may denote a hardware signal and/or a software signal, e.g., a software event, message, token, handshake, etc. Thus, the term “management signal” may refer to a hardware signal or a software signal.</p>
    <p num="p-0057">Note that in a preferred embodiment, the microcontroller controls and manages power on reset (POR) for the system, and thus may respond to and/or generate signals or software events or messages related to power on reset or system reset (or other management signals) in a way that preempts access to the device by the main processor of the system, thereby facilitating sharing a device that otherwise could not be shared. In some embodiments, the change in system state may be invoked or indicated by a management signal, e.g., a system reset or POR signal, generated or received by the microcontroller. It should be noted, however, that in some embodiments, control of the direction of the interface, i.e., control of which component of the system has access to the device, may be independent of the management (e.g., system reset or POR) signal. In other words, the microcontroller may control whether the shared device interface is directed to the processor of the system, or to the microcontroller, independent of the management (e.g., system reset or POR) signal. Moreover, in some embodiments, instead of, or in addition to, hardware signals, the microcontroller may respond to software events, messages, tokens, handshakes, etc., that may indicate when the system state is such that the microcontroller is assured safe access to the shared device, e.g., to non-volatile memory.</p>
    <p num="p-0058">In <b>204</b>, while the system is in the first state, i.e., the state where the microcontroller is insured safe access to the device, or can prohibit access by the processor in the system to the shared device, and has properly configured access to the device, the microcontroller may retrieve or exchange data with the device <b>108</b>. For example, in embodiments where the system state is dependent on or indicated by a management signal, e.g., a system reset signal, the microcontroller may generate or receive the management signal, and hold the management signal in this state, i.e., may maintain assertion of the management signal, and, while this signal is asserted, may read, write, acquire, or otherwise exchange (e.g., via invocation of a read or write by some other component of the system), data or program instructions from, to, or with, the device. In one embodiment, while the system is held in the first state, the microcontroller may fetch program instructions/data from the non-volatile memory and load the program instructions/data into a memory of the microcontroller.</p>
    <p num="p-0059">In <b>206</b>, once the controller has completed the data retrieval or exchange with the device or has determined that it may no longer be assured of safe access, the microcontroller may reconfigure the interface through control signals to enable access by the processor in the system, e.g., via a switch that controls access to the device, as will be described below in more detail.</p>
    <p num="p-0060">In <b>208</b>, once the microcontroller has configured the device to enable access by the processor in the system, the microcontroller may change or allow change of the system state, thereby permitting the processor in the system to access the shared device. For example, in embodiments where the system state is dependent on or indicated by a management signal, e.g., a system reset signal, the microcontroller may de-assert the management signal, thereby putting the system into a state that allows access to the shared device by the processor of the system. Said another way, after the program instructions/data have been loaded, the microcontroller may switch access to the shared device, e.g., the non-volatile memory, from the microcontroller to the processor, and release the system from the first state.</p>
    <p num="p-0061">Thus, using embodiments of the above-described method, the microcontroller <b>102</b> may preempt or suspend access to the device by the processor, e.g., the main CPU, of the system, or otherwise configure safe access to the device by the microcontroller; retrieve or otherwise exchange data or program instructions with the device; then return access to the device to the processor, or otherwise relinquish exclusive or safe access to the device by the microcontroller.</p>
    <p num="p-0062">It should be noted that in various other embodiments where the microcontroller manages or controls operating states of the system (e.g., reset, POR, sleep, and other states related to specific system activities where it is known by the microcontroller that the system cannot or will not access the device), the microcontroller may monitor (or control) such system states, and take advantage of these states to access the device safely, e.g., to take control and use the shared device. Note that these system states should be such that the microcontroller either manages when the system will exit these states or is provided sufficient warning as to when the system will again need control of the shared interface (to the device).</p>
    <p num="p-0063">As one example, when a system is being shut down, the microcontroller may take over the device interface, i.e., may redirect the device interface to allow (only) access by the microcontroller, before power-off, i.e., before turning off the final power rail. In this way, writes or other exchanges with the shared device may be “saved up” or queued, and their completion (e.g., by the microcontroller) may be guaranteed before final power off.</p>
    <p num="p-0064">Thus, the microcontroller <b>102</b> may gracefully share access to the device <b>108</b> with the processor of the system. It should be noted that in other embodiments, additional microcontrollers may also share the device with the host or main system CPU, using the techniques described above. In further embodiments, such sharing of devices may also be used in other ways. For example, in some embodiments, a plurality of processors (e.g., microcontrollers) may share such a device, where each processor may in turn suspend or prevent access to the device by the other processors while it accesses the device.</p>
    <heading>Other Embodiments</heading> <p num="p-0065">Below are described more specific embodiments of the above-described general method of <figref idrefs="DRAWINGS">FIG. 2</figref> that are particularly directed to the sharing of non-volatile memory between a main processor and a microcontroller in a system. In other words, in the below embodiments, the shared device comprises a non-volatile memory device. It should be noted, however, that the embodiments of <figref idrefs="DRAWINGS">FIG. 3</figref> are meant to be exemplary only, and are not intended to limit the type or use of the shared device to any particular form or function.</p>
    <p num="h-0012">FIG. <b>3</b>—Method for Sharing Non-Volatile Memory Between Processors in a System</p>
    <p num="p-0066"> <figref idrefs="DRAWINGS">FIG. 3</figref> is a high-level flowchart of a method for sharing non-volatile memory between processors, e.g., between a processor and a microcontroller in a system, e.g., a computer system, according to one embodiment. It should be noted, however, that in other embodiments, any other types of memory may be used as desired, e.g., RAM, ROM, etc. In various embodiments, some of the method elements shown may be performed concurrently, in a different order than shown, or may be omitted. Additional method elements may also be performed as desired. As shown, this method may operate as follows.</p>
    <p num="p-0067">In <b>302</b>, in response to a system state change, such as, for example, power on reset (POR), system reset, or sleep mode, where a microcontroller, e.g., microcontroller <b>102</b>, in a system is assured of safe access to a non-volatile memory, or can prevent the system from entering a state where a processor in the system can access the non-volatile memory, the microcontroller may set control signals or utilize software to cause access to the non-volatile memory to be with the microcontroller. In other words, when the system is changed to a state, e.g., a first state, in which the microcontroller <b>102</b> is guaranteed the ability to access the non-volatile memory safely, e.g., without interruption or interference by the processor, the microcontroller may hold the system in the state and switch access to the non-volatile memory from the processor to the microcontroller. Examples of this first state may include one or more of: a power on reset (POR) state, a system reset state, or a sleep state, among others.</p>
    <p num="p-0068">Holding the system in this first state may prohibit the processor in the system from accessing the non-volatile memory in the system. Similarly, the state change may be invoked or caused by a management signal, such as a POR, system reset, sleep, signal, etc., which may include a software signal, event, token, handshake, etc. In one embodiment, holding the system in the first state may include holding a management signal in a corresponding state, e.g., holding a system reset signal in a reset state.</p>
    <p num="p-0069">Note that the management signal, e.g., the POR and/or the system reset, and/or any other type of management signal used, may or may not be invoked by the microcontroller. Thus, for example, in response to a received management signal, e.g., POR signal, or in response to generating the management signal, e.g., the POR signal, the microcontroller may generate or receive another management signal, e.g., the system reset signal, then hold or assert the other management signal in a specified state, e.g., a reset state.</p>
    <p num="p-0070">As noted above with reference to <figref idrefs="DRAWINGS">FIG. 1B</figref>, in one embodiment, the microcontroller <b>102</b> may be situated between the system interface <b>106</b> (and therefore, the processor in the system) and the shared device <b>108</b>, e.g., non-volatile memory, e.g., embedded flash memory, and thus may intercept communications between the system interface and the device, e.g., the non-volatile memory. As will be described below in more detail, in some embodiments, when the system is held in the first state, e.g., when the system reset signal is held in the reset state, the interface to the non-volatile memory may be configured by the microcontroller to preclude the processor in the system from accessing the non-volatile memory, e.g., via a switch.</p>
    <p num="p-0071"> <figref idrefs="DRAWINGS">FIG. 4</figref> illustrates an exemplary embodiment of the microcontroller <b>102</b> of <figref idrefs="DRAWINGS">FIG. 1B</figref>, where the device <b>108</b> comprises non-volatile memory. As <figref idrefs="DRAWINGS">FIG. 4</figref> shows, in this embodiment, the microcontroller <b>102</b> includes a system reset line <b>403</b> for communicating a reset signal, i.e., a system reset signal (or other management signal), e.g., to or from the system interface <b>106</b> over the system management bus <b>101</b> (see <figref idrefs="DRAWINGS">FIG. 1B</figref>). While many of the embodiments described herein reference a reset signal, it should be noted that in other embodiments, as mentioned above, other signals may be used as desired, e.g., any signal that corresponds with or invokes a suspension of non-volatile memory access by the CPU (or other specified processor) of the system, or which indicates a system state in which the microcontroller may have safe access to the non-volatile memory, including software events, tokens, handshakes, signals, etc. Note that <figref idrefs="DRAWINGS">FIG. 4</figref> only illustrates features of the microcontroller that relate directly to embodiments of the present invention, i.e., components not necessary to understand the present invention have been omitted for brevity and simplicity.</p>
    <p num="p-0072">As discussed above, in various embodiments, the switching of access to the shared device from the processor to the microcontroller may be performed via hardware, via software, or via a combination of software and hardware. As also discussed above, the term “signal” may denote a hardware signal and/or a software signal, e.g., a software event, message, token, handshake, etc., i.e., the term “management signal” may refer to a hardware signal or a software signal.</p>
    <p num="p-0073">As also indicated above, in a preferred embodiment, the microcontroller controls and manages power on reset (POR) for the system, and thus may respond to and/or generate signals or software events or messages related to power on reset or system reset (or other management signals) in a way that preempts access to the device by the main processor of the system, thereby facilitating sharing a non-volatile memory that otherwise could not be shared. In some embodiments, the change in system state may be invoked or indicated by a management signal, e.g., a system reset or POR signal, generated or received by the microcontroller. It should be noted, however, that in some embodiments, control of the direction of the interface, i.e., control of which component of the system has access to the non-volatile memory, may be independent of the management (e.g., system reset or POR) signal. In other words, the microcontroller may control whether the non-volatile memory interface is directed to the processor of the system, or to the microcontroller, independent of the management (e.g., system reset or POR) signal. Moreover, as noted above, in some embodiments, instead of, or in addition to, hardware signals, the microcontroller may respond to software events, messages, tokens, handshakes, etc., that may indicate when the system state is such that the microcontroller is assured safe access to the non-volatile memory.</p>
    <p num="p-0074">In <b>304</b>, while the system is in the first state, i.e., the state where the microcontroller is insured safe access to the device, or can prohibit access by the processor in the system to the non-volatile memory, and has properly configured access to the non-volatile memory, the microcontroller may retrieve or exchange data with the non-volatile memory. For example, while the system is held in the first state, the microcontroller may fetch program instructions/data from the non-volatile memory and load the program instructions/data into a memory of the microcontroller.</p>
    <p num="p-0075">In one embodiment, holding the system in the first state may include holding a system reset signal (or other management signal) in the reset state, e.g., asserting system reset. While the system reset signal is held in the reset state, and the interface to the non-volatile memory is configured to only allow access by the microcontroller, the microcontroller may fetch program instructions/data from the non-volatile memory and load the program instructions/data into a memory of the microcontroller, or otherwise access the non-volatile memory. In other words, the microcontroller may hold the system reset signal in the reset state (e.g., on the system management bus <b>101</b> via system reset line <b>403</b>), i.e., may maintain assertion of the system reset signal, and, while the system reset signal is asserted, may fetch, i.e., read, acquire, or otherwise receive (e.g., via invocation of a read by some other component of the system), program instructions/data from the non-volatile memory and load or write the program instructions/data into the microcontroller's memory. Note that the microcontroller's memory is preferably RAM (random access memory), although any type of re-writeable memory may be used as desired. As noted above, in some embodiments, the program instructions/data may include program firmware code, that may, for example, be usable by the embedded microcontroller for startup or reset functionality, e.g., for initializing the microcontroller, among other uses. In some embodiments, the microcontroller may be or include a peripheral device controller for a computer system. For example, in one exemplary embodiment, the embedded microcontroller may be a keyboard controller, and the non-volatile memory device <b>108</b> may store keyboard controller (KBC) code, although in other embodiments, any other program instructions/code or data may be used as desired.</p>
    <p num="p-0076">Referring again to <figref idrefs="DRAWINGS">FIG. 4</figref>, as may be seen, in this embodiment, the microcontroller <b>102</b> may include or couple to the host memory bus <b>105</b>, which, as indicated in <figref idrefs="DRAWINGS">FIG. 1B</figref>, may couple to the system interface <b>106</b>, and may also include or couple to device bus <b>107</b>, in this embodiment, a non-volatile memory bus <b>107</b>, which may couple to the shared non-volatile memory device <b>108</b>. Note that in the embodiment shown, the host memory bus <b>105</b> and the non-volatile memory bus <b>107</b> each includes three lines, one each for data, clock, and CSb signals, where CSb stands for Chip Select bar, which is a low true version of the Chip Select, and as such is part of the address structure of the block. In one embodiment, the host memory bus <b>105</b> and the non-volatile memory bus <b>107</b> are SPI (serial peripheral interface) buses, although other protocols may be used as desired. Note that in some embodiments, the host memory bus <b>105</b> and the non-volatile memory bus <b>107</b> may be considered the same bus, e.g., a memory bus, where the microcontroller <b>102</b> is inserted to switchably intercept and possibly redirect signals signals on the bus(es).</p>
    <p num="p-0077">As <figref idrefs="DRAWINGS">FIG. 4</figref> indicates, in this embodiment, the microcontroller <b>102</b> includes a switch <b>404</b> controlled by switch control <b>406</b>, for providing switching functionality for the host memory bus <b>105</b> and the non-volatile memory bus <b>107</b>, e.g., for the memory bus. In some embodiments, the switch <b>404</b> may comprise a Q switch, although it should be noted that the term “Q switch” may refer not only to actual Q switches, but to functional equivalents or analogs, as well. Said another way, the switch <b>404</b> may be a “conceptual Q switch”, that may perform the functionality of a Q switch (or functionality similar to a Q switch), but which may implement this functionality in ways different from a Q switch. Note that in the embodiment of <figref idrefs="DRAWINGS">FIG. 4</figref>, the switch <b>404</b> includes a respective switch for each of the memory bus lines, as indicates by the “X3” (times three) label. Thus, each line on the memory bus may be switched independently, although in preferred embodiments, these lines may all be switched together, thereby suspending or inhibiting communications between the host interface <b>106</b> and the non-volatile memory <b>108</b>. Of course, in other embodiments, any numbers of bus lines/switches may be used as desired.</p>
    <p num="p-0078">It should be noted that in other embodiments, the microcontroller <b>102</b> may not include the switch <b>404</b>, but rather may couple to a switch that is external to the microcontroller. One benefit of this approach is that it may save pins on the microcontroller.</p>
    <p num="p-0079">As <figref idrefs="DRAWINGS">FIG. 4</figref> further indicates, each line on the memory bus may be coupled to respective buffers for communicating data/signals between the memory bus (i.e., the device bus) and the microcontroller <b>102</b>, where, as noted above, most of the internal components of the microcontroller <b>102</b> have been omitted from the figure. Thus, as <figref idrefs="DRAWINGS">FIG. 4</figref> shows, the microcontroller <b>102</b> may be operable to switchably preempt and inhibit signal flow on the memory bus (i.e., the host memory bus <b>105</b> and the non-volatile memory bus <b>107</b>) between the host interface <b>106</b> and the non-volatile memory <b>108</b>, e.g., by placing the switches into a high-impedance state, and to fetch instructions/data from the non-volatile memory <b>108</b> while communication between the host interface <b>106</b> and the non-volatile memory <b>108</b> is suspended. Thus, the microcontroller may operate to configure the interface to the device (e.g., the switch) to regulate and enforce safe access to the device.</p>
    <p num="p-0080">In <b>306</b>, once the controller has completed the data retrieval or exchange with the non-volatile memory, or has determined that it may no longer be assured of safe access, the microcontroller may reconfigure the interface through control signals to enable access by the processor in the system, e.g., via a switch that controls access to the non-volatile memory.</p>
    <p num="p-0081">In a more specific embodiment, after the microcontroller has loaded the program instructions/data from the non-volatile memory, the microcontroller may release the system reset signal from the reset state, thereby permitting the processor in the system access to the non-volatile memory. In other words, upon completion of the fetch of instructions/data from the non-volatile memory <b>108</b> by the microcontroller <b>102</b>, the microcontroller may terminate the suspension or preemption of communications between host interface <b>106</b> and the non-volatile memory <b>108</b>, thereby allowing resumption of such communications, e.g., via switch <b>404</b>.</p>
    <p num="p-0082">Thus, using embodiments of the above-described method, the microcontroller <b>102</b> may preempt or suspend communications with the non-volatile memory by the main CPU and read instructions/data from the non-volatile memory, e.g., to initialize the microcontroller <b>102</b> and/or perform other functionality prior to, or independent from, operation of the main system, i.e., the main CPU, thus sharing the non-volatile memory with the main system. For example, in some embodiments, the microcontroller may, in addition to initialization code/data, may also fetch program instructions and/or data related to pre-boot security operations, and may operate to perform such pre-boot security operations prior to boot-up of the main system, thereby providing additional security to the system.</p>
    <p num="p-0083"> <figref idrefs="DRAWINGS">FIG. 5</figref> is a signal timing diagram that illustrates timing aspects of the above method, according to one embodiment. As <figref idrefs="DRAWINGS">FIG. 5</figref> shows, in this particular embodiment, a VCC, i.e., power supply voltage, is provided, followed by a VCC PWRGD (“power good”) signal indicating that the power supply voltage is valid, i.e., is at a valid level and is stable. It should be noted that the particular names or labels for these signals or voltages are exemplary only, and are not intended to limit the signals or voltages used to any particular names or representations.</p>
    <p num="p-0084">As indicated, once the supply voltage is stable, the microcontroller <b>102</b> may hold the (generated or received) system reset signal in a reset state, here shown in the “low” state (e.g., a “low” or negative assertion state), during which time the microcontroller <b>102</b> may fetch and load instructions/data, e.g., controller firmware code, from the non-volatile memory, and during which, due to the system reset signal being held in the reset state, the host, i.e., the main system CPU, is inhibited from accessing the non-volatile memory. As <figref idrefs="DRAWINGS">FIG. 5</figref> also shows, once this loading is done, the reset signal is de-asserted (shown in <figref idrefs="DRAWINGS">FIG. 5</figref> as being put into the “high” state), after which the non-volatile memory is accessible by the host or main system CPU.</p>
    <p num="p-0085">Thus, the microcontroller <b>102</b> may gracefully share use of the main system's non-volatile memory. It should be noted that in other embodiments, additional microcontrollers may also share this non-volatile memory (or device) with the host or main system CPU, using the techniques described above. In further embodiments, such sharing of non-volatile memory may also be used in other ways. For example, in some embodiments, a plurality of microcontrollers may share a non-volatile memory (e.g., that is not used by the main system CPU), where each microcontroller may in turn suspend or prevent access to the non-volatile memory by the other microcontrollers while it loads instructions/data from the memory. Thus, various embodiments described with reference to <figref idrefs="DRAWINGS">FIG. 3</figref> may allow an embedded microcontroller to upload its firmware and data from a non-volatile memory device that is already present in the system and therefore save the cost and avoid issues associated with a private flash or ROM storage for the microcontroller.</p>
    <p num="p-0086">Note that in various embodiments, the system changing to a state where the microcontroller is assured safe access to the non-volatile memory (or device) may be performed or mediated by software or hardware. In other words, in some embodiments, the state change may be in response to hardware signals, such as POR signals, etc., but in other embodiments, the state change may be in response to software events, tokens, software conditions, software messages, software handshakes, and so forth. Said another way, embodiments of the present invention are intended to cover virtually any case where the embedded controller can determine that it can safely take control of the shared non-volatile memory, whether the “safe” system state is mediated or signaled via software or hardware.</p>
    <p num="p-0087">Thus, various embodiments of the invention described herein may allow an embedded microcontroller and a processor in a system to share a device, e.g., a non-volatile memory, that is not designed to be shared.</p>
    </div></div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Patent Citations</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Cited Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5428760">US5428760</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Feb 6, 1992</td><td class="patent-data-table-td patent-date-value">Jun 27, 1995</td><td class="patent-data-table-td ">Intel Corporation</td><td class="patent-data-table-td ">Circuitry and method for sharing internal microcontroller memory with an external processor</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5634004">US5634004</a></td><td class="patent-data-table-td patent-date-value">May 16, 1994</td><td class="patent-data-table-td patent-date-value">May 27, 1997</td><td class="patent-data-table-td ">Network Programs, Inc.</td><td class="patent-data-table-td ">Directly programmable distribution element</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5819087">US5819087</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Dec 31, 1996</td><td class="patent-data-table-td patent-date-value">Oct 6, 1998</td><td class="patent-data-table-td ">Compaq Computer Corporation</td><td class="patent-data-table-td ">Flash ROM sharing between processor and microcontroller during booting and handling warm-booting events</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5925097">US5925097</a></td><td class="patent-data-table-td patent-date-value">Apr 28, 1997</td><td class="patent-data-table-td patent-date-value">Jul 20, 1999</td><td class="patent-data-table-td ">Network Machines, Inc.</td><td class="patent-data-table-td ">Directly programmable distribution element</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5949997">US5949997</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jan 3, 1997</td><td class="patent-data-table-td patent-date-value">Sep 7, 1999</td><td class="patent-data-table-td ">Ncr Corporation</td><td class="patent-data-table-td ">Method and apparatus for programming a microprocessor using an address decode circuit</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6154838">US6154838</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Oct 5, 1998</td><td class="patent-data-table-td patent-date-value">Nov 28, 2000</td><td class="patent-data-table-td ">Le; Hung Q.</td><td class="patent-data-table-td ">Flash ROM sharing between processor and microcontroller during booting and handling warm-booting events</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6925522">US6925522</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Dec 11, 2002</td><td class="patent-data-table-td patent-date-value">Aug 2, 2005</td><td class="patent-data-table-td ">Lite-On It Corporation</td><td class="patent-data-table-td ">Device and method capable of changing codes of micro-controller</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7386326">US7386326</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Sep 4, 2002</td><td class="patent-data-table-td patent-date-value">Jun 10, 2008</td><td class="patent-data-table-td ">Texas Instruments Incorporated</td><td class="patent-data-table-td ">Programmable task-based co-processor</td></tr></table><div class="patent-section-footer">* Cited by examiner</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Referenced by</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Citing Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8543755">US8543755</a></td><td class="patent-data-table-td patent-date-value">Jan 29, 2012</td><td class="patent-data-table-td patent-date-value">Sep 24, 2013</td><td class="patent-data-table-td ">Nuvoton Technology Corporation</td><td class="patent-data-table-td ">Mitigation of embedded controller starvation in real-time shared SPI flash architecture</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8688944">US8688944</a></td><td class="patent-data-table-td patent-date-value">Sep 20, 2011</td><td class="patent-data-table-td patent-date-value">Apr 1, 2014</td><td class="patent-data-table-td ">Nuvoton Technology Corporation</td><td class="patent-data-table-td ">Memory sharing between embedded controller and central processing unit chipset</td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">Classifications</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">U.S. Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=33_VBgABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc713/defs713.htm&usg=AFQjCNFeqk7obddJAU0rkLD-4_57iwcWXA#C713S324000">713/324</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=33_VBgABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc713/defs713.htm&usg=AFQjCNFeqk7obddJAU0rkLD-4_57iwcWXA#C713S100000">713/100</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=33_VBgABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc713/defs713.htm&usg=AFQjCNFeqk7obddJAU0rkLD-4_57iwcWXA#C713S002000">713/2</a></span></td></tr><tr><td class="patent-data-table-td ">International Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=33_VBgABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G06F0015177000">G06F15/177</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=33_VBgABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G06F0001260000">G06F1/26</a></span></td></tr><tr><td class="patent-data-table-td ">Cooperative Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=33_VBgABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06F13/16">G06F13/16</a></span></td></tr><tr><td class="patent-data-table-td ">European Classification</td><td class="patent-data-table-td "><span class="nested-value">G06F13/16</span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">Legal Events</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Date</th><th class="patent-data-table-th">Code</th><th class="patent-data-table-th">Event</th><th class="patent-data-table-th">Description</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">Oct 15, 2013</td><td class="patent-data-table-td ">CC</td><td class="patent-data-table-td ">Certificate of correction</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">Sep 4, 2012</td><td class="patent-data-table-td ">B1</td><td class="patent-data-table-td ">Reexamination certificate first reexamination</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">THE PATENTABILITY OF CLAIMS 1-23 IS CONFIRMED. NEW CLAIMS 24-213 ARE ADDED AND DETERMINED TO BE PATENTABLE.</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Aug 9, 2011</td><td class="patent-data-table-td ">RR</td><td class="patent-data-table-td ">Request for reexamination filed</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20110621</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Dec 18, 2007</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">STANDARD MICROSYSTEMS CORPORATION, NEW YORK</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:HARRIS, IAN F.;DUTTON, DREW J.;REEL/FRAME:020262/0609;SIGNING DATES FROM 20071205 TO 20071211</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:HARRIS, IAN F.;DUTTON, DREW J.;SIGNING DATES FROM 20071205 TO 20071211;REEL/FRAME:020262/0609</span></div></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">Rotate</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">Original Image</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " Image not available"});</script></div></div></div></td></tr></table><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_8a2b04e7bf975d5171d8e4c0b6365c7a.js", Host:"http://www.google.com/", IsBooksRentalEnabled:1, IsWebstoreDisplayCaseEnabled:1, IsObfuscationEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsGeoLayerEnabled:1, IsImageModeNotesEnabled:1, IsCopyMenuItemEnabled:1, IsGiftingEnabled:0, IsWebReaderUniversalPaginatorEnabled:0, IsOfflineBubbleEnabled:1, IsReaderEnabledForPlayRequests:1, IsFutureOnSaleVolumesEnabled:1, IsOfflineRestrictedCopyEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsRestrictedCopyEnabled:1, IsZipitFolderCollectionEnabled:1, IsEndOfSampleRecommendationsEnabled:1, IsRatingsOnBookcardsEnabled:1, IsAdsDisabled:0, IsIframePageDisplayEnabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:0, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsPreOrdersEnabled:0, IsDisabledRandomBookshelves:0, WebstoreDisplayCasePosition:3});_OC_Run({"enable_p13n":false,"add_vol_to_collection_base_url":"http://www.google.com/patents?op=add\u0026sig=ACfU3U0z3IUt9tAX4uPJFk1YD_8GhrKVgQ\u0026id=33_VBgABERAJ","remove_vol_from_collection_base_url":"http://www.google.com/patents?op=remove\u0026sig=ACfU3U3mvQyRHsPZuhUA73vt7GnMKBXHxw\u0026id=33_VBgABERAJ","logged_in":false,"p13n_save_user_settings_url":"http://www.google.com/patents?op=edit_user_settings\u0026sig=ACfU3U1eOyM0G6y2Mzn8V0qpUcq6QUxR-A","is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=http://www.google.com/patents%3Fhl%3Den\u0026hl=en","is_play_enabled":true}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"http://www.google.com/patents/download/Sharing_non_sharable_devices_between_an.pdf?id=33_VBgABERAJ\u0026output=pdf\u0026sig=ACfU3U3NFLMzbRoFc9vmSmThy_SQ1r0svg"},"sample_url":"http://www.google.com/patents/reader?id=33_VBgABERAJ\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href=http://www.google.com/><nobr>Google&nbsp;Home</nobr></a> - <a href=//www.google.com/patents/sitemap/><nobr>Sitemap</nobr></a> - <a href=http://www.google.com/googlebooks/uspto.html><nobr>USPTO Bulk Downloads</nobr></a> - <a href=/intl/en/privacy/><nobr>Privacy Policy</nobr></a> - <a href=/intl/en/policies/terms/><nobr>Terms of Service</nobr></a> - <a href=https://support.google.com/faqs/answer/2539193?hl=en><nobr>About Google Patents</nobr></a> - <a href="http://www.google.com/tools/feedback/intl/en/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'en'});return false;}catch(e){}"><nobr>Send Feedback</nobr></a></div><span>Data provided by IFI CLAIMS Patent Services</span><br><span >&copy;2012 Google</span></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>