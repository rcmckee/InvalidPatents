<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html><head><title>Patent US6995940 - Systems for WORF improvement in conditional servowriting - Google Patents</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_8a2b04e7bf975d5171d8e4c0b6365c7a/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_8a2b04e7bf975d5171d8e4c0b6365c7a__en.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "en",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="Systems for WORF improvement in conditional servowriting"><meta name="DC.contributor" content="Richard M. Ehrlich" scheme="inventor"><meta name="DC.contributor" content="Matsushita Electric Industrial Co., Ltd." scheme="assignee"><meta name="DC.date" content="2004-7-22" scheme="dateSubmitted"><meta name="DC.description" content="To account for head misplacement while servowriting, conditional writing and/or trimming of servo information can be used. Conditional servowriting allows servowriting to be disabled when it is determined that servo information will not be written and/or trimmed at a desired location or within a threshold distance of a desired location. For example, if a distance between a write element or a predicted location of servo information and a desired location of the servo information or write element exceeds a threshold, writing and/or trimming can be inhibited. Servowriting can be resumed when it is determined that servo information will be written or trimmed at a desired location or within a threshold distance of a desired location. A servowriting step or pass is not re-started when the threshold is exceeded and those wedges for which servo information was not written and/or trimmed can be attempted during subsequent revolutions of the rotatable storage medium. Various methods can also be used to account for servo information that is not written and/or trimmed after a number of revolutions, including increasing threshold(s), writing and/or trimming unconditionally, and re-computing WORF values for a reference disk. Additionally, other techniques including write current variation and individual passes for writing and trimming can be used with various embodiments using conditional writing techniques."><meta name="DC.date" content="2006-2-7" scheme="issued"><meta name="DC.relation" content="US:6061200" scheme="references"><meta name="DC.relation" content="US:6069764" scheme="references"><meta name="DC.relation" content="US:6437936" scheme="references"><meta name="DC.relation" content="US:6449116" scheme="references"><meta name="DC.relation" content="US:6563663" scheme="references"><meta name="DC.relation" content="US:6657805" scheme="references"><meta name="DC.relation" content="US:6710953" scheme="references"><meta name="citation_patent_number" content="US:6995940"><meta name="citation_patent_application_number" content="US:10/897,319"><link rel="canonical" href="http://www.google.com/patents/US6995940"/><meta property="og:url" content="http://www.google.com/patents/US6995940"/><meta name="title" content="Patent US6995940 - Systems for WORF improvement in conditional servowriting"/><meta name="description" content="To account for head misplacement while servowriting, conditional writing and/or trimming of servo information can be used. Conditional servowriting allows servowriting to be disabled when it is determined that servo information will not be written and/or trimmed at a desired location or within a threshold distance of a desired location. For example, if a distance between a write element or a predicted location of servo information and a desired location of the servo information or write element exceeds a threshold, writing and/or trimming can be inhibited. Servowriting can be resumed when it is determined that servo information will be written or trimmed at a desired location or within a threshold distance of a desired location. A servowriting step or pass is not re-started when the threshold is exceeded and those wedges for which servo information was not written and/or trimmed can be attempted during subsequent revolutions of the rotatable storage medium. Various methods can also be used to account for servo information that is not written and/or trimmed after a number of revolutions, including increasing threshold(s), writing and/or trimming unconditionally, and re-computing WORF values for a reference disk. Additionally, other techniques including write current variation and individual passes for writing and trimming can be used with various embodiments using conditional writing techniques."/><meta property="og:title" content="Patent US6995940 - Systems for WORF improvement in conditional servowriting"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>(function(){try{var aa=function(a,b,c,d){d=d||{};d._sn=["cfg",b,c].join(".");window.gbar.logger.ml(a,d)};var g=window.gbar=window.gbar||{},l=window.gbar.i=window.gbar.i||{},m={},n;function _tvn(a,b){var c=parseInt(a,10);return isNaN(c)?b:c}function _tvf(a,b){var c=parseFloat(a);return isNaN(c)?b:c}function _tvv(a){return!!a}function p(a,b,c){(c||g)[a]=b}g.bv={n:_tvn("2",0),r:"",f:".67.",e:"0",m:_tvn("0",1)};
function q(a,b,c){var d="on"+b;if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent(d,c);else{var f=a[d];a[d]=function(){var a=f.apply(this,arguments),b=c.apply(this,arguments);return void 0==a?b:void 0==b?a:b&&a}}}var s=function(a){return function(){return g.bv.m==a}},ba=s(1),ca=s(2);p("sb",ba);p("kn",ca);l.a=_tvv;l.b=_tvf;l.c=_tvn;l.i=aa;var da=window.gbar.i.i;var t,u,v,w;function ea(a){v=a}function fa(a){var b;if(b=v&&window.encodeURIComponent)b=a.href,b=!b.match(/^http[s]?:\/\/accounts\.google\.[^/]*\/ClearSID/i)&&!b.match(/^http[s]?:\/\/[^/]*\/accounts\/ClearSID/i);if(b=b&&encodeURIComponent(v()))a.href=a.href.replace(/([?&]continue=)[^&]*/,"$1"+b)}function ga(a){window.gApplication&&(a.href=window.gApplication.getTabUrl(a.href))}
function ha(a){var b=document.forms[0].q,c=window.encodeURIComponent&&b&&b.value,b=b&&b.placeholder;c&&c!=b&&(a.href=a.href.replace(/([?&])q=[^&]*|$/,function(a,b){return(b||"&")+"q="+encodeURIComponent(c)}))}n=l.a("")?ga:ha;
function x(a,b,c,d,f,e){var h=document.getElementById(a);if(h){var k=h.style;k.left=d?"auto":b+"px";k.right=d?b+"px":"auto";k.top=c+"px";k.visibility=u?"hidden":"visible";f&&e?(k.width=f+"px",k.height=e+"px"):(x(t,b,c,d,h.offsetWidth,h.offsetHeight),u=u?"":a)}}
var y=[],ia=function(a,b){y.push(b)},ja=function(a){a=a||window.event;var b=a.target||a.srcElement;a.cancelBubble=!0;null==t&&(a=document.createElement(Array.every||window.createPopup?"iframe":"div"),a.frameBorder="0",t=a.id="gbs",a.src="javascript:''",b.parentNode.appendChild(a),q(document,"click",z));var c=b,b=0;"gb3"!=c.className&&(c=c.parentNode);a=c.getAttribute("aria-owns")||"gbi";var d=c.offsetWidth,f=20<c.offsetTop?46:24;document.getElementById("tphdr")&&(f-=3);var e=!1;do b+=c.offsetLeft||
0;while(c=c.offsetParent);var c=(document.documentElement.clientWidth||document.body.clientWidth)-b-d,h,d=document.body,k=document.defaultView;k&&k.getComputedStyle?(d=k.getComputedStyle(d,""))&&(h=d.direction):h=d.currentStyle?d.currentStyle.direction:d.style.direction;h="rtl"==h;if("gbi"==a){for(d=0;k=y[d++];)k();A(null,window.navExtra);h&&(b=c,e=!0)}else h||(b=c,e=!0);u!=a&&z();x(a,b,f,e)},z=function(){u&&x(u,0,0)},A=function(a,b){var c,d=document.getElementById("gbi"),f=a;f||(f=d.firstChild);
for(;b&&(c=b.pop());){var e=d,h=c,k=f;w||(w="gb2");e.insertBefore(h,k).className=w}},ka=function(a,b,c){if((b=document.getElementById(b))&&a){a.className="gb4";var d=document.createElement("span");d.appendChild(a);d.appendChild(document.createTextNode(" | "));d.id=c;b.appendChild(d)}},la=function(){return document.getElementById("gb_70")},ma=function(){return!!u};p("qs",n);p("setContinueCb",ea);p("pc",fa);p("tg",ja);p("close",z);p("addLink",ka);p("almm",A);p("si",la);p("adh",ia);p("op",ma);var B=function(){},C=function(){},F=function(a){var b=new Image,c=D;b.onerror=b.onload=b.onabort=function(){try{delete E[c]}catch(a){}};E[c]=b;b.src=a;D=c+1},E=[],D=0;p("logger",{il:C,ml:B,log:F});var G=window.gbar.logger;var H={},na={},I=[],oa=l.b("0.1",.1),pa=l.a("1",!0),qa=function(a,b){I.push([a,b])},ra=function(a,b){H[a]=b},sa=function(a){return a in H},J={},K=function(a,b){J[a]||(J[a]=[]);J[a].push(b)},ta=function(a){K("m",a)},L=function(a,b){var c=document.createElement("script");c.src=a;c.async=pa;Math.random()<oa&&(c.onerror=function(){c.onerror=null;B(Error("Bundle load failed: name="+(b||"UNK")+" url="+a))});(document.getElementById("xjsc")||document.getElementsByTagName("body")[0]||
document.getElementsByTagName("head")[0]).appendChild(c)},N=function(a){for(var b=0,c;(c=I[b])&&c[0]!=a;++b);!c||c[1].l||c[1].s||(c[1].s=!0,M(2,a),c[1].url&&L(c[1].url,a),c[1].libs&&m.d&&m.d(c[1].libs))},O=function(a){K("gc",a)},P=null,ua=function(a){P=a},M=function(a,b,c){if(P){a={t:a,b:b};if(c)for(var d in c)a[d]=c[d];try{P(a)}catch(f){}}};p("mdc",H);p("mdi",na);p("bnc",I);p("qGC",O);p("qm",ta);p("qd",J);p("lb",N);p("mcf",ra);p("bcf",qa);p("aq",K);p("mdd","");p("has",sa);
p("trh",ua);p("tev",M);var Q=l.b("0.1",.001),R=0;
function _mlToken(a,b){try{if(1>R){R++;var c,d=a,f=b||{},e=encodeURIComponent,h=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&jexpid=",e("17483"),"&srcpg=",e("prop=22"),"&jsr=",Math.round(1/Q),"&ogev=",e("ao_tU4jMLuS5sQTk8YLwAg"),"&ogf=",g.bv.f,"&ogrp=",e("1"),"&ogv=",e("1407723702.0"),"&oggv="+e("es_plusone_gc_20140723.0_p0"),"&ogd=",e("com"),"&ogc=",e("USA"),"&ogl=",e("en")];f._sn&&(f._sn="og."+
f._sn);for(var k in f)h.push("&"),h.push(e(k)),h.push("="),h.push(e(f[k]));h.push("&emsg=");h.push(e(d.name+":"+d.message));var r=h.join("");S(r)&&(r=r.substr(0,2E3));c=r;var Aa=window.gbar.logger._aem(a,c);F(Aa)}}catch(Na){}}var S=function(a){return 2E3<=a.length},va=function(a,b){return b};function T(a){B=a;p("_itl",S,G);p("_aem",va,G);p("ml",B,G);a={};H.er=a}l.a("")?T(function(a){throw a;}):l.a("1")&&Math.random()<Q&&T(_mlToken);I.push(["m",{url:"//ssl.gstatic.com/gb/js/scm_7385cc5883250b43a39405734c1bea59.js"}]);g.mcf("c",{});g.sg={c:""};if(l.a("1")){var wa=l.a("");I.push(["gc",{auto:wa,url:"//ssl.gstatic.com/gb/js/abc/gci_91f30755d6a6b787dcc2a4062e6e9824.js",libs:"googleapis.client:plusone:gapi.iframes"}]);var xa={version:"gci_91f30755d6a6b787dcc2a4062e6e9824.js",index:"",lang:"en"};H.gc=xa;var U=function(a){window.googleapis&&window.iframes?a&&a():(a&&O(a),N("gc"))};p("lGC",U);l.a("1")&&p("lPWF",U)};window.__PVT="";if(l.a("1")&&l.a("1")){var V=function(a){U(function(){K("pw",a);N("pw")})};p("lPW",V);I.push(["pw",{url:"//ssl.gstatic.com/gb/js/abc/pwm_45f73e4df07a0e388b0fa1f3d30e7280.js"}]);var W=[],ya=function(a){W[0]=a},za=function(a,b){var c=b||{};c._sn="pw";B(a,c)},Ba={signed:W,elog:za,base:"https://plusone.google.com/u/0",loadTime:(new Date).getTime()};H.pw=Ba;var X=function(a,b){for(var c=b.split("."),d=function(){var b=arguments;a(function(){for(var a=g,d=0,e=c.length-1;d<e;++d)a=a[c[d]];a[c[d]].apply(a,b)})},f=g,e=0,h=c.length-1;e<h;++e)f=
f[c[e]]=f[c[e]]||{};return f[c[e]]=d};X(V,"pw.clk");X(V,"pw.hvr");p("su",ya,g.pw)};function Ca(){function a(){for(var b;(b=e[h++])&&"m"!=b[0]&&!b[1].auto;);b&&(M(2,b[0]),b[1].url&&L(b[1].url,b[0]),b[1].libs&&m.d&&m.d(b[1].libs));h<e.length&&setTimeout(a,0)}function b(){0<f--?setTimeout(b,0):a()}var c=l.a("1"),d=l.a(""),f=3,e=I,h=0,k=window.gbarOnReady;if(k)try{k()}catch(r){da(r,"ml","or")}d?p("ldb",a):c?q(window,"load",b):b()}p("rdl",Ca);var Da={D:1,H:2,da:3,p:4,W:5,M:6,F:7,g:8,ha:9,U:10,L:11,T:12,S:13,N:14,Q:15,P:16,fa:17,w:18,O:19,ga:20,ea:21,u:22,G:23,ja:24,ka:25,ia:26,A:27,j:28,o:29,k:30,ca:31,Z:32,$:33,J:34,K:35,ba:36,aa:37,Y:38,B:39,R:40,v:41,X:42,V:43,h:48,C:49,I:500},Y=[1,2,3,4,5,6,9,10,11,13,14,28,29,30,34,35,37,38,39,40,41,42,43,48,49,500];var Z=l.b("0.001",1E-4),Ea=l.b("1",1),Fa=!1,Ga=!1;if(l.a("1")){var Ha=Math.random();Ha<=Z&&(Fa=!0);Ha<=Ea&&(Ga=!0)}var Ia=Da,$=null;function Ja(){var a=0,b=function(b,d){l.a(d)&&(a|=b)};b(1,"");b(2,"");b(4,"");b(8,"");return a}
function Ka(a,b){var c=Z,d=Fa,f;f=a;if(!$){$={};for(var e=0;e<Y.length;e++){var h=Y[e];$[h]=!0}}if(f=!!$[f])c=Ea,d=Ga;if(d){d=encodeURIComponent;g.rp?(f=g.rp(),f="-1"!=f?f:"1"):f="1";c=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&oge=",a,"&ogex=",d("17483"),"&ogev=",d("ao_tU4jMLuS5sQTk8YLwAg"),"&ogf=",g.bv.f,"&ogp=",d("22"),"&ogrp=",d(f),"&ogsr=",Math.round(1/c),"&ogv=",d("1407723702.0"),"&oggv="+
d("es_plusone_gc_20140723.0_p0"),"&ogd=",d("com"),"&ogl=",d("en"),"&ogc=",d("USA"),"&ogus=",Ja()];if(b){"ogw"in b&&(c.push("&ogw="+b.ogw),delete b.ogw);var k;f=b;e=[];for(k in f)0!=e.length&&e.push(","),e.push(La(k)),e.push("."),e.push(La(f[k]));k=e.join("");""!=k&&(c.push("&ogad="),c.push(d(k)))}F(c.join(""))}}function La(a){"number"==typeof a&&(a+="");return"string"==typeof a?a.replace(".","%2E").replace(",","%2C"):a}C=Ka;p("il",C,G);var Ma={};H.il=Ma;setTimeout(function(){C(Ia.g)},0);}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var b=window.gbar.i.i;var c=window.gbar;var f=function(d){try{var a=document.getElementById("gbom");a&&d.appendChild(a.cloneNode(!0))}catch(e){b(e,"omas","aomc")}};c.aomc=f;}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var a=window.gbar;a.mcf("pm",{p:""});}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{window.gbar.rdl();}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{float:left;height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}#gbs,.gbm{background:#fff;left:0;position:absolute;text-align:left;visibility:hidden;z-index:1000}.gbm{border:1px solid;border-color:#c9d7f1 #36c #36c #a2bae7;z-index:1001}.gb1{margin-right:.5em}.gb1,.gb3{zoom:1}.gb2{display:block;padding:.2em .5em}.gb2,.gb3{text-decoration:none !important;border-bottom:none}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb2,a.gb3,a.gb4{color:#00c !important}.gbi .gb3,.gbi .gb2,.gbi .gb4{color:#dd8e27 !important}.gbf .gb3,.gbf .gb2,.gbf .gb4{color:#900 !important}a.gb2:hover{background:#36c;color:#fff !important}#gbar .gbz0l{color:#000 !important;cursor:default;font-weight:bold;text-decoration:none !important}
#gbar { padding:.3em .6em !important;}</style></head><body  topmargin="3" marginheight="3"><div id=gbar><nobr><a onclick=gbar.qs(this);gbar.logger.il(1,{t:1}); class=gb1 id=gb_1 href="https://www.google.com/search?sa=N&tab=tw">Search</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:2}); class=gb1 id=gb_2 href="http://www.google.com/search?hl=en&tbm=isch&source=og&sa=N&tab=ti">Images</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:8}); class=gb1 id=gb_8 href="http://maps.google.com/maps?hl=en&sa=N&tab=tl">Maps</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:78}); class=gb1 id=gb_78 href="https://play.google.com/?hl=en&sa=N&tab=t8">Play</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:36}); class=gb1 id=gb_36 href="http://www.youtube.com/results?sa=N&tab=t1">YouTube</a> <a onclick=gbar.logger.il(1,{t:5}); class=gb1 id=gb_5 href="http://news.google.com/nwshp?hl=en&tab=tn">News</a> <a onclick=gbar.logger.il(1,{t:23}); class=gb1 id=gb_23 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a onclick=gbar.logger.il(1,{t:25}); class=gb1 id=gb_25 href="https://drive.google.com/?tab=to">Drive</a> <a class=gb3 href="http://www.google.com/intl/en/options/" onclick="this.blur();gbar.tg(event);return !1" aria-haspopup=true><u>More</u> <small>&#9660;</small></a><div class=gbm id=gbi><a onclick=gbar.logger.il(1,{t:24}); class=gb2 id=gb_24 href="https://www.google.com/calendar?tab=tc">Calendar</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:51}); class=gb2 id=gb_51 href="http://translate.google.com/?hl=en&sa=N&tab=tT">Translate</a><a onclick=gbar.logger.il(1,{t:17}); class=gb2 id=gb_17 href="http://www.google.com/mobile/?hl=en&tab=tD">Mobile</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:10}); class=gb2 id=gb_10 href="http://www.google.com/search?hl=en&tbo=u&tbm=bks&source=og&sa=N&tab=tp">Books</a><a onclick=gbar.logger.il(1,{t:212}); class=gb2 id=gb_212 href="https://wallet.google.com/manage/?tab=ta">Wallet</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:6}); class=gb2 id=gb_6 href="http://www.google.com/search?hl=en&tbo=u&tbm=shop&source=og&sa=N&tab=tf">Shopping</a><a onclick=gbar.logger.il(1,{t:30}); class=gb2 id=gb_30 href="http://www.blogger.com/?tab=tj">Blogger</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:27}); class=gb2 id=gb_27 href="http://www.google.com/finance?sa=N&tab=te">Finance</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:31}); class=gb2 id=gb_31 href="https://plus.google.com/photos?sa=N&tab=tq">Photos</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:12}); class=gb2 id=gb_12 href="http://www.google.com/search?hl=en&tbo=u&tbm=vid&source=og&sa=N&tab=tv">Videos</a><div class=gb2><div class=gbd></div></div><a onclick=gbar.logger.il(1,{t:66}); href="http://www.google.com/intl/en/options/" class=gb2>Even more &raquo;</a></div></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=http://www.google.com/patents%3Fhl%3Den&hl=en" class=gb4>Sign in</a><div style="display: none"><div class=gbm id=gbd5 aria-owner=gbg5><div class=gbmc><ol id=gbom class=gbmcc></ol></div></div></div></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="http://www.google.com/patents/us6995940?hl=en&amp;output=html_text" title="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."><img border="0" src="http://www.google.com/images/cleardot.gif"alt="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."></a></div><div id="guser"><nobr></nobr></div><div style="clear:both;"></div><div id="gb-top-search-box" class="gb-top-search-box-small gb-reset"><table><tr><td class="logo"><a href="http://www.google.com/patents" class="logo-link"><img class="logo-img" src="/intl/en/images/logos/google_logo_41.png" alt="Go to Google Books Home" height="41"/></a></td><td><form action="http://www.google.com/search" name="f" id="vheadf" method="get"><span id="hf"></span><input type="hidden" name="tbm" value="pts"/><input type="hidden" name="tbo" value="1"/><input type="hidden" name="hl" value="en"/><table><tr><td><div class="inputs"><table><tr><td><div class="text-input"><input type="text" name="q" id="vheadq" class="text" maxlength="2048" size="31" value="" title="Search Patents" accesskey="s" autocomplete="off"/><script>window._OC_autoDir &&window._OC_autoDir('vheadq', 'tia-vheadq');</script></div></td><td><div class="submit-input"><input name="btnG" class="submit" type="submit" value=""/></div></td></tr></table></div></td><td class="col-ext-links"><div class="ext-links"><a href="http://www.google.com/advanced_patent_search">&lt;nobr&gt;Advanced Patent Search&lt;/nobr&gt;</a></div></td></tr></table></form></td></tr></table></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents">Patents</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/US6995940"></a><a id="appbar-patents-discuss-this-link" href="http://www.google.com/url?id=tDlxBAABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpatent%3DUS6995940&amp;usg=AFQjCNGVRBzbygg1oi__5vaIb0BbIM3eOg" data-is-grant="true"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/US6995940.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/US6995940.pdf"></a><a class="appbar-application-grant-link" data-label="Application" href="/patents/US20050237659"></a><a class="appbar-application-grant-link" data-selected="true" data-label="Grant" href="/patents/US6995940"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="http://www.google.com/patents/US6995940" style="display:none"><span itemprop="description">To account for head misplacement while servowriting, conditional writing and/or trimming of servo information can be used. Conditional servowriting allows servowriting to be disabled when it is determined that servo information will not be written and/or trimmed at a desired location or within a threshold...</span><span itemprop="url">http://www.google.com/patents/US6995940?utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">Patent US6995940 - Systems for WORF improvement in conditional servowriting</span><img itemprop="image" src="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="Patent US6995940 - Systems for WORF improvement in conditional servowriting" title="Patent US6995940 - Systems for WORF improvement in conditional servowriting"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="http://www.google.com/advanced_patent_search">Advanced Patent Search</a></li></ol></div><table id="viewport_table" cellpadding="0" style="clear:both" cellspacing="0"><tr><td id="viewport_td"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata"><tr><td class="patent-bibdata-heading">Publication number</td><td class="single-patent-bibdata">US6995940 B2</td></tr><tr><td class="patent-bibdata-heading">Publication type</td><td class="single-patent-bibdata">Grant</td></tr><tr><td class="patent-bibdata-heading">Application number</td><td class="single-patent-bibdata">US 10/897,319</td></tr><tr><td class="patent-bibdata-heading">Publication date</td><td class="single-patent-bibdata">Feb 7, 2006</td></tr><tr><td class="patent-bibdata-heading">Filing date</td><td class="single-patent-bibdata">Jul 22, 2004</td></tr><tr><td class="patent-bibdata-heading">Priority date<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="The priority date is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the date listed."></span></td><td class="single-patent-bibdata">Jul 22, 2003</td></tr><tr><td class="patent-bibdata-heading">Fee status<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="The fee status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status or dates listed."></span></td><td class="single-patent-bibdata">Paid</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Also published as</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/US20050237659">US20050237659</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading">Publication number</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">10897319, </span><span class="patent-bibdata-value">897319, </span><span class="patent-bibdata-value">US 6995940 B2, </span><span class="patent-bibdata-value">US 6995940B2, </span><span class="patent-bibdata-value">US-B2-6995940, </span><span class="patent-bibdata-value">US6995940 B2, </span><span class="patent-bibdata-value">US6995940B2</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Inventors</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Richard+M.+Ehrlich%22">Richard M. Ehrlich</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Original Assignee</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=inassignee:%22Matsushita+Electric+Industrial+Co.,+Ltd.%22">Matsushita Electric Industrial Co., Ltd.</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Export Citation</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/US6995940.bibtex">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/US6995940.enw">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/US6995940.ris">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">Patent Citations</a> (7),</span> <span class="patent-bibdata-value"><a href="#forward-citations">Referenced by</a> (2),</span> <span class="patent-bibdata-value"><a href="#classifications">Classifications</a> (10),</span> <span class="patent-bibdata-value"><a href="#legal-events">Legal Events</a> (8)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">External Links:&nbsp;</span><span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=tDlxBAABERAJ&q=http://patft.uspto.gov/netacgi/nph-Parser%3FSect2%3DPTO1%26Sect2%3DHITOFF%26p%3D1%26u%3D/netahtml/PTO/search-bool.html%26r%3D1%26f%3DG%26l%3D50%26d%3DPALL%26RefSrch%3Dyes%26Query%3DPN/6995940&usg=AFQjCNFdUbmmRVgwt1ToxNV0lGoBPg8uMA">USPTO</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=tDlxBAABERAJ&q=http://assignments.uspto.gov/assignments/q%3Fdb%3Dpat%26pat%3D6995940&usg=AFQjCNG1LK-xY4d6Vm2Ikdqjr1tGoIbdoA">USPTO Assignment</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=tDlxBAABERAJ&q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DUS%26NR%3D6995940B2%26KC%3DB2%26FT%3DD&usg=AFQjCNETWF5XfCN3LYoI4TC_byzYi-E8wA">Espacenet</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT55527852" lang="EN" load-source="patent-office">Systems for WORF improvement in conditional servowriting</invention-title></span><br><span class="patent-number">US 6995940 B2</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title">Abstract</span></div><div class="patent-text"><abstract mxw-id="PA50926410" lang="EN" load-source="patent-office"> <div num="p-0001" class="abstract">To account for head misplacement while servowriting, conditional writing and/or trimming of servo information can be used. Conditional servowriting allows servowriting to be disabled when it is determined that servo information will not be written and/or trimmed at a desired location or within a threshold distance of a desired location. For example, if a distance between a write element or a predicted location of servo information and a desired location of the servo information or write element exceeds a threshold, writing and/or trimming can be inhibited. Servowriting can be resumed when it is determined that servo information will be written or trimmed at a desired location or within a threshold distance of a desired location. A servowriting step or pass is not re-started when the threshold is exceeded and those wedges for which servo information was not written and/or trimmed can be attempted during subsequent revolutions of the rotatable storage medium. Various methods can also be used to account for servo information that is not written and/or trimmed after a number of revolutions, including increasing threshold(s), writing and/or trimming unconditionally, and re-computing WORF values for a reference disk. Additionally, other techniques including write current variation and individual passes for writing and trimming can be used with various embodiments using conditional writing techniques.</div>
  </abstract></div></div><div class="patent-section patent-drawings-section"><div class="patent-section-header"><span class="patent-section-title">Images<span class="patent-section-count">(15)</span></span></div><div class="patent-drawings-body"><div class="patent-drawings-carousel"><div class="drawings"><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6995940B2/US06995940-20060207-D00000.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6995940B2/US06995940-20060207-D00000.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6995940B2/US06995940-20060207-D00001.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6995940B2/US06995940-20060207-D00001.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6995940B2/US06995940-20060207-D00002.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6995940B2/US06995940-20060207-D00002.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6995940B2/US06995940-20060207-D00003.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6995940B2/US06995940-20060207-D00003.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6995940B2/US06995940-20060207-D00004.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6995940B2/US06995940-20060207-D00004.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6995940B2/US06995940-20060207-D00005.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6995940B2/US06995940-20060207-D00005.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6995940B2/US06995940-20060207-D00006.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6995940B2/US06995940-20060207-D00006.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6995940B2/US06995940-20060207-D00007.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6995940B2/US06995940-20060207-D00007.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6995940B2/US06995940-20060207-D00008.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6995940B2/US06995940-20060207-D00008.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6995940B2/US06995940-20060207-D00009.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6995940B2/US06995940-20060207-D00009.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6995940B2/US06995940-20060207-D00010.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6995940B2/US06995940-20060207-D00010.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6995940B2/US06995940-20060207-D00011.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6995940B2/US06995940-20060207-D00011.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6995940B2/US06995940-20060207-D00012.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6995940B2/US06995940-20060207-D00012.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6995940B2/US06995940-20060207-D00013.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6995940B2/US06995940-20060207-D00013.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6995940B2/US06995940-20060207-D00014.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6995940B2/US06995940-20060207-D00014.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div></div></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img" alt="Previous page"src="/googlebooks/images/kennedy/page_left.png"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img" alt="Next page"src="/googlebooks/images/kennedy/page_right.png"width="21" height="21" /></div></div></div><div class="patent-post-drawings"></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">Claims<span class="patent-section-count">(37)</span></span></div><div class="patent-text"><div mxw-id="PCLM8956868" lang="EN" load-source="patent-office" class="claims">
  <div class="claim"> <div id="CLM-00001" num="00001" class="claim">
    <div class="claim-text">1. A system to write a target track of servo information to a rotatable storage medium using a reference track of servo information, comprising:
<div class="claim-text">a write element adapted to write servo information to the rotatable storage medium;</div>
<div class="claim-text">a control mechanism adapted to control writing of servo information to the rotatable storage medium, the control mechanism to:</div>
<div class="claim-text">enable writing of servo information to the target track of the rotatable storage medium by the write element during one or more revolutions of the rotatable storage medium, wherein writing servo information is inhibited when a location of the write element is not within a first threshold distance of a desired location, and wherein writing servo information is resumed after the location of the write element is determined to be within a second threshold distance;</div>
<div class="claim-text">determine WORF data from the reference track of servo information during the one or more revolutions; and</div>
<div class="claim-text">enable writing of servo information not written to the target track during the one or more revolutions during a subsequent revolution using the WORF data.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00002" num="00002" class="claim">
    <div class="claim-text">2. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein first and second threshold distance are the same.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00003" num="00003" class="claim">
    <div class="claim-text">3. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein first and second threshold distance are different.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00004" num="00004" class="claim">
    <div class="claim-text">4. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the location is a predicted location.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00005" num="00005" class="claim">
    <div class="claim-text">5. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, where the location is a measured location.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00006" num="00006" class="claim">
    <div class="claim-text">6. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the reference track of servo information is located on the rotatable storage medium.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00007" num="00007" class="claim">
    <div class="claim-text">7. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the reference track of servo information includes a plurality of servo wedges and wherein the control mechanism determines WORF data for each of the servo wedges.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00008" num="00008" class="claim">
    <div class="claim-text">8. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control mechanism determines WORF data from the reference track by determining position information as a read element reads the reference track of servo information during the one or more revolutions.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00009" num="00009" class="claim">
    <div class="claim-text">9. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control mechanism determines WORF data from the reference track by combining position information determined as a read element reads the reference track of servo information during the one or more revolutions with WORF data determined prior to the one or more revolutions.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00010" num="00010" class="claim">
    <div class="claim-text">10. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein writing of servo information includes at least one of writing servo information and trimming servo information.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00011" num="00011" class="claim">
    <div class="claim-text">11. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control mechanism is further to:
<div class="claim-text">write to memory an indication of servo information that was written to the target track during the one or more revolutions.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00012" num="00012" class="claim">
    <div class="claim-text">12. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control mechanism is further to:
<div class="claim-text">increase the second threshold distance when the target track of servo information is not written after a number of revolutions of the rotatable storage medium.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00013" num="00013" class="claim">
    <div class="claim-text">13. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control mechanism is further to:
<div class="claim-text">increase the first threshold distance when the target track of servo information is not written after a number of revolutions of the rotatable storage medium.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00014" num="00014" class="claim">
    <div class="claim-text">14. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control mechanism includes at least one of a disk controller, a microprocessor, and a servo controller.</div>
  </div>
  </div> <div class="claim"> <div id="CLM-00015" num="00015" class="claim">
    <div class="claim-text">15. A system to write a target track of servo information to a rotatable storage medium having a plurality of servo wedges, comprising:
<div class="claim-text">a reference track of servo information;</div>
<div class="claim-text">a head adapted to read the reference track of servo information;</div>
<div class="claim-text">a write element adapted to write servo information to the rotatable storage medium using the reference track of servo information;</div>
<div class="claim-text">a control mechanism adapted to control writing of servo information to the rotatable storage medium, the control mechanism to:</div>
<div class="claim-text">determine a position error signal generated as the head reads the reference track of servo information;</div>
<div class="claim-text">inhibit writing of servo information to the target track by the write element during one or more revolutions of the rotatable storage medium when a value of the position error signal exceeds a first threshold value;</div>
<div class="claim-text">determine at least a second value of the position error signal during the one or more revolutions when writing is inhibited, wherein writing can be resumed during the one or more revolutions for the target track after the second value is within a second threshold value;</div>
<div class="claim-text">determine WORF data from the reference track of servo information during the one or more revolutions; and</div>
<div class="claim-text">enable writing of servo information not written to the target track during the one or more revolutions during a subsequent revolution using the WORF data.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00016" num="00016" class="claim">
    <div class="claim-text">16. The system of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein first and second threshold value are the same.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00017" num="00017" class="claim">
    <div class="claim-text">17. The system of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein first and second threshold value are different.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00018" num="00018" class="claim">
    <div class="claim-text">18. The system of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the control mechanism determines WORF data from the reference track of servo information by determining position information from the position error signal generated as the read element reads the reference track of servo information during the one or more revolutions.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00019" num="00019" class="claim">
    <div class="claim-text">19. The system of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the control mechanism determines WORF data from the reference track of servo information by combining position information determined from the position error signal generated as the read element reads the reference track of servo information during the one or more revolutions with WORF data determined prior to the one or more revolutions.</div>
  </div>
  </div> <div class="claim"> <div id="CLM-00020" num="00020" class="claim">
    <div class="claim-text">20. A system to write a target track of servo information to a rotatable storage medium having a plurality of servo wedges using a reference track of servo information, comprising:
<div class="claim-text">a write element adapted to write servo information to the rotatable storage medium;</div>
<div class="claim-text">a control mechanism adapted to control writing of servo information to the rotatable storage medium, the control mechanism to:</div>
<div class="claim-text">determine a first distance between a first location of the write element and a first desired write location during one or more revolutions of the rotatable storage medium;</div>
<div class="claim-text">inhibit writing of servo information for the target track during the one or more revolutions when the first distance exceeds a first threshold distance, wherein at least a second distance between a second location of the write element and a second desired write location is determined when writing is inhibited, whereby writing can be resumed for the target track when the second distance is within a second threshold distance;</div>
<div class="claim-text">determine WORF data from the reference track of servo information during the one or more revolutions; and</div>
<div class="claim-text">enable writing of servo information not written to the target track during the one or more revolutions during a subsequent revolution using the WORF data.</div>
</div>
  </div>
  </div> <div class="claim"> <div id="CLM-00021" num="00021" class="claim">
    <div class="claim-text">21. A system to servowrite a target track of a rotatable storage medium having a plurality of servo wedges using a reference track of servo information, comprising:
<div class="claim-text">a write element adapted to write servo information to the rotatable storage medium;</div>
<div class="claim-text">a control mechanism adapted to control writing of servo information to the rotatable storage medium, the control mechanism to:</div>
<div class="claim-text">determine a distance between a desired location of servo information for each of the servo wedges and a location of the write element during one or more revolutions of the rotatable storage medium;</div>
<div class="claim-text">determine whether the distance is greater than a threshold distance;</div>
<div class="claim-text">inhibit writing of servo information for each of the servo wedges for which the distance is greater than the threshold distance during the one or more revolutions;
<div class="claim-text">determine WORF data from the reference track of servo information during the one or more revolutions;</div>
</div>
<div class="claim-text">enable writing of servo information for each of the servo wedges for which writing was inhibited during the one or more revolutions during a subsequent revolution using the WORF data.</div>
</div>
  </div>
  </div> <div class="claim"> <div id="CLM-00022" num="00022" class="claim">
    <div class="claim-text">22. A system to servowrite a rotatable storage medium having a plurality of servo wedges using a reference track of servo information, comprising:
<div class="claim-text">a write element adapted to write servo information to the rotatable storage medium;</div>
<div class="claim-text">a control mechanism adapted to control writing of servo information to the rotatable storage medium, the control mechanism, for each of the servo wedges, to:</div>
<div class="claim-text">determine a distance between a desired location of servo information to be written for the servo wedge and a location of the write element during one or more revolutions of the rotatable storage medium;</div>
<div class="claim-text">determine whether the distance is greater than a threshold distance;</div>
<div class="claim-text">inhibit writing of servo information for the servo wedge during the one or more revolutions when the distance is greater than the threshold distance;</div>
<div class="claim-text">determine WORF data from the reference track of servo information during the one or more revolutions; and</div>
<div class="claim-text">enable writing of servo information for the servo wedge during a subsequent revolution using the WORF data if writing servo information for the servo wedge was inhibited during the one or more revolutions.</div>
</div>
  </div>
  </div> <div class="claim"> <div id="CLM-00023" num="00023" class="claim">
    <div class="claim-text">23. A system to servowrite a target track of a rotatable storage medium having a plurality of servo wedges using a reference track of servo information, comprising:
<div class="claim-text">a write element adapted to write servo information to the rotatable storage medium;</div>
<div class="claim-text">a control mechanism adapted to control writing of servo information to the rotatable storage medium, the control mechanism to:</div>
<div class="claim-text">determine a distance between a desired location of servo information for each of the servo wedges at the target track and a location of the write element during one or more revolutions of the rotatable storage medium;</div>
<div class="claim-text">determine whether the distance is greater than a threshold distance;</div>
<div class="claim-text">inhibit writing of servo information for each of the servo wedges at the target track for which the distance is greater than the threshold distance during the one or more revolutions;</div>
<div class="claim-text">determine WORF data from the reference track of servo information during the one or more revolutions;</div>
<div class="claim-text">enable writing of servo information for each of the servo wedges at the target track for which writing was inhibited during the one or more revolutions during a subsequent revolution using the WORF data.</div>
</div>
  </div>
  </div> <div class="claim"> <div id="CLM-00024" num="00024" class="claim">
    <div class="claim-text">24. A system to servowrite a target track of a rotatable storage medium having a plurality of servo wedges using a reference track of servo information, comprising:
<div class="claim-text">a write element adapted to write servo information to the rotatable storage medium;</div>
<div class="claim-text">a control mechanism adapted to control writing of servo information to the rotatable storage medium, the control mechanism, for each of the servo wedges, to:</div>
<div class="claim-text">determine a distance between a desired location of servo information to be written for the servo wedge at the target track and a location of the write element during one or more revolutions of the rotatable storage medium;</div>
<div class="claim-text">determine whether the distance is greater than a threshold distance; and</div>
<div class="claim-text">inhibit writing of servo information to the servo wedge at the target track during the one or more revolutions when the distance is greater than the threshold distance;</div>
<div class="claim-text">determine WORF data from the reference track of servo information during the one or more revolutions; and</div>
<div class="claim-text">enable writing of servo information for the servo wedge at the target track during a subsequent revolution using the WORF data if writing servo information for the servo wedge was inhibited during the one or more revolutions.</div>
</div>
  </div>
  </div> <div class="claim"> <div id="CLM-00025" num="00025" class="claim">
    <div class="claim-text">25. A system to perform a servowriting pass for a rotatable storage medium having a plurality of servo wedges using a reference track of servo information, comprising:
<div class="claim-text">a write element adapted to write servo information to the rotatable storage medium;</div>
<div class="claim-text">a control mechanism adapted to control writing of servo information to the rotatable storage medium, the control mechanism to:</div>
<div class="claim-text">determine a distance between a desired location of servo information to be written during the servowriting pass for each of the servo wedges and a location of the write element during one or more revolutions of the rotatable storage medium;</div>
<div class="claim-text">determine whether the distance is greater than a threshold distance;</div>
<div class="claim-text">inhibit writing of servo information to be written during the servowriting pass for each of the servo wedges for which the distance is greater than the threshold distance during the one or more revolutions;</div>
<div class="claim-text">determine WORF data from the reference track of servo information during the one or more revolutions;</div>
<div class="claim-text">enable writing of servo information to be written during the servowriting pass for each of the servo wedges at the target track for which writing was inhibited during the one or more revolutions during a subsequent revolution using the WORF data.</div>
</div>
  </div>
  </div> <div class="claim"> <div id="CLM-00026" num="00026" class="claim">
    <div class="claim-text">26. A system to perform a servowriting pass for a rotatable storage medium having a plurality of servo wedges using a reference track of servo information, comprising:
<div class="claim-text">a write element adapted to write servo information to the rotatable storage medium;</div>
<div class="claim-text">a control mechanism adapted to control writing of servo information to the rotatable storage medium, the control mechanism, for each of the servo wedges, to:</div>
<div class="claim-text">determine a distance between a desired location of servo information to be written for the servo wedge during the servowriting pass and a location of the write element during one or more revolutions of the rotatable storage medium;</div>
<div class="claim-text">determine whether the distance is greater than a threshold distance;</div>
<div class="claim-text">inhibit writing of servo information to be written for the servo wedge during the servowriting pass during the one or more revolutions when the distance is greater than the threshold distance;</div>
<div class="claim-text">determine WORF data from the reference track of servo information during the one or more revolutions; and</div>
<div class="claim-text">enable writing of servo information to be written for the servo wedge during the servowriting pass during a subsequent revolution using the WORF data if writing servo information to be written for the servo wedge during the servowriting pass was inhibited during the one or more revolutions.</div>
</div>
  </div>
  </div> <div class="claim"> <div id="CLM-00027" num="00027" class="claim">
    <div class="claim-text">27. A system to write a target track of servo information to a rotatable storage medium using a reference track of servo information, comprising:
<div class="claim-text">a write element adapted to write servo information to the rotatable storage medium;</div>
<div class="claim-text">a control mechanism adapted to control writing of servo information to the rotatable storage medium, the control mechanism to:</div>
<div class="claim-text">enable writing of servo information to the target track of the rotatable storage medium by the write element during one or more revolutions of the rotatable storage medium, wherein writing servo information is inhibited when a predicted location of the write element is not within a first threshold distance of a desired location, and wherein writing servo information is resumed after the predicted location of the write element is determined to be within a second threshold distance;</div>
<div class="claim-text">determine WORF data from the reference track of servo information during the one or more revolutions; and</div>
<div class="claim-text">enable writing of servo information not written to the target track during the one or more revolutions during a subsequent revolution using the WORF data.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00028" num="00028" class="claim">
    <div class="claim-text">28. The system of <claim-ref idref="CLM-00027">claim 27</claim-ref>, wherein first and second threshold distance are the same.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00029" num="00029" class="claim">
    <div class="claim-text">29. The system of <claim-ref idref="CLM-00027">claim 27</claim-ref>, wherein first and second threshold distance are different.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00030" num="00030" class="claim">
    <div class="claim-text">30. The system of <claim-ref idref="CLM-00027">claim 27</claim-ref>, wherein the reference track of servo information is located on the rotatable storage medium.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00031" num="00031" class="claim">
    <div class="claim-text">31. The system of <claim-ref idref="CLM-00027">claim 27</claim-ref>, wherein the reference track of servo information includes a plurality of servo wedges and wherein the control mechanism determines WORF data for each of the servo wedges.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00032" num="00032" class="claim">
    <div class="claim-text">32. The system of <claim-ref idref="CLM-00027">claim 27</claim-ref> position information as a read element reads the reference track of servo information during the one or more revolutions.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00033" num="00033" class="claim">
    <div class="claim-text">33. The system of <claim-ref idref="CLM-00027">claim 27</claim-ref>, wherein the control mechanism determines WORF data from the reference track by combining position information determined as a read element reads the reference track of servo information during the one or more revolutions with WORF data determined prior to the one or more revolutions.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00034" num="00034" class="claim">
    <div class="claim-text">34. The system of <claim-ref idref="CLM-00027">claim 27</claim-ref>, wherein writing of servo information includes at least one of writing servo information and trimming servo information.</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00035" num="00035" class="claim">
    <div class="claim-text">35. The system of <claim-ref idref="CLM-00027">claim 27</claim-ref> wherein the control mechanism is further to:
<div class="claim-text">write to memory an indication of servo information that was written to the target track during the one or more revolutions.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00036" num="00036" class="claim">
    <div class="claim-text">36. The system of <claim-ref idref="CLM-00027">claim 27</claim-ref>, wherein the control mechanism is further to:
<div class="claim-text">increase the second threshold distance when the target track of servo information is not written after a number of revolutions of the rotatable storage medium.</div>
</div>
  </div>
  </div> <div class="claim-dependent"> <div id="CLM-00037" num="00037" class="claim">
    <div class="claim-text">37. The system of <claim-ref idref="CLM-00027">claim 27</claim-ref>, wherein the control mechanism includes at least one of a disk controller, a microprocessor, and a servo controller.</div>
  </div>
</div> </div></div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title">Description</span></div><div class="patent-text"><div mxw-id="PDES15979412" lang="EN" load-source="patent-office" class="description">
<heading>CLAIM OF PRIORITY</heading> <p num="p-0002">This application claims priority to U.S. Provisional Application No. 60/489,025 entitled “Systems and Methods for WORF Improvement in Multiple Revolutions in Conditional Servowriting”, filed Jul. 22, 2003.</p>
<heading>FIELD OF THE INVENTION</heading> <p num="p-0003">The present invention relates to servowriting processes, systems, and devices.</p>
  <heading>BACKGROUND</heading> <p num="p-0004">Advances in data storage technology have provided for ever-increasing storage capability in devices such as DVD-ROMs, optical drives, and disk drives. In hard disk drives, for example, the width of a written data track has decreased due in part to advances in reading, writing, and positioning technologies. More narrow data tracks result in higher density drives, which is good for the consumer but creates new challenges for drive manufacturers. As the density of the data increases, the tolerance for error in the position of a drive component such as a read/write head decreases. As the position of such a head relative to a data track becomes more important, so too does the placement of information, such as servo data, that is used to determine the position of a head relative to a data track.</p>
  <p num="p-0005">In existing servowriting techniques, servowriting passes or steps can be stopped and restarted because of a detected displacement while servowriting. Previously written servo information before the displacement during the step or pass may be written again or erased and then written again. While writing a track of servo information, manufacturers may restart writing the track each time the head is out of position. Much time can be spent restarting operations until the head is an acceptable position while writing an entire track.</p>
  <heading>BRIEF SUMMARY</heading> <p num="p-0006">Systems and methods in accordance with the present invention take advantage of conditional writing and trimming techniques used in servowriting and self-servowriting. Conditional servowriting techniques allow servowriting to be disabled when it is determined that servo information will not be written and/or trimmed at a desired location or within a threshold distance of a desired location. In some embodiments, servowriting can be inhibited when a distance between a predicted location of servo information and a desired location of servo information is greater than a threshold distance. In other embodiments, a position of a head or write element can be used to determine whether to servowrite. Servowriting can be resumed it is determined that servo information will be written or trimmed at a desired location or within a threshold distance of a desired location.</p>
  <p num="p-0007">In one embodiment, servowriting can be performed on a wedge by wedge basis during a servowriting pass or step. Servowriting can be disabled or inhibited for servo wedges for which it is determined that servo information will not be written and/or trimmed at a desired location or within a threshold distance of a desired location. Servo information can be written and/or trimmed for those servo wedges for which the servo information will be or is predicted to be in an acceptable location.</p>
  <p num="p-0008">In one embodiment, servowriting can be performed without re-writing previously written servo information. During a pass or step, servo information can be written when its location will be acceptable and not written when it is not.</p>
  <p num="p-0009">In some embodiments, information indicating servowriting progress can be cached. For example, an indication of servo wedges for which servo information has been written and/or not written can be cached.</p>
  <p num="p-0010">In one embodiment, information regarding a reference pattern such as WORF information can be determined during extra revolutions of servowriting. The WORF information can be used to more accurately position the head during subsequent revolutions.</p>
  <p num="p-0011">Other features, aspects, and objects of the invention can be obtained from a review of the specification, the figures, and the claims.</p>
<description-of-drawings> <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading> <p num="p-0012"> <figref idrefs="DRAWINGS">FIG. 1</figref> is a diagram showing components of a disk drive that can be used in accordance with embodiments of the present invention.</p>
    <p num="p-0013"> <figref idrefs="DRAWINGS">FIG. 2</figref> is a diagram showing an example of a data and servo format for a disk in the drive of <figref idrefs="DRAWINGS">FIG. 1</figref>.</p>
    <p num="p-0014"> <figref idrefs="DRAWINGS">FIG. 3</figref> is a diagram showing servo information that can be written to the tracks shown in <figref idrefs="DRAWINGS">FIG. 2</figref>.</p>
    <p num="p-0015"> <figref idrefs="DRAWINGS">FIG. 4</figref> is a diagram showing displacement of servo bursts that can be written to the tracks shown in <figref idrefs="DRAWINGS">FIG. 2</figref>.</p>
    <p num="p-0016"> <figref idrefs="DRAWINGS">FIG. 5</figref> is a flowchart illustrating a method in accordance with one embodiment of the present invention for writing and/or trimming servo information during a revolution of a rotatable storage medium during a servowriting pass.</p>
    <p num="p-0017"> <figref idrefs="DRAWINGS">FIG. 6</figref> is a flowchart illustrating a method in accordance with one embodiment of the present invention for performing a servowriting pass.</p>
    <p num="p-0018"> <figref idrefs="DRAWINGS">FIG. 7</figref> is a flowchart illustrating a method in accordance with one embodiment of the present invention for performing a servowriting pass, wherein servo information is written and/or trimmed unconditionally on a last revolution of the pass.</p>
    <p num="p-0019"> <figref idrefs="DRAWINGS">FIG. 8</figref> is a flowchart illustrating a method in accordance with one embodiment of the present invention for performing a servowriting pass, wherein a threshold(s) is increased after some revolutions.</p>
    <p num="p-0020"> <figref idrefs="DRAWINGS">FIG. 9</figref> is a diagram of an exemplary servo-burst pattern being written over a progression of servowriting steps in accordance with one embodiment of the present invention.</p>
    <p num="p-0021"> <figref idrefs="DRAWINGS">FIG. 10</figref> is a flowchart illustrating a method that can be used to write the servo-burst pattern of <figref idrefs="DRAWINGS">FIG. 9</figref> in accordance with one embodiment of the present invention.</p>
    <p num="p-0022"> <figref idrefs="DRAWINGS">FIG. 11</figref> is a diagram of an exemplary servo-burst pattern being written over a progression of servowriting steps/passes that can benefit from embodiments in accordance with the present invention.</p>
    <p num="p-0023"> <figref idrefs="DRAWINGS">FIG. 12</figref> is a diagram of an exemplary servo-burst pattern being written over a progression of servowriting steps/passes that can benefit from embodiments in accordance with the present invention.</p>
    <p num="p-0024"> <figref idrefs="DRAWINGS">FIG. 13</figref> is a flowchart illustrating a method in accordance with one embodiment of the present invention for performing a revolution of a servowriting pass.</p>
    <p num="p-0025"> <figref idrefs="DRAWINGS">FIG. 14</figref> is a diagram illustrating servo bursts written in accordance with one embodiment of the present invention using write-current variation.</p>
    <p num="p-0026"> <figref idrefs="DRAWINGS">FIG. 15</figref> is a flowchart illustrating a method in accordance with one embodiment of the present invention for performing a revolution of a servowriting pass.</p>
    <p num="p-0027"> <figref idrefs="DRAWINGS">FIG. 16</figref> is a flowchart illustrating a method in accordance with one embodiment of the present invention for determining WORF data using data gathered during revolutions of a servowriting pass.</p>
  </description-of-drawings> <heading>DETAILED DESCRIPTION</heading> <p num="p-0028">Systems and methods in accordance with one embodiment of the present invention can be used when servowriting, or self-servowriting, a rotatable storage medium in a data storage device, such as a hard disk drive. For example, a typical disk drive <b>100</b>, as shown in <figref idrefs="DRAWINGS">FIG. 1</figref>, includes at least one magnetic disk <b>102</b> capable of storing information on at least one of the surfaces of the disk. A closed-loop servo system can be used to move an actuator arm <b>106</b> and data head <b>104</b> over the surface of the disk, such that information can be written to, and read from, the surface of the disk. The closed-loop servo system can contain, for example, a voice coil motor driver <b>108</b> to drive current through a voice coil motor (not shown) in order to drive the actuator arm, a spindle motor driver <b>112</b> to drive current through a spindle motor (not shown) in order to rotate the disk(s), a microprocessor <b>120</b> to control the motors, and a disk controller <b>118</b> to transfer information between the microprocessor, buffer, read channel, and a host <b>122</b>. A host can be any device, apparatus, or system capable of utilizing the data storage device, such as a personal computer, Web server, or a consumer electronics device. The drive can contain at least one processor, or microprocessor <b>120</b>, that can process information for the disk controller <b>118</b>, read/write channel <b>114</b>, VCM driver <b>108</b>, or spindle driver <b>112</b>. The microprocessor can also include a servo controller, which can exist as an algorithm resident in the microprocessor <b>120</b>. The disk controller <b>118</b>, which can store information in buffer memory <b>110</b> resident in the drive, can also provide user data to a read/write channel <b>114</b>, which can send data signals to a current amplifier or preamp <b>116</b> to be written to the disk(s) <b>102</b>, and can send servo and/or user data signals back to the disk controller <b>118</b>.</p>
  <p num="p-0029">The information stored on such a disk can be written in concentric tracks, extending from near the inner diameter of the disk to near the outer diameter of the disk <b>200</b>, as shown in the example disk of <figref idrefs="DRAWINGS">FIG. 2</figref>. In an embedded servo-type system, servo information can be written in servo wedges <b>202</b>, and can be recorded on tracks <b>204</b> that can also contain data. In a system where the actuator arm rotates about a pivot point such as a bearing, the servo wedges may not extend linearly from the inner diameter (ID) of the disk to the outer diameter (OD), but may be curved slightly in order to adjust for the trajectory of the head as it sweeps across the disk.</p>
  <p num="p-0030">The servo information often includes bursts of transitions or boundaries called “servo bursts.” A boundary or burst boundary as used herein does not mean or imply that servo bursts forming a boundary necessarily have a substantially common edge as the bursts can be spaced such that there is a gap radically or circumferentially between the bursts. The servo information can be positioned regularly about each track, such that when a data head reads the servo information, a relative position of the head can be determined that can be used by a servo processor to adjust the position of the head relative to the track. For each servo wedge, this relative position can be determined in one example as a function of the target location, a track number read from the servo wedge, and the amplitudes or phases of the bursts, or a subset of those bursts. The position of a head or element, such as a read/write head or element, relative to a target or desired location such as the center of a track or other desired location, will be referred to herein as position-error. Position-error distance may be used to refer to the distance between a target or desired location and an actual or predicted location of a head or element. The signal generated as a head or element moves across servo bursts or boundaries between servo bursts is often referred to as a position-error signal (PES). The PES can be used to represent a position of the head or element relative to a target location such as a track centerline defined by a boundary between servo bursts.</p>
  <p num="p-0031">A centerline <b>300</b> for a given data track can be “defined” relative to a series of bursts, burst edges, or burst boundaries, such as a burst boundary defined by the lower edge of A-burst <b>302</b> and the upper edge of B-burst <b>304</b> in <figref idrefs="DRAWINGS">FIG. 3</figref>. The centerline can also be defined by, or offset relative to, any function or combination of bursts or burst patterns. This can include, for example, a location at which the PES value is a maximum, a minimum, or a fraction or percentage thereof. Any location relative to a function of the bursts can be selected to define track position. For example, if a read head evenly straddles an A-burst and a B-burst, or portions thereof, then servo demodulation circuitry in communication with the head can produce equal amplitude measurements for the two bursts, as the portion of the signal coming from the A-burst above the centerline is approximately equal in amplitude to the portion coming from the B-burst below the centerline. The resulting computed PES can be zero and represent a position at track center if the radial location defined by the A-burst/B-burst (A/B) combination, or A/B boundary, is the center of a data track, or a track centerline. In such an embodiment, the radial location at which the PES value is zero can be referred to as a null-point. Null-points can be used in each servo wedge to define a relative position of a track. If the head is too far towards the outer diameter of the disk, or above the centerline in <figref idrefs="DRAWINGS">FIG. 3</figref>, then there will be a greater contribution from the A-burst that results in a more “negative” PES. Using the negative PES, the servo controller could direct the voice coil motor to move the head toward the inner diameter of the disk and closer to its desired position relative to the centerline. This can be done for each set of burst edges defining the shape of that track about the disk.</p>
  <p num="p-0032">The servo scheme described above is one of many possible schemes for combining the track number read from a servo wedge and the phases or amplitudes of the servo bursts. Many other schemes are possible that can benefit from embodiments in accordance with the present invention.</p>
  <p num="p-0033">A problem that exists in the reading and writing of servo patterns involves the misplacement, or offset, of a read/write head with respect to the ideal and/or actual position of a track. It is impossible to perfectly position a head with respect to a track for each rotation of a disk, as there is almost always a noticeable offset between the desired position and the actual position of the head with respect to the disk. This can cause problems when writing servo patterns, as each portion of the pattern can be slightly misplaced. This can lead to what is referred to as written-in runout. Written-in runout can be thought of as the offset between the “actual” centerline, or desired radial center, of a track and the centerline that would be determined by a head reading the written servo pattern. Written-in runout can lead to servo performance problems, wasted space on a disk and, in a worst case, unrecoverable or irreparably damaged data.</p>
  <p num="p-0034">Systems and methods in accordance with one embodiment of the present invention overcome deficiencies in prior art servowriting and self-servowriting systems by taking advantage of conditional methods for performing servowriting operations. For example, the non-repeatable runout (NRRO) suffered by a read/write (R/W) head during self-servowriting operations can be written into the servo bursts. The written-in runout of a self-servowritten pattern can be reduced by writing and/or trimming servo information, including servo bursts, conditionally upon a location of the head or write-element during servowriting. As used herein and as understood by those of ordinary skill in the art, servowriting can include writing servo information, trimming servo information, or writing and trimming servo information. In a given servowriting pass, servo information can be written, trimmed, or written and trimmed. Reference to writing servo information herein can include writing, trimming, or writing and trimming as writing and trimming are similar operations that can be performed by or according to the systems and methods of the present invention.</p>
  <p num="p-0035">It will be understood that various self-servowriting techniques can benefit from embodiments in accordance with the present invention. One such self-servowriting technique is often referred to as “replication” self-servowriting. In replication self-servowriting, a media-writer can be used to write servo information on a stack of disks. Each disk can then be placed in a separate drive having multiple blank disks, such that the drive can use the patterned disk as a reference to re-write servo patterns on all of the other disk surfaces in the drive, as well as writing a servo pattern on the media-written surface, if desired. Various other techniques exist for producing a reference for replication self-servowriting. For example, the reference surface can be magnetically printed, as described in U.S. Pat. No. 6,567,227. Regardless of the method used for producing the reference pattern, it is possible for replication self-servowriting systems to benefit from use of the current invention.</p>
  <p num="p-0036">Another class of self-servowriting techniques is known as “propagation” self-servowriting. Techniques in this class differ from those in the replication class in the fact that the wedges used by the drive at one point in the process are later used as reference wedges for other tracks. These schemes are thus “self-propagating.” Typically, such techniques require a R/W head that has a large radial offset between the read and write elements, so that the drive can servo with the read element over previously-written servo wedges while the write element is writing new servo wedges. In one such application, a servowriter is used for a short time to write a small “guide” pattern on a disk that is already assembled in a drive. The drive then propagates the pattern across the disk. In this type of self-servowriting operation, previously written tracks can later serve as reference tracks. In other applications, the guide pattern may be produced by the drive, without the use of a servowriter. Regardless of the method used for producing the guide pattern, it is possible for propagation self-servowriting systems to benefit from use of the current invention.</p>
  <p num="p-0037">As shown in <figref idrefs="DRAWINGS">FIG. 3</figref>, the radial position of a track centerline <b>300</b> can be defined by the “lower” edge of one burst <b>302</b> and the “upper” edge of a corresponding burst <b>304</b> in a differential pair. Here, the “lower” edge can refer to the edge of the burst nearest the inner diameter (ID) of a disk, while the “upper” edge can refer to the edge nearest the outer diameter (OD) of the disk. The position of a center of a track can be determined by examining the boundary between these edges. Embodiments in accordance with the present invention can allow the track defined by such burst edges to have reduced written-in runout using conditional servo information writing and trimming methods. <figref idrefs="DRAWINGS">FIG. 3</figref> illustrates exemplary servo information. Other servo patterns, including for example, additional bits to denote track number are considered within the scope of the present invention.</p>
  <p num="p-0038">At each track to be servowritten, it can be desirable to remove the synchronous runout of the reference pattern as much as possible. Several techniques exist for removing synchronous runout that are known to those skilled in the art. After substantially removing the synchronous runout, each head should be following substantially circular tracks on the respective disks. The remaining runout of each head should then be dominated by non-synchronous runout suffered by the reference head, or the head observing the reference surface, from which the position of the head-stack is controlled. The head stack assembly (HSA) typically refers to the combination of the actuator, voice coil motor (VCM), E-block (arms of the actuator), suspensions, and heads. The HSA is typically one of two major moving parts of a drive, with the other moving part being the spindle and disks, referred to as the “disk-stack.” There may be other contributors to the remaining runout for the R/W heads that is not common to that suffered by the reference head. Typically, these contributors will be relatively small.</p>
  <p num="p-0039"> <figref idrefs="DRAWINGS">FIG. 4</figref> shows an example of a pattern wherein the remaining runout is dominated by non-synchronous runout suffered by the reference head. For the sake of simplicity, erase bands will be ignored as they do not significantly impact the discussion of various embodiments. In <figref idrefs="DRAWINGS">FIG. 4</figref>, during the servowriting step in which the A-bursts were written, the writer was approximately on track, such that the upper edges of the A-bursts are in approximately the correct location. The dotted line shows the path of the upper edge of the write element of the head during the next servowriting step, in which the A-bursts are trimmed and the B-bursts are written. Notice that the misplacement of the head during the second servowriting step results in position errors for the lower edges of the majority of the A-bursts and the upper edges of the majority of the B-bursts. This can cause a subsequent read or write operation on the track defined by these bursts to misread data, as the head will be offtrack, or misplaced, during much of the read or write operation.</p>
  <p num="p-0040">While the final servo wedges (reference <b>202</b> in <figref idrefs="DRAWINGS">FIG. 2</figref>) are being written for each head, the position measurements from the reference head, or a servo position signal, can indicate approximately how much each head is misplaced with respect to track center. For example, looking at <figref idrefs="DRAWINGS">FIG. 1</figref>, a signal from the head <b>104</b> reading the reference pattern can be passed as servo data through the read/write channel <b>114</b> to the disk controller <b>118</b>, and passed on to the microprocessor <b>120</b>, which can send commands to the VCM driver <b>108</b>, in order to attempt to move the head back into position relative to the track. The measured PES can also be analyzed and used to determine whether the write element should write and/or trim servo information. The position measurements from the reference pattern will probably be non-zero, primarily due to imperfect control of the servo position of the reference head, and can be used to determine whether servo information should be written and/or trimmed. The PES can be used to determine or predict if a location of to-be-written servo information will be within specified limits. If the location is not within specified limits, writing of servo information can be disabled. The PES can also be used to determine if a location of the write element (actual or predicted) is within specified limits for performing trim operations on any previously written servo information. Any number of parameters can be used to determine if a servowriting operation should proceed, including a position of the write element, a predicted position of the write element, or a predicted position of to-be-written and/or trimmed servo information.</p>
  <p num="p-0041">An exemplary method that can be used to account for the actual path of a write element during a revolution of a disk during a servowriting pass is shown in the diagram of <figref idrefs="DRAWINGS">FIG. 5</figref>. A servowriting step can include one or multiple servowriting passes and each track of a disk can be defined by one or multiple servowriting steps. For example, in some embodiments a servowriting step can include one pass for writing and trimming servo information. In other embodiments, a servowriting step can include a first pass for writing servo information and a second pass for trimming servo information. As will be described below in accordance with some embodiments, the servo information to be written and/or trimmed during a pass of a servowriting step may be written and/or trimmed in one or multiple revolutions of the disk. A pass need not include an integer number of revolutions of the disk. Passes or steps can be completed at any point during a revolution of the disk and passes or steps can begin at any point during a revolution of the disk.</p>
  <p num="p-0042">Using servo position information, it is possible to determine the position of the head with respect to a track centerline or other reference position. Using an interpolation algorithm or state-space control methods, it is also possible to determine a predicted position of the head when servo information is actually written or trimmed or a predicted location of to-be-written or to-be-trimmed servo information, as there will likely be some radial variation between the time that the reference pattern is read and the time that the servo information is written and/or trimmed. When writing servo information, the actual writing of the final servo information onto a disk does not occur simultaneously with the reading of the reference data, as it is necessary to read the information before the final servo information can be written. As such, there will be a delay in time between the reading and writing of the information. Because of this delay in time, the radial position of the head at the time of writing will not be exactly where it was when reading the servo information or when another head was reading the servo information. It may then be necessary, depending on the length of the delay and/or the variation of the head path, to make at least one calculation to predict where the head will be when the data is written. For example, a state-estimator can be used to predict the position-error of the reference head at the time of writing from the estimated state variables at the time of the most recent sample, such as by using standard state-space techniques. Such techniques can take into account, for example, the radial velocity and direction of the R/W head and the rotation speed of the disk.</p>
  <p num="p-0043">For convenience, the remainder of this example will be discussed in terms of the location or position of the head, although it will be understood that other parameters such as a predicted location-of to-be-written and/or trimmed servo information can be used. It will also be understood that any portion of the head, including a write element coupled with the head, can be used as a reference for determining distances. A PES may be used to determine, estimate, or predict a distance. It will be understood that the systems and techniques described herein can apply to both writing and trimming servo information and that reference to one or the other does not imply that the other can not be performed by or according to the system or technique.</p>
  <p num="p-0044">Once the position of the head is known, it is possible to determine the distance between a desired location of to-be-written servo information or to-be-trimmed servo information (or a desired write or trim location) for a first servo wedge and a portion of the head <b>510</b>. The distance can be calculated in a number of ways, such as from the edge of the to-be written or to-be-trimmed information to the center of the write element or to the appropriate edge of the write element. First is not intended to imply any order for selecting a servo wedge as the first servo wedge can be any randomly or otherwise chosen servo wedge on which to begin the pass or revolution. For example, in one embodiment the servo wedge on which to begin the pass is chosen so as to optimize efficiency by beginning on a first wedge after servo positioning is sufficiently settled and repeatable runout removal is complete after a seek operation to the track to be servowritten.</p>
  <p num="p-0045">The distance determined in step <b>510</b> can be used to determine whether servo information for the servo wedge should be written and/or trimmed <b>520</b>. The distance can be compared with a threshold to determine whether or not to trim and/or write the servo information. Various types of thresholds can be used. In one embodiment, a threshold can be a distance from a desired location. If a position of a write element is beyond a position defined by this threshold distance or if a distance between a desired location and an actual or predicted location of write element is greater than this threshold distance, writing and/or trimming of servo information can be disabled. In other embodiments, a threshold can be a value of a position error signal. If the value of the PES reaches or exceeds the threshold PES value, writing and/or trimming of servo information can be disabled.</p>
  <p num="p-0046">If the distance determined in step <b>510</b> is greater than the threshold distance, the servo information for the wedge is not written and/or trimmed <b>530</b>. The threshold can also be defined such that servo information is not written and/or trimmed if the distance is equal to the threshold. In step <b>540</b>, an indication is written to memory that the servo information for the servo wedge was not written and/or trimmed. The indication can be written to any available memory including a buffer memory such as SRAM or DRAM as shown in <figref idrefs="DRAWINGS">FIG. 1</figref>. If it is determined that the distance from step <b>510</b> is not greater than a threshold, the servo information for the wedge can be written and/or trimmed <b>550</b>.</p>
  <p num="p-0047">In step <b>560</b>, it is determined whether an attempt has been made to write and/or trim servo information for all servo wedges during the revolution of the servowriting pass. If writing and/or trimming of servo information for all servo wedges has not been attempted, servowriting advances to a next wedge <b>570</b> and the method continues. If writing and/or trimming of servo information for all servo wedges of the revolution has been attempted, the revolution of the servowriting pass is complete. After a revolution is complete, servowriting can proceed according to a method illustrated in <figref idrefs="DRAWINGS">FIG. 6</figref>, <b>7</b>, <b>8</b>, or <b>16</b>, as will be discussed herein.</p>
  <p num="p-0048">The method illustrated in <figref idrefs="DRAWINGS">FIG. 5</figref> allows the writing and/or trimming of servo information for a servo wedge in a pass of a servowriting step to be skipped or disabled when it is determined that a head or element is not in an acceptable position for writing and/or trimming servo information. By noting which servo wedges have been written and/or trimmed and which have not, a servo wedge for which the write element was not in an acceptable position to write and/or trim can be skipped and the write and/or trim attempted on a subsequent revolution. Additionally, those servo wedges for which the write and/or trim was performed do not need to be repeated. Although <figref idrefs="DRAWINGS">FIG. 5</figref> illustrates writing to memory an indication that servo information was not written and/or trimmed for a particular wedge, it will be understood by those skilled in the art that an indication that servo information for a particular servo wedge was written and/or trimmed can be written in addition to or in place of an indication that servo information was not written and/or trimmed for a particular wedge.</p>
  <p num="p-0049">In some embodiments in accordance with the present invention, position-error information determined at a first circumferential location can be used to determine whether to write and/or trim servo information at a second circumferential location. For example, a distance between a desired location of to-be-written servo information or to-be-trimmed servo information for a first servo wedge and a portion of a write element can be determined. If the distance is greater than a threshold, writing and/or trimming of servo information for a second servo wedge can be disabled. In some embodiments, the second servo wedge can be a next consecutive servo wedge following a servo wedge for which the distance is determined. In other embodiments, the second servo wedge can be a servo wedge a number of servo wedges, for example, 3, following the servo wedge for which the distance is determined. Such embodiments can be useful in applications where a time delay, and thus a position delay of a write element, exists between determining position information and disabling writing and/or trimming. It will be understood by those of ordinary skill in the art that due to time delays in some embodiments, wedges on a target track or disk may be written and/or trimmed during a time between reading servo wedges on a reference track or disk.</p>
  <p num="p-0050">Position-error information determined at a first circumferential location can also be used to determine whether to write and/or trim servo information at multiple circumferential locations. For example, a distance between a desired location of to-be-written servo information or to-be-trimmed servo information for a first servo wedge and a portion of a write element can be determined. If the distance is greater than a threshold, writing and/or trimming of servo information for a number of servo wedges can be disabled. For example, using position information determined at a first servo wedge, writing and/or trimming of servo information for the next 4 consecutive servo wedges encountered in the servowriting pass can be disabled. It is also possible to inhibit writing if the distance is greater than a first threshold and restart writing when the distance is less than a second threshold. The first and second threshold can be the same or different. A second threshold that is less than the first threshold may help avoid excessive cycling between enabling and inhibiting of writing.</p>
  <p num="p-0051"> <figref idrefs="DRAWINGS">FIG. 6</figref> illustrates a method that can be used to account for the actual path of a write element when performing a servowriting pass. The method can begin after a first revolution of a servowriting pass as shown in <figref idrefs="DRAWINGS">FIG. 5</figref>. In step <b>610</b> it is determined whether all servo information to be trimmed and/or written during the servowriting pass has been written and/or trimmed. If all servo information to-be-written and/or trimmed for each servo wedge during the servowriting pass has been written and/or trimmed, it is determined whether additional passes for the current servowriting step need to be performed <b>620</b>. If all passes for the servowriting step have been performed, the servowriting step is complete and a next step can begin or servowriting can be complete if all steps have been completed <b>660</b>. If additional passes for the servowriting step are to be performed, the next pass of the servowriting step is begun <b>630</b> and attempted according to the method illustrated in <figref idrefs="DRAWINGS">FIG. 5</figref>.</p>
  <p num="p-0052">If all servo information to-be-written and/or trimmed for each servo wedge during the servowriting pass has not been written and/or trimmed, then the wedges for which servo information to be written and/or trimmed during the pass has not been written and/or trimmed are determined <b>640</b>. After the wedges are determined, the servo information for those wedges can be attempted to be written and/or trimmed during a subsequent revolution according to the method of <figref idrefs="DRAWINGS">FIG. 5</figref> (step <b>650</b>).</p>
  <p num="p-0053">To the extent the method illustrated in <figref idrefs="DRAWINGS">FIGS. 5 and 6</figref> requires additional revolutions to write servo information, additional time for servowriting can be required. Accordingly, measures can be used to limit the number of revolutions. In the method illustrated in <figref idrefs="DRAWINGS">FIG. 7</figref>, servo information is written and/or trimmed unconditionally on a last revolution after a predetermined number of revolutions of a servowriting pass. That is, after it is determined that not all servo information to be written and/or trimmed during the pass has been written and/or trimmed <b>610</b>, the number of revolutions can be compared to a predetermined number of revolutions N (step <b>720</b>). If the number of revolutions is not greater than N, the wedges for which servo information to-be-written and/or trimmed during the pass has not been written and/or trimmed are determined <b>730</b>. After the wedges are determined, the servo information for those wedges can be attempted to be written and/or trimmed during a subsequent revolution according to the method of <figref idrefs="DRAWINGS">FIG. 5</figref> (step <b>760</b>).</p>
  <p num="p-0054">If the number of revolutions is greater than N, the wedges for which servo information to-be-written and/or trimmed during the servowriting pass has not been written and/or trimmed can be determined <b>740</b>. The servo information to-be-written and/or trimmed during the pass for those wedges can be written and/or trimmed unconditionally during a next revolution <b>750</b>. That is, writing and/or trimming will not be disabled because the write element is out of position.</p>
  <p num="p-0055"> <figref idrefs="DRAWINGS">FIG. 8</figref> illustrates another exemplary method that can be used to account for the actual path of a write element when performing a servowriting pass. In one embodiment, the method can begin after a first revolution of a servowriting pass has been completed according to the method illustrated in <figref idrefs="DRAWINGS">FIG. 5</figref>. It is first determined whether all servo information to-be-written and/or trimmed during the servowriting pass has been written and/or trimmed <b>610</b>. If all servo information has been written and/or trimmed, the method proceeds as previously discussed with regards to <figref idrefs="DRAWINGS">FIG. 6</figref>. If not all servo information has been written and/or trimmed, the wedges for which servo information to-be-written and/or trimmed during the pass has not been written and/or trimmed can be determined <b>820</b>. The threshold(s) used to determine whether servo information for a wedge should be written and/or trimmed can then be increased <b>830</b>. After increasing the threshold(s), the servo information for the remaining wedges can be attempted to be written and/or trimmed on a subsequent revolution according to the method of <figref idrefs="DRAWINGS">FIG. 5</figref> (step <b>840</b>).</p>
  <p num="p-0056">It will be appreciated by those skilled in the art that various schemes for increasing the threshold(s) can be used. In one embodiment, one threshold is used for each wedge to be written and/or trimmed during the servowriting pass. This threshold can then be increased by a predetermined amount. In other embodiments, different thresholds are used for writing servo information for individual wedges. In step <b>830</b>, the threshold used for each of these wedges can be increased by a predetermined amount that can be different for each threshold or the same for each threshold.</p>
  <p num="p-0057">Additionally, in some embodiments, the position error of the write element observed during a previous revolution can be used to determine an appropriate amount by which to increase the threshold(s). An averaged position error magnitude of the write element while trying to write and/or trim during a previous revolution can be used to increase a single threshold or multiple thresholds. Many other values such as the RMS of the position error signal for example, can also be used to determine an amount by which to increase the threshold. In other embodiments, an individual position error of the write element observed while attempting to write and/or trim servo information for an individual wedge can be used to increase the threshold for that individual wedge by an appropriate amount.</p>
  <p num="p-0058">It will further be appreciated that the threshold(s) need not be increased after every revolution or even after the first revolution. For instance, a maximum number of revolutions could be established, such as 3, for example. If all servo information to be written and/or trimmed during a servowriting pass was not written during the first three revolutions, the threshold(s) could be increased. If all servo information was not written and/or trimmed during the next 2 revolutions, the threshold(s) could be increased again, etc.</p>
  <p num="p-0059">In one embodiment in accordance with the present invention, a characteristic of a track can be used to determine conditional servowriting parameters. For example, the number of revolutions allocated before increasing a threshold or writing unconditionally is based upon the specific track(s) or burst boundaries that are affected by the servo information to-be-written or trimmed during the given pass. Such an embodiment can be a useful balance for certain applications where an improvement in head or element position control during write or trim operations is desired, but the amount of extra time needed to take additional revolutions for all servowriting passes or steps is determined to be unacceptable or undesirable.</p>
  <p num="p-0060">For example, a series of burst boundaries such as A-burst/B-burst boundaries can be spaced circumferentially around a disk to define a track centerline, which can be used during write operations. Other burst boundaries spaced circumferentially around a disk can be used for purposes such as reading and/or positioning, but not for defining track centerlines. In one embodiment in accordance with the present invention, extra revolutions are allocated for trimming and/or writing servo information such as bursts whose edges define track centerlines before increasing a threshold. For example, 5 revolutions could be allocated to writing servo information that includes burst(s) that will form boundaries with other bursts to define track centerlines before increasing a threshold. For all other servo information that does not include bursts that will form boundaries with other bursts to define track centerlines, 3 revolutions could be allocated before increasing a threshold. The number of revolutions can vary by embodiment and can be adjusted depending on the requirements for a particular application.</p>
  <p num="p-0061">Extra revolutions can also be allocated to writing and/or trimming servo information that influences the positioning of the head or element near system tracks or other important tracks. These tracks can include tracks set aside for storing system information such as defective sector information, WORF information, data zone information, or other information needed to perform various drive functions. In various applications, various tracks may be considered more critical such that more accurate positioning of the head near those tracks is desired. Extra revolutions for writing the servo information for those tracks can also be allocated.</p>
  <p num="p-0062">The methods illustrated in <figref idrefs="DRAWINGS">FIGS. 5 and 6</figref> can also be used to account for the actual path of a write element when performing multiple passes of a servowriting step in embodiments where individual passes are used for writing and trimming. For example, the position-error of a write element while performing a trim of an A-burst of a servo wedge can be used to establish an appropriate threshold to be used while attempting to write a corresponding B-burst.</p>
  <p num="p-0063">Consider the diagram of an exemplary servo-burst pattern being written over a progression of servowriting steps illustrated in <figref idrefs="DRAWINGS">FIG. 9</figref>, and the flowchart illustrating the method performed in writing and trimming the bursts shown in <figref idrefs="DRAWINGS">FIG. 10</figref>. For the sake of simplicity, the following example only discusses writing and trimming servo information for a single wedge and single burst pair, although it will be understood that multiple wedges and multiple servo bursts around the circumference of the disk can be written and/or trimmed during each of the servowriting passes and steps discussed herein. In a first servowriting step <b>1010</b>, write element <b>910</b> writes an A-burst. The A-burst can be written as part of a servowriting pass performed in accordance with the methods illustrated in <figref idrefs="DRAWINGS">FIGS. 5 and 6</figref>, although it need not be. In a second servowriting step <b>1020</b>, the write element writes a B-burst. The B-burst can also be written as part of a servowriting pass performed in accordance with the methods illustrated in <figref idrefs="DRAWINGS">FIGS. 5 and 6</figref> although other techniques can be used. Several revolutions or fractions thereof may have been completed before the write element was in position to write the A-Burst and B-burst.</p>
  <p num="p-0064">As shown in <figref idrefs="DRAWINGS">FIG. 9</figref>, when writing the B-burst, the upper edge of the write element was displaced a distance <b>930</b> (towards the top of the page as shown in the figure, or towards the OD of the disk) from the nominal desired location <b>920</b> of the boundary between the B-burst and the A-burst. Due to the displacement of the write element, the value of the PES while writing the B-burst can be non-zero. The value of the PES when writing the B-burst can be determined in step <b>1030</b>. In step <b>1040</b>, the threshold or threshold window used for trimming the A-burst can be adjusted.</p>
  <p num="p-0065">To help compensate for the error in writing the B-burst, the acceptable value of the PES or acceptable PES window while trimming the A-burst can be adjusted. For example, assume that an acceptable PES range or window of +10 to −10 units was being used. That is, a first threshold of +10 units was being used for position-errors in a first direction (e.g., towards the outer diameter of the disk) and a second threshold of −10 units was being used for position-errors in a second direction (e.g., towards the inner diameter of the disk). Assume further that the PES while writing the B-burst was +3 units, indicating a displacement towards the outer diameter of the disk. In order to help compensate for the displacement while writing the B-burst, the acceptable PES range can be adjusted to +7 to −13 units, thus allowing less position-error in the direction of the first displacement and more position-error in the opposite direction of the first displacement. This can re-center the range of acceptable position-error to increase the probability that the position-error while trimming the A-burst will offset the position-error while the B-burst was written.</p>
  <p num="p-0066">After adjusting the acceptable PES range, the A-burst can be trimmed in step <b>1050</b> according to the methods illustrated in <figref idrefs="DRAWINGS">FIGS. 5 and 6</figref>. As shown in <figref idrefs="DRAWINGS">FIG. 9</figref>, the write element is displaced a distance <b>950</b> while trimming the A-burst. In this example, the averaged displacement of the write element while writing the B-burst and trimming the A-burst can result in a burst boundary approximately at the nominal desired location of the burst boundary.</p>
  <p num="p-0067">Although the B-burst was written prior to trimming the A-burst in the foregoing example, it will be understood by those of ordinary skill in the art that the principles will apply equally as well to embodiments where the position-error is determined while trimming a first burst and then used to adjust the threshold or threshold window used while subsequently writing a corresponding burst. It will further be understood that other types of thresholds and threshold windows may be used in other embodiments. For example, if a threshold distance is used, the threshold distance or window of acceptable distances (displacements) for a write or trim can be adjusted based upon a previously observed position-error while performing a corresponding operation.</p>
  <p num="p-0068">The use of thresholds to control the writing of servo information for servo wedges can be extended through the use of multiple thresholds for different directions of position-error. Different thresholds can be used to inhibit writing or trimming depending on the direction of displacement, relative to a desired location, of the predicted position of to-be-written servo information, the predicted position of to-be-trimmed servo information, or the predicted or actual position of a write element to be used in writing or trimming the to-be-written or to-be-trimmed servo information.</p>
  <p num="p-0069"> <figref idrefs="DRAWINGS">FIGS. 11 and 12</figref> illustrate the progression of exemplary servowriting processes that can benefit from embodiments in accordance with the present invention. In the figures, the top of the page corresponds to locations nearer to an outer diameter (OD) of a disk while the bottom of the page corresponds to locations nearer to an inner diameter (ID) of the disk and servowriting propagation is assumed to be from OD to ID. In other embodiments, propagation may be from ID to OD. Referring now to <figref idrefs="DRAWINGS">FIG. 11</figref>, write element <b>1110</b> writes an A-burst during a first servowriting step <b>1160</b>. In one embodiment, the A-burst can be written according to the methods illustrated in <figref idrefs="DRAWINGS">FIGS. 5 and 6</figref>. During a first revolution <b>1170</b> of a first pass of a second servowriting step, write element <b>1110</b> trims the A-burst and writes a B-burst. When trimming the A-burst and writing the B-burst, the upper edge of the write element is positioned along line <b>1130</b>, a distance <b>1150</b> from the desired location <b>1120</b> of the boundary between the A-burst and B-burst. The displacement of the writer, and thus the displacement of the lower edge of the A-burst and the upper edge of the B-burst is against the direction of propagation.</p>
  <p num="p-0070">During a second revolution <b>1180</b> of the first pass of the second servowriting step, the upper edge of write element <b>1150</b> is positioned along line <b>1140</b>, a distance <b>1160</b> towards the inner diameter of the disk. The second trim/write revolution does not affect the boundary between the A-burst and the B-burst, resulting in a boundary at location <b>1130</b>, rather than desired location <b>1120</b>.</p>
  <p num="p-0071"> <figref idrefs="DRAWINGS">FIG. 11</figref> illustrates the effects of a position-error in the direction opposite to servowriting propagation. Since the error was against the direction of propagation, it cannot easily be corrected during subsequent attempts at the current radial location for the servowriting step. In order to correct the error in placement of the bursts, the A-burst should either be erased and then re-written or simply re-written, with the write element positioned at the position used in performing the first servowriting step. While it may be possible to correct the error in trimming the A-burst by writing another portion of the same burst across the distance <b>1150</b>, incoherence may exist between the portions, resulting in erroneous position information when the burst is later demodulated. As the additional RRO that can be introduced by writing multiple portions is undesirable, many drive manufacturers will choose to reposition the write element, erase the burst, and re-write it.</p>
  <p num="p-0072"> <figref idrefs="DRAWINGS">FIG. 12</figref> illustrates the effects of a displacement of a write element or location of servo information in the direction of propagation. In a first servowriting step <b>1260</b>, write element <b>1210</b> writes an A-burst. During a first revolution <b>1270</b> of a first pass of a second servowriting step, write element <b>1210</b> trims the A-burst and writes a B-burst. When trimming the A-burst and writing the B-burst, an upper edge of the write element was positioned along line <b>1230</b>, a distance <b>1250</b> from the desired location <b>1220</b> of the upper edge of the write element, or the desired location of the boundary between the A-burst and B-burst. The displacement of the writer, and thus the displacement of the lower edge of the A-burst and the upper edge of the B-burst, is towards the inner diameter of the disk (in the direction of propagation).</p>
  <p num="p-0073">During a second revolution <b>1280</b> of the first pass of the second servowriting step, an upper edge of write element <b>1210</b> is positioned along the desired location <b>1220</b> of the boundary between the A-burst and B-burst. In this revolution, write element <b>1210</b> is able to trim the A-burst such that its lower edge is positioned along the desired location <b>1220</b> of the boundary. Write element <b>1210</b> also re-writes the B-burst such that its upper edge is also positioned along the desired location of the boundary <b>1220</b>. In another embodiment, the A-burst is trimmed and the B-burst erased during the second revolution of the first pass of the second servowriting step. The B-burst is then re-written during a third revolution of the first pass of the second servowriting step.</p>
  <p num="p-0074">As illustrated by <figref idrefs="DRAWINGS">FIGS. 11 and 12</figref>, displacements of written or trimmed servo information opposite to the direction of servowriting propagation are more difficult to correct. While displacements in the direction of propagation can often be corrected with the write element maintaining its approximate radial position for the current servowriting step or pass, displacements against the direction of propagation can necessitate repositioning the write element. Accordingly, different thresholds for inhibiting writing and/or trimming servo information can be used depending on the direction of the mis-placement of the write element.</p>
  <p num="p-0075">In one embodiment, a smaller threshold is used to inhibit writing and/or trimming for position-errors opposite to the direction of propagation. Writing and/or trimming of servo information can be inhibited when a distance between a desired location of to-be-written and/or trimmed servo information and a position (actual or predicted) of the write element to be used in writing and/or trimming the servo information (or a predicted location of to-be-written and/or trimmed servo information) reaches or exceeds a smaller threshold. For displacements in the direction of propagation, a larger threshold can be used to inhibit writing and/or trimming of servo information. If the distance between a desired location of to-be-written and/or trimmed servo information and a position of the write element to be used in writing and/or trimming the servo information is less than the larger threshold, the servo information can be written and/or trimmed. On subsequent passes or revolutions over the wedge where the servo information was written and/or trimmed, the servo information can be re-written or re-trimmed if the write element is in a better position (distance is smaller). If the write element is not in a better position on subsequent passes or revolutions, the originally written and/or trimmed servo information can be kept.</p>
  <p num="p-0076">In some embodiments, multiple thresholds can be used during servowriting to determine whether servo information for a servo wedge should be written or trimmed, written and trimmed, or not written or trimmed. For example, referring to <figref idrefs="DRAWINGS">FIG. 13</figref>, a first threshold, T<b>1</b>, smaller than a second threshold, T<b>2</b>, can be used. For each wedge for which servo information is to be written and trimmed during a servowriting pass, a determination can be made as to whether information should be trimmed and written, trimmed or written, or neither trimmed nor written. For each wedge, a distance between a desired location of to-be-written and/or trimmed servo information and a position (actual or predicted) of the write element to be used in writing and/or trimming the servo information (or a predicted location of to-be-written and/or trimmed servo information) can be determined in step <b>1310</b>. If it is determined that the distance is less than the smaller threshold T<b>1</b> in step <b>1320</b>, indicating that servo information will be written and/or trimmed relatively close to a desired location, servo information for the wedge can be written and trimmed during the revolution of the pass in step <b>1330</b>. That is, a first burst can be written and a second burst trimmed during the revolution. An indication that the servo information to be written and trimmed during the servowriting step has been written and trimmed can be written to memory in step <b>1340</b>. The wedge can then be excluded from further servowriting operations during the servowriting step. In one embodiment, the servo information can be re-written and trimmed in a later pass or revolution over the wedge if the write element is in a better position. In some embodiments, the servo information can only easily be re-written and trimmed in a later pass or revolution if the original direction of position-error was in the direction of propagation.</p>
  <p num="p-0077">If it is determined that the distance is greater than the smaller threshold T<b>1</b> but less than the larger threshold T<b>2</b> in step <b>1350</b>, either trimming or writing of servo information can take place during the revolution in step <b>1360</b>. If servo information to be written has been written but servo information to be trimmed has not been trimmed, then the to-be-trimmed servo information can be trimmed. If servo information to be trimmed has been trimmed but servo information to be written has not been written, then the to-be-written servo information can be written. If neither trimming nor writing has been completed, then either can be completed during the pass. The operation not completed can be attempted during a subsequent revolution or pass.</p>
  <p num="p-0078">In step <b>1370</b>, an indication that the servo information was written or trimmed can be written to memory. If it is determined in step <b>1380</b> that all wedges for the pass have been attempted, the revolution is complete. If it is determined that all wedges have not been attempted, the method can advance to the next wedge in step <b>1390</b> and then repeat.</p>
  <p num="p-0079">If it is determined that the distance is greater than the larger threshold T<b>2</b> in step <b>1350</b>, neither writing and trimming or writing or trimming will be done. Writing and/or trimming servo information for the wedge can be attempted during a subsequent revolution of the servowriting pass.</p>
  <p num="p-0080">Individual passes for trimming and writing servo information can reduce the NRRO that may be written into the servo wedge because of the larger position-error of the write element. If the mis-placement of the writer is due to non-synchronous disturbances, then the mis-placement will likely not be the same for every pass or revolution. For example, the misplacement of a lower edge of an A-burst trimmed in a first pass should not be the same as the misplacement of an upper edge of a corresponding B-burst written in a second pass. The resulting line or centerline defined by the boundary between the two bursts will be the average of the two misplacements.</p>
  <p num="p-0081">In one embodiment in accordance with the present invention, the use of thresholds to determine whether to write and/or trim servo information for a wedge during a revolution of a servowriting pass can be combined with other servowriting techniques. Write current variation, for example, can be used to reduce written in runout when a position-error of the write element is relatively small.</p>
  <p num="p-0082">The measured position-error of a write element can be analyzed and used to determine an appropriate write current command which can be sent with write data to the current preamp <b>116</b>, in order to deliver a write current appropriate for the relative position of a head writing servo information. The position measurements from the reference pattern used for servowriting will probably be non-zero, primarily due to imperfect control of the servo position of the reference head, but can be used as a reference for lookup and possible interpolation. A lookup can be done using tables, in which head calibration information and position information can be stored in memory in the hard drive, and used to vary the write-current in order to account for mis-placement of the reference head.</p>
  <p num="p-0083">Referring to <figref idrefs="DRAWINGS">FIG. 14</figref>, a series of A-bursts can be written during a first servowriting step. For the sake of simplicity, it is assumed that all A-bursts are positioned correctly and extend below the desired centerline, such that they can be trimmed during a servowriting step that is performed with a correctly-positioned R/W head. In some embodiments, it can be essential that the writer width be at least a certain percentage of the overall track spacing, such as for example 75%, in order to ensure that the A-bursts extend below the desired centerline. The dotted line in <figref idrefs="DRAWINGS">FIG. 14</figref> shows the actual path of the upper edge of the write element of the R/W head during the servowriting pass in which the B-bursts are written. The patterned areas show the width of the B-bursts without width variation.</p>
  <p num="p-0084">Using the distance between the desired location of an edge of a yet-to-be written servo burst and a write element, along with calibration information stored in calibration tables, the amount the write current should be adjusted in order to write a burst with an upper edge along the track centerline can be determined. The amount of write current can then be adjusted appropriately and used to write the servo burst. As shown in <figref idrefs="DRAWINGS">FIG. 14</figref>, the write current can be varied such that the upper edge of each B-burst is approximately positioned along the desired centerline. The magnitude of the variation shown in <figref idrefs="DRAWINGS">FIG. 14</figref> is exaggerated for purposes of clarity and understanding. Actual variation may only be on the order of about 10% of the nominal data track spacing. It is to be understood that practically the write current is adjusted between an upper and lower limit determined by the writing characteristics of the head. The upper limit exists when the write current does not give a usably wider burst. The lower limit exists when no usable burst can be written. As can be seen from <figref idrefs="DRAWINGS">FIG. 14</figref>, a continually adjusting write current not only helps to ensure that the B-bursts are written with the top edge approximately along the desired centerline, but also can ensure that the bottom edge of each A-burst is trimmed approximately along the centerline.</p>
  <p num="p-0085">Referring now to <figref idrefs="DRAWINGS">FIG. 15</figref>, there is illustrated a method for using write current variation in conjunction with thresholds when writing servo information for individual wedges during a revolution of a servowriting pass. A distance between a desired location of to-be-written and/or trimmed servo information for a wedge and a position (actual or predicted) of the write element to be used in writing and/or trimming the servo information (or a predicted location of to-be-written and/or trimmed servo information) can be determined <b>1510</b>. It is then determined if the distance is greater than a first threshold, T<b>1</b> (step <b>1520</b>). If the distance is not greater than T<b>1</b>, the servo information for the wedge can be written and trimmed using write current variation, if necessary, to compensate for the distance <b>1530</b>. After writing and trimming the servo information, an indication can be written to memory that the servo information to-be-written and trimmed during the pass over the wedge was written and trimmed <b>1540</b>.</p>
  <p num="p-0086">If the distance determined in step <b>1510</b> is greater than T<b>1</b>, it is determined whether the distance is greater than a second threshold, T<b>2</b> (step <b>1550</b>). If it is determined that the distance is not greater than T<b>2</b>, servo information for the wedge can be written or trimmed <b>1560</b>. In one embodiment, write current variation can also be used at this step to minimize the written in runout that may be caused by writing or trimming servo information when the head is positioned a distance from a desired location. An indication can then be written to memory that servo information was written or trimmed for the wedge <b>1570</b>. The operation not performed can be attempted during a subsequent revolution or pass.</p>
  <p num="p-0087">If the distance is greater than T<b>2</b>, servo information is not written or trimmed for the wedge during the revolution. In step <b>1580</b>, it is determined whether all wedges to be written and/or trimmed during the revolution have been attempted. If there are remaining wedges to be attempted during the revolution, the method can advance to a next wedge for which servo information is to be written and/or trimmed <b>1590</b>. The method can then repeat until writing and/or trimming of servo information to be written and/or trimmed for each wedge during the pass has been attempted.</p>
  <p num="p-0088">In one embodiment, the threshold for using write current variation is determined by the characteristics of the head or write element. A threshold can be set to a value equal to the position-error for which an adjusted write current is able to compensate. In one embodiment, two thresholds are used depending on the direction of the position-error of the write element. For example, if a write element is capable of writing a burst 0.05 microns wider than the width of the head using an increased write current, a threshold can be set to a value of 0.025 microns (since the increased width will be in both directions of the width of the head, the increased write current can only write a 0.025 micron wider burst in one direction). This threshold can be used for a first situation where an edge of the write element is positioned a distance away from a desired edge of to-be-written or trimmed information and the write element does not overlap the desired edge of the to-be-written or to-be-trimmed information, as illustrated by the third burst from the left in <figref idrefs="DRAWINGS">FIG. 14</figref>. A second threshold can be used for a second situation where an edge of the write element is positioned a distance away from a desired edge of to-be-written or trimmed information and the write element does overlap the desired edge of the to-be-written or to-be-trimmed information, as illustrated by the first burst from the left in <figref idrefs="DRAWINGS">FIG. 14</figref>. This second threshold can be set to a value equal to one half of the decreased burst width the head is capable of writing using a decreased write current.</p>
  <p num="p-0089">Although embodiments described herein refer generally to systems having a read/write head that can be used to write bursts on rotating magnetic media, other embodiments of the invention can take advantage of similar variation, such as variations in drive current or drive voltage. For example, a laser writing information to an optical media can be driven with variable power in order to increase or decrease pit width in the media in order to reduce track variation. Any media, or at least any rotating media, upon which information is written, placed, or stored, may be able to take advantage of embodiments of the invention, as variations in optical, electrical, magnetic, mechanical, and other physical systems can be made by varying a drive signal or other control in order to reduce track misplacement.</p>
  <p num="p-0090">In many servowriting techniques, information regarding a reference pattern, such as the written-in runout of a reference track, is gathered before writing servo information to a target location. Such information can be used during servowriting to reduce the written-in runout of servo information written to a target location such as servo information written to the final servo wedges of a target track.</p>
  <p num="p-0091">In one approach, this information is gathered by examining a number of parameters over a number of revolutions. These parameters can include the distance between the desired track centerline of a reference track and the apparent centerline obtained from demodulating the burst pattern. Various methods, known to those of ordinary skill in the art, can be used to determine this distance. Examples of such methods and other related systems and methods can be found in U.S. Pat. No. 6,097,565 to Sri-Jayantha et al., entitled: “Repeatable runout free servo architecture in direct access storage device;” U.S. Pat. No. 6,061,200 to Shepherd et al., entitled “In-drive correction of servo pattern errors;” U.S. Pat. No. 5,978,169 to Woods et al., entitled “Repeated servo runout error compensation in a disc drive;” U.S. Pat. No. 6,310,742 to Nazarian et al., entitled “Repeatable runout cancellation in sectored servo disk drive positioning system;” Morris, et al., U.S. Pat. No. 6,449,116, “Compression and Storage of Written-In Compensation Tables in an Embedded Servo Disc Drive”; Morris et al., U.S. Pat. No. 6,069,764 “Compensation for Repeatable Run-Out Error”; Chen et al., U.S. Pat. No. 6,437,936 “Repeatable Runout Compensation Using A Learning Algorithm with Scheduled Parameters”, and Bi et al., U.S. Pat. No. 6,563,663 “Repeatable Runout Compensation Using Iterative Learning Control in A Disc Storage System”, the disclosures of which are incorporated by reference herein.</p>
  <p num="p-0092">Information regarding this determined distance will be referred to herein as Wedge Offset Reduction Field (WORF) data. WORF data can be applied to a servo controller to reduce the runout that would otherwise be written into target tracks during the servowriting process. WORF data can be, for example, a digital number for a servo wedge on a given reference track that includes an amount that should be added to, or subtracted from, the PES value for that wedge on that track obtained from demodulating the bursts. The servo can use the WORF value, add the value to the computed PES, and presumably follow a more accurate track. Applying the WORF data to the PES observed from the reference track can help to more accurately position the write element during the servowriting process in order to reduce runout written into tracks on the target disk or track.</p>
  <p num="p-0093">WORF data can be obtained, for example, by observing several revolutions of the PES and combining the PES with servo loop characteristics to estimate the written-in runout, such as of the reference track. In one embodiment, the PES can be synchronously averaged and then combined with servo loop characteristics to estimate the written-in runout. Various measurements can be made, as are known in the art, to characterize servo loop characteristics. Because the servo typically suffers both synchronous and non-synchronous runout, any measurement intended to determine the synchronous runout will be affected by the non-synchronous runout. If many revolutions of PES data are synchronously averaged, the effects of the non-synchronous runout can lessen, leaving substantially only synchronous runout. This allows better determination of, and subsequent elimination of, the written-in runout.</p>
  <p num="p-0094">In one embodiment in accordance with the present invention, additional information regarding the written-in runout of the reference disk or track, is gathered during revolutions required for the write element to settle to an acceptable position, or during an attempt to write the final wedges. The additional information can be used to update and re-compute any previously determined WORF data or can be used to establish initial WORF data if WORF data was not used in previous attempts. The new or updated WORF data can be used while writing servo information during subsequent revolutions such that the write element can be positioned more accurately.</p>
  <p num="p-0095">Referring to <figref idrefs="DRAWINGS">FIG. 16</figref>, there is illustrated a method in accordance with one embodiment of the present invention for re-determining WORF data (or determining WORF data if no WORF data has been previously determined) to allow later writing of servo wedges having servo information not written and/or trimmed during previous revolutions. After completing a revolution (which can be performed in accordance with the method illustrated in <figref idrefs="DRAWINGS">FIG. 5</figref>), it is determined whether all servo information to be written and/or trimmed during the pass was written and/or trimmed <b>610</b>. If it is determined that all servo information was not written and/or trimmed, the number of revolutions can be compared to a predetermined number of revolutions N (step <b>720</b>). If the number of revolutions is not greater than N, the wedges for which servo information to-be-written and/or trimmed during the pass has not been written and/or trimmed are determined <b>730</b>. After the wedges are determined, position information observed while attempting to write and/or trim servo information during the previous revolution can be gathered <b>1620</b>. The information, which can include position-error information such as the PES value observed during the previous passes over the reference pattern, can be written to memory for possible later use in determining WORF data.</p>
  <p num="p-0096">If the number of passes is greater than N, the wedges for which servo information to-be-written and/or trimmed during the pass has not been written and/or trimmed can be determined <b>740</b>. WORF data can be determined in step <b>1610</b> using position-error information gathered during previous revolutions. For example, position information observed during the previous revolutions can be synchronously averaged to re-compute WORF data. In embodiments where WORF data was determined prior to beginning the pass, the position information observed during the revolutions can be combined with previously determined WORF data. If WORF data was not determined or used prior to beginning the passes, initial WORF data can be determined at step <b>1610</b>. After computing or re-computing the WORF data, servo information for the wedges for which servo information is to be written and/or trimmed can be attempted to be written and/or trimmed during a subsequent revolution according to the method illustrated in <figref idrefs="DRAWINGS">FIG. 5</figref> using the WORF data.</p>
  <p num="p-0097">Various schemes for determining and applying WORF data can be used in accordance with embodiments of the present invention. For example, WORF data can include WORF data determined for individual wedges of the reference track. The WORF data can then be applied on a wedge-by-wedge basis while writing a target track. In other embodiments, WORF data can include WORF data for an entire reference track. The WORF data can then be applied while writing a corresponding target track. In yet other embodiments, WORF data can include WORF data for various circumferential locations around a reference track.</p>
  <p num="p-0098">The number of revolutions, N, used to determine when to re-compute WORF data can vary by embodiment and by the needs of various applications. In one embodiment, for example, the number of revolutions is 4. In other embodiments, WORF data can be re-computed after a different number of revolutions.</p>
  <p num="p-0099">The re-computing of the WORF data can be done a number of ways. In one embodiment, a new WORF value is determined using an iterative solution application gain parameter, α, between zero and one where:
<br>New WORF value=old WORF value+α(residual WORF estimate)<br>
Since the adaptation gain parameter has a value between zero and one, only a fraction of the derived compensation value is used to adjust the compensation value used by the servo loop. This causes the servo loop's compensation value to increase in a controlled manner. Shepherd et al., U.S. Pat. No. 6,061,200 “In-drive Correction of Servo Pattern Errors”, incorporated herein by reference, describe one example of such an iterative solution, see especially Column 6, lines 34–60. in that document, the quantity referred to here as the “residual WORF estimate” is referred to as “err(t){circle around (×)} kernel” where err(t) is defined as the tracking error, the kernel is a representation of servo loop dynamics and {circle around (×)} is the convolution operator. The application gain parameter, α, can be frequency dependent.
</p>
  <p num="p-0100">Other methods of recalculating the WORF values can be done as described in Morris, et al., U.S. Pat. No. 6,449,116, “Compression and Storage of Written-In Compensation Tables in an Embedded Servo Disc Drive”; Morris et al., U.S. Pat. No. 6,069,764 “Compensation for Repeatable Run-Out Error”; Chen et al., U.S. Pat. No. 6,437,936 “Repeatable Runout Compensation Using A Learning Algorithm with Scheduled Parameters”, and Bi et al., U.S. Pat. No. 6,563,663 “Repeatable Runout Compensation Using Iterative Learning Control in A Disc Storage System”, which are incorporated herein by reference.</p>
  <p num="p-0101">Many features of the present invention can be performed using hardware, software, firmware, or combinations thereof. Consequently, features of the present invention may be implemented using a control mechanism including one or more processors, a disk controller, or servo controller within or associated with a disk drive (e.g., disk drive <b>100</b>). The control mechanism can include a processor, disk controller, servo controller, or any combination thereof. In addition, various software components can be integrated with or within any of the processor, disk controller, or servo controller.</p>
  <p num="p-0102">Features of the present invention can be implemented in a computer program product which is a storage medium (media) having instructions stored thereon/in which can be used to program a processing system to perform any of the features presented herein. The storage medium can include, but is not limited to, any type of disk including floppy disks, optical discs, DVD, CD-ROMs, microdrive, and magneto-optical disks, ROMs, RAMs, EPROMs, EEPROMs, DRAMs, VRAMs, flash memory devices, magnetic or optical cards, nanosystems (including molecular memory ICs), or any type of media or device suitable for storing instructions and/or data.</p>
  <p num="p-0103">Stored on any one of the computer readable medium (media), the present invention can include software for controlling both the hardware of the general purpose/specialized computer, microprocessor, or disk drive, and for enabling the computer or microprocessor to interact with a human user or other mechanism utilizing the results of the present invention. Such software and/or firmware may include, but is not limited to, application code, device drivers, operating systems, execution environments/containers.</p>
  <p num="p-0104">Features of the invention may also be implemented exclusively or primarily in hardware using, for example, hardware components such as application specific integrated circuits (ASICs). Implementation of the hardware state machine so as to perform the functions described herein will be apparent to persons skilled in the relevant art(s).</p>
  <p num="p-0105">One embodiment may be implemented using a conventional general purpose or a specialized digital computer or microprocessor(s) programmed according to the teachings of the present disclosure, as will be apparent to those skilled in the computer art. Appropriate software coding can readily be prepared by skilled programmers based on the teachings of the present disclosure, as will be apparent to those skilled in the software art. The invention may also be implemented by the preparation of integrated circuits or by interconnecting an appropriate network of conventional component circuits, as will be readily apparent to those skilled in the art.</p>
  <p num="p-0106">It will be apparent to those of ordinary skill in the art that various methods and operations described herein can be combined into additional methods and operations, all considered within the scope of the present invention. For example, the concept of multiple thresholds for different directions of position-error of the write element can be combined with the concept of multiple thresholds for determining whether to write and trim, write or trim, or neither write nor trim. The direction of position-error coupled with the amount of position-error can be used to determine what operation to perform.</p>
  <p num="p-0107">Although various embodiments of the present invention, including exemplary and explanatory methods and operations, have been described in terms of multiple discrete steps performed in turn, the order of the descriptions should not necessarily be construed as to imply that the embodiments are order dependent. Where practicable for example, various operations can be performed in alternative orders than those presented herein.</p>
  <p num="p-0108">The foregoing description of preferred embodiments of the present invention has been provided for the purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise forms disclosed. Many modifications and variations will be apparent to one of ordinary skill in the relevant arts. The embodiments were chosen and described in order to best explain the principles of the invention and its practical application, thereby enabling others skilled in the art to understand the invention for various embodiments and with various modifications that are suited to the particular use contemplated. It is intended that the scope of the invention be defined by the claims and their equivalents.</p>
</div></div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Patent Citations</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Cited Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6061200">US6061200</a></td><td class="patent-data-table-td patent-date-value">Sep 11, 1997</td><td class="patent-data-table-td patent-date-value">May 9, 2000</td><td class="patent-data-table-td ">Quantum Corporation</td><td class="patent-data-table-td ">In-drive correction of servo pattern errors</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6069764">US6069764</a></td><td class="patent-data-table-td patent-date-value">Jun 29, 1998</td><td class="patent-data-table-td patent-date-value">May 30, 2000</td><td class="patent-data-table-td ">Seagate Technology, Inc.</td><td class="patent-data-table-td ">Compensation for repeatable run-out error</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6437936">US6437936</a></td><td class="patent-data-table-td patent-date-value">Jan 21, 2000</td><td class="patent-data-table-td patent-date-value">Aug 20, 2002</td><td class="patent-data-table-td ">Seagate Technology Llc</td><td class="patent-data-table-td ">Repeatable runout compensation using a learning algorithm with scheduled parameters</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6449116">US6449116</a></td><td class="patent-data-table-td patent-date-value">Feb 12, 2001</td><td class="patent-data-table-td patent-date-value">Sep 10, 2002</td><td class="patent-data-table-td ">Seagate Technology Llc</td><td class="patent-data-table-td ">Compression and storage of written-in error compensation tables in an embedded servo disc drive</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6563663">US6563663</a></td><td class="patent-data-table-td patent-date-value">Dec 29, 1999</td><td class="patent-data-table-td patent-date-value">May 13, 2003</td><td class="patent-data-table-td ">Seagate Technology Llc</td><td class="patent-data-table-td ">Repeatable runout compensation using iterative learning control in a disc storage system</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6657805">US6657805</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Sep 4, 2001</td><td class="patent-data-table-td patent-date-value">Dec 2, 2003</td><td class="patent-data-table-td ">Hitachi, Ltd.</td><td class="patent-data-table-td ">Method of controlling read write operation of a magnetic disk apparatus</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6710953">US6710953</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Mar 30, 2001</td><td class="patent-data-table-td patent-date-value">Mar 23, 2004</td><td class="patent-data-table-td ">Western Digital Technologies, Inc.</td><td class="patent-data-table-td ">Method and disk drive for improving data storage capacity of data tracks using push-down wedges</td></tr></table><div class="patent-section-footer">* Cited by examiner</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Referenced by</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Citing Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7474491">US7474491</a></td><td class="patent-data-table-td patent-date-value">Dec 11, 2006</td><td class="patent-data-table-td patent-date-value">Jan 6, 2009</td><td class="patent-data-table-td ">Maxtor Corporation</td><td class="patent-data-table-td ">Adaptive write unsafe thresholds for self servo writing</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7864486">US7864486</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jan 29, 2009</td><td class="patent-data-table-td patent-date-value">Jan 4, 2011</td><td class="patent-data-table-td ">Kabushiki Kaisha Toshiba</td><td class="patent-data-table-td ">Hard disc apparatus and head alignment method</td></tr></table><div class="patent-section-footer">* Cited by examiner</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">Classifications</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">U.S. Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=tDlxBAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc360/defs360.htm&usg=AFQjCNE0Xwvm4Ta3xlrzDiWURY1aLNtnBA#C360S075000">360/75</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tDlxBAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc360/defs360.htm&usg=AFQjCNE0Xwvm4Ta3xlrzDiWURY1aLNtnBA#C360S077080">360/77.08</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tDlxBAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc360/defs360.htm&usg=AFQjCNE0Xwvm4Ta3xlrzDiWURY1aLNtnBA#C360S060000">360/60</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tDlxBAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspcG9B/defsG9B.htm&usg=AFQjCNE1uzWUMUoBoyPG8UViGilZBwVzaQ#CG9BS005222">G9B/5.222</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tDlxBAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc360/defs360.htm&usg=AFQjCNE0Xwvm4Ta3xlrzDiWURY1aLNtnBA#C360S077040">360/77.04</a></span></td></tr><tr><td class="patent-data-table-td ">International Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=tDlxBAABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G11B0019040000">G11B19/04</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tDlxBAABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G11B0005596000">G11B5/596</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tDlxBAABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G11B0021020000">G11B21/02</a></span></td></tr><tr><td class="patent-data-table-td ">Cooperative Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=tDlxBAABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G11B5/59633">G11B5/59633</a></span></td></tr><tr><td class="patent-data-table-td ">European Classification</td><td class="patent-data-table-td "><span class="nested-value">G11B5/596F</span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">Legal Events</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Date</th><th class="patent-data-table-th">Code</th><th class="patent-data-table-th">Event</th><th class="patent-data-table-th">Description</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">Mar 19, 2014</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">PANASONIC CORPORATION, JAPAN</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:PANASONIC HEALTHCARE CO., LTD.;REEL/FRAME:032480/0433</span></div><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20140301</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Feb 27, 2014</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">PANASONIC HEALTHCARE CO., LTD., JAPAN</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:PANASONIC CORPORATION;REEL/FRAME:032360/0795</span></div><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20131127</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Feb 25, 2014</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">PANASONIC CORPORATION, JAPAN</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">CHANGE OF NAME;ASSIGNOR:MATSUSHITA ELECTRIC INDUSTRIAL CO., LTD.;REEL/FRAME:032332/0082</span></div><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20081001</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Mar 13, 2013</td><td class="patent-data-table-td ">FPAY</td><td class="patent-data-table-td ">Fee payment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Year of fee payment: </span><span class="nested-value">8</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Mar 29, 2011</td><td class="patent-data-table-td ">B1</td><td class="patent-data-table-td ">Reexamination certificate first reexamination</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">THE PATENTABILITY OF CLAIMS 1-20 AND 27-37 IS CONFIRMED. CLAIMS 21-26 ARE CANCELLED.</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Jul 8, 2009</td><td class="patent-data-table-td ">FPAY</td><td class="patent-data-table-td ">Fee payment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Year of fee payment: </span><span class="nested-value">4</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Mar 13, 2007</td><td class="patent-data-table-td ">RR</td><td class="patent-data-table-td ">Request for reexamination filed</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20061027</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Oct 28, 2004</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">MATSUSHITA ELECTRIC INDUSTRIAL CO., LTD., JAPAN</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:EHRLICH, RICHARD M.;REEL/FRAME:015306/0500</span></div><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20041025</span></div></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">Rotate</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">Original Image</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " Image not available"});</script></div></div></div></td></tr></table><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_8a2b04e7bf975d5171d8e4c0b6365c7a.js", Host:"http://www.google.com/", IsBooksRentalEnabled:1, IsWebstoreDisplayCaseEnabled:1, IsObfuscationEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsGeoLayerEnabled:1, IsImageModeNotesEnabled:1, IsCopyMenuItemEnabled:1, IsGiftingEnabled:0, IsWebReaderUniversalPaginatorEnabled:0, IsOfflineBubbleEnabled:1, IsReaderEnabledForPlayRequests:1, IsFutureOnSaleVolumesEnabled:1, IsOfflineRestrictedCopyEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsRestrictedCopyEnabled:1, IsZipitFolderCollectionEnabled:1, IsEndOfSampleRecommendationsEnabled:1, IsRatingsOnBookcardsEnabled:1, IsAdsDisabled:0, IsIframePageDisplayEnabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:0, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsPreOrdersEnabled:0, IsDisabledRandomBookshelves:0, WebstoreDisplayCasePosition:3});_OC_Run({"enable_p13n":false,"add_vol_to_collection_base_url":"http://www.google.com/patents?op=add\u0026sig=ACfU3U3XClQKvG4K3NT3ZDuXRfBV4lLrog\u0026id=tDlxBAABERAJ","remove_vol_from_collection_base_url":"http://www.google.com/patents?op=remove\u0026sig=ACfU3U2UAu2jGmcudB6URDSS5iwUQfZhbw\u0026id=tDlxBAABERAJ","logged_in":false,"p13n_save_user_settings_url":"http://www.google.com/patents?op=edit_user_settings\u0026sig=ACfU3U1FXSqCAhxl4H0G363hzONKAcLpdQ","is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=http://www.google.com/patents%3Fhl%3Den\u0026hl=en","is_play_enabled":true}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"http://www.google.com/patents/download/Systems_for_WORF_improvement_in_conditio.pdf?id=tDlxBAABERAJ\u0026output=pdf\u0026sig=ACfU3U1e9SEDlnlW-mBIuCB8DKGNOxZoDQ"},"sample_url":"http://www.google.com/patents/reader?id=tDlxBAABERAJ\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href=http://www.google.com/><nobr>Google&nbsp;Home</nobr></a> - <a href=//www.google.com/patents/sitemap/><nobr>Sitemap</nobr></a> - <a href=http://www.google.com/googlebooks/uspto.html><nobr>USPTO Bulk Downloads</nobr></a> - <a href=/intl/en/privacy/><nobr>Privacy Policy</nobr></a> - <a href=/intl/en/policies/terms/><nobr>Terms of Service</nobr></a> - <a href=https://support.google.com/faqs/answer/2539193?hl=en><nobr>About Google Patents</nobr></a> - <a href="http://www.google.com/tools/feedback/intl/en/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'en'});return false;}catch(e){}"><nobr>Send Feedback</nobr></a></div><span>Data provided by IFI CLAIMS Patent Services</span><br><span >&copy;2012 Google</span></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>