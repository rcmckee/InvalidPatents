<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html><head><title>Patent US7969288 - Force feedback system including multi-tasking graphical host environment and ... - Google Patents</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_4ff636b3d23669b7103f3b3a3a18b4cd/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_4ff636b3d23669b7103f3b3a3a18b4cd__en.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "en",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="Force feedback system including multi-tasking graphical host environment and interface device"><meta name="DC.contributor" content="Adam C. Braun" scheme="inventor"><meta name="DC.contributor" content="Jonathan L. Beamer" scheme="inventor"><meta name="DC.contributor" content="Louis B. Rosenberg" scheme="inventor"><meta name="DC.contributor" content="Dean C. Chang" scheme="inventor"><meta name="DC.contributor" content="Immersion Corporation" scheme="assignee"><meta name="DC.date" content="2007-11-2" scheme="dateSubmitted"><meta name="DC.description" content="A force feedback system provides components for use in a force feedback system including a host computer and a force feedback interface device. An architecture for a host computer allows multi-tasking application programs to interface with the force feedback device without conflicts. One embodiment of a force feedback device provides both relative position reporting and absolute position reporting to allow great flexibility. A different device embodiment provides relative position reporting device allowing maximum compatibility with existing software. Information such as ballistic parameters and screen size sent from the host to the force feedback device allow accurate mouse positions and cursor positions to be determined in the force feedback environment. Force feedback effects and structures are further described, such as events and enclosures."><meta name="DC.date" content="2011-6-28" scheme="issued"><meta name="DC.relation" content="US:4868549" scheme="references"><meta name="DC.relation" content="US:5802353" scheme="references"><meta name="DC.relation" content="US:6300936" scheme="references"><meta name="DC.relation" content="US:7168042" scheme="references"><meta name="DC.relation" content="WO:1997021160:A2" scheme="references"><meta name="citation_reference" content="European Patent Office, Communication pursuant to Article 96(2) EPC, Application No. 98957726, mailed Jan. 14, 2003."><meta name="citation_reference" content="European Patent Office, Supplemental European Search Report, Application No. 98957726, mailed Sep. 12, 2000."><meta name="citation_reference" content="Patent Cooperation Treaty, Notification of Transmittal of the International Search Report or the Declaration, Application No. PCT/US98/23582, mailed Mar. 24, 1999."><meta name="citation_reference" content="The Patent Office, Examination Report under Section 18(3), UK Patent Application No. 0014338, mailed Sep. 6, 2001."><meta name="citation_reference" content="The Patent Office, Patents Act 1977: Examination Report under Section 18(3), UK Patent Application No. 0014338, mailed Feb. 26, 2002."><meta name="citation_reference" content="United States Patent and Trademark Office, Office Action , U.S. Appl. No. 11/504,131, mailed Apr. 19, 2010."><meta name="citation_reference" content="United States Patent and Trademark Office, Office Action , U.S. Appl. No. 11/824,593, mailed Dec. 9, 2010."><meta name="citation_reference" content="United States Patent and Trademark Office, Office Action, U.S. Appl. No. 09/974,197 mailed Apr. 22, 2004."><meta name="citation_reference" content="United States Patent and Trademark Office, Office Action, U.S. Appl. No. 09/974,197 mailed Aug. 6, 2003."><meta name="citation_reference" content="United States Patent and Trademark Office, Office Action, U.S. Appl. No. 09/974,197 mailed Dec. 27, 2004."><meta name="citation_reference" content="United States Patent and Trademark Office, Office Action, U.S. Appl. No. 09/974,197 mailed Jan. 15, 2003."><meta name="citation_reference" content="United States Patent and Trademark Office, Office Action, U.S. Appl. No. 11/504,131 mailed Apr. 19, 2010."><meta name="citation_reference" content="United States Patent and Trademark Office, Office Action, U.S. Appl. No. 11/504,131 mailed Nov. 2, 2009."><meta name="citation_reference" content="United States Patent and Trademark Office, Office Action, U.S. Appl. No. 11/504,131, mailed Nov. 2, 2009."><meta name="citation_patent_number" content="US:7969288"><meta name="citation_patent_application_number" content="US:11/982,593"><link rel="canonical" href="http://www.google.com/patents/US7969288"/><meta property="og:url" content="http://www.google.com/patents/US7969288"/><meta name="title" content="Patent US7969288 - Force feedback system including multi-tasking graphical host environment and interface device"/><meta name="description" content="A force feedback system provides components for use in a force feedback system including a host computer and a force feedback interface device. An architecture for a host computer allows multi-tasking application programs to interface with the force feedback device without conflicts. One embodiment of a force feedback device provides both relative position reporting and absolute position reporting to allow great flexibility. A different device embodiment provides relative position reporting device allowing maximum compatibility with existing software. Information such as ballistic parameters and screen size sent from the host to the force feedback device allow accurate mouse positions and cursor positions to be determined in the force feedback environment. Force feedback effects and structures are further described, such as events and enclosures."/><meta property="og:title" content="Patent US7969288 - Force feedback system including multi-tasking graphical host environment and interface device"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>(function(){try{var aa=function(a,b,c,d){d=d||{};d._sn=["cfg",b,c].join(".");window.gbar.logger.ml(a,d)};var g=window.gbar=window.gbar||{},l=window.gbar.i=window.gbar.i||{},m={},n;function _tvn(a,b){var c=parseInt(a,10);return isNaN(c)?b:c}function _tvf(a,b){var c=parseFloat(a);return isNaN(c)?b:c}function _tvv(a){return!!a}function p(a,b,c){(c||g)[a]=b}g.bv={n:_tvn("2",0),r:"",f:".67.",e:"0",m:_tvn("0",1)};
function q(a,b,c){var d="on"+b;if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent(d,c);else{var f=a[d];a[d]=function(){var a=f.apply(this,arguments),b=c.apply(this,arguments);return void 0==a?b:void 0==b?a:b&&a}}}var s=function(a){return function(){return g.bv.m==a}},ba=s(1),ca=s(2);p("sb",ba);p("kn",ca);l.a=_tvv;l.b=_tvf;l.c=_tvn;l.i=aa;var da=window.gbar.i.i;var t,u,v,w;function ea(a){v=a}function fa(a){var b;if(b=v&&window.encodeURIComponent)b=a.href,b=!b.match(/^http[s]?:\/\/accounts\.google\.[^/]*\/ClearSID/i)&&!b.match(/^http[s]?:\/\/[^/]*\/accounts\/ClearSID/i);if(b=b&&encodeURIComponent(v()))a.href=a.href.replace(/([?&]continue=)[^&]*/,"$1"+b)}function ga(a){window.gApplication&&(a.href=window.gApplication.getTabUrl(a.href))}
function ha(a){var b=document.forms[0].q,c=window.encodeURIComponent&&b&&b.value,b=b&&b.placeholder;c&&c!=b&&(a.href=a.href.replace(/([?&])q=[^&]*|$/,function(a,b){return(b||"&")+"q="+encodeURIComponent(c)}))}n=l.a("")?ga:ha;
function x(a,b,c,d,f,e){var h=document.getElementById(a);if(h){var k=h.style;k.left=d?"auto":b+"px";k.right=d?b+"px":"auto";k.top=c+"px";k.visibility=u?"hidden":"visible";f&&e?(k.width=f+"px",k.height=e+"px"):(x(t,b,c,d,h.offsetWidth,h.offsetHeight),u=u?"":a)}}
var y=[],ia=function(a,b){y.push(b)},ja=function(a){a=a||window.event;var b=a.target||a.srcElement;a.cancelBubble=!0;null==t&&(a=document.createElement(Array.every||window.createPopup?"iframe":"div"),a.frameBorder="0",t=a.id="gbs",a.src="javascript:''",b.parentNode.appendChild(a),q(document,"click",z));var c=b,b=0;"gb3"!=c.className&&(c=c.parentNode);a=c.getAttribute("aria-owns")||"gbi";var d=c.offsetWidth,f=20<c.offsetTop?46:24;document.getElementById("tphdr")&&(f-=3);var e=!1;do b+=c.offsetLeft||
0;while(c=c.offsetParent);var c=(document.documentElement.clientWidth||document.body.clientWidth)-b-d,h,d=document.body,k=document.defaultView;k&&k.getComputedStyle?(d=k.getComputedStyle(d,""))&&(h=d.direction):h=d.currentStyle?d.currentStyle.direction:d.style.direction;h="rtl"==h;if("gbi"==a){for(d=0;k=y[d++];)k();A(null,window.navExtra);h&&(b=c,e=!0)}else h||(b=c,e=!0);u!=a&&z();x(a,b,f,e)},z=function(){u&&x(u,0,0)},A=function(a,b){var c,d=document.getElementById("gbi"),f=a;f||(f=d.firstChild);
for(;b&&(c=b.pop());){var e=d,h=c,k=f;w||(w="gb2");e.insertBefore(h,k).className=w}},ka=function(a,b,c){if((b=document.getElementById(b))&&a){a.className="gb4";var d=document.createElement("span");d.appendChild(a);d.appendChild(document.createTextNode(" | "));d.id=c;b.appendChild(d)}},la=function(){return document.getElementById("gb_70")},ma=function(){return!!u};p("qs",n);p("setContinueCb",ea);p("pc",fa);p("tg",ja);p("close",z);p("addLink",ka);p("almm",A);p("si",la);p("adh",ia);p("op",ma);var B=function(){},C=function(){},F=function(a){var b=new Image,c=D;b.onerror=b.onload=b.onabort=function(){try{delete E[c]}catch(a){}};E[c]=b;b.src=a;D=c+1},E=[],D=0;p("logger",{il:C,ml:B,log:F});var G=window.gbar.logger;var H={},na={},I=[],oa=l.b("0.1",.1),pa=l.a("1",!0),qa=function(a,b){I.push([a,b])},ra=function(a,b){H[a]=b},sa=function(a){return a in H},J={},K=function(a,b){J[a]||(J[a]=[]);J[a].push(b)},ta=function(a){K("m",a)},L=function(a,b){var c=document.createElement("script");c.src=a;c.async=pa;Math.random()<oa&&(c.onerror=function(){c.onerror=null;B(Error("Bundle load failed: name="+(b||"UNK")+" url="+a))});(document.getElementById("xjsc")||document.getElementsByTagName("body")[0]||
document.getElementsByTagName("head")[0]).appendChild(c)},N=function(a){for(var b=0,c;(c=I[b])&&c[0]!=a;++b);!c||c[1].l||c[1].s||(c[1].s=!0,M(2,a),c[1].url&&L(c[1].url,a),c[1].libs&&m.d&&m.d(c[1].libs))},O=function(a){K("gc",a)},P=null,ua=function(a){P=a},M=function(a,b,c){if(P){a={t:a,b:b};if(c)for(var d in c)a[d]=c[d];try{P(a)}catch(f){}}};p("mdc",H);p("mdi",na);p("bnc",I);p("qGC",O);p("qm",ta);p("qd",J);p("lb",N);p("mcf",ra);p("bcf",qa);p("aq",K);p("mdd","");p("has",sa);
p("trh",ua);p("tev",M);var Q=l.b("0.1",.001),R=0;
function _mlToken(a,b){try{if(1>R){R++;var c,d=a,f=b||{},e=encodeURIComponent,h=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&jexpid=",e("17483"),"&srcpg=",e("prop=22"),"&jsr=",Math.round(1/Q),"&ogev=",e("OOToU6T3HsOZyASdp4DYCA"),"&ogf=",g.bv.f,"&ogrp=",e("1"),"&ogv=",e("1407291699.0"),"&oggv="+e("es_plusone_gc_20140723.0_p0"),"&ogd=",e("com"),"&ogc=",e("LUX"),"&ogl=",e("en")];f._sn&&(f._sn="og."+
f._sn);for(var k in f)h.push("&"),h.push(e(k)),h.push("="),h.push(e(f[k]));h.push("&emsg=");h.push(e(d.name+":"+d.message));var r=h.join("");S(r)&&(r=r.substr(0,2E3));c=r;var Aa=window.gbar.logger._aem(a,c);F(Aa)}}catch(Na){}}var S=function(a){return 2E3<=a.length},va=function(a,b){return b};function T(a){B=a;p("_itl",S,G);p("_aem",va,G);p("ml",B,G);a={};H.er=a}l.a("")?T(function(a){throw a;}):l.a("1")&&Math.random()<Q&&T(_mlToken);I.push(["m",{url:"//ssl.gstatic.com/gb/js/scm_7385cc5883250b43a39405734c1bea59.js"}]);g.mcf("c",{});g.sg={c:""};if(l.a("1")){var wa=l.a("");I.push(["gc",{auto:wa,url:"//ssl.gstatic.com/gb/js/abc/gci_91f30755d6a6b787dcc2a4062e6e9824.js",libs:"googleapis.client:plusone:gapi.iframes"}]);var xa={version:"gci_91f30755d6a6b787dcc2a4062e6e9824.js",index:"",lang:"en"};H.gc=xa;var U=function(a){window.googleapis&&window.iframes?a&&a():(a&&O(a),N("gc"))};p("lGC",U);l.a("1")&&p("lPWF",U)};window.__PVT="";if(l.a("1")&&l.a("1")){var V=function(a){U(function(){K("pw",a);N("pw")})};p("lPW",V);I.push(["pw",{url:"//ssl.gstatic.com/gb/js/abc/pwm_45f73e4df07a0e388b0fa1f3d30e7280.js"}]);var W=[],ya=function(a){W[0]=a},za=function(a,b){var c=b||{};c._sn="pw";B(a,c)},Ba={signed:W,elog:za,base:"https://plusone.google.com/u/0",loadTime:(new Date).getTime()};H.pw=Ba;var X=function(a,b){for(var c=b.split("."),d=function(){var b=arguments;a(function(){for(var a=g,d=0,e=c.length-1;d<e;++d)a=a[c[d]];a[c[d]].apply(a,b)})},f=g,e=0,h=c.length-1;e<h;++e)f=
f[c[e]]=f[c[e]]||{};return f[c[e]]=d};X(V,"pw.clk");X(V,"pw.hvr");p("su",ya,g.pw)};function Ca(){function a(){for(var b;(b=e[h++])&&"m"!=b[0]&&!b[1].auto;);b&&(M(2,b[0]),b[1].url&&L(b[1].url,b[0]),b[1].libs&&m.d&&m.d(b[1].libs));h<e.length&&setTimeout(a,0)}function b(){0<f--?setTimeout(b,0):a()}var c=l.a("1"),d=l.a(""),f=3,e=I,h=0,k=window.gbarOnReady;if(k)try{k()}catch(r){da(r,"ml","or")}d?p("ldb",a):c?q(window,"load",b):b()}p("rdl",Ca);var Da={D:1,H:2,da:3,p:4,W:5,M:6,F:7,g:8,ha:9,U:10,L:11,T:12,S:13,N:14,Q:15,P:16,fa:17,w:18,O:19,ga:20,ea:21,u:22,G:23,ja:24,ka:25,ia:26,A:27,j:28,o:29,k:30,ca:31,Z:32,$:33,J:34,K:35,ba:36,aa:37,Y:38,B:39,R:40,v:41,X:42,V:43,h:48,C:49,I:500},Y=[1,2,3,4,5,6,9,10,11,13,14,28,29,30,34,35,37,38,39,40,41,42,43,48,49,500];var Z=l.b("0.001",1E-4),Ea=l.b("1",1),Fa=!1,Ga=!1;if(l.a("1")){var Ha=Math.random();Ha<=Z&&(Fa=!0);Ha<=Ea&&(Ga=!0)}var Ia=Da,$=null;function Ja(){var a=0,b=function(b,d){l.a(d)&&(a|=b)};b(1,"");b(2,"");b(4,"");b(8,"");return a}
function Ka(a,b){var c=Z,d=Fa,f;f=a;if(!$){$={};for(var e=0;e<Y.length;e++){var h=Y[e];$[h]=!0}}if(f=!!$[f])c=Ea,d=Ga;if(d){d=encodeURIComponent;g.rp?(f=g.rp(),f="-1"!=f?f:"1"):f="1";c=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&oge=",a,"&ogex=",d("17483"),"&ogev=",d("OOToU6T3HsOZyASdp4DYCA"),"&ogf=",g.bv.f,"&ogp=",d("22"),"&ogrp=",d(f),"&ogsr=",Math.round(1/c),"&ogv=",d("1407291699.0"),"&oggv="+
d("es_plusone_gc_20140723.0_p0"),"&ogd=",d("com"),"&ogl=",d("en"),"&ogc=",d("LUX"),"&ogus=",Ja()];if(b){"ogw"in b&&(c.push("&ogw="+b.ogw),delete b.ogw);var k;f=b;e=[];for(k in f)0!=e.length&&e.push(","),e.push(La(k)),e.push("."),e.push(La(f[k]));k=e.join("");""!=k&&(c.push("&ogad="),c.push(d(k)))}F(c.join(""))}}function La(a){"number"==typeof a&&(a+="");return"string"==typeof a?a.replace(".","%2E").replace(",","%2C"):a}C=Ka;p("il",C,G);var Ma={};H.il=Ma;setTimeout(function(){C(Ia.g)},0);}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var b=window.gbar.i.i;var c=window.gbar;var f=function(d){try{var a=document.getElementById("gbom");a&&d.appendChild(a.cloneNode(!0))}catch(e){b(e,"omas","aomc")}};c.aomc=f;}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var a=window.gbar;a.mcf("pm",{p:""});}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{window.gbar.rdl();}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{float:left;height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}#gbs,.gbm{background:#fff;left:0;position:absolute;text-align:left;visibility:hidden;z-index:1000}.gbm{border:1px solid;border-color:#c9d7f1 #36c #36c #a2bae7;z-index:1001}.gb1{margin-right:.5em}.gb1,.gb3{zoom:1}.gb2{display:block;padding:.2em .5em}.gb2,.gb3{text-decoration:none !important;border-bottom:none}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb2,a.gb3,a.gb4{color:#00c !important}.gbi .gb3,.gbi .gb2,.gbi .gb4{color:#dd8e27 !important}.gbf .gb3,.gbf .gb2,.gbf .gb4{color:#900 !important}a.gb2:hover{background:#36c;color:#fff !important}#gbar .gbz0l{color:#000 !important;cursor:default;font-weight:bold;text-decoration:none !important}
#gbar { padding:.3em .6em !important;}</style></head><body  topmargin="3" marginheight="3"><div id=gbar><nobr><a onclick=gbar.qs(this);gbar.logger.il(1,{t:1}); class=gb1 id=gb_1 href="https://www.google.com/search?sa=N&tab=tw">Search</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:2}); class=gb1 id=gb_2 href="http://www.google.com/search?hl=en&tbm=isch&source=og&sa=N&tab=ti">Images</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:8}); class=gb1 id=gb_8 href="http://maps.google.com/maps?hl=en&sa=N&tab=tl">Maps</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:78}); class=gb1 id=gb_78 href="https://play.google.com/?hl=en&sa=N&tab=t8">Play</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:36}); class=gb1 id=gb_36 href="http://www.youtube.com/results?sa=N&tab=t1">YouTube</a> <a onclick=gbar.logger.il(1,{t:5}); class=gb1 id=gb_5 href="http://news.google.com/nwshp?hl=en&tab=tn">News</a> <a onclick=gbar.logger.il(1,{t:23}); class=gb1 id=gb_23 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a onclick=gbar.logger.il(1,{t:25}); class=gb1 id=gb_25 href="https://drive.google.com/?tab=to">Drive</a> <a class=gb3 href="http://www.google.com/intl/en/options/" onclick="this.blur();gbar.tg(event);return !1" aria-haspopup=true><u>More</u> <small>&#9660;</small></a><div class=gbm id=gbi><a onclick=gbar.logger.il(1,{t:24}); class=gb2 id=gb_24 href="https://www.google.com/calendar?tab=tc">Calendar</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:51}); class=gb2 id=gb_51 href="http://translate.google.com/?hl=en&sa=N&tab=tT">Translate</a><a onclick=gbar.logger.il(1,{t:17}); class=gb2 id=gb_17 href="http://www.google.com/mobile/?hl=en&tab=tD">Mobile</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:10}); class=gb2 id=gb_10 href="http://www.google.com/search?hl=en&tbo=u&tbm=bks&source=og&sa=N&tab=tp">Books</a><a onclick=gbar.logger.il(1,{t:212}); class=gb2 id=gb_212 href="https://wallet.google.com/manage/?tab=ta">Wallet</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:6}); class=gb2 id=gb_6 href="http://www.google.com/search?hl=en&tbo=u&tbm=shop&source=og&sa=N&tab=tf">Shopping</a><a onclick=gbar.logger.il(1,{t:30}); class=gb2 id=gb_30 href="http://www.blogger.com/?tab=tj">Blogger</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:27}); class=gb2 id=gb_27 href="http://www.google.com/finance?sa=N&tab=te">Finance</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:31}); class=gb2 id=gb_31 href="https://plus.google.com/photos?sa=N&tab=tq">Photos</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:12}); class=gb2 id=gb_12 href="http://www.google.com/search?hl=en&tbo=u&tbm=vid&source=og&sa=N&tab=tv">Videos</a><div class=gb2><div class=gbd></div></div><a onclick=gbar.logger.il(1,{t:66}); href="http://www.google.com/intl/en/options/" class=gb2>Even more &raquo;</a></div></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=http://www.google.com/patents%3Fhl%3Den&hl=en" class=gb4>Sign in</a><div style="display: none"><div class=gbm id=gbd5 aria-owner=gbg5><div class=gbmc><ol id=gbom class=gbmcc></ol></div></div></div></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="http://www.google.com/patents/us7969288?hl=en&amp;output=html_text" title="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."><img border="0" src="http://www.google.com/images/cleardot.gif"alt="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."></a></div><div id="guser"><nobr></nobr></div><div style="clear:both;"></div><div id="gb-top-search-box" class="gb-top-search-box-small gb-reset"><table><tr><td class="logo"><a href="http://www.google.com/patents" class="logo-link"><img class="logo-img" src="/intl/en/images/logos/google_logo_41.png" alt="Go to Google Books Home" height="41"/></a></td><td><form action="http://www.google.com/search" name="f" id="vheadf" method="get"><span id="hf"></span><input type="hidden" name="tbm" value="pts"/><input type="hidden" name="tbo" value="1"/><input type="hidden" name="hl" value="en"/><table><tr><td><div class="inputs"><table><tr><td><div class="text-input"><input type="text" name="q" id="vheadq" class="text" maxlength="2048" size="31" value="" title="Search Patents" accesskey="s" autocomplete="off"/><script>window._OC_autoDir &&window._OC_autoDir('vheadq', 'tia-vheadq');</script></div></td><td><div class="submit-input"><input name="btnG" class="submit" type="submit" value=""/></div></td></tr></table></div></td><td class="col-ext-links"><div class="ext-links"><a href="http://www.google.com/advanced_patent_search">&lt;nobr&gt;Advanced Patent Search&lt;/nobr&gt;</a></div></td></tr></table></form></td></tr></table></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents">Patents</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/US7969288"></a><a id="appbar-patents-discuss-this-link" href="http://www.google.com/url?id=tWafBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpatent%3DUS7969288&amp;usg=AFQjCNGQWV302tfrP65H4ErBQuamFLCBTw" data-is-grant="true"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/US7969288.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/US7969288.pdf"></a><a class="appbar-application-grant-link" data-label="Application" href="/patents/US20080266066"></a><a class="appbar-application-grant-link" data-selected="true" data-label="Grant" href="/patents/US7969288"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="http://www.google.com/patents/US7969288" style="display:none"><span itemprop="description">A force feedback system provides components for use in a force feedback system including a host computer and a force feedback interface device. An architecture for a host computer allows multi-tasking application programs to interface with the force feedback device without conflicts. One embodiment of...</span><span itemprop="url">http://www.google.com/patents/US7969288?utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">Patent US7969288 - Force feedback system including multi-tasking graphical host environment and interface device</span><img itemprop="image" src="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="Patent US7969288 - Force feedback system including multi-tasking graphical host environment and interface device" title="Patent US7969288 - Force feedback system including multi-tasking graphical host environment and interface device"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="http://www.google.com/advanced_patent_search">Advanced Patent Search</a></li></ol></div><table id="viewport_table" cellpadding="0" style="clear:both" cellspacing="0"><tr><td id="viewport_td"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata"><tr><td class="patent-bibdata-heading">Publication number</td><td class="single-patent-bibdata">US7969288 B2</td></tr><tr><td class="patent-bibdata-heading">Publication type</td><td class="single-patent-bibdata">Grant</td></tr><tr><td class="patent-bibdata-heading">Application number</td><td class="single-patent-bibdata">US 11/982,593</td></tr><tr><td class="patent-bibdata-heading">Publication date</td><td class="single-patent-bibdata">Jun 28, 2011</td></tr><tr><td class="patent-bibdata-heading">Filing date</td><td class="single-patent-bibdata">Nov 2, 2007</td></tr><tr><td class="patent-bibdata-heading">Priority date<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="The priority date is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the date listed."></span></td><td class="single-patent-bibdata">Nov 14, 1997</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Also published as</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/DE69827407D1">DE69827407D1</a>, </span><span class="patent-bibdata-value"><a href="/patents/EP1036390A1">EP1036390A1</a>, </span><span class="patent-bibdata-value"><a href="/patents/EP1036390A4">EP1036390A4</a>, </span><span class="patent-bibdata-value"><a href="/patents/EP1036390B1">EP1036390B1</a>, </span><span class="patent-bibdata-value"><a href="/patents/US6300936">US6300936</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7168042">US7168042</a>, </span><span class="patent-bibdata-value"><a href="/patents/US8527873">US8527873</a>, </span><span class="patent-bibdata-value"><a href="/patents/US20030063064">US20030063064</a>, </span><span class="patent-bibdata-value"><a href="/patents/US20080266066">US20080266066</a>, </span><span class="patent-bibdata-value"><a href="/patents/US20100271295">US20100271295</a>, </span><span class="patent-bibdata-value"><a href="/patents/US20140047333">US20140047333</a>, </span><span class="patent-bibdata-value"><a href="/patents/WO1999026230A1">WO1999026230A1</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading">Publication number</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">11982593, </span><span class="patent-bibdata-value">982593, </span><span class="patent-bibdata-value">US 7969288 B2, </span><span class="patent-bibdata-value">US 7969288B2, </span><span class="patent-bibdata-value">US-B2-7969288, </span><span class="patent-bibdata-value">US7969288 B2, </span><span class="patent-bibdata-value">US7969288B2</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Inventors</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Adam+C.+Braun%22">Adam C. Braun</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Jonathan+L.+Beamer%22">Jonathan L. Beamer</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Louis+B.+Rosenberg%22">Louis B. Rosenberg</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Dean+C.+Chang%22">Dean C. Chang</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Original Assignee</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=inassignee:%22Immersion+Corporation%22">Immersion Corporation</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Export Citation</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/US7969288.bibtex">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7969288.enw">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7969288.ris">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">Patent Citations</a> (5),</span> <span class="patent-bibdata-value"><a href="#npl-citations">Non-Patent Citations</a> (14),</span> <span class="patent-bibdata-value"><a href="#forward-citations">Referenced by</a> (17),</span> <span class="patent-bibdata-value"><a href="#classifications">Classifications</a> (32),</span> <span class="patent-bibdata-value"><a href="#legal-events">Legal Events</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">External Links:&nbsp;</span><span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://patft.uspto.gov/netacgi/nph-Parser%3FSect2%3DPTO1%26Sect2%3DHITOFF%26p%3D1%26u%3D/netahtml/PTO/search-bool.html%26r%3D1%26f%3DG%26l%3D50%26d%3DPALL%26RefSrch%3Dyes%26Query%3DPN/7969288&usg=AFQjCNFKO9BzqolKXcUxH0azFhl-I1sjkA">USPTO</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://assignments.uspto.gov/assignments/q%3Fdb%3Dpat%26pat%3D7969288&usg=AFQjCNEZS0p7U-jD2BoMedlyCQTTGX3C7w">USPTO Assignment</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DUS%26NR%3D7969288B2%26KC%3DB2%26FT%3DD&usg=AFQjCNEyKe56GQbeTfztYmCdZLk0vFlnDw">Espacenet</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT103967089" lang="EN" load-source="patent-office">Force feedback system including multi-tasking graphical host environment and interface device</invention-title></span><br><span class="patent-number">US 7969288 B2</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title">Abstract</span></div><div class="patent-text"><abstract mxw-id="PA85858878" lang="EN" load-source="patent-office"> <div num="p-0001" class="abstract">A force feedback system provides components for use in a force feedback system including a host computer and a force feedback interface device. An architecture for a host computer allows multi-tasking application programs to interface with the force feedback device without conflicts. One embodiment of a force feedback device provides both relative position reporting and absolute position reporting to allow great flexibility. A different device embodiment provides relative position reporting device allowing maximum compatibility with existing software. Information such as ballistic parameters and screen size sent from the host to the force feedback device allow accurate mouse positions and cursor positions to be determined in the force feedback environment. Force feedback effects and structures are further described, such as events and enclosures.</div>
  </abstract></div></div><div class="patent-section patent-drawings-section"><div class="patent-section-header"><span class="patent-section-title">Images<span class="patent-section-count">(12)</span></span></div><div class="patent-drawings-body"><div class="patent-drawings-carousel"><div class="drawings"><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7969288B2/US07969288-20110628-D00000.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7969288B2/US07969288-20110628-D00000.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7969288B2/US07969288-20110628-D00001.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7969288B2/US07969288-20110628-D00001.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7969288B2/US07969288-20110628-D00002.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7969288B2/US07969288-20110628-D00002.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7969288B2/US07969288-20110628-D00003.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7969288B2/US07969288-20110628-D00003.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7969288B2/US07969288-20110628-D00004.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7969288B2/US07969288-20110628-D00004.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7969288B2/US07969288-20110628-D00005.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7969288B2/US07969288-20110628-D00005.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7969288B2/US07969288-20110628-D00006.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7969288B2/US07969288-20110628-D00006.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7969288B2/US07969288-20110628-D00007.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7969288B2/US07969288-20110628-D00007.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7969288B2/US07969288-20110628-D00008.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7969288B2/US07969288-20110628-D00008.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7969288B2/US07969288-20110628-D00009.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7969288B2/US07969288-20110628-D00009.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7969288B2/US07969288-20110628-D00010.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7969288B2/US07969288-20110628-D00010.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7969288B2/US07969288-20110628-D00011.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7969288B2/US07969288-20110628-D00011.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div></div></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img" alt="Previous page"src="/googlebooks/images/kennedy/page_left.png"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img" alt="Next page"src="/googlebooks/images/kennedy/page_right.png"width="21" height="21" /></div></div></div><div class="patent-post-drawings"></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">Claims<span class="patent-section-count">(26)</span></span></div><div class="patent-text"><div mxw-id="PCLM36744877" lang="EN" load-source="patent-office" class="claims">
    <div class="claim"> <div id="CLM-00001" num="00001" class="claim">
      <div class="claim-text">1. A haptic system comprising:
<div class="claim-text">first generating means for generating a first force sensation in response to receiving a first signal; and</div>
<div class="claim-text">second generating means for generating a second force sensation in response to receiving a second signal;</div>
<div class="claim-text">wherein the first signal is associated with a first application program, the first application program running during a first time period; and</div>
<div class="claim-text">wherein the second signal is associated with a second application program, the second application program running during a second time period that overlaps with the first time period in a multi-tasking environment.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00002" num="00002" class="claim">
      <div class="claim-text">2. The haptic system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<div class="claim-text">signal generating means for generating the first signal and the second signal;</div>
<div class="claim-text">signal receiving means for receiving the first signal and the second signal; and</div>
<div class="claim-text">transmitting means for transmitting the first signal and the second signal to the signal receiving means.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00003" num="00003" class="claim">
      <div class="claim-text">3. The haptic system of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the first signal is generated only when the first application program is active in the multi-tasking environment, and the second signal is generated only when the second application program is active in the multi-tasking environment.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00004" num="00004" class="claim">
      <div class="claim-text">4. The haptic system of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the transmitting means comprises a network.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00005" num="00005" class="claim">
      <div class="claim-text">5. The haptic system of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the first application program is a first computer process thread running on a network server, and the second application program is a second computer process thread running on the network server.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00006" num="00006" class="claim">
      <div class="claim-text">6. The haptic system of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the multitasking environment comprises a plurality of networked computers.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00007" num="00007" class="claim">
      <div class="claim-text">7. The haptic system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first signal is a representation of a first data set comprising one or more force effects associated with the first application program, and wherein the second signal is a representation of a second data set comprising one or more force effects associated with the second application program.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00008" num="00008" class="claim">
      <div class="claim-text">8. The haptic system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a wireless receiver configured to receive the first signal and the second signal.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00009" num="00009" class="claim">
      <div class="claim-text">9. The haptic system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first generating means comprises a first haptic device adapted for use by a first user, and the second generating means comprises a second haptic device adapted for use by a second user.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00010" num="00010" class="claim">
      <div class="claim-text">10. The haptic system in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first force sensation is replicated in a plurality of user interface devices, and the second force sensation is replicated in a plurality of user interface devices.</div>
    </div>
    </div> <div class="claim"> <div id="CLM-00011" num="00011" class="claim">
      <div class="claim-text">11. A haptic computer system comprising:
<div class="claim-text">a computer memory storing a first application program and a second application program;</div>
<div class="claim-text">means for running the first application program during a first time period, and the second application during a second time period that overlaps with the first time period in a multi-tasking environment;</div>
<div class="claim-text">a force sensation generator configured to output a first set of one or more force sensations associated with the first application program, and a second set of one or more force sensations associated with the second application program.</div>
</div>
    </div>
    </div> <div class="claim"> <div id="CLM-00012" num="00012" class="claim">
      <div class="claim-text">12. A haptic system comprising:
<div class="claim-text">a moveable device;</div>
<div class="claim-text">a first processor configured to operate in a first mode and a second mode, the first processor being configured to send a first signal, wherein the first signal indicates absolute position information of the moveable device when the first processor is operating in the first mode, and wherein the first signal indicates relative position information of the moveable device when the first processor is operating in the second mode; and</div>
<div class="claim-text">a force sensation generator configured to output a force sensation when the first processor is operating in the first mode, the force sensation generator not being configured to output a force sensation when the first processor is operating in the second mode.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00013" num="00013" class="claim">
      <div class="claim-text">13. The haptic system of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the first processor is further configured to receive a second signal from a second processor, and wherein the first processor is further configured to calculate the absolute position information at least partially based on the second signal.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00014" num="00014" class="claim">
      <div class="claim-text">14. The haptic system of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the first processor is further configured to calculate the absolute position information at least partially based on the ballistic parameters.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00015" num="00015" class="claim">
      <div class="claim-text">15. The haptic system of <claim-ref idref="CLM-00012">claim 12</claim-ref>, further comprising:
<div class="claim-text">a sensor configured to emit a third signal, wherein the first processor is further configured to calculate the absolute position information at least partially based on the third signal.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00016" num="00016" class="claim">
      <div class="claim-text">16. The haptic system of <claim-ref idref="CLM-00012">claim 12</claim-ref>, further comprising:
<div class="claim-text">a sensor configured to emit a third signal,</div>
<div class="claim-text">wherein the first processor is further configured to receive a second signal from a second processor;</div>
<div class="claim-text">wherein the first processor is further configured to calculate the relative position information at least partially based on the second signal; and</div>
<div class="claim-text">wherein the first processor is further configured to calculate the relative position information at least partially based on the third signal.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00017" num="00017" class="claim">
      <div class="claim-text">17. The haptic system of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the first processor is configured to send a fourth signal containing force feedback information to the force sensation generator.</div>
    </div>
    </div> <div class="claim"> <div id="CLM-00018" num="00018" class="claim">
      <div class="claim-text">18. A software method in a multi-tasking environment comprising:
<div class="claim-text">storing a plurality of data sets in memory, each data set comprising a representation of one or more force effects, wherein each one of the plurality of data sets is associated with one software application;</div>
<div class="claim-text">calling an application programming interface;</div>
<div class="claim-text">determining which one of a plurality of application programs is active in the multi-tasking environment; and</div>
<div class="claim-text">generating a signal representing the data set associated with the active application program.</div>
</div>
    </div>
    </div> <div class="claim"> <div id="CLM-00019" num="00019" class="claim">
      <div class="claim-text">19. A computer-implemented method for allowing a user to associate an event with a haptic effect, comprising:
<div class="claim-text">providing, by one or more processors of a computing device, a user with a selectable plurality of haptic effects;</div>
<div class="claim-text">receiving, by the computing device from the user, an association of at least one haptic effect from among the selectable plurality of haptic effects with at least one graphical object;</div>
<div class="claim-text">storing, by the computing device, the association; and</div>
<div class="claim-text">causing, by the computing device, the associated at least one haptic effect to be output based at least in part on the stored association.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00020" num="00020" class="claim">
      <div class="claim-text">20. The computer-implemented method of <claim-ref idref="CLM-00019">claim 19</claim-ref>, further comprising:
<div class="claim-text">receiving, by the computing device, an indication that an interaction with the at least one graphical object has occurred, wherein causing the associated at least one haptic effect to be output is further based on the interaction.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00021" num="00021" class="claim">
      <div class="claim-text">21. The computer-implemented method of <claim-ref idref="CLM-00020">claim 20</claim-ref>, wherein causing the associated at least one haptic effect to be output further comprises:
<div class="claim-text">communicating, by the computing device to a haptic feedback device communicably coupled to the computing device, a signal configured to cause the associated at least one haptic effect.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00022" num="00022" class="claim">
      <div class="claim-text">22. The computer-implemented method of <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein the haptic feedback device comprises a user manipulandum, the interaction comprising a manipulation of the user manipulandum, the method further comprising:
<div class="claim-text">receiving the indication from the user manipulandum.</div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00023" num="00023" class="claim">
      <div class="claim-text">23. The computer-implemented method of <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein the associated at least one haptic effect comprises a plurality of haptic effects.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00024" num="00024" class="claim">
      <div class="claim-text">24. The computer-implemented method of <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein at least one of the selectable plurality of haptic effects is customizable.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00025" num="00025" class="claim">
      <div class="claim-text">25. The computer-implemented method of <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein causing the associated at least one haptic effect to be output occurs as a default haptic effect.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00026" num="00026" class="claim">
      <div class="claim-text">26. The computer-implemented method of <claim-ref idref="CLM-00025">claim 25</claim-ref>, wherein causing the associated at least one haptic effect to be output occurs only when the default haptic effect is not overridden. </div>
    </div>
  </div> </div></div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title">Description</span></div><div class="patent-text"><div mxw-id="PDES42413997" lang="EN" load-source="patent-office" class="description">
    <heading>CROSS REFERENCE TO RELATED APPLICATIONS</heading> <p num="p-0002">This application is a continuation of pending U.S. application Ser. No. 11/504,131 filed Aug. 14, 2006 which is a continuation of U.S. application Ser. No. 09/974,197 filed on Oct. 9, 2001, now U.S. Pat. No. 7,168,042, which is a continuation of U.S. application Ser. No. 08/970,953, filed Nov. 14, 1997, now U.S. Pat. No. 6,300,936, issued on Oct. 9, 2001, and entitled “Force Feedback System Including Multi-Tasking Graphical Host Environment and Interface Device”, in the names of the same inventors and commonly owned herewith.</p>
    <heading>STATEMENT OF GOVERNMENT RIGHTS</heading> <p num="p-0003">One or more embodiments were made with Government support under Contract Number F41624-96-C-6029, awarded by the Department of Defense. The Government has certain rights in one or more of these embodiments.</p>
    <heading>BACKGROUND</heading> <p num="p-0004">The present system and method relates generally to interface devices for allowing humans to interface with computer systems, and more particularly to computer interface devices that allow the user to provide input to computer systems and provide force feedback to the user.</p>
    <p num="p-0005">Computer systems are used extensively to implement many applications, such as word processing, data management, simulations, games, and other tasks. A computer system typically displays a visual environment to a user on a display screen or other visual output device. Users can interact with the displayed environment to perform functions on the computer, play a game, experience a simulated environment, use a computer aided design (CAD) system, etc. One visual environment that is particularly common is a graphical user interface (GUI). GUI's present visual images which describe various graphical metaphors of a program or operating system implemented on the computer. Common operating systems using GUI's include the Windows™ operating system from Microsoft Corporation and the MacOS operating system from Apple Computer, Inc. The user typically moves a displayed, user-controlled graphical object, such as a cursor or pointer, across a computer screen and onto other displayed graphical objects or predefined screen regions, and then inputs a command to execute a given selection or operation. The objects or regions (“targets”) can include, for example, icons, windows, pull-down menus, buttons, and scroll bars. Most GUI's are currently 2-dimensional as displayed on a computer screen; however, three dimensional (3-D) GUI's that present simulated 3-D environments on a 2-D screen can also be provided. Other programs or environments that may provide user-controlled graphical objects such as a cursor or a “view” controlled by the user include graphical “web pages” or other environments offered on the World Wide Web of the Internet, CAD programs, video games, virtual reality simulations, etc.</p>
    <p num="p-0006">The user interaction with and manipulation of the computer environment is achieved using any of a variety of types of human-computer interface devices that are connected to the computer system controlling the displayed environment. In most systems, the computer updates the environment in response to the user's manipulation of a user-manipulatable physical object (“user object”) that is included in the interface device, such as a mouse, joystick, etc. The computer provides feedback to the user utilizing the display screen. A computer mouse is a common user object used to interact with a GUI or other graphical environment. A mouse (and other mouse-type devices such as a track ball) is typically used as a position control device in which displacement of the mouse in a planar workspace (e.g. on a mouse pad) is directly correlated to displacement of the user-controlled graphical object, such as a cursor, displayed on the screen.</p>
    <p num="p-0007">Force feedback interface devices allow a user to experience forces on the manipulated user object based on interactions and events within the displayed graphical environment. Typically, computer-controlled actuators are used to output forces on the user object in provided degrees of freedom to simulate various sensations, such as an obstruction force when moving the cursor into a wall, a damping force to resist motion of the cursor, and a spring force to bias the cursor to move back toward a starting position of the spring. Force feedback devices can be implemented in many forms, such as a joystick, mouse, steering wheel, etc.</p>
    <p num="p-0008">When implementing force feedback sensations in a GUI of an operating system, several problems can arise. One problem is the use of force feedback when multiple application programs are simultaneously running in a multi-tasking environment on the host computer. Most operating systems allow such multi-tasking, for example, to allow a user to interact with one application while one or more applications are also running, receiving data, outputting data, or performing other tasks. For example, in the Windows™ operating system, one application is the “active” application that typically displays an active window in the GUI. The user can manipulate the functions of the active application using the cursor. Other inactive applications are also running and may have inactive windows displayed in the GUI. The user can switch to a different application by clicking the cursor in an inactive window, for example, which causes the new application to be the active application and the formerly active application to become inactive.</p>
    <p num="p-0009">Each application run by an operating system may have its own set of force sensations that it needs to command to the force feedback device. Thus, one application may need to command spring, force, vibration, and texture force sensations, while a different application may need to command spring, damper, and jolt force sensations. The force feedback device typically cannot store all possible force sensations for each application running in the operating system, so there is a problem of which force sensations the force feedback device should store and implement at any one time. In addition, if two of the multi-tasking applications command conflicting force sensations, the force feedback device needs to choose one of the force sensations to output, and there currently is no system or method of doing so.</p>
    <p num="p-0010">A different problem occurs when using a force feedback device with a GUI. Traditional mouse controllers used with GUI's are relative position reporting devices, i.e., they report only changes in position of the mouse to the host computer, which the host computer uses to calculate a new position for the cursor on the screen. Many force feedback devices, in contrast, are typically absolute position reporting devices which report an absolute position of the cursor, such as screen coordinates, to the host computer. This is because the force feedback device needs to know the cursor position to accurately determine when forces are to be applied and to accurately calculate the forces. However, it would be desirable in some instances to have a relative position reporting force feedback device, since the host computer is standardized to receive and interpret relative positions at the most basic level. Furthermore, such a relative device would permit the host computer to perform needed adjustments to cursor position, such as ballistics calculations which modify cursor position based on mouse velocity to provide enhanced control. If the host computer performs such adjustments, the force feedback device processors are relieved of computational burden. In addition, some types of interface devices such as trackballs are better suited to relative position reporting since an absolute, limited workspace is not easily defined for these devices.</p>
    <p num="p-0011">Another problem occurs when force feedback is implemented with a GUI or other graphical environment and the graphical environment changes resolution or aspect ratio. For example, if a resolution of 640×480 is being displayed by the host computer on a screen, the force feedback device assumes that graphical objects in the GUI have a size proportional to screen dimensions and outputs forces accordingly. However, when the resolution is changed, the objects displayed on the screen change size in proportion to the screen dimensions. The force feedback device continues to check for conditions and generate forces as if the old resolution were active, resulting in forces that do not correlate with displayed interactions on the screen. The aspect ratio of a display screen can also change, e.g., when two screens are used to provide double the amount of displayed area in the GUI, the aspect ratio doubles in one dimension. Using prior art force feedback devices, forces can become distorted from such an aspect ratio change. For example, a circle object displayed on the screen may have forces at its borders that feel like an ellipse to the user of the interface device, since the aspect ratios of the screen and the mouse workspace are different.</p>
    <heading>OVERVIEW</heading> <p num="p-0012">An embodiment is directed to a force feedback system and architecture which allow control of a force feedback device in a multi-tasking graphical host environment. In addition, force feedback device embodiments are disclosed which provide for relative position reporting and absolute position reporting to the host computer.</p>
    <p num="p-0013">More specifically, a method interfaces a multi-tasking graphical environment implemented on a host computer with a force feedback interface device coupled to the host computer, where multiple application programs may run in the multi-tasking environment. A context in created for association with each application program running in the multi-tasking graphical environment. Force effect commands are received from the application programs, where the force effect commands command the force feedback interface device to output a force effect specified by the command. The force effect commands are stored into the contexts. Each context is associated with one of the application programs running on the host computer, and each force effect command is stored in a context associated with the application program that sent the force effect command. The force effect commands in the context of a particular application program are sent to the force feedback device when that particular application program is active in the multi-tasking environment. Preferably, the force effect commands in contexts of inactive application programs are not sent to the force feedback device. Thus, only the active application program may command forces on the force feedback device.</p>
    <p num="p-0014">When the application program becomes inactive and a new application program becomes active, new force effect commands are sent to the force feedback device to replace the force effect commands of the formerly active application. Preferably, a background application is provided which also provides force effects to the force feedback device and may output forces on the device even when not active. Events are also provided which allow a graphical action such as an interaction of the cursor in the graphical environment with another object to cause an event notification to be sent to the application program. Preferably, only the active and background application programs may receive events.</p>
    <p num="p-0015">In another aspect, a force feedback device, such as a force feedback mouse, provides relative positions to a host when force feedback is not enabled, and provides absolute positions to the host when force feedback is enabled. Sensor data is read and a position of a user manipulandum in a device frame is determined. A device delta position of the manipulandum includes the change in position of the manipulandum from a previous position and is reported to the host computer when the host computer is not enabled to receive an absolute screen position of the cursor from the force feedback device. When the host computer is enabled to receive the cursor screen position, the screen position is determined from the device delta position and is reported to the host computer to allow said host computer to display the cursor in the screen frame at the screen position. A scaled position or “ballistic position” of the manipulandum related to the screen position of the cursor is used in determining a force to be output by actuators of the force feedback device. Preferably, the scaled position is determined from the delta position and the screen position of said cursor is determined based on the scaled position. Ballistic parameters and screen size of the host display screen can be received from the host computer to determine the scaled position and screen position.</p>
    <p num="p-0016">In another aspect, a force feedback device, such as a force feedback mouse, provides only relative positions to a host computer. A local microprocessor on the force feedback device determines a delta position of the manipulandum that includes the change in position of the manipulandum from a previous position, and the delta position is reported to the host. A screen position of the cursor is modeled from the delta position and the modeled screen position is used in the determination of a force output by actuators of the device. An actual screen position of the cursor is received from the host computer and the modeled screen position is corrected based on the actual screen position. Preferably, the modeled screen position is corrected incrementally over time to smooth out the correction and reduce a perception of the error correction by the user. Preferably, both the host and the device adjust the screen position using a ballistics algorithm. The host also preferably sends ballistic parameters and screen size to the device to allow accurate modeling of the screen position.</p>
    <p num="p-0017">In another aspect, a force feedback device reads sensor data and determines a position of a user manipulandum in a workspace of the device. A position of the manipulandum is reported to the host computer so that the host can display the cursor in a graphical environment. Information is received from the host computer describing a current screen size of the display screen of the host computer, where the current screen size is included in a determination of the position reported to the host.</p>
    <p num="p-0018">Also described herein are several force feedback sensations and structures, including enclosures, textures, and grids. For example, an enclosure is a rectangular or elliptical shape having walls that provide forces to an associated graphical object such as an icon or window. The enclosure includes walls, where each wall may be associated with a force. In one embodiment, a particular type of enclosure is provided to modify the forces of a different enclosure to prevent conflicts between the forces of overlapping or closely-positioned enclosures.</p>
    <p num="p-0019">The specification provides several embodiments of components in a force feedback system. The architecture on the host computer allows multi-tasking application programs to interface with the force feedback device without conflicts. The force feedback device provides both relative position reporting and absolute position reporting to allow great flexibility. A relative position reporting device allows maximum compatibility with existing software. Information such as ballistic parameters and screen size sent from the host to the force feedback device allow accurate mouse positions and cursor positions to be determined in the force feedback environment.</p>
    <p num="p-0020">These and other advantages will become apparent to those skilled in the art upon a reading of the following specification and a study of the several figures of the drawing.</p>
    <description-of-drawings> <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading> <p num="p-0021"> <figref idrefs="DRAWINGS">FIG. 1</figref> is a perspective view of one embodiment of a mouse interface system;</p>
      <p num="p-0022"> <figref idrefs="DRAWINGS">FIG. 2</figref> is a perspective view of an embodiment of a mechanism suitable for the interface system of <figref idrefs="DRAWINGS">FIG. 1</figref>;</p>
      <p num="p-0023"> <figref idrefs="DRAWINGS">FIG. 3</figref> is a block diagram of the system of <figref idrefs="DRAWINGS">FIG. 1</figref> for controlling a force feedback interface device;</p>
      <p num="p-0024"> <figref idrefs="DRAWINGS">FIG. 4</figref> is a block diagram of an architecture for a host computer providing multiple application programs communicating with the force feedback device;</p>
      <p num="p-0025"> <figref idrefs="DRAWINGS">FIG. 5</figref> is a diagrammatic illustration of a background application program control panel allowing a user to characterize background forces;</p>
      <p num="p-0026"> <figref idrefs="DRAWINGS">FIGS. 6</figref> <i>a</i>, <b>6</b> <i>b </i>and <b>6</b> <i>c </i>are diagrammatic illustrations of embodiments of an enclosure force effect;</p>
      <p num="p-0027"> <figref idrefs="DRAWINGS">FIG. 7</figref> is a diagrammatic illustration of a texture force effect;</p>
      <p num="p-0028"> <figref idrefs="DRAWINGS">FIG. 8</figref> is a diagrammatic illustration of a grid force effect;</p>
      <p num="p-0029"> <figref idrefs="DRAWINGS">FIG. 9</figref> is a block diagram illustrating a preferred embodiment of implementing the force feedback device and system;</p>
      <p num="p-0030"> <figref idrefs="DRAWINGS">FIG. 10</figref> is a flow diagram illustrating a method of implementing position reporting for the embodiment of <figref idrefs="DRAWINGS">FIG. 9</figref>;</p>
      <p num="p-0031"> <figref idrefs="DRAWINGS">FIG. 11</figref> is a flow diagram illustrating a method of determining cursor position and indexing in the embodiment of <figref idrefs="DRAWINGS">FIGS. 9 and 10</figref>;</p>
      <p num="p-0032"> <figref idrefs="DRAWINGS">FIG. 12</figref> is a block diagram illustrating a second embodiment of implementing the force feedback device and system;</p>
      <p num="p-0033"> <figref idrefs="DRAWINGS">FIG. 13</figref> is a flow diagram illustrating a method of implementing position reporting for the embodiment of <figref idrefs="DRAWINGS">FIG. 12</figref>; and</p>
      <p num="p-0034"> <figref idrefs="DRAWINGS">FIGS. 14 and 15</figref> are diagrammatic illustrations showing the error correction between cursor positions from host computer and force feedback device in the embodiment of <figref idrefs="DRAWINGS">FIG. 13</figref>.</p>
    </description-of-drawings> <heading>DETAILED DESCRIPTION OF EXAMPLE EMBODIMENTS</heading> <p num="p-0035"> <figref idrefs="DRAWINGS">FIG. 1</figref> is a perspective view of a force feedback mouse interface system <b>10</b> capable of providing input from the user to a host computer based on the user's manipulation of the mouse and capable of providing force feedback to the user of the mouse system based on events occurring in an environment implemented by the host computer. Mouse system <b>10</b> includes an interface device <b>11</b> that includes a user manipulatable object or manipulandum <b>12</b> and an interface <b>14</b>, and a host computer <b>18</b>.</p>
    <p num="p-0036">User object (or “manipulandum”) <b>12</b> is an physical object that is preferably grasped or gripped and manipulated by a user. By “grasp,” it is meant that users may releasably engage a portion of the object in some fashion, such as by hand, with their fingertips, etc. For example, images are displayed and/or modified on a display screen <b>20</b> of the computer system <b>18</b> in response to such manipulations. In the described embodiment, user object <b>12</b> is a mouse <b>12</b> that is shaped so that a user's fingers or hand may comfortably grasp the object and move it in the provided degrees of freedom in physical space. For example, a user can move mouse <b>12</b> to correspondingly move a computer generated graphical object, such as a cursor or other image, in a graphical environment provided by computer <b>18</b>. The available degrees of freedom in which mouse <b>12</b> can be moved are determined from the interface <b>14</b>, described below. In addition, mouse <b>12</b> preferably includes one or more buttons <b>15</b> to allow the user to provide additional commands to the computer system.</p>
    <p num="p-0037">It will be appreciated that a great number of other types of user manipulable objects can be used with the method and apparatus in place of or in addition to mouse <b>12</b>. For example, such objects may include a sphere, a puck, a joystick, cubical- or other-shaped hand grips, a fingertip receptacle for receiving a finger or a stylus, a flat planar surface like a plastic card having a rubberized, contoured, and/or bumpy surface, a handheld remote control used for controlling web pages or other devices, or other objects. In one embodiment, a small fingertip joystick can be provided, where a small stick is moved in a small planar region with a user's fingertips. Spring forces can be provided by the actuators of the device <b>111</b> to bias the stick (or any type of joystick) toward the center of the planar region to simulate a spring return on the joystick. Since fingertips are used, output forces need not be as high a magnitude as in other embodiments. Also, mouse <b>12</b> can be provided with such a centering spring bias, e.g. when used like a joystick in gaming applications.</p>
    <p num="p-0038">Interface <b>14</b> interfaces mechanical and electrical input and output between the mouse <b>12</b> and host computer <b>18</b> implementing the application program, such as a GUI, simulation or game environment. Interface <b>14</b> provides multiple degrees of freedom to mouse <b>12</b>; in the preferred embodiment, two linear, planar degrees of freedom are provided to the mouse, as shown by arrows <b>22</b>. In other embodiments, greater or fewer degrees of freedom can be provided, as well as rotary degrees of freedom. For many applications, mouse <b>12</b> need only be moved in a very small workspace area.</p>
    <p num="p-0039">In a preferred embodiment, the user manipulates mouse <b>12</b> in a planar workspace, much like a traditional mouse, and the position of mouse <b>12</b> is translated into a form suitable for interpretation by position sensors of the interface <b>14</b>. The sensors track the movement of the mouse <b>12</b> in planar space and provide suitable electronic signals to an electronic portion of interface <b>14</b>. The interface <b>14</b> provides position information to host computer <b>18</b>. In addition, host computer <b>18</b> and/or interface <b>14</b> provide force feedback signals to actuators coupled to interface <b>14</b>, and the actuators generate forces on members of the mechanical portion of the interface <b>14</b> to provide forces on mouse <b>12</b> in provided or desired degrees of freedom. The user experiences the forces generated on the mouse <b>12</b> as realistic simulations of force sensations such as jolts, springs, textures, enclosures, circles, ellipses, grids, vibrations, “barrier” forces, and the like.</p>
    <p num="p-0040">The electronic portion of interface <b>14</b> may couple the mechanical portion <b>24</b> of the interface to the host computer <b>18</b>. The electronic portion is preferably included within the housing <b>21</b> of the interface <b>14</b> or, alternatively, the electronic portion may be included in host computer <b>18</b> or as a separate unit with its own housing. More particularly, interface <b>14</b> includes a local microprocessor distinct and separate from any microprocessors in the host computer <b>18</b> to control force feedback on mouse <b>12</b> independently of the host computer, as well as sensor and actuator interfaces that convert electrical signals to appropriate forms usable by the mechanical portion of interface <b>14</b> and host computer <b>18</b>.</p>
    <p num="p-0041">For example, a rigid surface is generated on computer screen <b>20</b> and a computer object (e.g., cursor) controlled by the user collides with the surface. In a preferred embodiment, high-level host commands can be used to provide the various forces associated with the rigid surface. The local control mode using a local microprocessor in interface <b>14</b> can be helpful in increasing the response time for forces applied to the user object, which is essential in creating realistic and accurate force feedback. For example, it is preferable that host computer <b>18</b> send a “spatial representation” to the local microprocessor, which is data describing the locations of some or all the graphical objects displayed in a GUI or other graphical environment which are associated with forces and the types/characteristics of these graphical objects. The microprocessor can store such a spatial representation in local memory, and thus will be able to determine interactions between the user object and graphical objects (such as the rigid surface) independently of the host computer. In addition, the microprocessor can be provided with the necessary instructions or data to check sensor readings, determine cursor and target positions, and determine output forces independently of host computer <b>18</b>. The host could implement program functions (such as displaying images) when appropriate, and synchronization commands can be communicated between the microprocessor and host <b>18</b> to correlate the microprocessor and host processes. Such commands and related functionality is discussed in greater detail below. Alternatively, the computer <b>18</b> can directly send force feedback signals to the interface <b>14</b> to generate forces on mouse <b>12</b>. A suitable embodiment of the electrical portion of interface <b>14</b> is described in detail with reference to <figref idrefs="DRAWINGS">FIG. 3</figref>.</p>
    <p num="p-0042">The interface <b>14</b> can be coupled to the computer <b>18</b> by a bus <b>17</b>, which communicates signals between interface <b>14</b> and computer <b>18</b> and also, in the preferred embodiment, provides power to the interface <b>14</b> (e.g. when bus <b>17</b> includes a USB interface). In other embodiments, signals can be sent between interface <b>14</b> and computer <b>18</b> by wireless transmission/reception. In preferred embodiments, the interface <b>14</b> serves as an input/output (I/O) device for the computer <b>18</b>. The interface <b>14</b> can also receive inputs from other input devices or controls that are associated with mouse system <b>10</b> and can relay those inputs to computer <b>18</b>. For example, commands sent by the user activating a button on mouse <b>12</b> can be relayed to computer <b>18</b> by interface <b>14</b> to implement a command or cause the computer <b>18</b> to output a command to the interface <b>14</b>.</p>
    <p num="p-0043">Host computer <b>18</b> is preferably a personal computer or workstation, such as an IBM-PC compatible computer or Macintosh personal computer, or a SUN or Silicon Graphics workstation. For example, the computer <b>18</b> can operate under the Windows™ or MS-DOS operating system in conformance with an IBM PC AT standard. Alternatively, host computer system <b>18</b> can be one of a variety of home video game systems commonly connected to a television set, such as systems available from Nintendo, Sega, or Sony. In other embodiments, host computer system <b>18</b> can be a “set top box” which can be used, for example, to provide interactive television functions to users, or a “network-” or “internet-computer” which allows users to interact with a local or global network using standard connections and protocols such as used for the Internet and World Wide Web. Host computer preferably includes a host microprocessor, random access memory (RAM), read only memory (ROM), input/output (I/O) circuitry, and other components of computers well-known to those skilled in the art.</p>
    <p num="p-0044">Host computer <b>18</b> preferably implements one or more application programs (“applications”) with which a user is interacting via mouse <b>12</b> and other peripherals, if appropriate, and which can include force feedback functionality. For example, the host application programs can include a simulation, video game, Web page or browser that implements HTML or VRML instructions, word processor, drawing program, spreadsheet, scientific analysis program, or other application program that utilizes input of mouse <b>12</b> and outputs force feedback commands to the mouse <b>12</b>. Typically, an operating systems such as Windows™, MS-DOS, MacOS, Unix, is also running on the host computer and preferably includes its own force feedback functionality. In one preferred embodiment, the operating system and application programs utilize a graphical user interface (GUI) to present options to a user, display data and images, and receive input from the user. In the preferred embodiment, multiple applications can run simultaneously in a multitasking environment of the host computer, as is detailed below. Herein, computer <b>18</b> may be referred as displaying “graphical objects” or “computer objects.” These objects are not physical objects, but are logical software unit collections of data and/or procedures that may be displayed as images by computer <b>18</b> on display screen <b>20</b>, as is well known to those skilled in the art. A displayed cursor or a simulated cockpit of an aircraft might be considered a graphical object. The host application program checks for input signals received from the electronics and sensors of interface <b>14</b>, and outputs force values and/or commands to be converted into forces on mouse <b>12</b>. Suitable software drivers which interface such simulation software with computer input/output (I/O) devices are available from Immersion Human Interface Corporation of San Jose, Calif.</p>
    <p num="p-0045">Display device <b>20</b> can be included in host computer <b>18</b> and can be a standard display screen (LCD, CRT, etc.), 3-D goggles, or any other visual output device. Typically, the host application provides images to be displayed on display device <b>20</b> and/or other feedback, such as auditory signals. For example, display screen <b>20</b> can display images from a GUI. Images describing a moving, first person point of view can be displayed, as in a virtual reality game. Or, images describing a third-person perspective of objects, backgrounds, etc. can be displayed. Alternatively, images from a simulation, such as a medical simulation, can be displayed, e.g., images of tissue and a representation of a manipulated user object <b>12</b> moving through the tissue, etc.</p>
    <p num="p-0046">There are two primary “control paradigms” of operation for mouse system <b>10</b>: position control and rate control. Position control is the more typical control paradigm for mouse and similar controllers, and refers to a mapping of mouse <b>12</b> in which displacement of the mouse in physical space directly dictates displacement of a graphical object. Under a position control mapping, the computer object does not move unless the user object is in motion. Also, “ballistics” or other non-linear adjustments to cursor position can be used in which, for example, slow motions of the mouse have a different scaling factor for cursor movement than fast motions of the mouse, to allow more control of short cursor movements. Several different ways of implementing ballistics and other control adjustments in a force feedback device are described in U.S. Pat. No. 6,252,579, and these adjustments can be used in mouse system <b>10</b> if desired.</p>
    <p num="p-0047">As shown in <figref idrefs="DRAWINGS">FIG. 1</figref>, the host computer may have its own “screen frame” <b>28</b> (or host frame) which is displayed on the display screen <b>20</b>. In contrast, the mouse <b>12</b> has its own “device frame” (or local frame) <b>30</b> in which the mouse <b>12</b> is moved. In a position control paradigm, the position (or change in position) of a user-controlled graphical object, such as a cursor, in host frame <b>30</b> corresponds to a position (or change in position) of the mouse <b>12</b> in the local frame <b>28</b>.</p>
    <p num="p-0048">Rate control is also used as a control paradigm. This refers to a mapping in which the displacement of the mouse <b>12</b> is abstractly mapped to motion of a computer object under control. There is not a direct physical mapping between physical object (mouse) motion and computer object motion. Thus, most rate control paradigms are fundamentally different from position control in that the user object can be held steady at a given position but the controlled computer object is in motion at a commanded or given velocity, while the position control paradigm only allows the controlled computer object to be in motion if the user object is in motion.</p>
    <p num="p-0049">The mouse interface system <b>10</b> is useful for both position control (“isotonic”) tasks and rate control (“isometric”) tasks. For example, as a traditional mouse, the position of mouse <b>12</b> in its local frame <b>30</b> workspace can be directly mapped to a position of a cursor in host frame <b>28</b> on display screen <b>20</b> in a position control paradigm. Alternatively, the displacement of mouse <b>12</b> in a particular direction against an opposing output force can command rate control tasks in an isometric mode. An implementation that provides both isotonic and isometric functionality for a force feedback controller and which is very suitable for the interface device is described in U.S. Pat. No. 5,825,308.</p>
    <p num="p-0050">Mouse <b>12</b> is preferably supported and suspended above a grounded pad <b>32</b> by the mechanical portion of interface <b>14</b>, described below. Pad <b>32</b> or similar surface is supported by grounded surface <b>34</b>. Pad <b>32</b> (or alternatively grounded surface <b>34</b>) provides additional support for the mouse and relieve stress on the mechanical portion of interface <b>14</b>. In addition, a wheel, roller, Teflon pad or other device can be used to support the mouse.</p>
    <p num="p-0051">Mouse <b>12</b> can be used, for example, to control a computer-generated graphical object such as a cursor displayed in a graphical computer environment, such as a GUI. The user can move the mouse in 2D planar workspace to move the cursor to graphical objects in the GUI or perform other tasks. In other graphical environments, such as a virtual reality video game, a user can be controlling a computer player or vehicle in the virtual environment by manipulating the mouse <b>12</b>. The computer system tracks the position of the mouse with sensors as the user moves it. The computer system may also provide force feedback commands to the mouse, for example, when the user moves the graphical object against a generated surface such as an edge of a window, a virtual wall, etc. It thus appears and feels to the user that the mouse and the graphical object are contacting real surfaces.</p>
    <p num="p-0052">The mouse system <b>10</b> may also include an indexing function or “indexing mode” which allows the user to redefine the offset between the positions of the mouse <b>12</b> in the local frame and a user-controlled graphical object, such as a cursor, in the host frame displayed by host computer <b>18</b>. In one implementation, the user may reposition the mouse <b>12</b> without providing any input to the host computer, thus allowing the user to redefine the offset between the object's position and the cursor's position. Such indexing is achieved through an input device such as a button, switches, sensors, or other input devices. As long as the indexing device is activated, the mouse <b>12</b> is in indexing mode; when the button is released (or indexing mode otherwise exited), the position of the cursor is again controlled by the mouse <b>12</b>. A hand weight switch can also be provided which inherently causes indexing when the user removes hand or finger weight from mouse <b>12</b>. In one embodiment, the functionality of a safety switch and the indexing mode are integrated into one input device, as described in greater detail in U.S. Pat. Nos. 5,825,308 and 6,100,874.</p>
    <p num="p-0053">A different way to allow indexing is to provide a combined position control and rate control device which allows different forms of control of the cursor depending on the position of the mouse in its workspace. This embodiment is described in greater detail below and in U.S. Pat. No. 6,252,579.</p>
    <p num="p-0054"> <figref idrefs="DRAWINGS">FIG. 2</figref> is a perspective view of a preferred embodiment of the mouse device <b>11</b> with the cover portion of housing <b>21</b> and the grounded pad <b>32</b> removed. Mechanical linkage <b>40</b> provides support for mouse <b>12</b> and couples the mouse to a grounded surface <b>34</b>, such as a tabletop or other support. Linkage <b>40</b> is, in the described embodiment, a 5-member (or “5-bar”) linkage. Fewer or greater numbers of members in the linkage can be provided in alternate embodiments.</p>
    <p num="p-0055">Ground member <b>42</b> of the linkage <b>40</b> is a base for the support of the linkage and is coupled to or resting on a ground surface <b>34</b>. The ground member <b>42</b> in <figref idrefs="DRAWINGS">FIG. 2</figref> is shown as a plate or base that extends under mouse <b>12</b>. The members of linkage <b>40</b> are rotatably coupled to one another through the use of rotatable pivots or bearing assemblies, all referred to as “bearings” herein. Base member <b>44</b> is rotatably coupled to ground member <b>42</b> by a grounded bearing <b>52</b> and can rotate about an axis A. Link member <b>46</b> is rotatably coupled to base member <b>44</b> by bearing <b>54</b> and can rotate about a floating axis B, and base member <b>48</b> is rotatably coupled to ground member <b>42</b> by bearing <b>52</b> and can rotate about axis A. Link member <b>50</b> is rotatably coupled to base member <b>48</b> by bearing <b>56</b> and can rotate about floating axis C, and link member <b>50</b> is also rotatably coupled to link member <b>46</b> by bearing <b>58</b> such that link member <b>50</b> and link member <b>46</b> may rotate relative to each other about floating axis D.</p>
    <p num="p-0056">Linkage <b>40</b> is formed as a five-member closed-loop chain. Each member in the chain is rotatably coupled to two other members of the chain to provide mouse <b>12</b> with two degrees of freedom, i.e., mouse <b>12</b> can be moved within a planar x-y workspace. Mouse <b>12</b> is coupled to link members <b>46</b> and <b>50</b> by rotary bearing <b>58</b>. and may rotate at least partially about axis D. A pad or other support can be provided under mouse <b>12</b> to help support the mouse. Transducer system is used to sense the position of mouse <b>12</b> in its workspace and to generate forces on the mouse <b>12</b>. Transducer system preferably includes sensors <b>62</b> and actuators <b>64</b>. The sensors <b>62</b> collectively sense the movement of the mouse <b>12</b> in the provided degrees of freedom and send appropriate signals to the electronic portion of interface <b>14</b>. Sensor <b>62</b> <i>a </i>senses movement of link member <b>48</b> about axis A, and sensor <b>62</b> <i>b </i>senses movement of base member <b>44</b> about axis A. These sensed positions about axis A allow the determination of the position of mouse <b>12</b> using known constants such as the lengths of the members of linkage <b>40</b> and using well-known coordinate transformations.</p>
    <p num="p-0057">Sensors <b>62</b> are, in the described embodiment, grounded optical encoders that sense the intermittent blockage of an emitted beam. A grounded emitter/detector portion <b>71</b> includes an emitter that emits a beam which is detected by a grounded detector. A moving encoder disk portion or “arc” <b>74</b> is provided at the end of members <b>44</b> and <b>48</b> which each block the beam for the respective sensor in predetermined spatial increments and allows a processor to determine the position of the arc <b>74</b> and thus the members <b>44</b> and <b>48</b> by counting the spatial increments. Also, a velocity of members <b>44</b> and <b>48</b> based on the speed of passing encoder marks can also be determined. In one embodiment, dedicated electronics such as a “haptic accelerator” may determine velocity and/or acceleration, as disclosed in U.S. Pat. No. 5,999,168. Sensors <b>62</b> are described in greater detail in U.S. Pat. Nos. 6,100,874 and 6,166,723.</p>
    <p num="p-0058">Transducer system also preferably includes actuators <b>64</b> to transmit forces to mouse <b>12</b> in space, i.e., in two (or more) degrees of freedom of the user object. The bottom housing plate <b>65</b> of actuator <b>64</b> <i>a </i>is rigidly coupled to ground member <b>42</b> (or grounded surface <b>34</b>) and a moving portion of actuator <b>64</b> <i>a </i>(preferably a coil) is integrated into the base member <b>44</b>. The actuator <b>64</b> <i>a </i>transmits rotational forces to base member <b>44</b> about axis A. The housing <b>65</b> of the grounded portion of actuator <b>64</b> <i>b </i>is rigidly coupled to ground member <b>42</b> or ground surface <b>34</b> through the grounded housing of actuator <b>64</b> <i>b</i>, and a moving portion (preferably a coil) of actuator <b>64</b> <i>b </i>is integrated into base member <b>48</b>. Actuator <b>64</b> <i>b </i>transmits rotational forces to link member <b>48</b> about axis A. The combination of these rotational forces about axis A allows forces to be transmitted to mouse <b>12</b> in all directions in the planar workspace provided by linkage <b>40</b> through the rotational interaction of the members of linkage <b>40</b>. The integration of the coils into the base members <b>44</b> and <b>48</b> is advantageous and is discussed below. The operation of the electromagnetic actuators <b>64</b> is described in greater detail is U.S. Pat. Nos. 6,100,874 and 6,166,723. In other embodiments, other types of actuators can be used.</p>
    <p num="p-0059"> <figref idrefs="DRAWINGS">FIG. 3</figref> is a block diagram illustrating the electronic portion of interface <b>14</b> and host computer <b>18</b> suitable for use. Mouse interface system <b>10</b> includes a host computer <b>18</b>, electronic interface <b>26</b>, mechanical portion <b>24</b>, and mouse or other user object <b>12</b>. Electronic interface <b>26</b>, mechanical portion <b>24</b>, and mouse <b>12</b> can also collectively be considered the “force feedback interface device” <b>11</b> that is coupled to the host computer. A similar system is described in detail in U.S. Pat. No. 5,734,373.</p>
    <p num="p-0060">As explained with reference to <figref idrefs="DRAWINGS">FIG. 1</figref>, computer <b>18</b> is preferably a personal computer, workstation, video game console, or other computing or display device. Host computer system <b>18</b> commonly includes a host microprocessor <b>108</b>, random access memory (RAM) <b>110</b>, read-only memory (ROM) <b>112</b>, input/output (I/O) electronics <b>114</b>, a clock <b>116</b>, a display device <b>20</b>, and an audio output device <b>118</b>. Host microprocessor <b>108</b> can include a variety of available microprocessors from Intel, AMD, Motorola, or other manufacturers. Microprocessor <b>108</b> can be single microprocessor chip, or can include multiple primary and/or co-processors. Microprocessor <b>108</b> preferably retrieves and stores instructions and other necessary data from RAM <b>110</b> and ROM <b>112</b> as is well known to those skilled in the art. In the described embodiment, host computer system <b>18</b> can receive sensor data or a sensor signal via a bus <b>120</b> from sensors of system <b>10</b> and other information. Microprocessor <b>108</b> can receive data from bus <b>120</b> using I/O electronics <b>114</b>, and can use I/O electronics to control other peripheral devices. Host computer system <b>18</b> can also output commands to interface device via bus <b>120</b> to cause force feedback for the interface system <b>10</b>.</p>
    <p num="p-0061">Clock <b>116</b> is a standard clock crystal or equivalent component used by host computer <b>18</b> to provide timing to electrical signals used by host microprocessor <b>108</b> and other components of the computer system <b>18</b>. Display device <b>20</b> is described with reference to <figref idrefs="DRAWINGS">FIG. 1</figref>. Audio output device <b>118</b>, such as speakers, can be coupled to host microprocessor <b>108</b> via amplifiers, filters, and other circuitry well known to those skilled in the art. Host processor <b>108</b> outputs signals to speakers <b>118</b> to provide sound output to the user when an “audio event” occurs during the implementation of the host application program. Other types of peripherals can also be coupled to host processor <b>108</b>, such as storage devices (hard disk drive, CD ROM drive, floppy disk drive, etc.), printers, and other input and output devices.</p>
    <p num="p-0062">Electronic interface <b>26</b> is coupled to host computer system <b>18</b> by a bi-directional bus <b>120</b>. The bi-directional bus sends signals in either direction between host computer system <b>18</b> and the interface device. Bus <b>120</b> can be a serial interface bus providing data according to a serial communication protocol, a parallel bus using a parallel protocol, or other types of buses. An interface port of host computer system <b>18</b>, such as an RS232 serial interface port, connects bus <b>120</b> to host computer system <b>18</b>. In another embodiment, an additional bus can be included to communicate between host computer system <b>18</b> and interface device <b>11</b>. One preferred serial interface bus used is the Universal Serial Bus (USB). The USB standard provides a relatively high speed serial interface that can provide force feedback signals with a high degree of realism. USB can also source power to drive actuators <b>64</b> and other devices. In addition, the USB standard includes timing data that is encoded along with differential data. Alternatively, Firewire (also called <b>1392</b>) can be used as bus <b>120</b>; or, the bus can be between an interface card in the host computer <b>18</b>, where the interface card holds components of device <b>11</b> such as microprocessor <b>130</b>.</p>
    <p num="p-0063">Electronic interface <b>26</b> includes a local microprocessor <b>130</b>, local clock <b>132</b>, local memory <b>134</b>, sensor interface <b>136</b>, and actuator interface <b>138</b>. Interface <b>26</b> may also include additional electronic components for communicating via standard protocols on bus <b>120</b>. In various embodiments, electronic interface <b>26</b> can be included in mechanical portion <b>24</b>, in host computer <b>18</b>, or in its own separate housing. Different components of interface <b>26</b> can be included in portion <b>24</b> or host computer <b>18</b> if desired.</p>
    <p num="p-0064">Local microprocessor <b>130</b> preferably coupled to bus <b>120</b> and may be closely linked to mechanical portion <b>24</b> to allow quick communication with other components of the interface device. Processor <b>130</b> is considered “local” to interface device <b>11</b>, where “local” herein refers to processor <b>130</b> being a separate microprocessor from any processors <b>108</b> in host computer <b>18</b>. “Local” also preferably refers to processor <b>130</b> being dedicated to force feedback and sensor I/O of the interface system <b>10</b>, and being closely coupled to sensors and actuators of the mechanical portion <b>24</b>, such as within the housing of or in a housing coupled closely to portion <b>24</b>. Microprocessor <b>130</b> can be provided with software instructions to wait for commands or requests from computer host <b>18</b>, parse/decode the command or request, and handle/control input and output signals according to the command or request. In addition, processor <b>130</b> preferably operates independently of host computer <b>18</b> by reading sensor signals and calculating appropriate forces from those sensor signals, time signals, and force processes selected in accordance with a host command, and output appropriate control signals to the actuators. A suitable microprocessor for use as local microprocessor <b>130</b> includes the 8×930AX by Intel; or alternatively the MC68HC711E9 by Motorola or the PIC 16C74 by Microchip, for example. Microprocessor <b>130</b> can include one microprocessor chip, or multiple processors and/or co-processor chips. In other embodiments, microprocessor <b>130</b> can include digital signal processor (DSP) functionality.</p>
    <p num="p-0065">For example, in one host-controlled embodiment that utilizes microprocessor <b>130</b>, host computer <b>18</b> can provide low-level force commands over bus <b>120</b>, which microprocessor <b>130</b> directly transmits to the actuators. In a different local control embodiment, host computer system <b>18</b> provides high level supervisory commands to microprocessor <b>130</b> over bus <b>120</b>, and microprocessor <b>130</b> manages low level force control loops to sensors and actuators in accordance with the high level commands and independently of the host computer <b>18</b>. In the local control embodiment, the microprocessor <b>130</b> can process inputted sensor signals to determine appropriate output actuator signals by following the instructions of a “force process” that may be stored in local memory and includes calculation instructions, formulas, force magnitudes, or other data. The force process can command distinct force sensations, such as vibrations, textures, jolts, or even simulated interactions between displayed objects. An “enclosure” host command can also be provided, which causes the microprocessor to define a box-like enclosure in a graphical environment, where the enclosure has sides characterized by wall and texture forces, as described in U.S. Pat. No. 6,100,874. The host can send the local processor a spatial layout of objects in the graphical environment so that the microprocessor has a mapping of locations of graphical objects like enclosures and can determine interactions with the cursor locally. Force feedback used in graphical environments is described in greater detail in U.S. Pat. Nos. 6,219,032, 5,825,308, and 6,252,579.</p>
    <p num="p-0066">Sensor signals used by microprocessor <b>130</b> are also reported to host computer system <b>18</b>, which updates a host application program and outputs force control signals as appropriate. For example, if the user moves mouse <b>12</b>, the computer system <b>18</b> receives position and/or other signals indicating this movement and can move a displayed cursor in response. These embodiments are described in greater detail in U.S. Pat. No. 5,734,373. In an alternate embodiment, no local microprocessor <b>130</b> is included in interface system <b>10</b>, and host computer <b>18</b> directly controls and processes all signals to and from the interface <b>26</b> and mechanical portion <b>24</b>.</p>
    <p num="p-0067">A local clock <b>132</b> can be coupled to the microprocessor <b>130</b> to provide timing data, similar to system clock <b>116</b> of host computer <b>18</b>; the timing data might be required, for example, to compute forces output by actuators <b>64</b> (e.g., forces dependent on calculated velocities or other time dependent factors). In alternate embodiments using the USB communication interface, timing data for microprocessor <b>130</b> can be retrieved from the USB interface. Local memory <b>134</b>, such as RAM and/or ROM, is preferably coupled to microprocessor <b>130</b> in interface <b>26</b> to store instructions for microprocessor <b>130</b> and store temporary and other data. Microprocessor <b>130</b> may also store calibration parameters in a local memory <b>134</b> such as an EEPROM. As described above, link or member lengths or manufacturing variations and/or variations in coil winding or magnet strength can be stored. Memory <b>134</b> may be used to store the state of the force feedback device, including a reference position, current control mode or configuration, etc.</p>
    <p num="p-0068">Sensor interface <b>136</b> may optionally be included in electronic interface <b>26</b> to convert sensor signals to signals that can be interpreted by the microprocessor <b>130</b> and/or host computer system <b>18</b>. For example, sensor interface <b>136</b> can receive signals from a digital sensor such as an encoder and convert the signals into a digital binary number representing the position of a member of mechanical apparatus <b>14</b>. An analog to digital converter (ADC) in sensor interface <b>136</b> can convert a received analog signal to a digital signal for microprocessor <b>130</b> and/or host computer <b>18</b>. Such circuits, or equivalent circuits, are well known to those skilled in the art. Alternately, microprocessor <b>130</b> or host <b>18</b> can perform these interface functions. Other types of interface circuitry <b>136</b> can also be used, e.g., the electronic interface described in U.S. Pat. No. 5,576,727.</p>
    <p num="p-0069">Actuator interface <b>138</b> can be optionally connected between the actuators <b>64</b> and microprocessor <b>130</b>. Interface <b>138</b> converts signals from microprocessor <b>130</b> into signals appropriate to drive the actuators. Interface <b>138</b> can include power amplifiers, switches, digital to analog controllers (DACs), and other components. Such interfaces are well known to those skilled in the art. In alternate embodiments, interface <b>138</b> circuitry can be provided within microprocessor <b>130</b> or in the actuators.</p>
    <p num="p-0070">In the described embodiment, power is supplied to the actuators <b>64</b> and any other components (as required) by the USB. Since the electromagnetic actuators of the described embodiment have a limited physical range and need only output, for example, about 3 ounces of force to create realistic force sensations on the user, very little power is needed. For example, one way to draw additional power from the USB is to configure device II to appear as more than one peripheral to host computer <b>18</b>; for example, each provided degree of freedom of mouse <b>12</b> can be configured as a different peripheral and receive its own allocation of power. Alternatively, power from the USB can be stored and regulated by device <b>11</b> and thus used when needed to drive actuators <b>64</b>. For example, power can be stored over time and then immediately dissipated to provide a jolt force to the user object <b>12</b>. A battery or a capacitor circuit, for example, can store energy and discharge or dissipate the energy when power is required by the system and/or when enough power has been stored. Alternatively, a power supply <b>140</b> can optionally be coupled to actuator interface <b>138</b> and/or actuators <b>64</b> to provide electrical power. The power storage embodiment described above, using a battery or capacitor circuit, can also be used in non-USB embodiments to allow a smaller power supply <b>140</b> to be used.</p>
    <p num="p-0071">Mechanical portion <b>24</b> is coupled to electronic portion and preferably includes sensors <b>62</b>, actuators <b>64</b>, and linkage <b>40</b>. These components are described in detail above. Sensors <b>62</b> sense the position, motion, and/or other characteristics of mouse <b>12</b> along one or more degrees of freedom and provide signals to microprocessor <b>130</b> including information representative of those characteristics. Typically, a sensor <b>62</b> is provided for each degree of freedom along which mouse <b>12</b> can be moved, or, a single compound sensor can be used for multiple degrees of freedom. Example of sensors suitable for embodiments described herein are rotary optical encoders, as described above, linear optical encoders, analog sensors such as potentiometers, or non-contact sensors, such as Hall effect magnetic sensors or an optical sensor such as a lateral effect photo diode having an emitter/detector pair. In addition, velocity sensors (e.g., tachometers) and/or acceleration sensors (e.g., accelerometers) for measuring acceleration can be used. Furthermore, either relative or absolute sensors can be employed.</p>
    <p num="p-0072">Actuators <b>64</b> transmit forces to mouse <b>12</b> in one or more directions along one or more degrees of freedom in response to signals output by microprocessor <b>130</b> and/or host computer <b>18</b>, i.e., they are “computer controlled.” Typically, an actuator <b>64</b> is provided for each degree of freedom along which forces are desired to be transmitted. Actuators <b>64</b> can be the electromagnetic actuators described above, or can be other active actuators, such as linear current control motors, stepper motors, pneumatic/hydraulic active actuators, a torquer (motor with limited angular range); or passive actuators such as magnetic particle brakes, friction brakes, or pneumatic/hydraulic passive actuators, passive damper elements, an electrorheological fluid actuator, a magnetorheological fluid actuator. In addition, in voice coil embodiments, multiple wire coils can be provided, where some of the coils can be used to provide back EMF and damping forces. In some embodiments, all or some of sensors <b>62</b> and actuators <b>64</b> can be included together as a sensor/actuator pair transducer.</p>
    <p num="p-0073">Mechanism <b>40</b> is preferably the five-member linkage <b>40</b> described above, but can also be one of several types of mechanisms. For example, mechanisms disclosed in U.S. Pat. Nos. 5,731,804; 5,767,839; 5,721,566; 5,805,140; 5,691,898; 6,028,593; 6,024,576; and 5,828,197 can be included. Mouse <b>12</b> can alternatively be a puck, joystick, or other device or article coupled to linkage <b>40</b>, as described above.</p>
    <p num="p-0074">Other input devices <b>141</b> can optionally be included in system <b>10</b> and send input signals to microprocessor <b>130</b> and/or host computer <b>18</b>. Such input devices can include buttons, such as buttons <b>15</b> on mouse <b>12</b>, used to supplement the input from the user to a GUI, game, simulation, etc. Also, dials, switches, voice recognition hardware (with software implemented by host <b>18</b>), or other input mechanisms can be used.</p>
    <p num="p-0075">Safety or “deadman” switch <b>150</b> is preferably included in interface device to provide a mechanism to allow a user to deactivate actuators <b>64</b> for safety reasons. In the preferred embodiment, the user must continually close safety switch <b>150</b> during manipulation of mouse <b>12</b> to activate the actuators <b>64</b>. If, at any time, the safety switch is deactivated (opened) the actuators are deactivated while the safety switch is open. For example, one embodiment of safety switch is a capacitive contact sensor that detects when the user is contacting mouse <b>12</b>. Alternatively, a mechanical switch, electrostatic contact switch, or optical switch located on mouse <b>12</b> or on a convenient surface of a housing <b>21</b> can be used. A z-axis force sensor, piezo electric sensors, force sensitive resistors, or strain gauges can also be used. The state of the safety switch can be sent to the microprocessor <b>130</b> or host <b>18</b>. In one embodiment, mouse <b>12</b> includes a hand weight safety switch. The safety switch preferably deactivates any generated forces on the mouse when the mouse is not in use and/or when the user desires to deactivate output forces.</p>
    <p num="p-0076">In some embodiments of interface system <b>10</b>, multiple mechanical apparatuses <b>102</b> and/or electronic interfaces <b>100</b> can be coupled to a single host computer system <b>18</b> through bus <b>120</b> (or multiple buses <b>120</b>) so that multiple users can simultaneously interface with the host application program (in a multi-player game or simulation, for example). In addition, multiple players can interact in the host application program with multiple interface systems <b>10</b> using networked host computers <b>18</b>, as is well known to those skilled in the art. Also, the interface device can be coupled to multiple host computers; for example, a local host computer can display images based on data received from a remote host computer coupled to the local host through a network.</p>
    <p num="h-0007">Architecture of Host Computer</p>
    <p num="p-0077">The host computer <b>18</b> interacts with interface device <b>11</b> using a number of different levels of controllers. These controllers are preferably implemented in software, e.g. program instructions or code, and such is the embodiment described herein; however, all or part of the controllers may also be implemented in hardware, where the conversion of functionality of the software to hardware is well known to those skilled in the art.</p>
    <p num="p-0078">The architecture described herein is oriented towards providing force feedback functionality to a host computer connected to a force feedback interface device, where multiple applications may be running simultaneously on the host computer. Each application program may have its own set of force sensations to output to the device; since the device cannot implement all force sensations at any one time due to cost and hardware constraints, the forces commanded by each application must be organized by the architecture to take these limitations into account.</p>
    <p num="p-0079"> <figref idrefs="DRAWINGS">FIG. 4</figref> is a block diagram of a preferred architecture for the host computer to communicate with and control a force feedback interface device <b>11</b> with multiple application programs running on the host computer. Application programs <b>202</b> and <b>204</b> are concurrently running on the host computer <b>18</b>. In the most typical implementation, one of the application programs is actively running in an operating system as the “active” application program that displays one or more active windows in the GUI (also known as the application program that is “in focus” or which has “keyboard focus”). The active window is typically the topmost displayed window in which input is provided by the user using the mouse-controlled cursor, a keyboard, or other peripheral. The other applications are “inactive” in that they are not receiving input from the user (although they may have a window displayed in the GUI which can be updated on the screen). The inactive applications may also receive input or send output. For example, the Windows™ operating system from Microsoft Corp. provides a multitasking or pseudo-multitasking environment in which programs run simultaneously; other operating systems such as Unix also offer multitasking. For example, a word processor may be the active application to receive input from the keyboard and display input characters in a displayed active window on display screen <b>20</b>, while a inactive communication program may be receiving data over a network and saving the data on a storage device, or sending data out to be printed. Or, a inactive drawing program may be displaying a graphical image in a window that is not currently active, while the user inputs text into the active word processor window. When the user moves the cursor over an inactive window and provides a command gesture such as clicking a button on a mouse, the inactive window becomes the active window and the former active window becomes inactive. The active application is also known as the “foreground” application, in the sense that its force sensations are being implemented by the force feedback device, as described below.</p>
    <p num="p-0080">A master application <b>206</b> also is running on host computer <b>18</b> and is also known as the “background” force feedback application. This application is preferably a general purpose program that always runs inactively in the operating system and whose set of commanded forces are always available to be output and controlled on the interface device <b>11</b> and/or other devices. For example, a preferred embodiment of the master application is a “desktop” control panel for force feedback. An example of such a program is illustrated in <figref idrefs="DRAWINGS">FIG. 5</figref>. A “mouse properties” dialog box <b>240</b> can be displayed which allows the user to specify force sensations <b>244</b> that are assigned to specified object types <b>242</b> in the displayed graphical environment, e.g. a graphical user interface (GUI). For example, the assigned force sensation <b>244</b> can be a vibration force having a specified frequency, magnitude, duration, etc.; a single “pop” or jolt at a specified time and duration; a “tick” that is a small jolt that is output based on movement of the user object/cursor or at regular intervals during an activity such as scrolling; a damping force condition that causes a resistance to mouse motion depending on the velocity of the user object <b>12</b> in its degrees of freedom or the cursor in the host frame on screen <b>20</b>; or a spring that resists motion of the user object based on distance to an origin of the spring. Other types of forces are possible as well, and are described in greater detail in U.S. Pat. Nos. 5,734,373 and 6,020,876.</p>
    <p num="p-0081">The force sensations specified by the user for a user interface object type in dialog box <b>240</b> will be output by the force feedback device by default, unless a different foreground application program deactivates the force sensations or replaces a force sensation with its own. For example, the user can specify that menu objects <b>242</b> <i>a </i>in a GUI have a snap force <b>244</b> <i>a </i>associated with them by moving the slider <b>246</b> to the right, where the slider scale specifies the magnitude of the snap force. Thus, when the user moves the cursor in the GUI over a menu item in a menu during normal operation, the user will feel a snap force, i.e., a force that draws the cursor/user object toward the center of the menu item to allow easier menu selection. This snap force is preferably applied to all menus of all running application programs in the GUI, since it is a background force effect. If the foreground application program has its own force sensations which define that application's menus to have a jolt instead of a snap, then the jolt will be superimposed on the snap unless the active application program deactivates the background force(s). In general, a particular active application program can only command forces to objects in its own windows, e.g., that application's own menus, scrollbars, icons, window borders, etc.</p>
    <p num="p-0082">A user can specify multiple background force sensations <b>244</b> for each user interface object <b>242</b>. This allows the multiple force sensations to be superimposed on each other, unless the application program overrides one or more of the superimposed forces. Thus, a user can assign a damper force sensation and a “ticks” force sensation to scrollbars in box <b>240</b>, and all scrollbars will have these forces associated with them unless overriden by the foreground application program.</p>
    <p num="p-0083">Other controls in box <b>240</b> include a device gain <b>248</b> to set the percentage of maximum magnitude for all the forces for items <b>242</b>; and selections <b>249</b> to allow force feedback functionality on the host computer. Advanced button <b>250</b>, when selected, preferably displays an additional window of options with which the user can customize the force sensations <b>244</b>. For example, a user can specify positive or negative damping (where negative damping feels like moving on ice) or unidirectional or bidirectional dampers. The user can specify the spacing or orientation of snap points on a grid, the envelope parameters for a vibration, or the parameters for a snap force, e.g. the snap force is defined as an enclosure and the user can customize the enclosure to turn off forces on one wall, turn on inner walls, etc. Such options can be similar to those described in U.S. Pat. Nos. 6,147,674 and 6,169,540 or those features provided in the force designing application I-Force Studio from Immersion Human Interface Corporation. Other application programs can also be used as the background or master application program <b>206</b>.</p>
    <p num="p-0084">Referring back to <figref idrefs="DRAWINGS">FIG. 4</figref>, application programs <b>202</b>, <b>204</b>, and <b>206</b> communicate with an force feedback Application Programming Interface (“API”) <b>208</b> which is resident in the host computer's memory and which allows a given application program to communicate with lower level drivers and other force feedback functions. For example, in the Windows operating system, API's are commonly used to allow a developer of an application program to call functions at a high level for use with the application program, and not worry about the low level details of actually implementing the function.</p>
    <p num="p-0085">The API includes a set of software “objects” that can be called to command a force feedback interface device <b>11</b>. Objects are a set of instructions and/or data which can be called by a pointer and/or an identifier and parameters to implement a specified function. For example, three types of objects are provided in one preferred API implementation: interface objects, device objects, and effect objects. Each of these objects makes use of one or more force feedback device drivers which are implemented as objects in the API <b>208</b>.</p>
    <p num="p-0086">Interface objects represent the API at the highest level. An application program (which is referred to as a “client” of the API) can create an interface object to access lower level objects and code that implement force feedback device functionality. For example, the interface object allows an application program to enumerate and receive information about individual devices and create lower level objects for each device used by the application program.</p>
    <p num="p-0087">Device objects each represent a physical force feedback device (or other compatible device or peripheral) in communication with the host computer <b>18</b>. For example, the force feedback mouse device <b>11</b> would be represented as a single device object. The device objects access the set of force feedback routines to receive information about an associated physical device, set the properties of the physical device, register event handlers (if events are implemented on the host), and to create effect objects.</p>
    <p num="p-0088">Effect objects each represent a force feedback effect defined by the application program to be output one or more times on a force feedback device. The effect objects access the set of force feedback routines to download force effects to the force feedback device, start and stop the output of effects by the force feedback device, and modify the parameters of the effects. Event objects can also be created to define events, as described in greater detail below.</p>
    <p num="p-0089">A force “effect,” as referred to herein, is a single defined force or series of forces that may be commanded within the API. The effect typically has a name to identify it and one or more parameters to modify or customize the force as necessary. For example, several types of force effects have been defined, including vibrations, enclosures, grids, textures, walls, dampers, snap sensations, vibrations, circles, ellipses, etc. For example, a vibration force effect may have parameters of duration, frequency, magnitude, and direction. The force sensations <b>244</b> defined in dialog box <b>244</b> can be force effects; however, more generally, force sensations can be made up of one or more force effects. Force effects, in turn, are made up of one or more basic force prototypes, such as springs, dampers, and vector forces.</p>
    <p num="p-0090">In the preferred embodiment, an application program interacts with the API <b>208</b> by first receiving a pointer to a resident force feedback interface; for example, a preferred interface includes procedures provided in the Component Object Model (COM) interface of Microsoft Windows, an object oriented interface. Using the force feedback interface, the application program enumerates the force feedback devices on the computer system <b>18</b>. The application program selects a desired one of the force feedback devices and creates a device object associated with that device. Using the force feedback interface, the application then acquires the device, sets the device up with setup and default parameters, and creates effect objects and event objects at times designated by the developer of the application. At appropriate times, the application program will command the start, stop, or pause of the playback of force effects by accessing the appropriate interface instructions associated with the desired effect. The API indicates to the context driver <b>210</b> to create a “context” (i.e. “effect set”) for an application program, and sends effects and events to be associated with that context. A “context” is a group or set of effects and events that are associated with a particular application program.</p>
    <p num="p-0091">Context driver <b>210</b> receives effect set <b>222</b> and device manipulation data <b>223</b> from the API <b>208</b>. The context driver is provided at a level below the API to organize contexts for applications <b>202</b> and <b>204</b> running on the host computer. In the preferred embodiment, the effects and events in a context are not known to the application program itself; rather, the context driver <b>210</b> creates a context internally for an application. Thus, an application commands that a particular force sensation be output in response to different interactions or occurrences, e.g., an interaction of a cursor with an object or region, or the output of a force based on other criteria (time, received data, random event, etc.). The API sends the commanded effect(s) to the context driver <b>210</b>, and the context driver stores the effects in the created context for that application program.</p>
    <p num="p-0092">Since each application may have a completely different set of force effects to output, each context is associated with its particular application program. In the preferred embodiment, there are two types of contexts: foreground contexts and background or primary contexts. A foreground context is associated with the application program <b>202</b> or <b>204</b> that is active in the operating system. A background context includes the effects and events for the master application program <b>206</b>, e.g., the effects and events necessary to implement those force sensations selected by the user in the dialog box <b>240</b> of <figref idrefs="DRAWINGS">FIG. 5</figref> to be associated with particular GUI objects. In addition, a “global context” can be provided, which includes common effects almost always used by application programs (e.g. a pop force) and which can automatically be downloaded to the force feedback device. Effects in the global context need not be stored in individual contexts for particular application programs and need not be sent to the force feedback device, thus saving memory on the device.</p>
    <p num="p-0093">When an application program is first executed by the host computer and loaded into memory, if the application is able to command a force feedback device, the application will query for the API <b>208</b>. Once communication is established, the API will contact the context driver <b>210</b> to create an entry location for a context set for the initiated application program.</p>
    <p num="p-0094">The context driver <b>210</b> receives individual effects and events as they are created by the application program using API <b>208</b> and stores the effects and events in a context list <b>212</b>, storing each context in a different storage location in the host's memory or on some other type of storage device. An active or inactive application program can create a context and have it stored, but only the active application's context will be sent to the force feedback device. The context driver <b>210</b> can examine an identifier in a created effect or event to determine which application program is associated with it and thus store the effect or event in the proper memory location. The context driver sets pointers to the contexts and to the effects and events in the contexts to access them. An effect can be created initially, before any forces are commanded, or the effect can be created and then immediately commanded to be output to the force feedback device. Each context also preferably includes an entry into a device state structure. This entry governs the “gain” or force level for all effects in the context. For example, all the forces in the context can be cut to 50% of full magnitude by storing a value of 50 in the device state structure. One of the contexts stored in list <b>214</b> is a primary context <b>216</b>, which is the list of effects and events used by the master application <b>206</b> or “background” application.</p>
    <p num="p-0095">At a later time, after the context driver has stored the contexts in list <b>212</b>, an application program may send a command to the API to output or “start” a particular force sensation. The API checks whether the application program is active or in the background (primary); if not, the API ignores the command. Alternatively, the commands from an inactive foreground application can be stored and then sent to the device when the application becomes active. If the application is active or background, the API sends the start information to the context driver <b>210</b> indicating the application program that commanded the force and the particular force effects to be commanded. The context driver <b>210</b> then associates the commanding application program with a context <b>214</b> in list <b>212</b> and sends the effects from the context to the force feedback device (if not previously sent). For example, if a context for a particular application program includes a spring effect, a damper effect, and a vibration effect, and the application program commands the vibration to be output, then the context driver selects the vibration effects to be output to the device. The data describing this effect is then output by the context driver <b>210</b>. Similarly, the application program can send a command to stop particular force effects, to pause the effects, to get the status information of an effect, or to destroy an effect.</p>
    <p num="p-0096">A context is therefore only allowed to exert forces with the force feedback device when that context is active, i.e., is associated with an active application program or the background application. In the described embodiment, only one foreground context can be active at any given time. Any number of background contexts may be simultaneously active; however, there may be a device limit on the number of background contexts that may be created. For example, the mouse device <b>11</b> may only allow one background context to be created at any one time, which is the preferred embodiment. Thus, if an inactive (not in focus) foreground application program commands a force to be output, the API will ignore the command after determining that the commanding application is not active (or, the command will only be sent to the device when the application becomes active).</p>
    <p num="p-0097">If the active application program becomes inactive (i.e. loses foreground or is removed from the host's memory) and a different application becomes active, then the API indicates this to the context driver <b>210</b>, which then deactivates the context associated with that application program and loads the effects from the new active context to the force feedback device <b>11</b>. Likewise, when the original application program again becomes active, the API tells the context driver to activate the associated context and load the appropriate effects to the force feedback device.</p>
    <p num="p-0098">Device manipulation data <b>223</b> is also received by context driver <b>210</b>. Data <b>223</b> is used to set a global device state on the force feedback device, as described below, and this information is passed unmodified to the translation layer.</p>
    <p num="p-0099">Translation layer <b>218</b> manages the sending of effects to the device <b>11</b>, receives information from the device to the host, and maintains a representation of the memory of device <b>11</b>. Layer <b>218</b> receives an individual effect <b>219</b> for the active (or background) application program and device manipulation data <b>223</b> sent by the context driver <b>210</b>. The translation layer receives the effect from an context list <b>220</b> of individual effects <b>222</b> (list <b>220</b> represents a context <b>214</b>). A different context list <b>220</b> is provided in each context <b>214</b> of list <b>212</b>. Each effect <b>222</b> in list <b>220</b> is a force that is to be output on the mouse <b>12</b> by the force feedback device <b>11</b>. Then the effects are to be sent to the device <b>11</b> when commanded by the application, they are selected and copies are output to the device. Preferably, each effect is output by the translation layer as soon as possible, in the order of receiving the effects. Each effect stored in list <b>220</b> as examined by the translation layer is available on force feedback device <b>11</b>, i.e., the local microprocessor should recognize the effect and be able to output the effect either immediately or when conditions dictate. The size of the list <b>220</b> should be the same or smaller than the available memory for such a list in the force feedback device so that the translation layer knows when the memory of the force feedback device is full. If full, the translation layer can delay the output of additional effects until enough memory space is available.</p>
    <p num="p-0100">When an active application becomes inactive, the translation layer is instructed by the context driver <b>210</b> to “unload” the effects of the context of the previous active application from the force feedback device, receives the effects from the now active application and loads those effects to the force feedback device <b>11</b> (the effects for the background (primary) application are preferably never unloaded).</p>
    <p num="p-0101">The translation layer also preferably handles events. For example, when a screen position is received from the device <b>11</b>, the translation layer can check whether any of the conditions/triggers of the active events are met. If so, a message is sent which eventually reaches the associated active or background application program, as described in greater detail below. In alternate embodiments, the microprocessor <b>130</b> on device <b>11</b> can check for events and send event notifications through translation layer <b>218</b> up to the application program. However, this can be undesirable in some embodiments since the event notification is provided at a much slower rate than the force control loop of the microprocessor <b>130</b>.</p>
    <p num="p-0102">The translation layer also can store a device state <b>224</b> in memory. Device manipulation data <b>223</b> from the active application determines the device state. This is the state that the active application program wishes to impose on the device, if any. For example, an overall condition can be stored, such as an enable or disable for all forces, so that if all forces are disabled, no forces will be output by the device. An overall gain can also be set to limit all output force magnitudes to a desired level or percentage of maximum output.</p>
    <p num="p-0103">The translation layer outputs device messages <b>225</b> to the device <b>11</b> by way of the next layer. Messages may include force effects to be output and/or any other information such as device identification numbers or instructions from the context driver for an effect (start, stop, pause, reset, etc.) The translation layer outputs messages <b>225</b> in a form the device <b>11</b> can understand.</p>
    <p num="p-0104">Device communication driver <b>226</b> communicates directly with the force feedback device. Driver <b>226</b> receives the device messages <b>225</b> from translation layer <b>218</b> and directly transmits the messages to the force feedback device over bus <b>120</b>, e.g. a USB. The driver is implemented, in the preferred embodiment, as a standard driver to communicate over such a serial port of host computer <b>18</b>. Other types of drivers and communication interfaces can be used in other embodiments.</p>
    <p num="h-0008">Host Command Structures</p>
    <p num="p-0105">The host computer <b>18</b> and API <b>208</b> handle a variety of processes controlling force feedback device <b>11</b>. The preferred functionality of much of the application programs and API is described in greater detail in U.S. Pat. Nos. 6,147,674, 6,078,308, and 6,252,579. Different effects and events are used in force feedback systems are described below.</p>
    <p num="h-0009">Effects</p>
    <p num="p-0106">Effects are standardized forces that are determined according to a predefined characterization, which may include force algorithms, stored force magnitudes, functions of space and/or time, a history of stored motion values of the mouse, or other steps or parameters. An effect may be based on time and be independent of the position of the mouse <b>12</b>, or may be spatially determined based on mouse position, velocity, acceleration, or any combination of these. Preferably, the device <b>11</b> includes a number of effects standardized in its memory which it can implement if the effects are within the active or background context. When the device <b>11</b> is determining output forces based on effects, the microprocessor <b>130</b> checks if the effect is active, calculates the raw contribution to the output force from the effect, applies an envelope scaling (detailed in U.S. Pat. No. 5,959,613), and sums the scaled contribution to the total sum of forces contributed to by all effects currently being output. In determining the total sum, the device preferably combines all constant forces (e.g., conditions and time-based forces) and limits the constant force sum to a predetermined magnitude, then combines all dynamic forces and limits the dynamic force sum to a predetermined magnitude. Dynamic forces are detailed in U.S. Pat. No. 6,147,674. The two sums are then added together and the total force sum is output by the actuators of the device <b>11</b>. Alternatively, all forces can be treated the same and summed together.</p>
    <p num="p-0107"> <figref idrefs="DRAWINGS">FIGS. 6</figref> <i>a </i>and <b>6</b> <i>b </i>illustrate one type of force effect provided by the host in a graphical environment such as a GUI and known as an “enclosure.” Basic features of enclosures are disclosed in U.S. Pat. No. 6,078,308. An enclosure is at its most basic level a rectangular object provided in a GUI which may be assigned with different forces for each of its sides. The enclosure is a generic type of force feedback object that can be used for a variety of different graphical objects, including buttons, windows, sliders, scrollbars, menus, links on a web page, or grid points in a drawing program.</p>
    <p num="p-0108"> <figref idrefs="DRAWINGS">FIG. 6</figref> <i>a </i>illustrates the use of an enclosure for a window in a GUI. The window <b>260</b> is displayed on the display device of the host computer. The enclosure has eight walls <b>262</b> associated with it invisible to the visual perception of the user, where four walls are provided as an inner rectangle <b>264</b> and four walls are provided as an outer rectangle <b>266</b>. Each wall <b>262</b> can be separately defined as either providing a force pulling the user object toward the border of window <b>260</b> (attractive force), or pushing the user object away from the border of window <b>260</b> (resistive force). The outer rectangle <b>266</b> walls affect the user object when the user object is outside the window <b>260</b> between the rectangle <b>266</b> and the window <b>260</b> border, and the inner rectangle <b>264</b> walls affect the user object when it is inside the window <b>260</b> between the rectangle <b>264</b> and the window border. In the preferred embodiment, a window <b>260</b> is associated with a force enclosure by defining both outer rectangle <b>266</b> and inner rectangle <b>264</b> to have an attractive force, so that the user object and cursor tend to be attracted to the window border when within the appropriate range of the window. This, for example, allows the user to acquire the border and adjust the size of the window easily. Alternatively, the outer rectangle <b>266</b> can be defined as a resistive force (such as a spring) that requires the user to overcome the resistance to allow the user object entry into the window (and the rectangle <b>266</b> can also be defined as a click surface to cause a function to be applied when gaining entry). When the cursor/user object gains entry to an enclosure, an “event” is preferably indicated to the application program, as explained above. In an alternative embodiment, enclosures can similarly defined for circles, ellipses, or other shapes, both regular and irregular.</p>
    <p num="p-0109">The enclosure object also preferably has a number of other parameters that further define the enclosure. For example, parameters may be specified separately for each wall to define such characteristics as the magnitude of the resistive or attractive forces, which of the eight walls are assigned forces, which walls provide clipping, the saturation level of the force applied in association with a wall, and the interior force, which can be specified as any force effect such as a damping, texture, or vibration force, that is applied while the cursor is inside the enclosure.</p>
    <p num="p-0110"> <figref idrefs="DRAWINGS">FIG. 6</figref> <i>b </i>illustrates another embodiment of an enclosure. A button <b>270</b> can be a graphical button, a menu item, or an icon in a GUI. The outer rectangle <b>266</b> in this embodiment has been “turned off” so that no forces are associated with it. The inner rectangle <b>264</b> has been defined as a very small rectangle at the center of the button <b>270</b>. Resistive forces are associated with the inner rectangular walls such that, once the user object has entered the enclosure, a force biases the user object toward the center of the button <b>270</b>. This allows the user to target or “acquire” the button more easily with the cursor and reduces overshooting the button by accident by moving the cursor too far past the button.</p>
    <p num="p-0111">Enclosures are quite useful for adding forces to web links on a web page viewed in a web browser, such as Netscape Communicator by Netscape Communications or Internet Explorer by Microsoft. The inner wall forces of <figref idrefs="DRAWINGS">FIG. 6</figref> <i>b </i>can be used on a web link displayed on a web page to draw the cursor/user object onto the link, thus allowing a user to more easily determine which images are links on the page. Other types of forces can also serve this function. Also, an “inside condition” such as a texture can be provided for the web link to cause some links to feel rough, some smooth, some bumpy, etc.</p>
    <p num="p-0112">An example of an enclosure effect structure is provided below:</p>
    <p num="p-0113"> <tables id="TABLE-US-00001" num="00001"> <table frame="none" colsep="0" rowsep="0" class="description-table"> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="42pt" align="left"> </colspec> <colspec colname="1" colwidth="175pt" align="left"> </colspec> <thead> <tr class="description-tr"> <td class="description-td"> </td> <td namest="offset" nameend="1" align="center" rowsep="1" class="description-td" colspan="2"> </td> </tr> </thead> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">ENCLOSURE</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">typedef struct {</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">DWORD dwSize;</td> </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="56pt" align="left"> </colspec> <colspec colname="1" colwidth="161pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">RECT rectOutside;</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">DWORD dwXWidth;</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">DWORD dwYWidth;</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">DWORD dwXStiffness;</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">DWORD dwYStiffness;</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">DWORD dwStiffnessMask;</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">DWORD dwClippingMask;</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">DWORD dwXSaturation;</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">DWORD dwYSaturation;</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">LP_CONDITION pInsideCondition</td> </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="42pt" align="left"> </colspec> <colspec colname="1" colwidth="175pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">} ENCLOSURE;</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td namest="offset" nameend="1" align="center" rowsep="1" class="description-td" colspan="2"> </td> </tr> </tbody> </tgroup> </table> </tables> <br>
dwSize: Size of the structure in bytes.
<br>
rectOutside: Outside borders of the enclosure, in screen coordinates. When the mouse position is outside of rectangle defined by rectOutside, there are no forces exerted on the device from this enclosure.
<br>
dwXWidth, dwYWidth: Width W of the region between a wall and the object border. In one implementation, the width of the inner wall and the outer wall regions is the same. Alternatively, they can be defined separately. This parameter can alternatively be specified as a deadband.
<br>
dwXStiffness: Stiffness of the left and right walls. Defines the amount of horizontal resistance (force) felt by the user when attempting to break through a vertical wall. This value amounts to the negative and positive coefficient of horizontal spring conditions that are applied when the mouse is in the left and right walls, respectively.
<br>
dwYStiffness: Stiffness of the top and bottom walls. Defines the amount of vertical resistance (force) felt by the user when attempting to break through a horizontal wall.
<br>
dwStiffnessMask: Mask specifying when resistance should be applied. Can be one or more of the following values:
<br>
NONE: No resistance is felt on any wall.
<br>
INBOUNDTOPWALL, INBOUNDLEFTWALL, etc.: Resistance is felt when entering the enclosure through the top, bottom, left, or right wall, as specified.
<br>
OUTBOUNDTOPWALL, OUTBOUNDLEFTWALL, etc.: Resistance is felt when exiting the enclosure through the top, bottom, left, or right wall, as specified.
<br>
INBOUNDANYWALL, OUTBOUNDANYWALL: Resistance is felt when entering or exiting, respectively, the enclosure through any wall.
<br>
ANYWALL: Resistance is felt when entering or exiting the enclosure through any wall.
<br>
dwClippingMask: Mask specifying when mouse cursor clipping should be applied. Can be one or more of the following values:
<br>
NONE: Clipping is not applied to any wall
<br>
INBOUNDTOPWALL, INBOUNDLEFTWALL, etc.: Clipping is applied when entering the enclosure through the top, bottom, left, or right wall, respectively.
<br>
OUTBOUNDTOPWALL, OUTBOUDLEFTWALL, etc.: Clipping is applied when exiting the enclosure through the top, bottom, left, or right wall, respectively.
<br>
INBOUNDANYWALL, OUTBOUNDANYWALL: Clipping is applied when entering or exiting, respectively, the enclosure through any wall
<br>
ANYWALL: Clipping is applied when entering or exiting the enclosure through any wall.
<br>
dwXSaturation, dwYSaturation: Saturation level of spring effect felt by the user when attempting to break through a vertical or horizontal wall, respectively.
<br>
pInsideCondition: Points to a condition that is to be in effect when the user mouse is in the deadband area. For example, can specify a spring condition, damper condition, and/or texture condition inside the enclosure. This is useful in graphical environments such as GUI's and web pages/web browsers.
</p>
    <p num="p-0114">In another example of an enclosure, a circular or elliptical shape is defined. For example, an elliptical enclosure can include only one wall that is curved all the way around the ellipse. The inner and outer walls can still be provided, as well as the rest of the other parameters. The dimensions of the ellipse/circle can be provided as X and Y widths. Alternatively, an eccentricity parameter can define the eccentricity of the ellipse.</p>
    <p num="p-0115">One problem with enclosures is that often the forces of the enclosure are desirable at one point in time but not at a different point in time. For example, a button having an enclosure has a attractive force associated with the enclosure to assist the user in acquiring the button with the cursor. However, once the cursor is positioned inside the enclosure, the user may want to be able to freely move the cursor again without enclosure wall forces, since the target button has already been acquired. Thus, in one embodiment, the forces associated with the enclosure are turned off once the cursor is moved inside the enclosure. Alternatively, the force magnitudes can be weakened or adjusted to a lower level, e.g. ⅓ the normal magnitude, to allow the cursor to easily exit the enclosure. Once the cursor has exited, the forces can be turned back on. In an alternate embodiment, the forces associated with the enclosure can be turned off or weakened for a predetermined period of time to allow the user to move the cursor out of the enclosure without hindrance, and then the forces can be automatically turned back on once the time has expired. I yet a different embodiment, the forces are turned off only when the cursor has not moved for a predetermined period of time; this indicates that the user has acquired the desired target. In still a further embodiment, the forces can be turned off when a command gesture, such as a button <b>15</b> activation, is detected by the host or microprocessor <b>130</b>. These various embodiments can also be combined in other embodiments as desired. The host or microprocessor can determine when the enclosure has been entered and exited by the cursor through the use of events, explained below.</p>
    <p num="p-0116">Enclosures can also be defined to compensate for user controlling peculiarities. For example, it has been found that up-down movement of the mouse <b>12</b> for most users is much easier that left-to-right movement. An enclosure having equal strength forces on all walls will feel as if the left and right walls have stronger forces. Thus, the upper and lower walls can be defined with stronger forces, e.g., two times the magnitude of the left and right wall forces, to compensate for this effect. Such an enclosure typically feels as if forces of all the walls are of equal strength.</p>
    <p num="p-0117"> <figref idrefs="DRAWINGS">FIG. 6</figref> <i>c </i>illustrates another use of enclosures. Enclosures can be used with events to provide some enclosures with priority over other enclosures. The enclosure with priority can change the characteristics of another enclosure, such as the strength of forces of the walls of the other enclosure. For example, window <b>272</b> is associated with a force enclosure <b>274</b>. The walls of enclosure <b>274</b> surround the borders <b>275</b> of the window and have an associated force to attract the cursor/user object to the border. Buttons <b>277</b> are also included in window <b>272</b> which are near the border <b>275</b> and which may be selected by the user. Buttons <b>277</b> have their own enclosures defined in the interior of the buttons. The problem is that the forces from the enclosure <b>274</b> and the forces from the button enclosures conflict. A user may not be able to select the button easily due to the cursor being stuck between competing enclosure forces.</p>
    <p num="p-0118">Preferably, an enclosure <b>276</b> can be defined to control the effects of other enclosures. For example, the enclosure <b>276</b> occupies a region around buttons <b>277</b> and is preferably not visible to the user. Enclosure <b>276</b> turns off the forces of enclosure <b>274</b> inside its borders and leaves the snap forces of the buttons <b>277</b> on. This allows the user to feel the snap forces of the buttons without conflict from the forces of the window enclosure <b>274</b>. Alternatively, the forces of enclosure <b>274</b> can be reduced inside enclosure <b>276</b> to an extent so that the user is not encumbered by competing forces. A similar type of enclosure can be user on sliders, where the moveable “thumb” of the slider can be provided with an enclosure similar to enclosure <b>276</b> surrounding it. The enclosure surrounding the slider turns off or reduces forces from other enclosures and allows the snap attractive force of the thumb to attract the user object/cursor to the thumb. Events can be used to determine when the cursor enters enclosure <b>276</b>.</p>
    <p num="p-0119"> <figref idrefs="DRAWINGS">FIG. 7</figref> illustrates a different effect useful in force feedback applications known as a texture. A texture is a condition, similar to friction, which causes the mouse to feel as if it were traveling over a series of bumps. <figref idrefs="DRAWINGS">FIG. 7</figref> illustrates a distance vs. force graph in which a number of bumps are defined with a coefficient C, a period T, and a deadband DB. Bumps in the positive distance region are felt when the mouse <b>12</b> is moved in a positive direction, and bumps in the negative distance region are felt when the mouse <b>12</b> is moved in the negative direction. There is a separate height (coefficient) and period of the bumps for the positive and negative directions along a particular axis of the mouse <b>12</b> so that different textures can be felt depending on the direction of the mouse. Directional textures can be used, for example, to achieve a velvet-like effect. The deadband value can apply for both directions. Textures are defined as a condition and can include parameters such as:</p>
    <p num="p-0120">Positive Coefficient, Negative Coefficient: Height (magnitude) of bumps when travelling along the axis in the positive or negative direction, respectively. Positive Saturation, Negative Saturation: Period, in pixels, of bumps (bump width plus deadband width) when travelling along the axis in the positive or negative direction, respectively. DeadBand: Percentage of period which is not occupied by a bump.</p>
    <p num="p-0121"> <figref idrefs="DRAWINGS">FIG. 8</figref> illustrates a different force feedback effect useful in force feedback applications known as a grid. A grid is a condition that creates a 2-dimensional array of snap points <b>280</b>, which are forces attracting the user object to the point when the user object moves over the point. Grids can be stand-alone conditions, but they can also be useful when associated with enclosures. The geometrical attributes of a grid inside of an enclosure <b>282</b> are depicted in <figref idrefs="DRAWINGS">FIG. 8</figref>. Grids are defined as a condition and can include parameters such as those below, also illustrated in <figref idrefs="DRAWINGS">FIG. 8</figref>.</p>
    <p num="p-0122">Offset (O): If the grid is inside of an enclosure, defines the horizontal and vertical distance, in pixels, from the upper left corner of the enclosure's deadband to the first snap point. If the grid is stand-alone, defines the horizontal and vertical distance, in pixels, from the upper left corner of screen to the first snap point.</p>
    <p num="h-0010">Positive Coefficient (C): Strength of snap points (jolts).</p>
    <p num="h-0011">PositiveSaturation (S): Saturation of snap points.</p>
    <p num="h-0012">DeadBand (DB): Vertical and horizontal spacing, in pixels, between snap points.</p>
    <p num="p-0123">Grids can also be implemented as one-dimensional forces, e.g., as tick marks on a slider or any other graphical object when moved. The tick marks would only be felt when the mouse was moving in the defined dimension. For example, a slider can be defined with a one-dimensional grid so that, as the knob of the slider is moved, a snap point is applied as the knob moves over each tick of the grid. The ticks thus have a spatial correlation with the distance that the knob has moved and inform the user of such.</p>
    <p num="h-0013">Events</p>
    <p num="p-0124">One structure used by the host in force feedback implementation is called an “event.” Events are notifications from the force feedback device to application programs <b>202</b>, <b>204</b>, and <b>206</b> of one or more actions or interactions that have occurred in the graphical environment which has been sensed by the force feedback device <b>11</b>. For example, an event can be any interaction of the cursor in the graphical environment with another object. Thus, an event can be defined when the cursor enters into an enclosure object (described below) through a particular border. Alternatively, an event can be triggered when the cursor moves over a close box of a window, or the cursor moves over a file icon and a button is pressed. An event can also be defined when the cursor moves within a specified range of a particular graphical object or region. Also, an event may be defined with a temporal component, e.g. an event is triggered when the cursor remains in a particular region for a specified period of time. Events are similar to button press triggers in that a condition is detected on the force feedback device, independently of the host; however, the trigger for an event is a graphical interaction rather than a physical button press.</p>
    <p num="p-0125">An application program initially defines what the event is by creating an event definition with the API <b>208</b>. The event definition preferably includes an event identifier, an application program (or window) identifier, information specifying actions that trigger an event notification, and force effects, if any, that the event is associated with. The application program assigns a separate identification value to each event at the time of creating the event, and keeps track of the created identification values in its own list. The API can enable, disable, or delete an event at the request of an application program.</p>
    <p num="p-0126">The translation layer receives and stores events when the application that created the event is the active or background application program. Thus, events are preferably included in the active context. The translation layer preferably checks for events based on the position of the cursor (or mouse) received from the force feedback device when the associated application program is (or becomes) active. The translation layer then sends the event notification up to the context driver (or API), which sends an event notification to the application program, e.g. sends a message to a window handler which the application program checks. The event notification includes the event identifier so that the application program can check its own list and identify the event. Once identified, the application program initiates the appropriate response as defined by the developer, e.g. running another application program, outputting a sound, displaying a new image, etc. Alternatively, the force feedback device is loaded with the defined event similar to being loaded with effects. The local microprocessor <b>130</b> can check for events (for active application programs) and send information back through the translation layer to the context driver to notify the application program.</p>
    <p num="p-0127">For an application program to receive an event notification, the application's context must be active, i.e., the application must be active or background. Thus, inactive applications will not receive event notifications. Some events can be defined to have priority over other events. For example, if a trigger is associated with an event in a foreground context as well as an event in a background context, the foreground context can be defined to have priority so that only the application program in the foreground receives an event notification. Alternatively, only the background application, or both the foreground and background applications, can receive the event notification.</p>
    <p num="p-0128">Preferably, both one-time event triggers and periodic event triggers are available. One time event triggers are triggers associated with discrete actions that have no significant duration, such as breaking through an enclosure. Periodic event triggers are associated with conditions that have a finite duration, such as being inside the wall of an enclosure, or holding down a scroll button. During the duration of the condition which triggers the event (e.g., while the cursor is inside the enclosure), the API repeatedly sends event notifications to the application program according to a predetermined periodicity that can be set by the application program.</p>
    <p num="p-0129">As an example, an application program creates an event definition for an enclosure event. This is an event that occurs when a user moves the cursor into an enclosure. The event definition includes a unique event identifier, an identifier for the application program that created it, actions that trigger the event notification (entering the enclosure), and any effects (such as the particular enclosure) which the event is associated with.</p>
    <p num="p-0130">An example of an event structure is provided below:</p>
    <p num="p-0131"> <tables id="TABLE-US-00002" num="00002"> <table frame="none" colsep="0" rowsep="0" class="description-table"> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="21pt" align="left"> </colspec> <colspec colname="1" colwidth="196pt" align="left"> </colspec> <thead> <tr class="description-tr"> <td class="description-td"> </td> <td namest="offset" nameend="1" align="center" rowsep="1" class="description-td" colspan="2"> </td> </tr> </thead> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">EVENT</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">typedef struct {</td> </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="3"> <colspec colname="offset" colwidth="35pt" align="left"> </colspec> <colspec colname="1" colwidth="91pt" align="left"> </colspec> <colspec colname="2" colwidth="91pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">DWORD</td> <td class="description-td">dwSize;</td> </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="3"> <colspec colname="offset" colwidth="49pt" align="left"> </colspec> <colspec colname="1" colwidth="77pt" align="left"> </colspec> <colspec colname="2" colwidth="91pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">HWND</td> <td class="description-td">hWndEventHandler;</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">WORD</td> <td class="description-td">wRef;</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">DWORD</td> <td class="description-td">dwfTrigger;</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">LPI_EFFECT</td> <td class="description-td">pEffect;</td> </tr> </tbody> </tgroup> <tgroup align="left" colsep="0" rowsep="0" cols="2"> <colspec colname="offset" colwidth="21pt" align="left"> </colspec> <colspec colname="1" colwidth="196pt" align="left"> </colspec> <tbody valign="top"> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">} EVENT;</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td namest="offset" nameend="1" align="center" rowsep="1" class="description-td" colspan="2"> </td> </tr> </tbody> </tgroup> </table> </tables> <br>
dwSize: Size of the structure in bytes. This member must be initialized before the structure is used.
<br>
hWndEventHandler: Handle of window to which event notifications are sent.
<br>
wRef: 16-bit application-defined value to identify the event. This value is defined by the application to identify events that it has created. The application assigns a separate wRef value to each event at the time of creation. Each subsequent event notification that the application receives will be tagged with its associated wRef value. When the application processes the window message that receives event notifications, it will compare the wRef value to it's own internal list and take action accordingly.
<br>
dwffrigger: Flags specifying actions that trigger the event notification.
<br>
pEffect: Particular effect (e.g. enclosure), if any, in the GUI that this event is associated with.
</p>
    <p num="p-0132">The following are examples of flags that can be included as triggers for an event.</p>
    <p num="h-0014">ONENTERTOP, ONENTERLEFT, etc.: The mouse broke into the associated enclosure by breaking through the top, bottom, left, or right wall, as specified.</p>
    <p num="h-0015">ONEXITTOP, ONEXITLEFT, etc.: The mouse broke out of the associated enclosure by breaking through the top, bottom, left, or right wall, as specified.</p>
    <p num="h-0016">ONENTERANY, ONEXITANY: The mouse broke into or out of the associated enclosure.</p>
    <p num="p-0133">INBOUNDTOPWALL, INBOUNDLEFTWALL, etc.: The mouse is in the top, bottom, left, or right wall, as specified, and attempting to break into the associated enclosure. OUTBOUNDTOPWAL, OUTBOUNDLEFTWALL, etc.: The mouse is in the top, bottom, left, or right wall, as specified, and attempting to break out of the associated enclosure. INBOUNDANYWALL, OUTBOUNDANYWALL: The mouse is in a wall and attempting to break into or out of the associated enclosure.
<br>
ANYWALL: The mouse is in a wall of the associated enclosure.
<br>
ONSCROLL: The user is holding down the scroll button of the mouse.
<br>
ONEFFECTCOMPLETION: The associated effect has completed.
</p>
    <p num="p-0134">The host computer or force feedback device may also command the mouse <b>12</b> to act as a different type of control device for some embodiments. The force feedback device <b>11</b> is primarily intended, in the embodiment described in <figref idrefs="DRAWINGS">FIG. 2</figref>, to be used in a graphical environment such as a GUI, in which multi-tasking applications are provided. When the force feedback device is used as such, the API <b>208</b> and other layers described above are preferably used. However, the force feedback device can also be used as a different type of controller and may use other standard API's. For example, the mouse force feedback device <b>11</b> as shown in <figref idrefs="DRAWINGS">FIG. 2</figref> may also be desired to be used in conjunction with game application programs, simulations, or the like, in which a joystick or other type of controller is typically used. Device <b>11</b> can be configured to work with such game applications in a “joystick mode” as if it were a standard force feedback joystick, or as if it were a non-force-feedback joystick. The user can be provided with a physical switch on the device <b>11</b> to switch from mouse to joystick mode, or a software switch provided in master application <b>206</b> or other program on the host computer can be used to switch modes. For example, when the device is in the joystick mode, the host computer can use the DirectX API from Microsoft Corp. which includes force feedback functionality for standard joystick controllers. The device <b>11</b> becomes an absolute position reporting device in joystick mode.</p>
    <p num="p-0135">Mouse device <b>11</b> as shown in <figref idrefs="DRAWINGS">FIG. 2</figref> is not easily applicable to many applications intended for use with a joystick, since the mouse is a planar device having a free workspace while a joystick typically has rotary degrees of freedom and springs to bias the joystick to a center position. Thus, forces are preferably used to cause the mouse to be more similar to a joystick. When the mouse device <b>11</b> is used in the joystick mode, in the preferred embodiment, spring forces are applied to bias the mouse <b>12</b> toward the center of its workspace. These forces are applied by actuators <b>64</b> and controlled by the local microprocessor <b>130</b> as background forces that are always in effect, unless the device is switched out of joystick mode.</p>
    <p num="h-0017">Force Feedback Device Implementations</p>
    <p num="p-0136">The force feedback interface device <b>11</b>, as described above, preferably includes a local microprocessor <b>130</b> that implements various processes to provide the functionality and features of the force feedback implementation described herein. Various aspects of the force feedback device implementation are described below.</p>
    <p num="h-0018">Reference Frames</p>
    <p num="p-0137">The force feedback mouse device as described herein needs the ability to know the location of the cursor on the display device of the host computer. This is because the device must monitor the interaction of the cursor with other objects in the graphical environment to determine when associated forces should be output. The force feedback device uses different reference frames to determine where the cursor is positioned. There are three primary reference frames that are described herein: the device (or local) frame <b>30</b>, the ballistic frame and the screen (or host) frame <b>28</b>.</p>
    <p num="p-0138">The device frame is the frame of the physical workspace of the force feedback device. In a preferred embodiment, the device frame is defined with the origin at the top left, the positive x direction to the right and the positive y direction down. This frame is used to describe the absolute position of the end point of the mechanism in its workspace. The scale of “movement units” for the device frame is arbitrary and fixed, although it should be a higher resolution than the resolution of sensors <b>62</b> to guarantee no loss of sensor data. Furthermore, in the preferred embodiment, the device position is scaled to reflect a 4:3 aspect ratio, which matches the preferred mechanical design (guide opening <b>76</b>) as well as the typical computer monitor size. However, in designs having different-sized mechanical workspace, the device frame is scaled to the provided mechanical workspace.</p>
    <p num="p-0139">In the preferred embodiment, rate-control indexing is provided. This allows the mouse <b>12</b> to reach the limit to its workspace and still control the cursor in the same direction. In brief, the central portion of the device workspace is designated as the position control region, where a change in position of the mouse in its workspace directly correlates to a change in position of the cursor on the screen. The change in device position is translated to a change in ballistic position based on the velocity of the device, according to a ballistics algorithm (described below).</p>
    <p num="p-0140">An edge region of the device frame is designated as the rate-control region, in which the mode of moving the cursor changes from position control, to rate control, where the cursor continues to move on the screen in the same direction while the mouse is in the rate control region. The rate control region boundary is accompanied by a repelling force that pushes the user object towards the center of the device workspace. As the user pushes against this force the cursor is moved in a speed proportional to the distance the device is displaced into the rate control region. Therefore, the cursor moves relative to device position in the rate control region, not relative to device motion. This mode may be thought of as moving the position control central area of the device frame around the screen using rate control. This type of indexing is described in greater detail in co-pending U.S. patent application Ser. No. 08/924,462. The size of the rate control region is specified by a percentage. For example, a 400×300 device workspace has a rate-control region of 10%. The cursor position would be determined according to a position control paradigm when the user object position is read between the values of (x,y)=(20, 15) and (380, 285) of the device frame, and according to a rate control paradigm if the user object position is outside of that range.</p>
    <p num="p-0141">The screen frame is used to describe the position of the cursor (or other user-controlled graphical object) on the screen. It is defined with the origin at the top left, the positive x direction to the right and the positive y direction down. This frame is scaled corresponding to the resolution of the display device <b>20</b> (or devices <b>20</b>). For example, if a computer monitor resolution is set to 1024×768 pixels, the x screen position ranges from 0 to 1023 as the cursor moves to the right and from 0 to 767 as the cursor moves down. All coordinate communication between the force feedback device and the host computer are in terms of screen coordinates (normalized for device standards).</p>
    <p num="p-0142">The ballistic frame (or “scaled frame”) is a frame created by the force feedback device to determine cursor position. By applying a ballistics algorithm to the change in position of the user object, the cursor position is determined. The ballistic frame is defined as a multiple of the screen frame, i.e., the ballistic frame preferably has a higher resolution than the screen frame, but has the same aspect ratio as the screen frame. The ballistic frame is created by the force feedback device so that pixel changes smaller than one screen pixel can be made to the cursor position, which is crucial when implementing the fast control loop rates demanded by force-feedback. For example, if the control frequency is 1 kHz, and a monitor provides 1000 pixels across, a change of 1 pixel per control cycle would cause the cursor to travel the entire screen width in one second. In rate control mode, such adjustments in cursor position may have to be made every control cycle, which is far too fast to allow control of the cursor. Thus, a frame with higher resolution, the ballistic frame, needs to be defined to allow the force feedback device to change cursor position at its own control frequency, but which can be divided down to the screen frame size to slow down the cursor as it is moved across the screen. In addition, the aspect ratio of the ballistic frame is the same as that of the screen frame. This allows force effects on the device to spatially correlate with graphical objects displayed on the display device. This is described in greater detail below.</p>
    <p num="p-0143">The microprocessor must make transformations between frames to convert a device position to an eventual screen coordinate. When transforming from the device frame to the ballistic frame, the microprocessor may use sensitivity. Sensitivity is the ratio of the size of the device frame to the size of the ballistic frame. A higher value of sensitivity allows the cursor to traverse the screen with less physical motion of the mouse <b>12</b>, thus causing the cursor to be harder to control. A lower value of sensitivity allows more motion on the device to cause less motion of the cursor on the screen, and is suitable for fine cursor control. At low sensitivity values, the cursor may only be able to reach the entire screen area by using rate control mode.</p>
    <p num="p-0144">In the preferred embodiment, the cursor can exactly move across the entire width of the screen as the mouse <b>12</b> moves across the extent of the position control region of the device workspace, as long as the velocity of the mouse <b>12</b> remains in a middle range to provide a one-to-two ballistic mapping (a one-to-one ballistic mapping is provided with velocities in the lower range, causing less cursor movement; and a one-to-four ballistic mapping is provided with velocities in the high range, causing more cursor movement). As sensitivity is increased, the screen can be traversed in less than the entire position control region of the device workspace (assuming a middle range velocity). At lower sensitivities, the entire screen cannot be traversed (assuming a middle range velocity) without using the rate control mode.</p>
    <p num="p-0145">Since the aspect ratios of the device frame and the ballistic frame may not match, updating position changes in the ballistic frame may require that a change in device position (or a simulated change, when in rate control mode) be added to the ballistic frame. If changes in mouse position are always used, problems with different aspect ratios are eliminated. This is described in greater detail below.</p>
    <p num="p-0146">Transforming from the ballistic frame to the screen frame is simpler. Once the ballistic cursor position is known, the cursor position in the screen frame can be found by dividing the ballistic cursor position by the known multiple. Thus, if the ballistic frame is defined to be 10 times the resolution of the screen frame, the ballistic position is divided by 10 to obtain the screen position.</p>
    <p num="h-0019">Position Reporting</p>
    <p num="p-0147">Standard mouse controllers are open-loop devices which report position changes of the mouse in its workspace to the host computer and have no ability to know the current cursor position. The force feedback mouse device, in contrast, needs to know the location of the cursor on the display device of the host computer, since the mouse device must monitor the interaction of the cursor with other objects in the graphical environment to determine when associated forces should be output.</p>
    <p num="p-0148">There are two primary means for a force feedback mouse to report the position of the mouse to the host and to know the screen position of the cursor. The first, preferred method for the mouse to know cursor location is for the mouse to report (normalized) absolute coordinates to the host computer to dictate the position of the cursor. For example, the actual screen coordinates of cursor can be determined by the mouse and reported to the host, and the host simply displays the cursor at the reported coordinates. This allows the mouse to know exactly where the cursor is at all times, and to therefore have an accurate model of the screen for use with outputting forces. However, any ballistic behavior of the cursor must be calculated on the mouse device itself, creating more calculation overhead for the local microprocessor <b>130</b>. In addition, an absolute reporting scheme is not compatible with traditional, non-force-feedback mouse devices, thus excluding a default mode in case the force feedback functionality is not operational.</p>
    <p num="p-0149">A second method provides a force feedback mouse device that reports position changes of the mouse in its workspace, as a standard mouse does today, rely on the host computer to send back the cursor position. This approach allows the host software to maintain the job of doing cursor ballistics, but requires twice the communication as well as a need for the mouse to predict intermediate values of cursor position while waiting for the next host cursor position update, since the cursor reporting occurs at a slower rate (e.g. about 50-60 Hz) than the haptic control rate (e.g. about 1000 Hz). This embodiment is described in greater detail with respect to <figref idrefs="DRAWINGS">FIG. 13</figref>.</p>
    <p num="p-0150">The processes described below are preferably implemented as firmware in integrated circuits and memory provided on the force feedback device. Alternatively, the processes can be implemented as hardware or software, or a mixture of these. The processes themselves can be implemented using program instructions or code stored on or transferred through a computer readable medium, such as a memory chip, circuit or other device; magnetic media such as hard disk, floppy disk, or tape; or other media such as CD-ROM, DVD, PCMCIA cards, etc. The program instructions may also be transmitted through a channel to device <b>11</b> from a different source.</p>
    <p num="p-0151"> <figref idrefs="DRAWINGS">FIG. 9</figref> is a block diagram illustrating a first preferred embodiment <b>290</b>. In this embodiment, both relative and absolute position reporting modes are used. As referred to herein, relative position reporting means that the force feedback device reports only changes in position of the user object <b>12</b> to the host computer, i.e. a difference between a new position and the last reported position, while absolute position reporting means that absolute coordinates are reported to the host from which the host can directly display the cursor or other graphical object. Most force feedback controllers use absolute position reporting since the position of the cursor on the screen must be known to implement forces. For example, the force feedback mouse and other interface devices described in U.S. Pat. Nos. 6,219,032, 5,825,308, and 6,100,874 use absolute position reporting.</p>
    <p num="p-0152">One problem with absolute position reporting is that the host computer cannot detect the force feedback device as a standard input controller, such as a mouse. If relative position reporting were provided, the host computer can detect the force feedback mouse as a traditional non-force-feedback mouse. This is desirable when force feedback functionality is not currently active to allow the user to select options within the operating system, such as during startup of the device before force feedback drivers have been loaded or during emergencies when force feedback is not enabled.</p>
    <p num="p-0153">The present embodiment provides a relative positioning mode when the force feedback device <b>11</b> is powered up or when the host computer <b>18</b> first detects the force feedback device. In this mode, the device <b>11</b> provides a device delta position to the host as shown in <figref idrefs="DRAWINGS">FIG. 9</figref>. The host is expecting to receive a delta value upon startup, and thus simply processes the delta position normally. This allows the user to use the device for normal positioning of the cursor in a GUI or graphical environment before force functionality has been initialized. The microprocessor does not need to model the cursor position in this stage of the process because no force feedback functionality has yet been enabled on the device <b>11</b>. However, once the force feedback functionality is enabled, e.g., the force feedback driver software has been enabled on the host computer, then an absolute position is reported to the host in place of the delta position relative position reporting. In addition, ballistic parameters and the host screen size are sent to the device <b>11</b> to allow the device <b>11</b> to determined the absolute cursor position. Force feedback commands are also sent to the device in this stage when appropriate.</p>
    <p num="p-0154"> <figref idrefs="DRAWINGS">FIG. 10</figref> illustrates a process <b>300</b> for providing force feedback according to the preferred embodiment <b>290</b> of <figref idrefs="DRAWINGS">FIG. 9</figref>. In a first branch of process <b>300</b>, current joint angles <b>302</b> are measured by sensors of the force feedback device <b>11</b>. For example, in the embodiment of <figref idrefs="DRAWINGS">FIGS. 1 and 2</figref>, the joint angles between members <b>44</b>, <b>46</b>, <b>48</b>, and <b>50</b> are determined based on the current position of the encoder arc as sensed by the emitter and detector of sensor <b>62</b>. The joint angles can be determined since the precise measurements of the members of linkage <b>40</b> are known and are in a known position relative to each other based on the sensor <b>62</b> reading. In a process step <b>304</b>, the current joint angles are normalized based on the sensed range of the mouse <b>12</b> in its degrees of freedom. Since the exact range of the mouse <b>12</b> (or other user object) may not be precisely known due to variations in the device or other irregularities, the normalization process uses a sensed range of motion to determine and assign physical angles between the members of the linkage <b>40</b>. For example, the minimum sensor value that has been detected so far is considered to be one limit of the motion of the mouse, and the maximum sensor value detected so far is considered to be the other limit to the mouse range. In successive iterations of the process <b>300</b>, the mouse eventually will be moved to the physical limits of the device and the angle values will be updated accordingly. This tends to produce more accurate results than an assumed range of motion, since manufacturing tolerances of the components of device <b>11</b> provide slightly varying dimensions, link lengths, and angle ranges that cause discrepancies from device to device. In an alternate embodiment, the force feedback device (microprocessor <b>130</b>) can control the actuators of the device to move the mouse <b>12</b> to all the limits of the mouse <b>12</b> in a short start-up procedure to determine the actual angle ranges.</p>
    <p num="p-0155">The normalized joint angles <b>306</b> resulting from step <b>304</b> are then processed by applying kinematics in step <b>308</b>. Kinematic equations, as is well known to those skilled in the art, are used to derive a position of a desired point on a mechanical linkage or other apparatus from known lengths of links in the linkage and the current angles between those links. For example, a Cartesian position of a point on the linkage in a Cartesian (or other type) of coordinate system can be determined using geometrical equations. A current device position <b>310</b> is determined from the kinematics of step <b>308</b>, which is the position of the mouse <b>12</b> in its workspace.</p>
    <p num="p-0156">The current device position <b>310</b> is used, with a previous device position <b>312</b>, to determine a device delta position <b>314</b>. The previous device position <b>312</b> was the current device position <b>310</b> in a previous iteration of process <b>300</b>; this is indicated by the dashed line <b>311</b> between current and previous device positions. The device delta position <b>314</b> is simply the difference between the current device position <b>310</b> and the previous device position <b>312</b>. In step <b>316</b>, the microprocessor <b>130</b> sends the determined delta position <b>314</b> to the host computer <b>18</b> over bus <b>120</b>. This is a relative position reporting step and is only performed if the system <b>10</b> does not yet have force feedback functionality, e.g. at startup when the force feedback drivers are being loaded. The host computer uses the delta position to position the cursor on the screen of display device <b>20</b>. For example, the host computer adjusts the position of a cursor by the delta amount to achieve a new position of the cursor in the screen frame <b>28</b>. During relative position reporting mode, the delta position <b>314</b> is sent to the host at a slower rate than the rate of process <b>300</b>; therefore, in some iterations of process <b>300</b>, the delta need not be reported to the host. This is because the host only needs to receive a cursor delta position at the rate of displaying the cursor on the screen, which typically is on the order of 60 Hz or every 20 ms. The microprocessor <b>130</b>, on the other hand, must control forces at a much higher rate (1000 Hz or above) and thus needs to execute process <b>300</b> much faster.</p>
    <p num="p-0157">If the device is in relative position reporting mode, the process iteration is complete after the delta position <b>314</b> is reported to the host. The process then returns to measure joint angles <b>302</b> and start the next iteration when triggered to do so. The microprocessor does not need to model the cursor position in this mode because no force feedback functionality has yet been enabled on the device <b>11</b>.</p>
    <p num="p-0158">Relative position reporting mode is exited and absolute position reporting mode is entered when the appropriate software drivers or other programs are loaded into the memory of host computer <b>18</b> to allow the host to recognize, interface with, and command the force feedback of device <b>11</b>. In absolute position reporting mode, the delta position <b>314</b> continues to be determined as described above. However, the delta position is no longer reported directly to the host computer, but is instead used in a ballistics process to determine a ballistic delta, described below.</p>
    <p num="p-0159">In absolute position reporting mode, the force feedback device <b>11</b> also determines a velocity of the user object <b>12</b> for use in the present process in addition to the joint angle processing described in steps <b>304</b> and <b>308</b>. A current joint velocity <b>320</b> is first measured. In the preferred embodiment, this is accomplished by a dedicated circuit or device that determines a velocity from the sensed positions reported by sensors <b>62</b>, e.g. the sensed positions of members <b>44</b> and <b>48</b>. For example, a “haptic accelerator” device can include a circuit dedicated to calculating velocity from multiple sensed positions and time periods between the sensed positions. Such an embodiment is described in greater detail in U.S. Pat. No. 5,999,168. Alternatively, velocity sensors can be used to directly measure velocity of joints or members of the device.</p>
    <p num="p-0160">The current joint velocity <b>320</b> is used in a process step <b>322</b> which uses kinematics in determining device velocity. As described above, kinematics are well-known equations for determining position, and also are used to determine a velocity of a desired point of a linkage. Thus, the kinematics can be used to determine the velocity of the mouse <b>12</b>, which is referred to as the “device velocity” herein. The current device velocity <b>324</b> resulting from step <b>322</b> indicates the current velocity of mouse <b>12</b>.</p>
    <p num="p-0161">Ballistics step <b>328</b> uses a ballistic algorithm or similar method to model or predict a position of the cursor in the screen frame <b>28</b> based on the position and velocity of the mouse <b>12</b>. This modelling is accomplished to allow the local microprocessor <b>130</b> to determine where the cursor is positioned in the ballistic frame. Using the spatial layout of graphical objects that is stored locally in memory <b>134</b> and which is continually updated by the host, the local microprocessor determines when the cursor is interacting with an object and when to output forces associated with the interaction. The local determination of the cursor position allows the microprocessor to know the position of the cursor for the determination of forces.</p>
    <p num="p-0162">In the ballistics step <b>328</b>, the local microprocessor uses a ballistics algorithm to determine a “ballistic delta” for the cursor, i.e. a change in position of the cursor measured in the ballistic frame. A ballistics algorithm is a method of changing the position of the cursor so as to break the direct mapping between the mouse <b>12</b> position and the cursor position to allow the user greater control over the cursor position. For example, most ballistics algorithms vary the position of the cursor based on the velocity of a mouse in its workspace. The faster the velocity of the mouse, the greater the distance that the cursor is moved on the screen for a given distance the mouse is moved. This allows slow motions of the mouse to finely control the cursor, while fast motions coarsely control the cursor and allow the cursor to be moved quickly across the screen. Other algorithms can also be used which are similar to ballistics in that cursor position is altered to allow fine cursor control in situations when needed (such as for targeting graphical objects with the cursor) and to allow coarse cursor control when needed. Ballistics and other methods of such enhanced cursor control are described in greater detail in co-pending application Ser. No. 08/924,462 and can be used.</p>
    <p num="p-0163">The microprocessor <b>130</b> preferably uses a ballistic algorithm that provides two velocity thresholds to determine how far the cursor is to be moved. This is described in greater detail below in the method of <figref idrefs="DRAWINGS">FIG. 11</figref>. Other ballistics algorithms may be used in other embodiments; e.g., a continuous algorithm that adjusts cursor position continuously along a range of mouse velocity.</p>
    <p num="p-0164">The microprocessor uses several types of data to determine the ballistic delta of the cursor, including the device delta position <b>314</b>, current device velocity <b>324</b>, and host ballistic parameters <b>330</b>. The host ballistic parameters <b>330</b> are received by the microprocessor <b>130</b> from the host at some point before the process <b>300</b> starts, or when the ballistic model changes, and are stored in local memory <b>134</b> to be accessed when required. Such parameters can include the distance to move the cursor for each threshold range of device velocity, the velocity values of the two thresholds, and any conditions concerning when to apply the ballistics algorithm. If the host changes ballistics algorithms, notification can be sent to the microprocessor <b>130</b> and new parameters stored in local memory <b>134</b>. The microprocessor <b>130</b> examines the current device velocity <b>324</b> and the parameters <b>330</b> to determine in which threshold range the mouse velocity currently is placed, and then multiplies the device delta position by the appropriate amount (e.g., 1, 2, or 4, depending on the velocity). This results in the ballistic delta <b>332</b>, which is provided in terms of the ballistic frame. Changes in mouse position (i.e., delta positions <b>314</b>) are used in the absolute position reporting mode because this allows problems with changes to screen aspect ratios and resolutions to be alleviated. In addition, an indexing function of the device <b>11</b> is preferably implemented which may cause the ballistic delta <b>332</b> to be calculated differently in a rate control mode, as detailed below in <figref idrefs="DRAWINGS">FIG. 11</figref>.</p>
    <p num="p-0165">The microprocessor then proceeds to a process step <b>334</b>, in which a current ballistic location (or “scaled position”) <b>336</b> of the cursor is determined in the ballistic frame. To accomplish this, the microprocessor uses the ballistic delta <b>332</b>, and the previous ballistic location <b>338</b>. The previous ballistic location <b>338</b> was the current ballistic location <b>336</b> in an earlier iteration of process <b>300</b>, as indicated by dashed line <b>337</b>. Previous location <b>338</b> can be stored in local memory <b>134</b> and then discarded after being used to determine the current ballistic location. At its simplest level, the current ballistic location <b>336</b> is determined in step <b>334</b> by taking the previous ballistic location <b>338</b> and adjusting that location by the ballistic delta <b>332</b>.</p>
    <p num="p-0166">The current ballistic location <b>336</b>, however, cannot be directly transformed to a screen pixel position in the screen frame. Step <b>342</b> uses the current ballistic location <b>336</b> and the host screen size <b>340</b> to determine the screen pixel location.</p>
    <p num="p-0167">The host screen size <b>340</b> is the current pixel resolution and/or aspect ratio being displayed on the display device <b>20</b> of the host computer <b>18</b>. For example, the host may be displaying a screen resolution of 800×600 pixels, 1024×768 pixels, or 1280×960 pixels. Also, in some embodiments, the host may be displaying a different aspect ratio. For example, a typical computer monitor aspect ratio is 4:3; however, if two monitors are connected to provide a continuous screen space, the aspect ratio becomes 8:3. i.e., double the size of a single screen in one dimension. The host screen size <b>340</b> can be received by the device <b>11</b> when the ballistic parameters <b>330</b> are received, or at any other time (and/or when sensitivity information is received, if applicable). Different resolutions or aspect ratios have different numbers of pixels in respective dimensions of the screen and thus cause displayed objects to appear in different areas of the screen. For example, if a graphical object is centered in the screen at 640×480 resolution, the object will appear in the upper left quadrant of the screen when the resolution changes to 1280×960.</p>
    <p num="p-0168">The change in resolution or aspect ratio can create a problem with force sensations created by the force feedback device. The device has been sent a spatial layout of objects from the host that indicates the coordinates of an object on the screen. When the screen size is changed, and the device is not informed, the device will output forces corresponding to the object as it appeared in the old screen size. This can cause large discrepancies between where an object is displayed and where the forces of an object are encountered in the device workspace. For example, if an icon is at coordinates (64, 48) on a 640×480 resolution screen, the device knows that the icon is positioned 10% of the entire screen dimension away from the top and left borders of the screen workspace. The device accordingly outputs associated forces when the mouse is moved into the region of the device workspace corresponding to the icon, i.e. 10% of the workspace distance from the top and left borders of the workspace. However, after a resolution change to 1280×960, the icon is displayed 5% of the screen dimension away from the top and left borders. The device, however, would output forces based on the old position of the icon, which no longer corresponds with the position of the icon. Thus, the device needs to be told the new screen resolution so it may provide forces at the appropriate region of the device workspace.</p>
    <p num="p-0169">Similarly, a change in aspect ratio can cause distortion in the force feedback sensations. For example, a circle object is displayed on a 4:3 aspect ratio screen and has a force wall surrounding its shape. The circle will feel like a circle on the device if the ballistic frame also has an aspect ratio of 4:3. However, if another monitor is activated so that the screen has an 8:3 aspect ratio, the circle object will feel like an oval due if the screen is directly mapped to the device frame, i.e. if the device frame is “stretched” to fit the screen frame. The use of delta positions <b>314</b> prevents this distortion. Since only changes in the mouse position are used to determine cursor position, and not an absolute mouse position in the device workspace, the cursor is positioned without distortion. However, the new aspect ratio still needs to be communicated to the force feedback device since there is a larger area in which the cursor may be positioned. For example, in a 4:3 aspect ratio, the microprocessor might clip a pixel location to the edge of the screen if that location were beyond the edge of the displayed range. However, on an 8:3 aspect ratio, the location should not be clipped since the displayed range is larger.</p>
    <p num="p-0170">To prevent distortion caused by a change in screen size, the ballistic location <b>336</b> of the cursor is divided by a divisor that takes the host screen size into account. For example, if the ballistic frame is 10 times the resolution of the screen frame, then the divisor is 10: the ballistic location <b>336</b> would be divided by 10 to achieve a screen pixel position of the cursor if the host screen size had not changed. If the host screen size did change, then the ballistic frame is resized to take the new screen size into account. Preferably, the screen pixel position is equal to the screen size times the ballistic location divided by the ballistic frame size (i.e. the divisor). Thus, if screen resolution on the host has doubled, the divisor would halve, and the screen pixel location would double. The host can also send sensitivity information to the device. If a new sensitivity value is received, the ballistic frame is resized accordingly; as sensitivity is increased, the ballistic frame size is decreased.</p>
    <p num="p-0171">Once the screen pixel location is translated from the ballistic position <b>336</b>, the screen pixel location is then typically normalized to a standardized range of numbers since communication software and devices have standard values to receive. The normalized screen pixel position <b>346</b> is then sent to the host computer as an absolute position in step <b>350</b>, e.g., as coordinates for display on the screen. The host receives the screen pixel location <b>346</b> and displays the cursor appropriately.</p>
    <p num="p-0172">In step <b>344</b>, the local processor <b>130</b> uses the (preferably non-normalized) screen pixel location (and other data) to determine whether any forces should be output, and outputs those forces. For example, the local microprocessor checks the spatial layout of graphical objects which is stored in local memory <b>134</b> and determines whether the screen pixel location intersects or contacts any of those objects. If so, there may be a force associated with the interaction, depending on the graphical object intersected. Such a force would be calculated based on a variety of data. Such data may include the device velocity <b>324</b>, the device position <b>310</b>, the elapsed time from an event, the distance from a different graphical object in the graphical environment, a history of past mouse motion, etc. Some examples of forces that can be output in a graphical environment are described in U.S. Pat. Nos. 6,219,032 and 5,825,308.</p>
    <p num="p-0173">Once step <b>346</b> is complete (and any other desired steps in the provision of forces, which is not detailed herein), the process when needed returns to the measuring of joint angles <b>302</b> and joint velocity <b>320</b> to begin another iteration of the absolute position reporting process.</p>
    <p num="p-0174">No error correction is required in the present embodiment, unlike the embodiment below, because the force feedback device <b>11</b> is operating in absolute mode when the pixel position is determined. The host is no longer receiving simply a change in position (delta) of the user object, but is receiving an absolute coordinate in a coordinate system and need perform no other significant processing (such as ballistics) to display the cursor, i.e., the local microprocessor solely performs the necessary adjustments, such as ballistics, and reports the adjusted position to the host computer. Thus, the host and local microprocessor have the same position value for the cursor, and no opportunity exists for the two positions to diverge.</p>
    <p num="p-0175"> <figref idrefs="DRAWINGS">FIG. 11</figref> is a flow diagram illustrating a method <b>360</b> for implementing enhanced cursor control and indexing in the absolute position reporting mode of method <b>300</b>. This method provides ballistics for cursor positioning as well as indexing functionality, and many of the steps of method <b>360</b> overlap those of method <b>300</b>. As described above, the mouse workspace preferably includes a central position control region in which the mouse controls the cursor according to a position control scheme. An isometric edge region is provided around the position control region of the mouse workspace. When the mouse is moved into the isometric region, a resistive force is applied to the mouse and the cursor is moved according to a rate control method, where the speed of the cursor is proportional to the amount of penetration into the isometric region. This allows a user to move the cursor throughout the screen frame without causing the user to experience disconcerting interruptions due to the mouse colliding with physical limits to the mouse workspace. This indexing method is described in greater detail in U.S. Pat. No. 6,252,579.</p>
    <p num="p-0176">The method <b>360</b> is similar to the indexing methods described above in that a position control region and isometric edge region are provided in the mouse workspace. Method <b>360</b> is intended to be used on the preferred embodiment <b>290</b> of <figref idrefs="DRAWINGS">FIGS. 9 and 10</figref> and accounts for the use of a ballistic frame on the mouse and for changes in screen size.</p>
    <p num="p-0177">Method <b>360</b> begins at <b>362</b>, in which raw sensor data is read using the sensors <b>62</b>. In step <b>364</b>, the joint positions of linkage <b>40</b> are calculated from the raw sensor data. In step <b>366</b>, position kinematics are used to determined the device position (position of the mouse <b>12</b> or other user object) in the device frame, as explained above with reference to <figref idrefs="DRAWINGS">FIG. 10</figref>. The last device position is stored in local memory <b>134</b> in step <b>368</b>, and a delta device position is determined in step <b>370</b> using the current device position resulting from step <b>366</b> and the last device position stored in step <b>368</b>. From step <b>366</b>, step <b>372</b> is initiated, which checks whether the device position is in the position control region of the device frame. If not, the mouse is in the isometric region and is in rate control mode, where a resistive force is preferably output on the mouse opposing movement into the region. In step <b>374</b>, the rate control delta is calculated to be the difference between the device position and the rate control edge; this provides the distance of penetration into the isometric region. In step <b>376</b>, the rate of cursor movement is equal to the maximum rate times the rate control delta divided by the rate control edge width (i.e., the width of the isometric regionj. The rate control delta divided by the rate control edge width provides the percentage of penetration of the mouse into the isometric region, which is designated to be the same percentage of the maximum rate of the mouse. The maximum rate can be set by the developer; for example, 1000 ballistic pixels per second or 8000 ballistic pixels per second. In step <b>378</b>, the ballistic position (i.e. the position of the cursor in the ballistic frame) is set equal to the old ballistic position plus the rate determined in step <b>376</b>. The process then continues to step <b>394</b>, detailed below.</p>
    <p num="p-0178">If the device position is in the position control region in step <b>372</b>, then a position control method is followed. Steps <b>384</b>-<b>392</b> implement a preferred ballistics algorithm to provide enhanced cursor control to the user of device <b>11</b>. This algorithm is generally as follows. If the current device velocity is below the first threshold, the cursor is moved by the smallest amount, e.g., a one-to-one mapping between device movement units and ballistic pixels. If the current device velocity is between the first and second thresholds, the cursor is moved double the amount of pixels as it is moved when mouse velocity is under the first threshold, e.g. a one-to-two mapping between device and ballistic frames. If the user object velocity is above the second threshold, the cursor is moved double the amount of pixels as between the first and second thresholds (a one-to-four mapping between device and ballistic frames). In other embodiments more or less thresholds, or a continuous function, can be used. Also, the host may change the ballistics algorithm in a variety of ways and indicate the changes to the device <b>11</b> using ballistic parameters <b>330</b> as described for <figref idrefs="DRAWINGS">FIG. 10</figref>.</p>
    <p num="p-0179">Thus, step <b>384</b> checks the device velocity so that a ballistic position may be determined. The device velocity is determined in steps <b>380</b> and <b>382</b>, where step <b>380</b> determines joint velocities from the sensor data read in step <b>362</b> and device velocity is determined from the joint velocities and velocity kinematics in step <b>382</b>, as described above in <figref idrefs="DRAWINGS">FIG. 10</figref>. In step <b>384</b>, this device velocity is compared to the ballistic thresholds used in the ballistics algorithm. If the device velocity is within the first ballistic threshold in step <b>384</b>, then step <b>386</b> determines the new ballistic position to be the old ballistic position plus the delta device position (from step <b>370</b>). The process then continues to step <b>394</b>, detailed below. If the device velocity is greater than the first ballistic threshold, then in step <b>388</b> the device velocity is compared to the second ballistic threshold. If the device velocity is between the first and second thresholds, then in step <b>390</b> the new ballistic position is set equal to the old ballistic position plus twice the delta device position. This causes the cursor to move at a faster rate, based on mouse velocity. The process then continues to step <b>394</b>, detailed below. If the device velocity is greater than the second ballistic threshold in step <b>388</b>, then in step <b>392</b> the new ballistic position is set equal to the old ballistic position plus 4 times the delta device position. The process then continues to step <b>394</b>.</p>
    <p num="p-0180">In step <b>394</b>, the screen position of the cursor is set equal to the ballistic position as determined in one of steps <b>378</b>, <b>386</b>, <b>390</b>, and <b>392</b> divided by a divisor. The divisor is known from the resolution of the ballistic frame and the resolution of the screen frame, as follows. In step <b>396</b>, the screen resolution (or size) is obtained from the host. In step <b>398</b>, the divisor is set equal to the ballistic range (or resolution) divided by the screen resolution as detailed above.</p>
    <p num="p-0181">After the screen position is determined in step <b>394</b>, it is sent to the host computer in step <b>399</b> and used in the display of the cursor in the screen frame. The device II also determines and outputs forces, as detailed in <figref idrefs="DRAWINGS">FIG. 10</figref>. It should be noted that the forces on mouse <b>12</b> may be determined or calculated differently in rate control (isometric) mode than in position control mode, as described in greater detail in U.S. Pat. No. 6,252,579.</p>
    <p num="p-0182"> <figref idrefs="DRAWINGS">FIG. 12</figref> is a block diagram illustrating a second embodiment <b>400</b> for reporting positions to a host computer from a force feedback device. Embodiment <b>400</b> provides only relative position reporting from the force feedback device <b>11</b> to the host computer <b>18</b>. This is advantageous in that the force feedback mouse device is detected by the host as a standard non-force-feedback mouse, where the host computer can use standard drivers and other software. This allows the user to control GUI functions even when force feedback is not currently active, such as during startup of the device or during failures of the force feedback functionality. In addition, a relative position reporting process is more appropriate than an absolute position reporting process for such interface devices as trackballs, in which an unrestricted workspace and range of motion is provided for the user object <b>12</b>. For example, the spherical ball in a trackball controller can be moved in any direction for any number of revolutions and is not as suitable for use with an absolute coordinate system as a device having a workspace with known limits.</p>
    <p num="p-0183">Embodiment <b>400</b> provides a device delta position to the host computer from which the host computer determines a cursor screen pixel position. The host computer sends cursor position updates to the force feedback device to provide the cursor position which the device needs to determine when forces are output and to determine the force characteristics. However, since the host cursor position updates occur at a much slower rate, the device must model the cursor position on its own to be able to output forces between host cursor updates. Thus, the host sends ballistic parameters and screen size information so the device can model the cursor position. When the device receives an update, it corrects for any error between its modelled position and the actual cursor position, as detailed below. The host also sends force feedback commands to the device indicate which forces are to be output.</p>
    <p num="p-0184"> <figref idrefs="DRAWINGS">FIG. 13</figref> illustrates a process <b>410</b> for implementing the second embodiment <b>400</b> of <figref idrefs="DRAWINGS">FIG. 12</figref>. A significant difference between method <b>300</b> and method <b>410</b> of the first embodiment is that the host independently determines a screen cursor position in the present embodiment in parallel with the microprocessor modeling the cursor screen position. Since the host controls the actual position of the cursor, its screen position is considered the “correct” or actual cursor position, while the device modeled value is only approximate. The host must continually send the actual screen position to the device so that errors in the modeled screen position can be corrected and so that the forces can be correctly correlated with actual cursor position.</p>
    <p num="p-0185">Process <b>410</b> includes many similar steps to process <b>300</b>. The current joint angles <b>302</b> are measured and normalized in step <b>304</b>, and the normalized joint angles <b>306</b> are processed with kinematics in step <b>308</b> to provide a current device position <b>310</b>. The current device position <b>310</b> and previous device position <b>312</b> are used to determine a delta position <b>314</b>, which is reported to the host computer <b>18</b> in step <b>316</b> over bus <b>120</b>. As in process <b>300</b>, this portion of the process <b>410</b> functions like a traditional relative mouse, where only a delta value is reported to the host computer. However, unlike the process <b>300</b>, the delta position <b>314</b> is always reported to the host computer, i.e., there is no absolute position to report at any stage of the process. The host computer uses the delta position to position the cursor or other user-controlled graphical object on the display device <b>20</b>. For example, the host computer adjusts the position of a cursor using the delta amount and its own ballistics algorithm to achieve a new position of the cursor in the screen frame <b>28</b>. The delta position <b>314</b> is sent to the host at a slower rate than the rate of process <b>410</b>; therefore, in some iterations of process <b>410</b>, the delta need not be reported to the host. This is because the host only needs to receive a cursor delta position at the rate of displaying the cursor on the screen, which typically is on the order of 60 Hz or every 20 ms. The microprocessor <b>130</b>, on the other hand, must compute forces at a much higher rate (1000 Hz or above) and thus needs to execute process <b>300</b> much faster.</p>
    <p num="p-0186">The current joint velocity <b>320</b> also is read in process <b>410</b> (both the joint angles <b>302</b> and the joint velocity <b>320</b> are always measured in the current process). Kinematics are applied in step <b>322</b> to obtain the current device velocity <b>324</b>, and ballistics are applied in step <b>328</b> using the device velocity <b>324</b>, ballistic parameters <b>330</b>, and delta position <b>314</b> to obtain a “modeled” pixel delta <b>332</b>. The pixel delta <b>332</b> is a modeled or predicted value in this embodiment because the host has determined the actual screen position using its own ballistics algorithm and using the delta position <b>314</b> provided by the device. The microprocessor <b>130</b> preferably uses in step <b>328</b> the same ballistics algorithm used by the host computer in its determination of cursor position.</p>
    <p num="p-0187">In step <b>412</b>, a current pixel location is modeled using the modeled pixel delta <b>332</b>, a previous pixel location <b>416</b>, and the host screen size <b>340</b>, resulting in a current pixel location <b>414</b>. Step <b>412</b> is similar to step <b>334</b> of process <b>300</b> in that pixel delta <b>332</b> and the previous pixel location <b>416</b> are used substantially similarly. The host screen size information can be used to determine whether the determined pixel location should be clipped or not. For example, if the aspect ratio has changed from 4:3 to 8:3, double the amount of area is provided. If the pixel location is one that would normally extend beyond the edge of a 4:3 screen area, it would be clipped to the border of the 4:3 screen, but may not be clipped if it is still within the 8:3 area. In one embodiment, if the change in screen size is to a different resolution, the current pixel location can also be adjusted depending on the change in resolution. For example, if screen resolution has been adjusted from 640×480 to 1280×960, then the pixel delta can be doubled before it is added to the previous pixel location.</p>
    <p num="p-0188">Step <b>412</b> is different from step <b>334</b> in <figref idrefs="DRAWINGS">FIG. 10</figref> in that a current pixel error <b>418</b> is included in the determination of the current pixel location <b>414</b>. The pixel error <b>414</b> is the error between the cursor position modeled by the local microprocessor and the actual cursor position as determined and displayed by the host computer. Although the microprocessor is typically applying the same ballistics algorithm and screen size adjustments to the cursor pixel location as the host computer, errors can be introduced to cause the two cursor location calculations to diverge. For example, in some embodiments, the host computer can “clip” the received delta position <b>314</b>, i.e., ignore the delta position so that the cursor stays at a constant position. Such a technique is used, for example, to provide realistic obstruction force sensations when forces are limited in magnitude, as described in greater detail in co-pending application Ser. No. 08/664,086. Or, error can be caused by an application program on the host computer moving the cursor based on the program's own criteria and completely independently of the force feedback device. Or, error can be caused by the host computer switching to a different ballistics algorithm, where a delay exists between the host using the new ballistic algorithm and the force feedback device receiving the parameters for the new algorithm.</p>
    <p num="p-0189">The current pixel error <b>414</b> is determined by examining the current pixel location <b>414</b> at the time of reporting the delta position <b>314</b> and a current screen position of the cursor that has been received from the host computer. The host computer periodically reports a current screen position <b>420</b> of the cursor to the microprocessor <b>130</b>, where the screen position is based on the delta position <b>314</b> reported to the host in step <b>316</b>. The reporting of the screen position by the host is triggered by receiving the delta position <b>314</b> from the device, and the microprocessor recalculates pixel error when it receives the host screen position <b>420</b>.</p>
    <p num="p-0190">The microprocessor compares the received screen position <b>420</b> with the modeled current pixel location <b>414</b> at the time of report <b>316</b> (it should be noted that the current pixel location <b>414</b> may have a previously-determined error correction value included in its determination, as explained below). If the two locations are the same, no error exists between the two cursor positions, and the microprocessor uses the current pixel location <b>414</b> as the location of the cursor in its force calculations and force outputs. If the two locations are not the same, error exists between the two cursor positions and the current pixel location <b>414</b> must therefore be corrected. An error correction value is determined as the difference between the current pixel location <b>414</b> and the host screen position <b>420</b>. This value, when added to (or subtracted from) the pixel location <b>414</b>, will cause the two cursor locations to be the same. Alternatively, if the microprocessor knows the error, then the current pixel location can be adjusted to provide no error.</p>
    <p num="p-0191">The screen position <b>414</b> from the host is reported to the microprocessor <b>130</b> at a slower rate than the rate of process <b>410</b>, since the force feedback process must be much faster than the displaying processes of the host computer. There may therefore be several iterations of process <b>410</b> before the screen position <b>420</b> is reported by the host to the microprocessor <b>130</b>. Therefore, once the error correction value is determined after one report of screen position <b>420</b>, that same value is continually used in iterations providing the determination of current pixel location <b>414</b> until the next screen position <b>420</b> is received from the host.</p>
    <p num="p-0192">In the preferred embodiment, it is desirable to “smooth out” the correction of the error in pixel location <b>414</b> by only incrementally changing the pixel location <b>414</b> in each iteration of process <b>410</b>. For example, if the current pixel location <b>414</b> were adjusted with the entire error correction value at one time, this might cause a large change in the pixel location <b>414</b>. If forces output on the user object are based on the current pixel location <b>414</b> of the cursor, then the user may notice the correction of the error by feeling a small jump or discontinuity in the forces applied to mouse <b>12</b> after the error is corrected. This is because the forces were determined based on a pixel location having a large error at one point in time, and then the forces are based on the corrected pixel location at the next point in time. Thus, the difference in pixel locations in each iteration is preferably smoothed by only partially correcting the current pixel location <b>414</b>. With such smoothing, the user does not feel as large a discontinuity in forces when the error in pixel position <b>414</b> is corrected. The error correction rate is preferably based on the desired system modeling. The error can be corrected at a rate so that there is no error between the pixel location <b>414</b> and the host screen position <b>420</b> by the time a new host screen position <b>420</b> is received (which may provide a new error, of course). Or, the error can be corrected at a rate that spans multiple received host screen positions <b>420</b>. Typically, the correction of errors is desired to be as slow as possible to maintain high fidelity of forces to the user, yet the error must be corrected fast enough so as not to create a discontinuity between what the host is displaying on the display device and the forces the user feels on the force feedback device.</p>
    <p num="p-0193"> <figref idrefs="DRAWINGS">FIG. 14</figref> is a diagrammatic illustration of an example of the pixel location error correction process explained above. The line <b>426</b> represents a time scale, and each vertical mark represents another iteration of process <b>410</b>. At the first iteration, the pixel location <b>414</b> (PL) is determined to be <b>192</b> (assuming a single dimension of user object motion) and the error <b>418</b> between the pixel location and host screen position is 0. At the next iteration, the pixel location is <b>200</b>, and the delta position of 4 is reported to the host as in step <b>316</b>. Over the next iterations, the pixel location is determined to be <b>200</b>, <b>201</b>, and <b>202</b>. At the sixth iteration, the pixel location is determined to be <b>203</b>; in addition, the host reports a host screen position of <b>201</b>. Since this screen position was determined based on the delta position <b>314</b> reported to the host in the second iteration, the error is measured between the pixel location determined at the second iteration (<b>200</b>) and the host screen position received at the sixth iteration (<b>201</b>). The error value of 1 is then included in the current pixel location, so that the pixel location of <b>203</b> is corrected to be <b>204</b> based on the error value. This example demonstrates that the pixel location <b>384</b> determined by the microprocessor <b>130</b>, when error exists, is corrected a few iterations behind the actual screen position determined by the host. The microprocessor <b>130</b> locally stores the pixel location <b>414</b> that was determined in the iteration when the delta position <b>314</b> was reported to the host so that the error correction value can be accurately determined.</p>
    <p num="p-0194">It should be noted that, in the example of <figref idrefs="DRAWINGS">FIG. 14</figref>, the error value determined at the sixth iteration continues to be added indefinitely. Thus, if further errors are indicated at later host reports, the new error value must be added to the old error value. <figref idrefs="DRAWINGS">FIG. 15</figref> is a diagrammatic illustration of the error correction value increasing over time. Initially the error correction value is 0, then 1. Over the next host report of the screen position, the current error is 2 pixels, which is added to the previous error correction value of 1 so that the total error correction value is 3. Likewise, in the next host report, the current error is 3 pixels, so that the total error correction value is 6. In one embodiment, if a very large error accumulates, the microprocessor can make the error zero in one iteration regardless of the effect on the user.</p>
    <p num="p-0195"> <figref idrefs="DRAWINGS">FIG. 15</figref> also demonstrates the smoothing or incremental correction of the modeled pixel location. An error of 2 pixels exists at the iteration <b>428</b>. The value of 2 is not added to the previous error value of 1 immediately, since that may cause a force discontinuity to the user. Instead the 2 pixels are added gradually to the error correction value over the next few iterations. For example, the actual value (AV) added to the pixel location <b>414</b> is 0 for the first two iterations after iteration <b>428</b>, then AV=2 for three more iterations, until the full value of 2 is added in following iterations.</p>
    <p num="p-0196">Referring back to <figref idrefs="DRAWINGS">FIG. 13</figref>, once the current pixel location <b>414</b> is determined, the local processor <b>130</b> uses that location in step <b>424</b> to determine whether any forces should be output and outputs those forces. It should be noted that most forces are determined preferably based on the velocity of the user object in its workspace, not the velocity of the cursor in the graphical environment. Thus, these forces will always feel the same to the user, regardless of any error between the modeled pixel location <b>414</b> and the host screen position <b>420</b>, since they is independent of screen velocity. However, some forces are dependent on interactions in the graphical environment, and will be affected by a cursor position error. Likewise, the ability to initiate or discontinue forces based on interactions in the graphical environment is also affected by cursor position error.</p>
    <p num="p-0197">Once step <b>424</b> is complete (and any other desired steps in the provision of forces, which is not detailed herein), the process preferably returns to the measuring of joint angles <b>302</b> and joint velocity <b>320</b> to begin another iteration of the process.</p>
    <p num="h-0020">Force Feedback Features</p>
    <p num="p-0198">In the above described embodiments, the host computer performs such tasks as the implementation and display of the graphical (or other) environment and cursor, the implementation of multi-tasking application programs, the sending of high-level force feedback commands to the force feedback device, and the reception of position (or other) data from the force feedback device indicating the user's desired interaction with the computer-implemented environment. The force feedback device, in contrast, performs such tasks as reading the position of the user object, receiving high level force feedback commands from the host computer, determining whether a force should be output based on conditions sent from the host computer, and implementing and outputting the required forces when necessary.</p>
    <p num="p-0199">Some tasks, however, may be implemented in either the host computer or the force feedback device, and there are different tradeoffs to choosing one implementation over the other. Events, for example, are one such feature. Another force feedback feature that can be implemented in either the host or the force feedback device is “clipping.” Clipping is the selective omission of reported position data when displaying the cursor or other user-controlled graphical object to cause a sensory effect on the user in certain circumstances. Such circumstances include those where displaying the cursor in correlation with the precise user object position would not provide a desired effect. The most common case for clipping is when the cursor encounters a surface or object in the graphical environment which is desired for the user to experience as a hard obstruction or wall. The wall is desired to prohibit further movement into the surface or object; however, due to limitations in hardware, a strong enough force cannot be output on the user object to actually prevent motion into the wall. Thus, clipping is performed: the user object (e.g., mouse) is allowed to be moved by the user into the wall against a resistive force, but the reported position data indicating this movement is clipped or ignored so that the cursor is displayed positioned against the wall surface where it first encountered the wall. The user sees the cursor prevented from moving into the wall and feels a resistive force, and believes that it is a hard obstruction even though the user object can actually be moved into the wall; this is because the user heavily relies on the visual perception of the interaction. Clipping is described in greater detail in U.S. Pat. Nos. 6,028,593 and 5,825,308.</p>
    <p num="p-0200">Clipping can be easily performed by the force feedback device to ease computational burden on the host. For example, the local microprocessor <b>130</b> can check whether the user object is being moved into a wall in the graphical environment; if so, the microprocessor can simply discard the position data and report a constant position (or delta) to the host computer that would cause the host to display the cursor against the wall surface. This allows the host computer to be completely ignorant of the clipping process and simply display the cursor at the reported position, thus freeing the host to perform other tasks. However, problems occur in this implementation due to extra burden on the local microprocessor. Since the microprocessor is implementing a very fast force feedback loop in which the user object position is read and forces are output, it is very disruptive to this loop when the microprocessor has to check whether to clip the read position of the user object, and may cause a small distortion in output forces.</p>
    <p num="p-0201">The host computer <b>18</b> can also perform clipping in an alternate embodiment. Since it is desirable to keep the application programs <b>202</b> and <b>204</b>, the operating system, and other high level programs ignorant of the clipping process, a lower level program preferably handles the clipping. For example, the translation layer <b>218</b> as shown in <figref idrefs="DRAWINGS">FIG. 4</figref> (or alternatively the context driver or API) can check for the conditions that cause clipping to be applied. If clipping is to be performed, the translation layer alters the input position data appropriately before it is sent on to the context driver, API, operating system and any application programs. Problems with this implementation include increased load on the host with the overhead of intercepting and translating incoming messages.</p>
    <p num="p-0202">A different force feedback feature that can be implemented either by the force feedback device or the host computer is “pressure clicks” or “click surfaces.” As described above, these are surfaces, objects or regions in a graphical environment which have additional functionality based on the position of the cursor in relation to the object. Thus, a border of a window can be designated a click surface such that if the user overcomes a resistive force and moves the cursor (or user object) over a threshold distance into the border, a function is activated. The function can be scrolling a document in the window, closing the window, expanding the window size, etc. A similar click surface can be used on an icon or button to select or activate the icon or button.</p>
    <p num="p-0203">The force feedback device can implement click surfaces to ease computational burden on the host computer. The local microprocessor can check whether the cursor has moved into an click surface or region and output the resistive force as appropriate. When the cursor is moved past the threshold distance, the microprocessor reports to the host computer that the action associated with the click surface has been made; for example, the microprocessor reports that a button press or double click has been performed by the user. The host receives a signal that a button has been pressed and acts accordingly. Or, the microprocessor reports that a particular click surface has been specifically selected, where the host can interpret the selection and implement an associated function.</p>
    <p num="p-0204">The host may also implement at least a portion of the functionality of click surfaces. The microprocessor can output the resistive (or other type) force associated with the click surface, but only reports the user object position to the host. When the host determines that the cursor (or user object) has moved beyond the threshold distance, the host implements the function associated with the click surface (scrolling text, closing a window, etc.) As with clipping, it is preferred that the translation layer handle this functionality by modifying data accordingly before passing it to the context driver and API.</p>
    <p num="p-0205">While the subject matter has been described in terms of several preferred embodiments, it is contemplated that alterations, permutations and equivalents thereof will become apparent to those skilled in the art upon a reading of the specification and study of the drawings. For example, although examples in a GUI are described, the embodiments herein are also very well suited for other two-dimensional graphical environments and especially three-dimensional graphical environments, where a user would like fine positioning in manipulating 3-D objects and moving in a 3-D space. For example, the isometric limits are quite helpful to move a cursor or controlled object in a 3-D environment further than physical limits of the interface device allow.</p>
    <p num="p-0206">In addition, many different types of forces can be applied to the user object <b>12</b> in accordance with different graphical objects or regions appearing on the computer's display screen and which may be mouse-based force sensations or cursor-based force sensations. Also, the various features of the embodiments herein can be combined in various ways to provide additional embodiments. In addition, many types of user objects and mechanisms can be provided to transmit the forces to the user, such as a mouse, trackball, joystick, stylus, or other objects. Furthermore, certain terminology has been used for the purposes of descriptive clarity, and not to be limiting. It is therefore intended that the following appended claims include all such alterations, permutations, and equivalents as fall within the true spirit and scope of the inventive subject matter.</p>
    </div></div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Patent Citations</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Cited Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US4868549">US4868549</a></td><td class="patent-data-table-td patent-date-value">May 18, 1987</td><td class="patent-data-table-td patent-date-value">Sep 19, 1989</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Feedback mouse</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5802353">US5802353</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jun 12, 1996</td><td class="patent-data-table-td patent-date-value">Sep 1, 1998</td><td class="patent-data-table-td ">General Electric Company</td><td class="patent-data-table-td ">Haptic computer modeling system</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6300936">US6300936</a></td><td class="patent-data-table-td patent-date-value">Nov 14, 1997</td><td class="patent-data-table-td patent-date-value">Oct 9, 2001</td><td class="patent-data-table-td ">Immersion Corporation</td><td class="patent-data-table-td ">Force feedback system including multi-tasking graphical host environment and interface device</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7168042">US7168042</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Oct 9, 2001</td><td class="patent-data-table-td patent-date-value">Jan 23, 2007</td><td class="patent-data-table-td ">Immersion Corporation</td><td class="patent-data-table-td ">Force effects for object types in a graphical user interface</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO1997021160A2?cl=en">WO1997021160A2</a></td><td class="patent-data-table-td patent-date-value">Nov 26, 1996</td><td class="patent-data-table-td patent-date-value">Jun 12, 1997</td><td class="patent-data-table-td ">Immersion Human Interface Corp</td><td class="patent-data-table-td ">Method and apparatus for providing force feedback for a graphical user interface</td></tr></table><div class="patent-section-footer">* Cited by examiner</div></div><div class="patent-section patent-tabular-section"><a id="npl-citations"></a><div class="patent-section-header"><span class="patent-section-title">Non-Patent Citations</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th colspan="3"class="patent-data-table-th">Reference</th></tr></thead><tr><td class="patent-data-table-td ">1</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">European Patent Office, Communication pursuant to Article 96(2) EPC, Application No. 98957726, mailed Jan. 14, 2003.</td></tr><tr><td class="patent-data-table-td ">2</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">European Patent Office, Supplemental European Search Report, Application No. 98957726, mailed Sep. 12, 2000.</td></tr><tr><td class="patent-data-table-td ">3</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Patent Cooperation Treaty, Notification of Transmittal of the International Search Report or the Declaration, Application No. PCT/US98/23582, mailed Mar. 24, 1999.</td></tr><tr><td class="patent-data-table-td ">4</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">The Patent Office, Examination Report under Section 18(3), UK Patent Application No. 0014338, mailed Sep. 6, 2001.</td></tr><tr><td class="patent-data-table-td ">5</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">The Patent Office, Patents Act 1977: Examination Report under Section 18(3), UK Patent Application No. 0014338, mailed Feb. 26, 2002.</td></tr><tr><td class="patent-data-table-td ">6</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">United States Patent and Trademark Office, Office Action , U.S. Appl. No. 11/504,131, mailed Apr. 19, 2010.</td></tr><tr><td class="patent-data-table-td ">7</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">United States Patent and Trademark Office, Office Action , U.S. Appl. No. 11/824,593, mailed Dec. 9, 2010.</td></tr><tr><td class="patent-data-table-td ">8</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">United States Patent and Trademark Office, Office Action, U.S. Appl. No. 09/974,197 mailed Apr. 22, 2004.</td></tr><tr><td class="patent-data-table-td ">9</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">United States Patent and Trademark Office, Office Action, U.S. Appl. No. 09/974,197 mailed Aug. 6, 2003.</td></tr><tr><td class="patent-data-table-td ">10</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">United States Patent and Trademark Office, Office Action, U.S. Appl. No. 09/974,197 mailed Dec. 27, 2004.</td></tr><tr><td class="patent-data-table-td ">11</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">United States Patent and Trademark Office, Office Action, U.S. Appl. No. 09/974,197 mailed Jan. 15, 2003.</td></tr><tr><td class="patent-data-table-td ">12</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">United States Patent and Trademark Office, Office Action, U.S. Appl. No. 11/504,131 mailed Apr. 19, 2010.</td></tr><tr><td class="patent-data-table-td ">13</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">United States Patent and Trademark Office, Office Action, U.S. Appl. No. 11/504,131 mailed Nov. 2, 2009.</td></tr><tr><td class="patent-data-table-td ">14</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">United States Patent and Trademark Office, Office Action, U.S. Appl. No. 11/504,131, mailed Nov. 2, 2009.</td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Referenced by</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Citing Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8169334">US8169334</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Oct 6, 2009</td><td class="patent-data-table-td patent-date-value">May 1, 2012</td><td class="patent-data-table-td ">Hiwin Mikrosystem Corp.</td><td class="patent-data-table-td ">Magnetic rotary encoder with feedback unit</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8279193">US8279193</a></td><td class="patent-data-table-td patent-date-value">May 16, 2012</td><td class="patent-data-table-td patent-date-value">Oct 2, 2012</td><td class="patent-data-table-td ">Immersion Corporation</td><td class="patent-data-table-td ">Interactivity model for shared feedback on mobile devices</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8493354">US8493354</a></td><td class="patent-data-table-td patent-date-value">Aug 23, 2012</td><td class="patent-data-table-td patent-date-value">Jul 23, 2013</td><td class="patent-data-table-td ">Immersion Corporation</td><td class="patent-data-table-td ">Interactivity model for shared feedback on mobile devices</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8525782">US8525782</a></td><td class="patent-data-table-td patent-date-value">Jun 5, 2012</td><td class="patent-data-table-td patent-date-value">Sep 3, 2013</td><td class="patent-data-table-td ">Synaptics Incorporated</td><td class="patent-data-table-td ">Vector-specific haptic feedback</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8542133">US8542133</a></td><td class="patent-data-table-td patent-date-value">Nov 10, 2011</td><td class="patent-data-table-td patent-date-value">Sep 24, 2013</td><td class="patent-data-table-td ">Synaptics Incorporated</td><td class="patent-data-table-td ">Backlit haptic key</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8570296">US8570296</a></td><td class="patent-data-table-td patent-date-value">May 16, 2012</td><td class="patent-data-table-td patent-date-value">Oct 29, 2013</td><td class="patent-data-table-td ">Immersion Corporation</td><td class="patent-data-table-td ">System and method for display of multiple data channels on a single haptic display</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8599047">US8599047</a></td><td class="patent-data-table-td patent-date-value">Apr 27, 2012</td><td class="patent-data-table-td patent-date-value">Dec 3, 2013</td><td class="patent-data-table-td ">Synaptics Incorporated</td><td class="patent-data-table-td ">Haptic keyboard assemblies and methods</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8624839">US8624839</a></td><td class="patent-data-table-td patent-date-value">Jun 6, 2011</td><td class="patent-data-table-td patent-date-value">Jan 7, 2014</td><td class="patent-data-table-td ">Synaptics Incorporated</td><td class="patent-data-table-td ">Support-surface apparatus to impart tactile feedback</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8659571">US8659571</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Feb 21, 2013</td><td class="patent-data-table-td patent-date-value">Feb 25, 2014</td><td class="patent-data-table-td ">Immersion Corporation</td><td class="patent-data-table-td ">Interactivity model for shared feedback on mobile devices</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8711118">US8711118</a></td><td class="patent-data-table-td patent-date-value">Feb 15, 2012</td><td class="patent-data-table-td patent-date-value">Apr 29, 2014</td><td class="patent-data-table-td ">Immersion Corporation</td><td class="patent-data-table-td ">Interactivity model for shared feedback on mobile devices</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8712614">US8712614</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Apr 29, 2011</td><td class="patent-data-table-td patent-date-value">Apr 29, 2014</td><td class="patent-data-table-td ">Andrew Parker</td><td class="patent-data-table-td ">System, method, and computer readable medium for a force-based wheelchair joystick</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8735755">US8735755</a></td><td class="patent-data-table-td patent-date-value">Mar 6, 2012</td><td class="patent-data-table-td patent-date-value">May 27, 2014</td><td class="patent-data-table-td ">Synaptics Incorporated</td><td class="patent-data-table-td ">Capacitive keyswitch technologies</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8760413">US8760413</a></td><td class="patent-data-table-td patent-date-value">Oct 15, 2009</td><td class="patent-data-table-td patent-date-value">Jun 24, 2014</td><td class="patent-data-table-td ">Synaptics Incorporated</td><td class="patent-data-table-td ">Tactile surface</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20110080298">US20110080298</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Oct 6, 2009</td><td class="patent-data-table-td patent-date-value">Apr 7, 2011</td><td class="patent-data-table-td ">Ming-Hung Hsieh</td><td class="patent-data-table-td ">Magnetic rotary encoder with feedback unit</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20110270478">US20110270478</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Apr 29, 2011</td><td class="patent-data-table-td patent-date-value">Nov 3, 2011</td><td class="patent-data-table-td ">Andrew Parker</td><td class="patent-data-table-td ">System, method, and computer readable medium for a force-based wheelchair joystick</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20120038469">US20120038469</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Aug 11, 2010</td><td class="patent-data-table-td patent-date-value">Feb 16, 2012</td><td class="patent-data-table-td ">Research In Motion Limited</td><td class="patent-data-table-td ">Actuator assembly and electronic device including same</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20130300683">US20130300683</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Feb 21, 2013</td><td class="patent-data-table-td patent-date-value">Nov 14, 2013</td><td class="patent-data-table-td ">Immersion Corporation</td><td class="patent-data-table-td ">Interactivity model for shared feedback on mobile devices</td></tr></table><div class="patent-section-footer">* Cited by examiner</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">Classifications</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">U.S. Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc340/defs340.htm&usg=AFQjCNGk_NCDWkt8oMijCQ2jvfqday0GbA#C340S407100">340/407.1</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc340/defs340.htm&usg=AFQjCNGk_NCDWkt8oMijCQ2jvfqday0GbA#C340S407200">340/407.2</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc341/defs341.htm&usg=AFQjCNEghHxwAVDJQysUGYYEnJx0U-6WAA#C341S021000">341/21</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc345/defs345.htm&usg=AFQjCNF0b52M2HqQQp5rThx3mQ75nwjbGg#C345S156000">345/156</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc434/defs434.htm&usg=AFQjCNHESPMrMtLQqidjD1IIYvF5AT4S8A#C434S114000">434/114</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc340/defs340.htm&usg=AFQjCNGk_NCDWkt8oMijCQ2jvfqday0GbA#C340S004100">340/4.1</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc340/defs340.htm&usg=AFQjCNGk_NCDWkt8oMijCQ2jvfqday0GbA#C340S004120">340/4.12</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc434/defs434.htm&usg=AFQjCNHESPMrMtLQqidjD1IIYvF5AT4S8A#C434S112000">434/112</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc341/defs341.htm&usg=AFQjCNEghHxwAVDJQysUGYYEnJx0U-6WAA#C341S027000">341/27</a></span></td></tr><tr><td class="patent-data-table-td ">International Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G05B0019000000">G05B19/00</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G09G0005000000">G09G5/00</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G06F0003033000">G06F3/033</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=H04B0003360000">H04B3/36</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G06F0003000000">G06F3/00</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G09B0021000000">G09B21/00</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G06F0003010000">G06F3/01</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=H04L0029080000">H04L29/08</a></span></td></tr><tr><td class="patent-data-table-td ">Cooperative Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L67/02">H04L67/02</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L69/329">H04L69/329</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L67/36">H04L67/36</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06F2203/014">G06F2203/014</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06F2203/013">G06F2203/013</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06F2203/0333">G06F2203/0333</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G05B19/00">G05B19/00</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06F3/03548">G06F3/03548</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06F3/03543">G06F3/03543</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=tWafBwABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06F3/016">G06F3/016</a></span></td></tr><tr><td class="patent-data-table-td ">European Classification</td><td class="patent-data-table-td "><span class="nested-value">H04L29/08N35</span>, <span class="nested-value">G06F3/01F</span>, <span class="nested-value">G05B19/00</span>, <span class="nested-value">G06F3/0354M</span>, <span class="nested-value">G06F3/0354S</span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">Legal Events</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Date</th><th class="patent-data-table-th">Code</th><th class="patent-data-table-th">Event</th><th class="patent-data-table-th">Description</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">Feb 18, 2014</td><td class="patent-data-table-td ">B1</td><td class="patent-data-table-td ">Reexamination certificate first reexamination</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">CLAIMS 19-26 ARE CANCELLED.CLAIM 18 IS DETERMINED TO BE PATENTABLE AS AMENDED.CLAIMS 1-17 WERE NOT REEXAMINED.</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Sep 11, 2012</td><td class="patent-data-table-td ">RR</td><td class="patent-data-table-td ">Request for reexamination filed</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20120730</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">May 20, 2008</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">IMMERSION CORPORATION, CALIFORNIA</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:BRAUN, ADAM C.;BEAMER, JONATHAN L.;ROSENBERG, LOUIS B.;AND OTHERS;REEL/FRAME:020974/0551</span></div><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">19980415</span></div></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">Rotate</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">Original Image</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " Image not available"});</script></div></div></div></td></tr></table><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_4ff636b3d23669b7103f3b3a3a18b4cd.js", Host:"http://www.google.com/", IsBooksRentalEnabled:1, IsWebstoreDisplayCaseEnabled:1, IsObfuscationEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsGeoLayerEnabled:1, IsImageModeNotesEnabled:1, IsCopyMenuItemEnabled:1, IsGiftingEnabled:0, IsWebReaderUniversalPaginatorEnabled:0, IsOfflineBubbleEnabled:1, IsReaderEnabledForPlayRequests:1, IsFutureOnSaleVolumesEnabled:1, IsOfflineRestrictedCopyEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsRestrictedCopyEnabled:1, IsZipitFolderCollectionEnabled:1, IsEndOfSampleRecommendationsEnabled:1, IsRatingsOnBookcardsEnabled:1, IsAdsDisabled:0, IsIframePageDisplayEnabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:0, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsPreOrdersEnabled:0, IsDisabledRandomBookshelves:0, WebstoreDisplayCasePosition:3});_OC_Run({"enable_p13n":false,"add_vol_to_collection_base_url":"http://www.google.com/patents?op=add\u0026sig=ACfU3U3Qhv5cCFG-qcST0p-wtc3ANbvU8Q\u0026id=tWafBwABERAJ","remove_vol_from_collection_base_url":"http://www.google.com/patents?op=remove\u0026sig=ACfU3U3YB9aREhrKqz_M_1hkAM7LP5xw_g\u0026id=tWafBwABERAJ","logged_in":false,"p13n_save_user_settings_url":"http://www.google.com/patents?op=edit_user_settings\u0026sig=ACfU3U1AHNmwfar7m_LFFxjKppowyFDbIA","is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=http://www.google.com/patents%3Fhl%3Den\u0026hl=en","is_play_enabled":true}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"http://www.google.com/patents/download/Force_feedback_system_including_multi_ta.pdf?id=tWafBwABERAJ\u0026output=pdf\u0026sig=ACfU3U2iCWApgoWFyquxlKqVTjNwzCEoFA"},"sample_url":"http://www.google.com/patents/reader?id=tWafBwABERAJ\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href=http://www.google.com/><nobr>Google&nbsp;Home</nobr></a> - <a href=//www.google.com/patents/sitemap/><nobr>Sitemap</nobr></a> - <a href=http://www.google.com/googlebooks/uspto.html><nobr>USPTO Bulk Downloads</nobr></a> - <a href=/intl/en/privacy/><nobr>Privacy Policy</nobr></a> - <a href=/intl/en/policies/terms/><nobr>Terms of Service</nobr></a> - <a href=https://support.google.com/faqs/answer/2539193?hl=en><nobr>About Google Patents</nobr></a> - <a href="http://www.google.com/tools/feedback/intl/en/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'en'});return false;}catch(e){}"><nobr>Send Feedback</nobr></a></div><span>Data provided by IFI CLAIMS Patent Services</span><br><span >&copy;2012 Google</span></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>