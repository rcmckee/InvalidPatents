<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html><head><title>Patent US6314473 - System for removing selected unwanted frequenices in accordance with altered ... - Google Patents</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_8a2b04e7bf975d5171d8e4c0b6365c7a/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_8a2b04e7bf975d5171d8e4c0b6365c7a__en.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "en",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="System for removing selected unwanted frequenices in accordance with altered settings in a user interface of a data storage device"><meta name="DC.contributor" content="Neil Singer" scheme="inventor"><meta name="DC.contributor" content="Mark Tanquary" scheme="inventor"><meta name="DC.contributor" content="Kenneth Pasch" scheme="inventor"><meta name="DC.contributor" content="Convolve, Inc." scheme="assignee"><meta name="DC.date" content="1999-3-4" scheme="dateSubmitted"><meta name="DC.description" content="Techniques are provided herein for reducing vibrations in various modes of a dynamic system. One such technique comprises incorporating vibration limiting and sensitivity constraints into a partial fraction expansion equation model of the system so as to reduce vibrations to specific levels. Another technique comprises shaping a command determined using the partial fraction expansion equation model to produce a desired output. The entire command may be shaped or only selected portions thereof which produce vibrations. Another technique involves commanding in current to produce saturation in voltage. By doing this, it is possible to command voltage switches. The times at which the switches occur can be set to reduce system vibrations. Other techniques are also provided. These include varying transient portions at the beginning, middle and/or end of a move and using Posicast inputs, among others."><meta name="DC.date" content="2001-11-6" scheme="issued"><meta name="DC.relation" content="EP:0308062:A2" scheme="references"><meta name="DC.relation" content="EP:0441407:A1" scheme="references"><meta name="DC.relation" content="EP:0543654:A2" scheme="references"><meta name="DC.relation" content="GB:2303732" scheme="references"><meta name="DC.relation" content="US:4675761" scheme="references"><meta name="DC.relation" content="US:4937689" scheme="references"><meta name="DC.relation" content="US:4956831" scheme="references"><meta name="DC.relation" content="US:4967293" scheme="references"><meta name="DC.relation" content="US:5264771" scheme="references"><meta name="DC.relation" content="US:5282100" scheme="references"><meta name="DC.relation" content="US:5291110" scheme="references"><meta name="DC.relation" content="US:5450252" scheme="references"><meta name="DC.relation" content="US:5465034" scheme="references"><meta name="DC.relation" content="US:5475545" scheme="references"><meta name="DC.relation" content="US:5657179" scheme="references"><meta name="DC.relation" content="US:5668680" scheme="references"><meta name="DC.relation" content="US:5696647" scheme="references"><meta name="DC.relation" content="US:5726825" scheme="references"><meta name="DC.relation" content="US:5751513" scheme="references"><meta name="DC.relation" content="US:5760992" scheme="references"><meta name="DC.relation" content="US:5880587" scheme="references"><meta name="DC.relation" content="US:5901009" scheme="references"><meta name="DC.relation" content="US:5973871" scheme="references"><meta name="DC.relation" content="US:5982570" scheme="references"><meta name="DC.relation" content="US:5986426" scheme="references"><meta name="DC.relation" content="US:6008640" scheme="references"><meta name="DC.relation" content="US:6011373" scheme="references"><meta name="DC.relation" content="US:6011667" scheme="references"><meta name="DC.relation" content="US:6013995" scheme="references"><meta name="DC.relation" content="US:6031684" scheme="references"><meta name="DC.relation" content="US:6038096" scheme="references"><meta name="DC.relation" content="US:6052252" scheme="references"><meta name="DC.relation" content="US:6101065" scheme="references"><meta name="DC.relation" content="US:6111720" scheme="references"><meta name="DC.relation" content="US:6115205" scheme="references"><meta name="DC.relation" content="US:6148240" scheme="references"><meta name="DC.relation" content="US:6151182" scheme="references"><meta name="DC.relation" content="US:6178060" scheme="references"><meta name="DC.relation" content="US:6195222" scheme="references"><meta name="DC.relation" content="WO:2000003389:A1" scheme="references"><meta name="citation_reference" content="&quot;High-Speed/Low-Power Selectable Optical File&quot;, 2244 Reserarch Disclosure, Jul. 1990. No. 315."><meta name="citation_patent_number" content="US:6314473"><meta name="citation_patent_application_number" content="US:09/262,781"><link rel="canonical" href="http://www.google.com/patents/US6314473"/><meta property="og:url" content="http://www.google.com/patents/US6314473"/><meta name="title" content="Patent US6314473 - System for removing selected unwanted frequenices in accordance with altered settings in a user interface of a data storage device"/><meta name="description" content="Techniques are provided herein for reducing vibrations in various modes of a dynamic system. One such technique comprises incorporating vibration limiting and sensitivity constraints into a partial fraction expansion equation model of the system so as to reduce vibrations to specific levels. Another technique comprises shaping a command determined using the partial fraction expansion equation model to produce a desired output. The entire command may be shaped or only selected portions thereof which produce vibrations. Another technique involves commanding in current to produce saturation in voltage. By doing this, it is possible to command voltage switches. The times at which the switches occur can be set to reduce system vibrations. Other techniques are also provided. These include varying transient portions at the beginning, middle and/or end of a move and using Posicast inputs, among others."/><meta property="og:title" content="Patent US6314473 - System for removing selected unwanted frequenices in accordance with altered settings in a user interface of a data storage device"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>(function(){try{var aa=function(a,b,c,d){d=d||{};d._sn=["cfg",b,c].join(".");window.gbar.logger.ml(a,d)};var g=window.gbar=window.gbar||{},l=window.gbar.i=window.gbar.i||{},m={},n;function _tvn(a,b){var c=parseInt(a,10);return isNaN(c)?b:c}function _tvf(a,b){var c=parseFloat(a);return isNaN(c)?b:c}function _tvv(a){return!!a}function p(a,b,c){(c||g)[a]=b}g.bv={n:_tvn("2",0),r:"",f:".67.",e:"0",m:_tvn("0",1)};
function q(a,b,c){var d="on"+b;if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent(d,c);else{var f=a[d];a[d]=function(){var a=f.apply(this,arguments),b=c.apply(this,arguments);return void 0==a?b:void 0==b?a:b&&a}}}var s=function(a){return function(){return g.bv.m==a}},ba=s(1),ca=s(2);p("sb",ba);p("kn",ca);l.a=_tvv;l.b=_tvf;l.c=_tvn;l.i=aa;var da=window.gbar.i.i;var t,u,v,w;function ea(a){v=a}function fa(a){var b;if(b=v&&window.encodeURIComponent)b=a.href,b=!b.match(/^http[s]?:\/\/accounts\.google\.[^/]*\/ClearSID/i)&&!b.match(/^http[s]?:\/\/[^/]*\/accounts\/ClearSID/i);if(b=b&&encodeURIComponent(v()))a.href=a.href.replace(/([?&]continue=)[^&]*/,"$1"+b)}function ga(a){window.gApplication&&(a.href=window.gApplication.getTabUrl(a.href))}
function ha(a){var b=document.forms[0].q,c=window.encodeURIComponent&&b&&b.value,b=b&&b.placeholder;c&&c!=b&&(a.href=a.href.replace(/([?&])q=[^&]*|$/,function(a,b){return(b||"&")+"q="+encodeURIComponent(c)}))}n=l.a("")?ga:ha;
function x(a,b,c,d,f,e){var h=document.getElementById(a);if(h){var k=h.style;k.left=d?"auto":b+"px";k.right=d?b+"px":"auto";k.top=c+"px";k.visibility=u?"hidden":"visible";f&&e?(k.width=f+"px",k.height=e+"px"):(x(t,b,c,d,h.offsetWidth,h.offsetHeight),u=u?"":a)}}
var y=[],ia=function(a,b){y.push(b)},ja=function(a){a=a||window.event;var b=a.target||a.srcElement;a.cancelBubble=!0;null==t&&(a=document.createElement(Array.every||window.createPopup?"iframe":"div"),a.frameBorder="0",t=a.id="gbs",a.src="javascript:''",b.parentNode.appendChild(a),q(document,"click",z));var c=b,b=0;"gb3"!=c.className&&(c=c.parentNode);a=c.getAttribute("aria-owns")||"gbi";var d=c.offsetWidth,f=20<c.offsetTop?46:24;document.getElementById("tphdr")&&(f-=3);var e=!1;do b+=c.offsetLeft||
0;while(c=c.offsetParent);var c=(document.documentElement.clientWidth||document.body.clientWidth)-b-d,h,d=document.body,k=document.defaultView;k&&k.getComputedStyle?(d=k.getComputedStyle(d,""))&&(h=d.direction):h=d.currentStyle?d.currentStyle.direction:d.style.direction;h="rtl"==h;if("gbi"==a){for(d=0;k=y[d++];)k();A(null,window.navExtra);h&&(b=c,e=!0)}else h||(b=c,e=!0);u!=a&&z();x(a,b,f,e)},z=function(){u&&x(u,0,0)},A=function(a,b){var c,d=document.getElementById("gbi"),f=a;f||(f=d.firstChild);
for(;b&&(c=b.pop());){var e=d,h=c,k=f;w||(w="gb2");e.insertBefore(h,k).className=w}},ka=function(a,b,c){if((b=document.getElementById(b))&&a){a.className="gb4";var d=document.createElement("span");d.appendChild(a);d.appendChild(document.createTextNode(" | "));d.id=c;b.appendChild(d)}},la=function(){return document.getElementById("gb_70")},ma=function(){return!!u};p("qs",n);p("setContinueCb",ea);p("pc",fa);p("tg",ja);p("close",z);p("addLink",ka);p("almm",A);p("si",la);p("adh",ia);p("op",ma);var B=function(){},C=function(){},F=function(a){var b=new Image,c=D;b.onerror=b.onload=b.onabort=function(){try{delete E[c]}catch(a){}};E[c]=b;b.src=a;D=c+1},E=[],D=0;p("logger",{il:C,ml:B,log:F});var G=window.gbar.logger;var H={},na={},I=[],oa=l.b("0.1",.1),pa=l.a("1",!0),qa=function(a,b){I.push([a,b])},ra=function(a,b){H[a]=b},sa=function(a){return a in H},J={},K=function(a,b){J[a]||(J[a]=[]);J[a].push(b)},ta=function(a){K("m",a)},L=function(a,b){var c=document.createElement("script");c.src=a;c.async=pa;Math.random()<oa&&(c.onerror=function(){c.onerror=null;B(Error("Bundle load failed: name="+(b||"UNK")+" url="+a))});(document.getElementById("xjsc")||document.getElementsByTagName("body")[0]||
document.getElementsByTagName("head")[0]).appendChild(c)},N=function(a){for(var b=0,c;(c=I[b])&&c[0]!=a;++b);!c||c[1].l||c[1].s||(c[1].s=!0,M(2,a),c[1].url&&L(c[1].url,a),c[1].libs&&m.d&&m.d(c[1].libs))},O=function(a){K("gc",a)},P=null,ua=function(a){P=a},M=function(a,b,c){if(P){a={t:a,b:b};if(c)for(var d in c)a[d]=c[d];try{P(a)}catch(f){}}};p("mdc",H);p("mdi",na);p("bnc",I);p("qGC",O);p("qm",ta);p("qd",J);p("lb",N);p("mcf",ra);p("bcf",qa);p("aq",K);p("mdd","");p("has",sa);
p("trh",ua);p("tev",M);var Q=l.b("0.1",.001),R=0;
function _mlToken(a,b){try{if(1>R){R++;var c,d=a,f=b||{},e=encodeURIComponent,h=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&jexpid=",e("17483"),"&srcpg=",e("prop=22"),"&jsr=",Math.round(1/Q),"&ogev=",e("hqntU-ObO8-vsQTc9oG4CA"),"&ogf=",g.bv.f,"&ogrp=",e("1"),"&ogv=",e("1407723702.0"),"&oggv="+e("es_plusone_gc_20140723.0_p0"),"&ogd=",e("com"),"&ogc=",e("NOR"),"&ogl=",e("en")];f._sn&&(f._sn="og."+
f._sn);for(var k in f)h.push("&"),h.push(e(k)),h.push("="),h.push(e(f[k]));h.push("&emsg=");h.push(e(d.name+":"+d.message));var r=h.join("");S(r)&&(r=r.substr(0,2E3));c=r;var Aa=window.gbar.logger._aem(a,c);F(Aa)}}catch(Na){}}var S=function(a){return 2E3<=a.length},va=function(a,b){return b};function T(a){B=a;p("_itl",S,G);p("_aem",va,G);p("ml",B,G);a={};H.er=a}l.a("")?T(function(a){throw a;}):l.a("1")&&Math.random()<Q&&T(_mlToken);I.push(["m",{url:"//ssl.gstatic.com/gb/js/scm_7385cc5883250b43a39405734c1bea59.js"}]);g.mcf("c",{});g.sg={c:""};if(l.a("1")){var wa=l.a("");I.push(["gc",{auto:wa,url:"//ssl.gstatic.com/gb/js/abc/gci_91f30755d6a6b787dcc2a4062e6e9824.js",libs:"googleapis.client:plusone:gapi.iframes"}]);var xa={version:"gci_91f30755d6a6b787dcc2a4062e6e9824.js",index:"",lang:"en"};H.gc=xa;var U=function(a){window.googleapis&&window.iframes?a&&a():(a&&O(a),N("gc"))};p("lGC",U);l.a("1")&&p("lPWF",U)};window.__PVT="";if(l.a("1")&&l.a("1")){var V=function(a){U(function(){K("pw",a);N("pw")})};p("lPW",V);I.push(["pw",{url:"//ssl.gstatic.com/gb/js/abc/pwm_45f73e4df07a0e388b0fa1f3d30e7280.js"}]);var W=[],ya=function(a){W[0]=a},za=function(a,b){var c=b||{};c._sn="pw";B(a,c)},Ba={signed:W,elog:za,base:"https://plusone.google.com/u/0",loadTime:(new Date).getTime()};H.pw=Ba;var X=function(a,b){for(var c=b.split("."),d=function(){var b=arguments;a(function(){for(var a=g,d=0,e=c.length-1;d<e;++d)a=a[c[d]];a[c[d]].apply(a,b)})},f=g,e=0,h=c.length-1;e<h;++e)f=
f[c[e]]=f[c[e]]||{};return f[c[e]]=d};X(V,"pw.clk");X(V,"pw.hvr");p("su",ya,g.pw)};function Ca(){function a(){for(var b;(b=e[h++])&&"m"!=b[0]&&!b[1].auto;);b&&(M(2,b[0]),b[1].url&&L(b[1].url,b[0]),b[1].libs&&m.d&&m.d(b[1].libs));h<e.length&&setTimeout(a,0)}function b(){0<f--?setTimeout(b,0):a()}var c=l.a("1"),d=l.a(""),f=3,e=I,h=0,k=window.gbarOnReady;if(k)try{k()}catch(r){da(r,"ml","or")}d?p("ldb",a):c?q(window,"load",b):b()}p("rdl",Ca);var Da={D:1,H:2,da:3,p:4,W:5,M:6,F:7,g:8,ha:9,U:10,L:11,T:12,S:13,N:14,Q:15,P:16,fa:17,w:18,O:19,ga:20,ea:21,u:22,G:23,ja:24,ka:25,ia:26,A:27,j:28,o:29,k:30,ca:31,Z:32,$:33,J:34,K:35,ba:36,aa:37,Y:38,B:39,R:40,v:41,X:42,V:43,h:48,C:49,I:500},Y=[1,2,3,4,5,6,9,10,11,13,14,28,29,30,34,35,37,38,39,40,41,42,43,48,49,500];var Z=l.b("0.001",1E-4),Ea=l.b("1",1),Fa=!1,Ga=!1;if(l.a("1")){var Ha=Math.random();Ha<=Z&&(Fa=!0);Ha<=Ea&&(Ga=!0)}var Ia=Da,$=null;function Ja(){var a=0,b=function(b,d){l.a(d)&&(a|=b)};b(1,"");b(2,"");b(4,"");b(8,"");return a}
function Ka(a,b){var c=Z,d=Fa,f;f=a;if(!$){$={};for(var e=0;e<Y.length;e++){var h=Y[e];$[h]=!0}}if(f=!!$[f])c=Ea,d=Ga;if(d){d=encodeURIComponent;g.rp?(f=g.rp(),f="-1"!=f?f:"1"):f="1";c=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&oge=",a,"&ogex=",d("17483"),"&ogev=",d("hqntU-ObO8-vsQTc9oG4CA"),"&ogf=",g.bv.f,"&ogp=",d("22"),"&ogrp=",d(f),"&ogsr=",Math.round(1/c),"&ogv=",d("1407723702.0"),"&oggv="+
d("es_plusone_gc_20140723.0_p0"),"&ogd=",d("com"),"&ogl=",d("en"),"&ogc=",d("NOR"),"&ogus=",Ja()];if(b){"ogw"in b&&(c.push("&ogw="+b.ogw),delete b.ogw);var k;f=b;e=[];for(k in f)0!=e.length&&e.push(","),e.push(La(k)),e.push("."),e.push(La(f[k]));k=e.join("");""!=k&&(c.push("&ogad="),c.push(d(k)))}F(c.join(""))}}function La(a){"number"==typeof a&&(a+="");return"string"==typeof a?a.replace(".","%2E").replace(",","%2C"):a}C=Ka;p("il",C,G);var Ma={};H.il=Ma;setTimeout(function(){C(Ia.g)},0);}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var b=window.gbar.i.i;var c=window.gbar;var f=function(d){try{var a=document.getElementById("gbom");a&&d.appendChild(a.cloneNode(!0))}catch(e){b(e,"omas","aomc")}};c.aomc=f;}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var a=window.gbar;a.mcf("pm",{p:""});}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{window.gbar.rdl();}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{float:left;height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}#gbs,.gbm{background:#fff;left:0;position:absolute;text-align:left;visibility:hidden;z-index:1000}.gbm{border:1px solid;border-color:#c9d7f1 #36c #36c #a2bae7;z-index:1001}.gb1{margin-right:.5em}.gb1,.gb3{zoom:1}.gb2{display:block;padding:.2em .5em}.gb2,.gb3{text-decoration:none !important;border-bottom:none}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb2,a.gb3,a.gb4{color:#00c !important}.gbi .gb3,.gbi .gb2,.gbi .gb4{color:#dd8e27 !important}.gbf .gb3,.gbf .gb2,.gbf .gb4{color:#900 !important}a.gb2:hover{background:#36c;color:#fff !important}#gbar .gbz0l{color:#000 !important;cursor:default;font-weight:bold;text-decoration:none !important}
#gbar { padding:.3em .6em !important;}</style></head><body  topmargin="3" marginheight="3"><div id=gbar><nobr><a onclick=gbar.qs(this);gbar.logger.il(1,{t:1}); class=gb1 id=gb_1 href="https://www.google.com/search?sa=N&tab=tw">Search</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:2}); class=gb1 id=gb_2 href="http://www.google.com/search?hl=en&tbm=isch&source=og&sa=N&tab=ti">Images</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:8}); class=gb1 id=gb_8 href="http://maps.google.com/maps?hl=en&sa=N&tab=tl">Maps</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:78}); class=gb1 id=gb_78 href="https://play.google.com/?hl=en&sa=N&tab=t8">Play</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:36}); class=gb1 id=gb_36 href="http://www.youtube.com/results?sa=N&tab=t1">YouTube</a> <a onclick=gbar.logger.il(1,{t:5}); class=gb1 id=gb_5 href="http://news.google.com/nwshp?hl=en&tab=tn">News</a> <a onclick=gbar.logger.il(1,{t:23}); class=gb1 id=gb_23 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a onclick=gbar.logger.il(1,{t:25}); class=gb1 id=gb_25 href="https://drive.google.com/?tab=to">Drive</a> <a class=gb3 href="http://www.google.com/intl/en/options/" onclick="this.blur();gbar.tg(event);return !1" aria-haspopup=true><u>More</u> <small>&#9660;</small></a><div class=gbm id=gbi><a onclick=gbar.logger.il(1,{t:24}); class=gb2 id=gb_24 href="https://www.google.com/calendar?tab=tc">Calendar</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:51}); class=gb2 id=gb_51 href="http://translate.google.com/?hl=en&sa=N&tab=tT">Translate</a><a onclick=gbar.logger.il(1,{t:17}); class=gb2 id=gb_17 href="http://www.google.com/mobile/?hl=en&tab=tD">Mobile</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:10}); class=gb2 id=gb_10 href="http://www.google.com/search?hl=en&tbo=u&tbm=bks&source=og&sa=N&tab=tp">Books</a><a onclick=gbar.logger.il(1,{t:212}); class=gb2 id=gb_212 href="https://wallet.google.com/manage/?tab=ta">Wallet</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:6}); class=gb2 id=gb_6 href="http://www.google.com/search?hl=en&tbo=u&tbm=shop&source=og&sa=N&tab=tf">Shopping</a><a onclick=gbar.logger.il(1,{t:30}); class=gb2 id=gb_30 href="http://www.blogger.com/?tab=tj">Blogger</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:27}); class=gb2 id=gb_27 href="http://www.google.com/finance?sa=N&tab=te">Finance</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:31}); class=gb2 id=gb_31 href="https://plus.google.com/photos?sa=N&tab=tq">Photos</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:12}); class=gb2 id=gb_12 href="http://www.google.com/search?hl=en&tbo=u&tbm=vid&source=og&sa=N&tab=tv">Videos</a><div class=gb2><div class=gbd></div></div><a onclick=gbar.logger.il(1,{t:66}); href="http://www.google.com/intl/en/options/" class=gb2>Even more &raquo;</a></div></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=http://www.google.com/patents%3Fhl%3Den&hl=en" class=gb4>Sign in</a><div style="display: none"><div class=gbm id=gbd5 aria-owner=gbg5><div class=gbmc><ol id=gbom class=gbmcc></ol></div></div></div></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="http://www.google.com/patents/us6314473?hl=en&amp;output=html_text" title="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."><img border="0" src="http://www.google.com/images/cleardot.gif"alt="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."></a></div><div id="guser"><nobr></nobr></div><div style="clear:both;"></div><div id="gb-top-search-box" class="gb-top-search-box-small gb-reset"><table><tr><td class="logo"><a href="http://www.google.com/patents" class="logo-link"><img class="logo-img" src="/intl/en/images/logos/google_logo_41.png" alt="Go to Google Books Home" height="41"/></a></td><td><form action="http://www.google.com/search" name="f" id="vheadf" method="get"><span id="hf"></span><input type="hidden" name="tbm" value="pts"/><input type="hidden" name="tbo" value="1"/><input type="hidden" name="hl" value="en"/><table><tr><td><div class="inputs"><table><tr><td><div class="text-input"><input type="text" name="q" id="vheadq" class="text" maxlength="2048" size="31" value="" title="Search Patents" accesskey="s" autocomplete="off"/><script>window._OC_autoDir &&window._OC_autoDir('vheadq', 'tia-vheadq');</script></div></td><td><div class="submit-input"><input name="btnG" class="submit" type="submit" value=""/></div></td></tr></table></div></td><td class="col-ext-links"><div class="ext-links"><a href="http://www.google.com/advanced_patent_search">&lt;nobr&gt;Advanced Patent Search&lt;/nobr&gt;</a></div></td></tr></table></form></td></tr></table></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents">Patents</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/US6314473"></a><a id="appbar-patents-discuss-this-link" href="http://www.google.com/url?id=jnxXBAABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpatent%3DUS6314473&amp;usg=AFQjCNH_t-5rui2VRPfAFCcX_4ijyDLX9A" data-is-grant="true"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/US6314473.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/US6314473.pdf"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="http://www.google.com/patents/US6314473" style="display:none"><span itemprop="description">Techniques are provided herein for reducing vibrations in various modes of a dynamic system. One such technique comprises incorporating vibration limiting and sensitivity constraints into a partial fraction expansion equation model of the system so as to reduce vibrations to specific levels. Another...</span><span itemprop="url">http://www.google.com/patents/US6314473?utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">Patent US6314473 - System for removing selected unwanted frequenices in accordance with altered settings in a user interface of a data storage device</span><img itemprop="image" src="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="Patent US6314473 - System for removing selected unwanted frequenices in accordance with altered settings in a user interface of a data storage device" title="Patent US6314473 - System for removing selected unwanted frequenices in accordance with altered settings in a user interface of a data storage device"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="http://www.google.com/advanced_patent_search">Advanced Patent Search</a></li></ol></div><table id="viewport_table" cellpadding="0" style="clear:both" cellspacing="0"><tr><td id="viewport_td"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata"><tr><td class="patent-bibdata-heading">Publication number</td><td class="single-patent-bibdata">US6314473 B1</td></tr><tr><td class="patent-bibdata-heading">Publication type</td><td class="single-patent-bibdata">Grant</td></tr><tr><td class="patent-bibdata-heading">Application number</td><td class="single-patent-bibdata">US 09/262,781</td></tr><tr><td class="patent-bibdata-heading">Publication date</td><td class="single-patent-bibdata">Nov 6, 2001</td></tr><tr><td class="patent-bibdata-heading">Filing date</td><td class="single-patent-bibdata">Mar 4, 1999</td></tr><tr><td class="patent-bibdata-heading">Priority date<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="The priority date is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the date listed."></span></td><td class="single-patent-bibdata">Mar 5, 1998</td></tr><tr><td class="patent-bibdata-heading">Fee status<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="The fee status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status or dates listed."></span></td><td class="single-patent-bibdata">Paid</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Also published as</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CA2322630A1">CA2322630A1</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN1299506A">CN1299506A</a>, </span><span class="patent-bibdata-value"><a href="/patents/EP1058928A1">EP1058928A1</a>, </span><span class="patent-bibdata-value"><a href="/patents/WO1999045535A1">WO1999045535A1</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading">Publication number</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">09262781, </span><span class="patent-bibdata-value">262781, </span><span class="patent-bibdata-value">US 6314473 B1, </span><span class="patent-bibdata-value">US 6314473B1, </span><span class="patent-bibdata-value">US-B1-6314473, </span><span class="patent-bibdata-value">US6314473 B1, </span><span class="patent-bibdata-value">US6314473B1</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Inventors</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Neil+Singer%22">Neil Singer</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Mark+Tanquary%22">Mark Tanquary</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Kenneth+Pasch%22">Kenneth Pasch</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Original Assignee</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=inassignee:%22Convolve,+Inc.%22">Convolve, Inc.</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Export Citation</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/US6314473.bibtex">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/US6314473.enw">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/US6314473.ris">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">Patent Citations</a> (40),</span> <span class="patent-bibdata-value"><a href="#npl-citations">Non-Patent Citations</a> (1),</span> <span class="patent-bibdata-value"><a href="#forward-citations">Referenced by</a> (26),</span> <span class="patent-bibdata-value"><a href="#classifications">Classifications</a> (13),</span> <span class="patent-bibdata-value"><a href="#legal-events">Legal Events</a> (9)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">External Links:&nbsp;</span><span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=jnxXBAABERAJ&q=http://patft.uspto.gov/netacgi/nph-Parser%3FSect2%3DPTO1%26Sect2%3DHITOFF%26p%3D1%26u%3D/netahtml/PTO/search-bool.html%26r%3D1%26f%3DG%26l%3D50%26d%3DPALL%26RefSrch%3Dyes%26Query%3DPN/6314473&usg=AFQjCNGKg5Tqy0By0ywhVMt-YErh9ylKTw">USPTO</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=jnxXBAABERAJ&q=http://assignments.uspto.gov/assignments/q%3Fdb%3Dpat%26pat%3D6314473&usg=AFQjCNELqtsby-D1LJNfo8EIbJ6yyRs1Kg">USPTO Assignment</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=jnxXBAABERAJ&q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DUS%26NR%3D6314473B1%26KC%3DB1%26FT%3DD&usg=AFQjCNHmpTAntv38NzJKBpFQv3Yd7pBs0w">Espacenet</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT54844633" lang="EN" load-source="patent-office">System for removing selected unwanted frequenices in accordance with altered settings in a user interface of a data storage device</invention-title></span><br><span class="patent-number">US 6314473 B1</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title">Abstract</span></div><div class="patent-text"><abstract mxw-id="PA72636896" lang="EN" load-source="patent-office"> <div class="abstract">Techniques are provided herein for reducing vibrations in various modes of a dynamic system. One such technique comprises incorporating vibration limiting and sensitivity constraints into a partial fraction expansion equation model of the system so as to reduce vibrations to specific levels. Another technique comprises shaping a command determined using the partial fraction expansion equation model to produce a desired output. The entire command may be shaped or only selected portions thereof which produce vibrations. Another technique involves commanding in current to produce saturation in voltage. By doing this, it is possible to command voltage switches. The times at which the switches occur can be set to reduce system vibrations. Other techniques are also provided. These include varying transient portions at the beginning, middle and/or end of a move and using Posicast inputs, among others.</div>
  </abstract></div></div><div class="patent-section patent-drawings-section"><div class="patent-section-header"><span class="patent-section-title">Images<span class="patent-section-count">(29)</span></span></div><div class="patent-drawings-body"><div class="patent-drawings-carousel"><div class="drawings"><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00000.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00000.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00001.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00001.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00002.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00002.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00003.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00003.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00004.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00004.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00005.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00005.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00006.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00006.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00007.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00007.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00008.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00008.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00009.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00009.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00010.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00010.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00011.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00011.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00012.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00012.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00013.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00013.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00014.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00014.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00015.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00015.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00016.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00016.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00017.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00017.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00018.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00018.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00019.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00019.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00020.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00020.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00021.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00021.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00022.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00022.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00023.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00023.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00024.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00024.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00025.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00025.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00026.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00026.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00027.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00027.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-D00028.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US6314473B1/US06314473-20011106-D00028.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div></div></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img" alt="Previous page"src="/googlebooks/images/kennedy/page_left.png"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img" alt="Next page"src="/googlebooks/images/kennedy/page_right.png"width="21" height="21" /></div></div></div><div class="patent-post-drawings"></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">Claims<span class="patent-section-count">(15)</span></span></div><div class="patent-text"><div mxw-id="PCLM28726937" lang="EN" load-source="patent-office" class="claims">
    <claim-statement>What is claimed is: </claim-statement> <div class="claim"> <div num="1" id="US-6314473-B1-CLM-00001" class="claim">
      <div class="claim-text">1. User interface for operatively working with a processor to affect operation of a data storage device, the user interface comprising:</div>
      <div class="claim-text">means for providing settings for controlling one of a seek time of the data storage device and an acoustic noise level of the data storage device in inverse relation; </div>
      <div class="claim-text">means for indicang to the data storage device that one of the seek time settings of the data storage device and the acoustic noise level settings of the data storage device has been altered; and </div>
      <div class="claim-text">means for causing the processor to output commands to the data storage device to alter seek trajectory shape by shaping input sigals to to the data storage dice to reduce selected unwanted frequencies from a plurality of frequencies in accordance with the altered settings in the user interface. </div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" id="US-6314473-B1-CLM-00002" class="claim">
      <div class="claim-text">2. A user interface according to claim <b>1</b>, comprising a sliding bar which moves along a continuum on which data storage device acoustic noise level and seek time vary inversely, the continuum including a first end comprising a high acoustic noise level/low seek time and a second end comprising a low acoustic noise level/high seek time.</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" id="US-6314473-B1-CLM-00003" class="claim">
      <div class="claim-text">3. A user interface according to claim <b>1</b> further comprising a display area which displays discrete values corresponding to the acoustic noise level and/or the seek time of the data storage device.</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" id="US-6314473-B1-CLM-00004" class="claim">
      <div class="claim-text">4. A user interface according to claim <b>1</b> comprising discrete values which are selectable to alter the acoustic noise level and/or the seek time of the data storage device.</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" id="US-6314473-B1-CLM-00005" class="claim">
      <div class="claim-text">5. A user interface according to claim <b>1</b> wherein settings in the user interace override previous settings in the data strage device.</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" id="US-6314473-B1-CLM-00006" class="claim">
      <div class="claim-text">6. A user interface according to claim <b>1</b> further comprising a preview setting, the preview setting causing the data storage device to operate an acoustic noise level set in the user interface.</div>
    </div>
    </div> <div class="claim"> <div num="7" id="US-6314473-B1-CLM-00007" class="claim">
      <div class="claim-text">7. A method of controlling operation of a data storage device, comprising:</div>
      <div class="claim-text">generating a user interface, the user interface controlling one of a seek time of the data storage device and an acoustic noise level of the data storage device; </div>
      <div class="claim-text">altering settings in the user interface for one of the seek time and the acoustic noise level of the data storage device in inverse relation; and </div>
      <div class="claim-text">outputting commands to the data storage device to alter seek trajectory shape by shaping input signals to the data storage device to reduce selected unwanted frequencies from a plurality of frequencies in accordance with the altered set in the user interface. </div>
    </div>
    </div> <div class="claim"> <div num="8" id="US-6314473-B1-CLM-00008" class="claim">
      <div class="claim-text">8. Computer-executable process steps stored on a computer-readable medium, the computer-executable process steps to control operation of a data storage device, the computer-executable process steps comprising:</div>
      <div class="claim-text">code to generate a user interface, the user interface controlling one of a seek time of the data storage device and an acoustic noise level of the data storage device; </div>
      <div class="claim-text">code to alter settings in the user interface for one of the seek time and the acoustic noise level of the data storage device in inverse relation; and </div>
      <div class="claim-text">code to output commands to the data storage device causing the data storage device to alter seek trajectory shape by shaping input signals to the data storage device to reduce selected unwanted frequencies from a plurality of frequencies in accordance with the altered settings in the user interface. </div>
    </div>
    </div> <div class="claim"> <div num="9" id="US-6314473-B1-CLM-00009" class="claim">
      <div class="claim-text">9. Apparatus for controlling operation of a data storage device, the apparatus comprising:</div>
      <div class="claim-text">a memory which stores computer-executable process steps; and </div>
      <div class="claim-text">a processor which executes the process steps so as (i) to generate a user interface, the user interface controlling one of a seek time of the data storage device and an acoustic noise level of the data storage device, (ii) to alter settings in the user interface for one of the seek time and the acoustic noise level of the data storage device in inverse relation, and (iii) to output commands to the data storage device causing the data storage device to alter seek trajectory shape by shaping input signals to the data storage device to reduce selected unwanted frequencies from a plurality of frequencies in accordance with the altered settings in the user interface. </div>
    </div>
    </div> <div class="claim"> <div num="10" id="US-6314473-B1-CLM-00010" class="claim">
      <div class="claim-text">10. Method of controlling operation of a data storage device, comprising:</div>
      <div class="claim-text">providing a user interface for controlling one of a seek time of the data storage device and an acoustic noise level of the data storage device; </div>
      <div class="claim-text">operating the user interface so as to alter settings of one of the seek time and the acoustic noise level of the data storage device in inverse relation; and </div>
      <div class="claim-text">outputting commands to the data storage device causing the data storage device to alter seek trajectory shape by shaping input signals to the data storage device to reduce selected unwanted frequencies from a plurality of frequencies in accordance with the altered settings. </div>
    </div>
    </div> <div class="claim"> <div num="11" id="US-6314473-B1-CLM-00011" class="claim">
      <div class="claim-text">11. A disk drive operatively controlled by a user interface, said user interface providing settings capable of altering one of a seek time of the disk drive and acoustic noise level of the disk drive in inverse relation, and indicating to the disk drive that one of the seek time settings of the disk drive and the acoustic noise level settings of the disk drive has been altered, the disk drive comprising:</div>
      <div class="claim-text">means for performing a seek operation, the seek operation generating a plurality of frequencies; and </div>
      <div class="claim-text">means for outputting commands to alter seek trajectory shape by shaping input signals to the means for performing the seek operation to reduce selected unwanted frequencies from said plurality of frequencies in accordance with the altered settings in the user interface. </div>
    </div>
    </div> <div class="claim-dependent"> <div num="12" id="US-6314473-B1-CLM-00012" class="claim">
      <div class="claim-text">12. The disk drive of claim <b>11</b> wherein the user interface comprises discrete values which are selectable to alter the acoustic noise level and/or the seek time of the disk drive.</div>
    </div>
    </div> <div class="claim-dependent"> <div num="13" id="US-6314473-B1-CLM-00013" class="claim">
      <div class="claim-text">13. The disk drive of claim <b>11</b> wherein a setting in the user interface overrides a previous setting.</div>
    </div>
    </div> <div class="claim"> <div num="14" id="US-6314473-B1-CLM-00014" class="claim">
      <div class="claim-text">14. Computer-executable process steps stored on a computer-readable medium, the computer-executable process steps to control operation of a data storage device, the computer-executable process steps comprising:</div>
      <div class="claim-text">code providing a user interface for controlling one of a seek time of the data storage device and an acoustic noise level of the data storage device; </div>
      <div class="claim-text">code to operate the user interface so as to alter settings for one of the seek time and the acoustic noise level of the data storage device in inverse relation; and </div>
      <div class="claim-text">code to output commands to the data storage device to alter seek trajectory shape by shaping input signals to the data storage device to reduce selected unwanted frequencies from a plurality of frequencies in accordance with the altered settings in the user interface. </div>
    </div>
    </div> <div class="claim"> <div num="15" id="US-6314473-B1-CLM-00015" class="claim">
      <div class="claim-text">15. Apparatus for controlling operation of a data storage device, The apparatus comprising:</div>
      <div class="claim-text">a memory which stores computer-executable process steps; and </div>
      <div class="claim-text">a processor which executes the process steps to control, through a user interface, one of a seek time of the data storage device and an acoustic noise level of the data storage device, so as to alter settings in the user interface for one of the seek time and the acoustic noise level of the data storage device in inverse relation, and to output commands to the data storage device causing the data storage device to alter seek trajectory shape by shaping input signals to the data storage device to reduce selected unwanted frequencies from a plurality of frequencies in accordance with the altered settings.</div>
    </div>
  </div> </div></div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title">Description</span></div><div class="patent-text"><div mxw-id="PDES54750586" lang="EN" load-source="patent-office" class="description">
    <p>This application claims priority to U.S. Provisional Patent Application No. 60/109,145 filed Nov. 20, 1998 and U.S. Provisional Patent Application No. 60/077,292 filed Mar. 5, 1998.</p>
    <heading>BACKGROUND OF THE INVENTION</heading> <p>1. Field of the Invention</p>
    <p>The present invention is directed to altering inputs to, and generating feedforward signals for, a dynamic system so as to reduce unwanted vibrations in the system. The invention has particular utility in speeding up computer disk drives by reducing unwanted vibrations which, if unchecked, could lead to disk read/write errors or excessive noise.</p>
    <p>2. Description of the Related Art</p>
    <p>Movement in dynamic systems typically results in unwanted vibrations that are both mechanical and acoustic in nature. These vibrations can have a detrimental affect on the operation of such systems. One dynamic system that is particularly sensitive to unwanted vibrations is a computer disk drive.</p>
    <p>A computer disk drive includes an actuator arm having a head mounted at a distal end of the arm for reading from, and writing to, tracks on a magnetic disk. This head is moved by the arm from track-to-track on the disk. Vibrations in the system result from this movement. That is, the head and actuator arm vibrate after reaching a nominal final position. Reading and writing cannot take place by the disk drive until these vibrations go below a certain level; otherwise read/write errors occur. These vibrations may also cause noise.</p>
    <p>The period during which the disk drive waits for these vibrations to reach an acceptable level (i.e., the settling time) increases the disk drive's seek time. The drive's seek time comprises the time it takes for the drive's head to come to rest at a position where the head can perform a read/write operation on a particular track. The increase in seek time can be especially acute in cases where the track-per-inch density of the magnetic disk is high. That is, because tracks in these disks are relatively close together, even small vibrations in the head can seriously affect the accuracy of the disk drive and/or increase noise in the drive. Since even small vibrations cannot be tolerated, the settling time is further increased, thereby further increasing the drive's seek time.</p>
    <p>Conventional attempts at addressing the foregoing problems in both disk drives and dynamic systems in general have fallen short of satisfactory. That is, such attempts are too computationally intensive to be practical, have failed to provide sufficient reduction in vibrations for use in high accuracy positioning equipment such as computer disk drives, produce sub-optimal trajectories, and/or are overly sensitive to system parameter variations.</p>
    <p>Other related problems also plague conventional disk drives. For example, in conventional disk drives, two different controllers are used to position the drive's head on a track. A first controller controls the drive's head to reach a predetermined position near to a final position, at which point a second controller takes over. This second controller moves the head into the final position and regulates the head on a track. Switching between these two controllers increases settling time and, as a result, increases seek time. Also, in conventional disk drives, little or no control over vibrations is included in the derivation of these controllers. Consequently, conventional disk drives may not be able to discern important variations during motion transients.</p>
    <p>In view of the above, there exists a need for a way to control computer disk drives and, more generally, dynamic systems, which reduces both mechanical and acoustic vibrations to an acceptable level without undue computational effort and without a substantial reduction in movement speed.</p>
    <heading>SUMMARY OF THE INVENTION</heading> <p>The present invention addresses the foregoing needs by providing methods of controlling movement in a dynamic system so as to reduce mechanical and/or acoustic unwanted vibrations in the system. These methods are relatively easy to perform, produce good results, and have few adverse side effects, thereby making them a significant improvement over the prior art.</p>
    <p>In one aspect, the invention determines which parameter will cause a dynamic system to saturate. For example, in the case of a computer disk drive, current commands control the system. However, voltage is the fundamental limiting parameter of the system, since voltage supplied by the drive's power supply limits the amount of current in the system. In this aspect, the fundamental limiting parameter is used to generate a command for the system which reduces vibrations without causing the system to saturate. In the specific case of a disk drive, the fundamental limiting parameter (i.e., voltage) is also used to generate current commands that do not exceed the voltage limitations of the system.</p>
    <p>In another aspect of the invention, a disk drive system is modeled using partial fraction expansion equations. The digital form of those equations is as follows: <maths> <math overflow="scroll"> <mrow> <mi>Finalpos</mi> <mo>=</mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>V</mi> <mi>i</mi> </msub> <mo></mo> <mi>A</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </mrow> </mrow> </math> <math overflow="scroll"> <mrow> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <mn>0</mn> <mo>=</mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>V</mi> <mi>i</mi> </msub> <mo></mo> <mfrac> <mi>Ab</mi> <mrow> <mi>b</mi> <mo>-</mo> <mi>a</mi> </mrow> </mfrac> <mo></mo> <mrow> <mo>(</mo> <mrow> <msup> <mi>e</mi> <mrow> <mo>-</mo> <mrow> <mi>a</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> <mo>+</mo> <mrow> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </msup> <mo>-</mo> <msup> <mi>e</mi> <mrow> <mo>-</mo> <mrow> <mi>a</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </msup> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </mrow> </mrow> </math> <math overflow="scroll"> <mrow> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <mrow> <mn>0</mn> <mo>=</mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>V</mi> <mi>i</mi> </msub> <mo></mo> <mfrac> <mi>Aa</mi> <mrow> <mi>a</mi> <mo>-</mo> <mi>b</mi> </mrow> </mfrac> <mo></mo> <mrow> <mo>(</mo> <mrow> <msup> <mi>e</mi> <mrow> <mo>-</mo> <mrow> <mi>b</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> <mo>+</mo> <mrow> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </msup> <mo>-</mo> <msup> <mi>e</mi> <mrow> <mo>-</mo> <mrow> <mi>b</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </msup> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </mrow> <mo>,</mo> </mrow> </mrow> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00001.png"> <img id="EMI-M00001" file="US06314473-20011106-M00001.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00001.png" class="patent-full-image" alt="Figure US06314473-20011106-M00001"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00001" attachment-type="nb" file="US06314473-20011106-M00001.NB"> </attachment> </attachments> </maths> </p>
    <p>where Finalpos is a final position of the system, A is a scaling factor, a and b are inverse time constants, t<sub>end </sub>is the time at which a move is completed, V<sub>i </sub>are voltage inputs to the system, T<sub>i </sub>are the times at which V<sub>i </sub>are input, and t is a time interval at which V<sub>i </sub>are input. Using the above equations, system inputs which produce reduced vibrations can be determined. These equations are particularly powerful when used to solve for a system input in terms of its fundamental limiting parameter. Additional constraints may also be included in the above equations in order to provide a more accurate model of the system.</p>
    <p>In still another aspect of the invention, techniques are provided for reducing system vibrations in its various modes. These techniques may be used alone or in conjunction with the concepts set forth above. One such technique comprises incorporating vibration limiting and sensitivity constraints into the partial fraction expansion equation model so as to reduce vibrations to specific levels. Another technique comprises shaping (e.g., convolving or filtering) a command determined using the partial fraction expansion equation model to produce a desired output. The entire command may be shaped or only selected portions thereof which produce vibrations. Selective shaping is preferred since it reduces seek time relative to shaping the entire command. Another technique involves commanding in current to produce saturation in voltage. By doing this, it is possible to command voltage switches. The times at which the switches occur can then be set to reduce system vibrations. Other techniques are also provided. These include varying transient portions at the beginning, middle and/or end of a move and using Posicast inputs, among others.</p>
    <p>In still another aspect, the invention determines an input to the system that will result in limited (or reduced) vibrations, and uses that input as a feedforward trajectory for the system. Several approaches are provided for generating the input, including performing an optimization method on the partial a fraction expansion equations. In one approach, the problem of generating an input is separated into a rigid mode problem and a flexible mode problem. Specifically, terms associated with the rigid mode of the system are determined from the partial fraction expansion equations, and terms associated with oscillating or flexible modes of the system are determined based on a system analysis. The rigid body terms are solved for an input which drives the system so as to satisfy its rigid body constraints. This input is then shaped using, e.g., an Input Shaper designed to compensate for the flexible modes of the system. Using this approach, the computational difficulty of obtaining a solution is reduced relative to the optimization approach, while still providing an adequate reduction in levels of vibrations in relevant modes of the system. Another approach to generating the input involves creating a closed-loop model of the system. An input which results in reduced vibrations may then be generated based on this model. In still another approach, voltage switch times for a bang-bang input that reduces vibrations are determined based on the partial fraction expansion equations. Input Shaping may then be applied to that input so as to provide a further reduction in vibrations.</p>
    <p>In other aspects of the invention, various position-velocity (PV) table formulations are provided for reducing system vibrations. In one approach, a trajectory which reduces system vibrations is generated in accordance with one or more of the techniques set forth above, and that trajectory stored in a PV table. The trajectory can then be used to control movement of the system. In another approach, a shaper is provided at the output of a PV table, and its inverse is provided along the system's feedback path. This arrangement reduces system dynamics via the feedforward direction, and restores loop stability in the feedback direction. In still another approach, an N (N&gt;2) dimensional PV table is used to control a system, in which velocity is a function of position and one or more other variables, such as movement distance, resistance, temperature, etc. In yet another PV approach, current commands are shaped at transition(s) (e.g., at deceleration) so as to yield desired levels of vibrations. During non-transitional states, a trajectory in a PV table is followed.</p>
    <p>While the above-summarized methods significantly enhance the operation of dynamic systems, such as computer disk drives and other data storage devices, it is also preferable to allow end-users some control over the system's operation. For example, a user may want a disk drive that has a relatively low seek time (i.e., a disk drive that is fast), but may not care about acoustics. Similarly, the user may be more focused on acoustics than on seek time. Thus, there exists a need for a way by which an end-user can control operation of a disk drive. In particular, there exists a need for a simple way to control operation of the disk drive, which permits the user to select operational parameters, such as seek time and acoustic levels, in addition to other features.</p>
    <p>The present invention addresses these needs by providing a GUI and/or mechanical switch(es) through which an end-user may alter operational parameters of a disk drive, including, but not limited to, the drive's seek time, noise level, and power consumption. By providing these features, the invention enables the user to customize operation of a disk drive relatively easily without requiring significant hardware and/or software modifications.</p>
    <p>This brief summary has been provided so that the nature of the invention may be understood quickly. A more complete understanding of the invention can be obtained by reference to the following detailed description of the preferred embodiments thereof in connection with the attached drawings.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading> <p>FIG. 1 is a perspective view of a computer system through which the present invention may be implemented.</p>
    <p>FIG. 2 shows the architecture of the computer system.</p>
    <p>FIG. 3 shows process steps for generating a graphical user interface in accordance with the invention.</p>
    <p>FIGS. 4 to <b>9</b> show graphical user interfaces that can be generated by the invention.</p>
    <p>FIG. 10A is a cut-away view of a disk drive that is controlled by the present invention.</p>
    <p>FIG. 10B is a block diagram of circuitry for controlling the disk drive in accordance with the invention.</p>
    <p>FIG. 11 is a feedback diagram of a computer disk drive.</p>
    <p>FIG. 12 shows a plot of good moves versus bad moves for different movements made by a computer disk drive.</p>
    <p>FIG. 13 is a feedback diagram of a prior art disk drive system.</p>
    <p>FIG. 14 is a feedback diagram of a disk drive system in accordance with the present invention.</p>
    <p>FIG. 15 is a block diagram showing the relationship between an input and an output of a finite impulse response filter shaping technique.</p>
    <p>FIG. 16 is a block diagram showing the relationship between an input and an output of a finite impulse response filter inverse shaping technique.</p>
    <p>FIG. 17 is a block diagram showing the relationship between an input and output of a tapped continuous delay line filter shaping technique.</p>
    <p>FIG. 18 is a block diagram showing the relationship between an input and an output of a tapped continuous delay line filter inverse shaping technique.</p>
    <p>FIG. 19 is a block diagram showing the relationship between an input and an output of an infinite impulse response filter shaping technique.</p>
    <p>FIG. 20 is a block diagram showing the relationship between an input and an output of an infinite impulse response filter inverse shaping technique.</p>
    <p>FIG. 21 shows examples of trajectories in a position-velocity table used in embodiments of the present invention.</p>
    <p>FIG. 22 depicts parameterization of trajectories in a position-velocity table in accordance with the present invention.</p>
    <p>FIGS. 23A and 23B show optimal rigid body voltage commands for 1 and 3000 track moves, respectively, for a disk drive system.</p>
    <p>FIG. 24 shows a digitized input voltage waveform.</p>
    <p>FIG. 25 shows the waveform of FIG. 24 conceptualized as a series of pulses.</p>
    <p>FIG. 26 shows each of the pulses of FIG. 25 represented as a pair of impulses.</p>
    <p>FIG. 27 shows a block diagram of a feedback system.</p>
    <p>FIG. 28 shows application of a Laplace differentiation operator to inputs to the system shown in FIG. <b>27</b>.</p>
    <p>FIG. 29 shows scaled versions of the inputs of FIG. <b>28</b>.</p>
    <p>FIG. 30 shows a reduction, using block diagram algebra, of the inputs shown in FIG. <b>29</b>.</p>
    <p>FIG. 31 shows a reduction of the inputs shown in FIG. <b>30</b>.</p>
    <p>FIG. 32 shows a plot of impulses of a three pulse shaper together with a sine wave representation of undamped vibration.</p>
    <p>FIG. 33 shows a plot of digital pulse spacing for the three pulse shaper together with a sine representation of undamped vibration.</p>
    <p>FIG. 34 shows pulse spacing for a three pulse shaper and a sine wave representation of vibration.</p>
    <p>FIG. 35 shows a voltage pulse response of a dynamic system.</p>
    <heading>DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading> <p>The present invention comprises computer-executable code (i.e., computer-executable process steps) for controlling operation of a disk drive or, more generally, any dynamic system. For the specific case of a disk drive, the invention includes code which generates a GUI, which accepts inputs into that GUI, and which outputs commands to a disk drive causing the disk drive to conform its operation to the GUI inputs. The invention can be used in any type of computer/disk drive system, such as a desktop computer, laptop computer, or the like. For the sake of brevity, however, the invention will be described in the context of a desk-top computer system only.</p>
    <p>FIG. 1 shows a representative embodiment of a computer system <b>1</b> on which the invention may be implemented. As shown in FIG. 1, personal computer (PC) <b>2</b> includes network connection <b>4</b> for interfacing to a network, such as the Internet, an ATM network, or the like, and fax/modem connection <b>5</b> for interfacing with other remote devices such as a digital camera, digital video camera, and the like. PC <b>2</b> also includes display screen <b>6</b> for displaying information to a user, keyboard <b>7</b> for inputting text and user commands, mouse <b>9</b> for positioning a cursor on display screen <b>6</b> and for inputting user commands, and disk drive <b>10</b> for reading from and writing to floppy disks installed therein. PC <b>2</b> may also have one or more peripheral devices (not shown) attached thereto for inputting text, graphics, images, or the like, and/or for outputting images.</p>
    <p>FIG. 2 shows the internal structure of PC <b>2</b>. As shown in FIG. 2, PC <b>2</b> includes memory <b>11</b>, which comprises a computer-readable medium such as a computer hard disk. Memory <b>11</b> stores data <b>12</b>, applications <b>14</b>, and operating system <b>15</b>, among other things. In preferred embodiments of the invention, operating system <b>15</b> is a windowing operating system, such as Microsoft Windows98 or Microsoft Windows NT; although the invention may be used with other operating systems as well. Among the applications stored in memory <b>11</b> is computer code to implement the present invention, namely disk drive engine <b>16</b>. Alternatively, disk drive engine <b>16</b> may be stored in a read-only memory (ROM), or the like, together with other operational firmware for disk drive <b>10</b>. In brief, disk drive engine <b>16</b> is comprised of computer-executable process steps which, inter alia, generate a GUI for controlling operation of disk drive <b>10</b> and output commands to disk drive <b>10</b> causing disk drive <b>10</b> to conform its operations to settings in the GUI. A more detailed description of disk drive engine <b>16</b> is provided below</p>
    <p>Also included in PC <b>2</b> are display interface <b>17</b>, keyboard interface <b>19</b>, mouse interface <b>20</b>, disk drive interface <b>21</b>, computer bus <b>22</b>, RAM <b>24</b>, processor <b>25</b>, and printer interface <b>26</b>. Processor <b>25</b> comprises a microprocessor or the like for executing applications, such those noted above, out of RAM <b>24</b>. Such applications may be stored in memory <b>11</b> (as noted above) or, alternatively, on a floppy disk in disk drive <b>10</b>. Processor <b>25</b> accesses applications (or other data) stored on a floppy disk via disk drive interface <b>21</b>.</p>
    <p>Application execution and other tasks of PC <b>2</b> may be initiated using keyboard <b>7</b> or mouse <b>9</b>, commands from which are transmitted to processor <b>25</b> via keyboard interface <b>19</b> and mouse interface <b>20</b>, respectively. Similarly, application execution may be initiated remotely via, e.g., network interface <b>4</b> and a network interface card (not shown). Output results from applications running on PC <b>2</b> may be processed by display interface <b>17</b> and then output via network interface <b>4</b> or, alternatively, displayed to a user on display <b>6</b>. To this end, display interface <b>17</b> preferably comprises a display processor for forming video images based on video data provided by processor <b>25</b> over computer bus <b>22</b>, and for outputting those images to display <b>6</b>. Output results from other applications running on PC <b>2</b> may be provided to an attached printer via printer interface <b>26</b>.</p>
    <p>Turning to disk drive engine <b>16</b>, this application comprises computer code to control operation of disk drive <b>10</b> either according to one of a plurality of well-known conventional methods or according to one or more of the proprietary methods described herein. Disk drive engine <b>16</b> further includes code for generating a GUI for interactively controlling at least one of a seek time, a noise level, and a power consumption of a disk drive. The GUI includes a controller that is operated by a user so as to alter settings in the GUI for one or more of these parameters. Thereafter, disk drive engine <b>16</b> generates and outputs commands to the disk drive causing it to conform its operation in accordance with the altered settings in the GUI.</p>
    <p>1.0 User Interface</p>
    <p>FIG. 3 is a flow chart for controlling operation of a disk drive using disk drive engine <b>16</b>. To begin, step S<b>301</b> generates a GUI and displays that GUI to the user via display <b>6</b>. FIG. 4 shows such a GUI, labeled <b>27</b>. GUI <b>27</b> includes a window <b>70</b> for selecting a disk drive to be controlled. That is, although the computer system shown in FIG. 1 includes only one disk drive, many systems include more than one disk drive. Window <b>70</b> provides a way for a user to select which disk drive to control. FIG. 9 is a close-up view of window <b>70</b>. A disk drive can be selected simply by pointing and clicking on that drive in window <b>70</b>. The selected drive is then highlighted, as shown.</p>
    <p>As shown in FIG. 4, GUI <b>27</b> also includes controller <b>29</b>. Controller <b>29</b> is used to alter a seek time and a noise level of disk drive <b>10</b>. In this particular embodiment, controller <b>29</b> comprises a sliding bar <b>30</b> which moves along a continuum <b>31</b> between a relatively high noise level/low seek time (Quick) end <b>32</b> and a relatively low noise level/high seek time (Quiet) end <b>34</b>. Disk drive noise level and seek time vary inversely along the continuum, meaning that, as the noise level of the disk drive progressively increases, the seek time of the disk drive progressively decreases. Likewise, as the noise level of the disk drive progressively decreases, the seek time of the disk drive progressively increases. By moving sliding bar <b>30</b>, it is possible to vary both the seek time and noise level parameters simultaneously.</p>
    <p>In the preferred embodiment of the invention, sliding bar <b>30</b> moves between discrete positions on continuum <b>31</b>, meaning, e.g., between a first position corresponding to high noise level/low seek time (Quick) end <b>32</b>, a second position corresponding to a mid-point between the two ends on continuum <b>31</b>, and a third position corresponding to low noise level/high seek time (Quiet) end <b>34</b>. Alternatively, there may be more than three discrete levels or noise and seek time may vary continuously between the two ends of continuum <b>31</b>.</p>
    <p>The level of noise in a disk drive is due to vibrations at particular frequencies, such as 6.6 KHz, 6.0 KHz, 5.0 KHz, 4.2 KHz, and 1.3 KHz. On the other hand, mechanical vibrations, which reduce seek time, result from vibrations at different frequencies, such as 3.3 KHz. By moving the sliding bar of controller <b>29</b> along the continuum, an end-user is effectively determining which of the above frequencies should be reduced and/or how much the reduction should be. For example, in a case that Input Shaping (described below) is used to reduce vibrations, by moving sliding bar <b>30</b>, the user effectively selects one or more shaping functions for reducing vibrations at specific frequencies, and causes disk drive engine <b>16</b> to convolve those functions with the appropriate disk drive inputs in order to implement the desired vibration reduction.</p>
    <p>In GUI <b>27</b> the noise level and seek time vary inversely along continuum <b>31</b> such that there is an effective trade-off between seek time and noise level, meaning that as seek time increases, noise level decreases and vice versa. These variations are not necessarily linear; although they may be. As an alternative to sliding bar <b>30</b>, the GUI may include boxes into which discrete noise levels and/or seek times are entered. For example, as shown in FIG. 5, the GUI may include entry box <b>37</b> into which a noise level value is entered and display box <b>39</b> which displays a corresponding numerical value of the seek time. In this case, the GUI preferably also includes up/down arrows <b>41</b> which are used for selecting the various noise level values. On the other hand, these values may be input directly via mouse <b>9</b> and keyboard <b>7</b>. As another alternative, the seek time may be settable via entry box <b>37</b> and the corresponding noise level displayed via display box <b>39</b>. In either case, the numerical value displayed in the display box is calculated by disk drive engine <b>16</b> based on the value set in the entry box.</p>
    <p>Returning to FIG. 4, GUI <b>27</b> may also include a second controller, such as check box <b>42</b>. This controller causes the disk drive to enter a power-saving mode. The power-saving mode comprises a state during which the disk drive reduces its power consumption by a predetermined amount. The power-saving mode may be set in conjunction with varying the seek time and the noise level. That is, in the power saving mode, the set seek time and noise level are achieved using less power than would otherwise be required. This is achieved, e.g., by convolving one or more predetermined functions with a command input to a voice coil motor in the disk drive.</p>
    <p>On the other hand, a reduction in power consumption may be achieved via a controller, such as controller <b>44</b> shown in FIG. <b>6</b>. Controller <b>44</b> comprises a sliding bar <b>45</b> which moves along a continuum <b>46</b> between a relatively high power consumption/low seek time end <b>47</b> and a relatively low power consumption/high seek time end <b>49</b>. As was the case above, sliding bar <b>45</b> may move between discrete values along the continuum. Thus, in this embodiment, disk drive power consumption and seek time vary inversely along the continuum, meaning that, as the power consumption of the disk drive progressively increases, the seek time of the disk drive progressively decreases. Likewise, as the power consumption of the disk drive progressively decreases, the seek time of the disk drive progressively increases.</p>
    <p>By moving sliding bar <b>45</b> it is possible to vary both seek time and power consumption simultaneously. For example, varying power consumption may be achieved by convolving one or more predetermined functions with a command input to a voice coil motor in the disk drive. Selection of the predetermined functions is performed based on the settings of the sliding bar. Of course, the functions may be set in other ways as well (as is the case throughout this application). For example, the functions may be selected from predetermined trajectories in a position-velocity (PV) table, as described herein below.</p>
    <p>FIG. 7 shows yet another alternative configuration for the GUI. As shown in FIG. 7, the GUI could include separate controllers <b>50</b> and <b>52</b> for reducing both power consumption and noise level, respectively, as a function of seek time. Thus, (i) as noise level increases, seek time decreases, and vice versa, and (ii) as power consumption increases, seek time decreases, and vice versa. The sliding bars shown in FIG. 7 preferably have all the characteristics of that shown in FIG. <b>4</b>. As shown in FIG. 8, numerical values for noise level and power consumption may be implemented, as in FIG. <b>5</b>. Here, a numerical value is calculated for seek time as well based on the noise level and power consumption settings, and displayed in the GUI as shown.</p>
    <p>Returning to FIG. 4, GUI <b>27</b> may also include a preview controller, shown at <b>54</b>, to cause the disk drive to operate using parameter(s) set by controller <b>29</b>. This preview controller may comprise a button or the like, which a user can click on, and which causes the disk drive to operate in a preview mode. The preview mode may cause the disk drive to seek between various tracks on a disk so that the user can experience the noise level and seek time settings in the GUI. If these levels are unacceptable, the user may then revise the GUI inputs, and preview the drive's operation based on such newly-set inputs. This process can be repeated as often as desired until the user achieves the desired settings. Preview mode may also be pre-set to execute automatically each time the GUI settings are altered.</p>
    <p>GUI <b>27</b> may also include one or more display areas <b>55</b>, as shown in FIG. <b>4</b>. These display areas may provide a numerical indication of the noise level of the disk drive, its seek time, and/or its power consumption rate. Display areas such as these are generally most beneficial in cases where parameters are set using a sliding bar, as is the case, for example, in FIGS. 4, <b>6</b> and <b>7</b>. Likewise, a display area may be provided which informs the user of the amount of hours that a computer (e.g., a laptop) can operate with an existing power supply. To determine this value, disk drive engine <b>16</b> monitors the computer's power supply directly, or estimates the amount of power left based on the total time the computer has been running with the present supply, as well as other relevant parameters.</p>
    <p>Returning to FIG. 3, following step S<b>301</b>, in which a GUI is displayed, processing proceeds to step S<b>302</b>. In step S<b>302</b>, the user inputs desired settings into the GUI. These settings, of course, will depend upon the available options in the GUI, examples of which are described above. For instance, the user may input some combination of a new seek time, power consumption rate, noise level, etc. Step S<b>302</b> may be performed locally or remotely via network interface <b>4</b>. That is, the GUI may be displayed on a remote networked PC, and the settings therefor applied to the local PC. In any event, once the new parameter setting are input in step S<b>302</b>, they may be confirmed via OK button <b>60</b>, canceled via Cancel button <b>61</b>, or applied to the disk drive via Apply button <b>62</b>. The difference between OK button <b>60</b> and Apply button <b>62</b> is that OK button <b>60</b> merely stores the new settings in memory (e.g., memory <b>11</b>), whereas Apply button <b>62</b> applies the settings to the disk drive, overriding any previous hardware or software settings.</p>
    <p>Next, in step S<b>303</b>, commands (e.g., electrical signals) are generated for controlling disk drive <b>10</b> in accordance with the settings set in the GUI. Exactly how these commands are generated may vary, depending upon the way in which the disk drive is controlled. Assuming, for illustration's sake, that the disk drive is being controlled via Input Shaping, step S<b>303</b> comprises convolving various inputs to the disk drive with predetermined functions which are selected based on settings in the GUI in order to produce disk drive inputs that achieve the results specified in the GUI. These functions may be stored, e.g., in memory <b>11</b> or in another memory on the system. Sections 2 to 11 below describe a variety of methods that may be used to control operation of the disk drive, any of which may be used in step S<b>303</b> based on the GUI setting and other factors.</p>
    <p>Once the necessary commands have been generated, processing proceeds to step S<b>304</b>, wherein these commands are provided to control operation of the disk drive. Thereafter, a user may again alter the drive's operation simply by calling up a GUI using, e.g., mouse <b>7</b>, and entering desired operational parameters. Following step S<b>304</b>, processing ends.</p>
    <p>At this point, it is noted that the GUI is not limited to the combinations of features shown in the figures. That is, a GUI may be generated in step S<b>301</b> with includes any one or more of the foregoing features, subject to certain constraints inherent in the system. Likewise, additional features not described herein, but which are well known to those skilled in the art, may also be included in the GUI. As an alternative to the GUI, or to supplement the GUI, the disk drive may include one or more electro-mechanical manual switches for controlling all or part of the drive's operation in the manner set forth above. For the purposes of the present invention, a jumper is considered to be within the definition of electro-mechanical manual switch.</p>
    <p>2.0 System Control</p>
    <p>The following control methods are preferably implemented via computer-executable process steps in disk drive engine <b>16</b> so as to effect high-speed moves in a disk drive, such as drive <b>10</b>. However, it is noted that these methods are not limited to use with disk drives. Rather, the methods described herein can be used to control any type of dynamic system which moves from one state to another state. In fact, any unwanted dynamic behavior that can be quantified in a mathematical expression can be reduced by the present invention. For example, using the present invention, a disk drive in a Redundant Array of Independent Drives (RAID) can be commanded to move in less time than has heretofore been possible without substantially exciting neighboring drives and while simultaneously reducing acoustic vibrations that result in noise. The designer simply need select which vibrations or dynamic behavior is troublesome, identify constraints and, using the technology presented herein, choose from among several approaches for generating optimal or near optimal moves that reduce those vibrations or dynamic behavior. As used herein, the term vibrations can refer to mechanical and/or acoustic vibrations that cause noise.</p>
    <p>FIGS. 10A and 10B show close-up views of disk drive <b>10</b>. As shown, disk drive <b>10</b> includes voice coil motor <b>72</b> having a rotor (not shown), actuator arm <b>74</b>, sensor <b>75</b>, and head <b>76</b>. These components are controlled via disk drive engine <b>16</b>, or portions thereof, running on a controller/processor <b>73</b>. This processor may comprise processor <b>25</b> set forth above or, alternatively, a separate controller dedicated to the disk drive which receives commands from processor <b>25</b>. Head <b>76</b> reads to, and writes from, tracks (not shown) on magnetic disk <b>77</b> installed in drive <b>10</b>. Actuator arm <b>74</b>, on which head <b>76</b> is mounted, controls the motion of head <b>76</b> between the tracks on magnetic disk <b>77</b>. Motor <b>72</b> drives actuator arm <b>74</b> in accordance with control signals received from processor <b>73</b>. These control signals are generated based, at least in part, on a desired position of head <b>76</b> and an actual measured position of head <b>76</b> provided via signal <b>79</b>. Movement of head <b>76</b> from an initial position to the desired position occurs within the device's seek time. The seek time for disk drive <b>10</b> comprises the time it takes for head <b>76</b> to move from an initial position to rest at a position where head <b>76</b> can perform a read/write operation on a particular track of magnetic disk <b>77</b>.</p>
    <p>The seek time for computer disk drive <b>10</b> can be reduced by commanding a component in disk drive <b>10</b>, such as head <b>76</b>, to move from one location to another while satisfying constraints on mechanical vibrations, acoustic vibrations, drive mounting vibrations, or any combination of constraints, physical limitations, and/or parameter variations. Several different methods for reducing such vibrations are described below in detail. One such technique involves altering system inputs that are specified as a function of time. Another technique involves generating a position-versus-velocity (hereinafter PV or position-velocity) table using dynamic elements, e.g., constraints or the like, so as to produce PV table trajectories which result in reduced vibrations. In this regard, the terms input and trajectory may refer to either a reference command for a controller to follow or a feedforward signal within the controller. Still another technique involves modifying the current industry-standard PV table so that an improved PV table is constructed and used. Several methods for generating PV tables are also provided, together with ways to use an Input Shaper in combination with a PV table in order to reduce unwanted vibrations. Also presented are several modifications to the foregoing embodiments which have differing levels of optimality and ease of implementation.</p>
    <p>Processor <b>73</b> determines which of these techniques to apply based on a variety of factors, such as user inputs to the GUI and the identity of the disk drive. For example, time can be traded off against amount of vibration reduction and robustness to parameter variation. In a given application, the amount of vibration reduction required to make end-of-move conditions acceptable can be a function of the movement distance or other parameter. When this is the case, it is advantageous to trade-off shaping time against shaper effectiveness (meaning amount of vibration reduction) such that (i) vibrations, both mechanical and acoustic, are reduced to an acceptable level (not excessively attenuated), and (ii) shaping time is less than it would be if the vibration were excessively attenuated. When more vibration reduction is required, a longer shaper can be used; when less vibration reduction is required a shorter shaper can be used; and when no vibration reduction is required, then no shaper (zero length) can be used. In this example, shaper selection was from among a discrete collection of shapers. It is also possible to use a single adjustable shaper, e.g. one in which the time interval between pulses is shortened; resulting in a desired shorter shaping time and reduced vibration reduction.</p>
    <p>3.0 Fundamental Limiting Parameter</p>
    <p>One of the techniques utilized by the present invention is a method for commanding systems that saturate in an optimal manner while still reducing unwanted dynamics. Since all systems saturate in some manner, a method for setting up a command profiling approach is presented herein which first determines a fundamental limiting parameter for the system, second applies either a command shaping or whole-trajectory-generating technique to that parameter, and third schedules the shaped command to be output to the system.</p>
    <p>The fundamental limiting parameter of a system is the parameter that causes the system to saturate. In the case of a computer disk drive, current commands control the system. However, the fundamental limiting parameter is voltage, since voltage supplied by the drive's power supply limits the amount of current in the system. By identifying the fundamental limiting parameter of a system in this manner, and processing that parameter in accordance with the techniques provided herein, it is possible to provide for greater control over system movement than has heretofore been possible.</p>
    <p>In this regard, there are several disadvantages to not using the fundamental limiting parameter for command profiling. First, there is no a priori way to generate a command signal that does not saturate the system. If the system is allowed to saturate a signal at any time after any command profiling technique is applied, the vibration (or unwanted dynamics) reduction benefit of command profiling will be degraded. The amount of degradation depends on how much the signal is saturated. Therefore, sub-optimal trajectories often result. As examples, optimal rigid body voltage commands for a disk drive system for 1 and 3000 track moves are shown in FIGS. 23A and 23B, respectively (see section 6.3 below for a discussion of rigid vs. flexible system modes). The optimal current command that corresponds to this voltage is highly complex because it depends on the state of the system (in this case, velocity, due to the back EMF of the drive's motor). Any simple current command would necessarily be sub-optimal if the designer is to guarantee that the system is not to saturate. Section 3.1 below describes how this is achieved.</p>
    <p>For optimal moves, the system should be commanded with inputs that take the system to saturation limits without exceeding these limits. The second disadvantage of not choosing the fundamental limiting parameter is that these saturation limits cannot be determined without including the entire system dynamics. Therefore, the solution to the problem is significantly more complex. Additionally, once vibrational constraints are included in the problem, the solution increases yet again in complexity. Once the proper selection of a fundamental limiting parameter is made, an input that approaches saturation without unknowingly trying to exceed the limit can be generated.</p>
    <p>Another approach to handling the presence of nonlinearities, such as saturation, along the feedforward path is to place a shaping module after the nonlinear element. For example, if a signal can saturate along the feedforward path, the signal should be saturated before the shaping operation. In the case of a digital-to-analog conversion (DAC) saturation, the output of the feedforward calculations might need to be limited to plus or minus 16,000 counts. If a shaping technique is to maintain the vibration reducing benefits, the output should be limited to 16,000 counts and then shaped.</p>
    <p>Still another approach to handling saturation of a parameter, while maintaining the vibration reduction benefits of the various techniques presented herein, is to pre-saturate a signal. One condition under which this would be necessary is if the saturating element is outside of the control of the designer (e.g., the saturation occurs in a hardware amplifier). In this case, it is impractical to perform shaping after saturation. Under this condition, the signal should be pre-saturated and then shaped. Pre-saturation involves determining a mathematical expression for the condition under which the system will saturate during a move, and saturating the signal before it is shaped.</p>
    <p>This approach of placing the shaping operation after any nonlinear block is applicable to the technique of putting Input Shapers and Inverse Shapers in a loop, as presented in section 9 below. All of the same rules apply in that any saturation or nonlinear operation must occur outside the path between the Shaper and Inverse Shaper. If the loop is cut open and all of the dynamic elements between the Shaper and Inverse Shaper are extracted, the dynamic elements must all be linear (or nearly linear); otherwise the effect of unwanted dynamic reduction is degraded. Additionally, the pre-saturation technique can be used in situations in which saturating elements must necessarily be between the Shaper and Inverse Shaper.</p>
    <p>3.1 Using the Fundamental Limiting Parameter While Generating Feedforward Signals in a Different Parameter</p>
    <p>In a disk drive, current is usually commanded to a transconductance amplifier. The fundamental limiting parameter for a disk drive is voltage. It is, however, possible to generate current commands that maintain a limit in voltage. This section explains how to generate such commands.</p>
    <p>The first method for generating a current command that does not exceed the voltage limitations of the system is to solve a set of equations directly for the command input which, in this case, is the feedforward signal to the transconductance amplifier. The following equation is used to generate an input that takes the system to zero final velocity: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <msub> <mi>A</mi> <mi>i</mi> </msub> </mrow> <mo>=</mo> <mn>0</mn> </mrow> <mo>,</mo> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>1</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00002.png"> <img id="EMI-M00002" file="US06314473-20011106-M00002.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00002.png" class="patent-full-image" alt="Figure US06314473-20011106-M00002"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00002" attachment-type="nb" file="US06314473-20011106-M00002.NB"> </attachment> </attachments> </maths> </p>
    <p>where the A's comprise the amplitudes of the current commands at time interval i, and N comprises the last time interval. The following equation determines the velocity, v, at each time interval i <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <msub> <mi>v</mi> <mi>i</mi> </msub> <mo>=</mo> <mrow> <msub> <mi>C</mi> <mi>vscale</mi> </msub> <mo></mo> <mrow> <munderover> <mo></mo> <mrow> <mi>j</mi> <mo>=</mo> <mn>1</mn> </mrow> <mrow> <mi>i</mi> <mo>-</mo> <mn>1</mn> </mrow> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <msub> <mi>A</mi> <mi>i</mi> </msub> </mrow> </mrow> </mrow> <mo>,</mo> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>2</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00003.png"> <img id="EMI-M00003" file="US06314473-20011106-M00003.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00003.png" class="patent-full-image" alt="Figure US06314473-20011106-M00003"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00003" attachment-type="nb" file="US06314473-20011106-M00003.NB"> </attachment> </attachments> </maths> </p>
    <p>where A comprises the current inputs and C<sub>vscale </sub>comprises a disk-drive-dependent constant. The final desired position/state of the system, P<sub>final</sub>, is determined as follows <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <msub> <mi>P</mi> <mi>final</mi> </msub> <mo>=</mo> <mrow> <munderover> <mo></mo> <mrow> <mi>j</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>v</mi> <mi>i</mi> </msub> <mo>.</mo> </mrow> </mrow> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>3</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00004.png"> <img id="EMI-M00004" file="US06314473-20011106-M00004.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00004.png" class="patent-full-image" alt="Figure US06314473-20011106-M00004"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00004" attachment-type="nb" file="US06314473-20011106-M00004.NB"> </attachment> </attachments> </maths> </p>
    <p>The voltage limit constraint, V<sub>lim</sub>, comprises the maximum voltage that is being commanded (usually the drive supply voltage). For a disk drive, this is usually on the order of 12V. V<sub>lim </sub>limits the A value by the following equation: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <mrow> <mo>-</mo> <msub> <mi>V</mi> <mrow> <mi>l</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>i</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>m</mi> </mrow> </msub> </mrow> <mo>&lt;</mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>J</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>A</mi> <mrow> <mi>j</mi> <mo>-</mo> <mi>i</mi> <mo>+</mo> <mn>1</mn> </mrow> </msub> <mo></mo> <msub> <mi>R</mi> <mi>i</mi> </msub> </mrow> </mrow> <mo>&lt;</mo> <msub> <mi>V</mi> <mrow> <mi>l</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>i</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>m</mi> </mrow> </msub> </mrow> <mo>,</mo> <mrow> <mi>j</mi> <mo>=</mo> <mrow> <mn>1</mn> <mo></mo> <mi>N</mi> </mrow> </mrow> <mo>,</mo> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>4</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00005.png"> <img id="EMI-M00005" file="US06314473-20011106-M00005.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00005.png" class="patent-full-image" alt="Figure US06314473-20011106-M00005"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00005" attachment-type="nb" file="US06314473-20011106-M00005.NB"> </attachment> </attachments> </maths> </p>
    <p>where R<sub>i </sub>is the pulse response of the amplifier and drive system to the voltage command. The voltage pulse response may be determined by outputting a unit pulse to the amplifier connected to the disk drive and measuring the voltage response of the amplifier. The values of R<sub>i </sub>are chosen by means of a multiple step process outlined below.</p>
    <p>In this regard, FIG. 35 shows a voltage pulse response from a computer simulation. The smooth curve is the continuous voltage response. The square step curve represent the system's digital sampling rate (or output rate, see section 7.1 below), DT. The first peak occurs T<sub>peak </sub>after the initial pulse is issued to the system. The first value of R is determined by measuring this peak value and setting the first R equal to this peak value. All subsequent values of R are determined by sampling in DT intervals after this initial peak. The step curve in the figure shows the actual values for this particular example. In this case, a complex voltage curve is reduced to a relatively small number of sample points to be used in one of the several solution techniques described herein.</p>
    <p>Alternatively, the pulse response R can be computed as a calibration step in the disk drive or generated at design time. All of the required information for generating an optimal current command is included in this pulse response (except for slew rate limits discussed below). The amplifier is reasonably linear, therefore, saturation of the amplifier is easily predicted from the pulse response. Also, the pulse response may be altered as a function of a measured or estimated parameter change.</p>
    <p>The effect of the back EMF of the drive's voice coil motor on the above calculation may be notable. If the voltage pulse response R is calculated analytically (or from a model), the voltage is constant and non-zero at steady state because the system reaches a finite velocity from a pulse in acceleration. In FIG. 35, the pulse response achieves a small positive value (which cannot be seen on the plotted resolution). Experimentally, friction and flex circuit spring effects eliminate this constant velocity and cause the drive's head to stop moving. In this case, a constant term in consistent units equal to K<sub>BEMF</sub>C<sub>VSCALE </sub>should be added to the voltage pulse response R so that it includes the effect of back EMF and allows for a more aggressive command.</p>
    <p>An example computer code written in GAMS that may be used to solve equations 1 to 4 above for values of A is provided below in Appendix B. By solving the set of equations in Appendix B, a time optimal, unshaped current command can be generated. This set of equations can be solved in many different ways. For example, the entire set can be solved as a constrained optimization in which the goal is to generate the minimum time solution. This may also be performed without optimization by solving for a feasible solution (the first step of a Simplex solution, for example) and then reducing the length, N, of the solution vector until no answer can be found (a binary search may be used here). Another method is to determine a function that predicts the length of the solution and then, without any iteration, find a feasible solution. One such prediction function comprises the switch time equations set forth in Appendix A, described below. Another approach is to fit a curves to such a solution. In this case, an exact answer is not needed so long as the curve prediction functions overestimate the solution lengths and never underestimate the solution lengths.</p>
    <p>It is also possible to solve for an optimal, unshaped command in real-time which is not in the system's fundamental limiting parameter. For example, we can solve for current (A) by setting a final value of the fundamental limiting parameter, here voltage (V), as follows (of course, the invention is not limited to use with current and voltage, any parameters can be used). This approach is based on the fact that the maximum current command output value is related to previous output values by the following relationship: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <mrow> <mi>A</mi> <mo></mo> <mrow> <mo>(</mo> <mi>i</mi> <mo>)</mo> </mrow> </mrow> <mo>=</mo> <mfrac> <mrow> <msub> <mi>V</mi> <mrow> <mi>m</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>a</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>x</mi> </mrow> </msub> <mo>-</mo> <mrow> <munderover> <mo></mo> <mrow> <mi>j</mi> <mo>=</mo> <mn>2</mn> </mrow> <mi>i</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <mrow> <mi>A</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <mi>i</mi> <mo>+</mo> <mn>1</mn> <mo>-</mo> <mi>j</mi> </mrow> <mo>)</mo> </mrow> </mrow> <mo></mo> <mrow> <mi>R</mi> <mo></mo> <mrow> <mo>(</mo> <mi>j</mi> <mo>)</mo> </mrow> </mrow> </mrow> </mrow> </mrow> <mrow> <mi>R</mi> <mo></mo> <mrow> <mo>(</mo> <mn>1</mn> <mo>)</mo> </mrow> </mrow> </mfrac> </mrow> <mo>,</mo> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>5</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00006.png"> <img id="EMI-M00006" file="US06314473-20011106-M00006.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00006.png" class="patent-full-image" alt="Figure US06314473-20011106-M00006"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00006" attachment-type="nb" file="US06314473-20011106-M00006.NB"> </attachment> </attachments> </maths> </p>
    <p>where R is the voltage pulse response and V<sub>max </sub>is the maximum voltage V<sub>lim </sub>on acceleration (or any condition under which A<sub>i+l</sub>&gt;A<sub>i</sub>) and V<sub>lim </sub>on deceleration (or any condition under which A<sub>i+1</sub>&lt;A<sub>i</sub>). Equation 5 assumes that the back EMF of the drive's voice coil motor is already included in R(j). The back EMF term may be added to R(j) as set forth above, if needed. Equation 5 can be further simplified since the R(j) values become insignificant after only a few samples. Consequently, an efficient approximation would only use a few samples of the R(j) series. If samples are dropped for an efficient approximation, the back EMF of the drive's voice coil motor times the number of dropped samples may be added to equation 5 to achieve an even more accurate result if that value is deemed significant.</p>
    <p>A rigid body current command can be generated from equation 5 in a step-by-step fashion, where each response depends only on previous values. First the system is accelerated. Each current step is computed from equation 5. Next, the system is decelerated. This deceleration may be to zero for a constant velocity coast in the middle of the move or it may be a transition to negative deceleration and then to a stop. Deceleration is computed from equation 5 by reversing the sign of V<sub>max</sub>. Under coast conditions, a second deceleration phase will be started (again using equation 5 with a negative value for V<sub>max</sub>). Lastly, when deceleration is complete, the transition back to zero current is governed by equation 5 with a positive value, once again, for V<sub>max</sub>.</p>
    <p>The only unknowns in the previous equations are the times at which to transition between regions. There are several ways to solve these problems. Shaped switch times derived in section 6.9 below may be used as reasonable estimates for the transition times; although any curve fit or lookup table would also suffice. This lookup is especially useful given that on many disk drives, one current profile is often currently used and scaled for a range of seek distances. Additionally, using this approach the final position will not be exact and a zero velocity must be guaranteed. The problem of zero velocity means that an additional constraint must be used in computing the final values. Equation 5 defines the limit on the current value; therefore, in deceleration, for example, any value more negative than that value may be used without exceeding the limit. As a result, the final values can be chosen so that the sum of the current values equals zero (no residual velocity). The distance traveled will be incorrect (but very close). The last step is to scale the waveform linearly by the percentage error so that the final value is correct. This operation can even be performed as part of the next step, which is the shaping operation. The shaper can be scaled and then convolved with the rigid body current command. Another option is to increase the value of N, thus adding extra points, and directly solving for the extra A(i) values such that velocity equals zero and position equals final position.</p>
    <p>There are many variations to the above approach which may yield fewer computations. Also any vibration suppression technology can be subsequently applied to the rigid body current command. Furthermore, V<sub>max </sub>may be changed as the calculation progresses to optimize scaling. For example, with the knowledge that the current command is to be shaped (and thereby reduced in magnitude) a more aggressive value (higher V<sub>max</sub>) can be computed.</p>
    <p>Physical amplifiers have finite limits on the rate at which the voltage can change. The pulse response calculated above does not include such limits. It should be noted that a constraint on the rate of change of voltage in the current amplifier can be added to the equation set during numerical solution in the same manner as all of the other constraints. The slew rate becomes important when rapid transients of the input are allowed. The slew rate equation is simple. For example, an amplifier chip may limit at 1.25 volts per msec. The voltage constraint used in calculating the input is the minimum of either the voltage generated from the Voltage Limit Constraint above or (old_voltage+(A(I)-A(I-<b>1</b>))* Volt_Rate_Limit) with the correct unit conversions.</p>
    <p>3.2 Rescaling of Current Inputs</p>
    <p>The current commands generated in the previous section are completely scaleable. If for example, a 5 track seek has been created by generating an optimal current command and subsequently shaping it, a 4 track, shaped move can be made by simply rescaling the input by . The move time will be the same as that of a 4 track seek, however, the computation is simple. The point is that shaped moves can be scaled in amplitude and they will continue to reduce vibrations and acoustic noise.</p>
    <p>4.0 Partial Fraction Expansion Equation System Model</p>
    <p>Once a parameter in the system, such as the fundamental limiting parameter, has been identified, an input to the system in terms of that parameter can be generated. In order to generate an input which results in reduced system vibrations, it is first necessary to generate a set of simple equations that define the system. The first step in generating such system equations is to write the transfer function for a simple model of the system.</p>
    <p>FIG. 11 shows a third order model for a disk drive system such as that shown in FIGS. 10A and 10B. For system <b>80</b> shown in FIG. 11, a voltage V is input so as to control movement of head <b>9</b> to a particular track on a recording medium. To this end, blocks in system <b>80</b> convert voltage V into a current i, convert current i into torque , convert torque  into frequency , convert frequency  into velocity v, convert velocity v from meters-per-second into tracks-per-second, and convert tracks-per-second into a location of a particular track on a recording medium such as a magnetic disk.</p>
    <p>To generate a set of equations for system <b>80</b>, the transfer function H(s) therefor must first be determined. The transfer function H(s) for system <b>80</b> is as follows: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <mrow> <mi>H</mi> <mo></mo> <mrow> <mo>(</mo> <mi>s</mi> <mo>)</mo> </mrow> </mrow> <mo>=</mo> <mfrac> <mrow> <msub> <mi>K</mi> <mi>t</mi> </msub> <mo></mo> <mi>lk</mi> </mrow> <mrow> <mrow> <mo>(</mo> <mrow> <mrow> <msub> <mi>I</mi> <mi>e</mi> </msub> <mo></mo> <msup> <mi>s</mi> <mn>2</mn> </msup> <mo></mo> <msub> <mi>J</mi> <mi>m</mi> </msub> </mrow> <mo>+</mo> <mrow> <mrow> <mo>(</mo> <mrow> <mrow> <msub> <mi>I</mi> <mi>e</mi> </msub> <mo></mo> <msub> <mi>R</mi> <mi>m</mi> </msub> </mrow> <mo>+</mo> <mrow> <msub> <mi>R</mi> <mi>e</mi> </msub> <mo></mo> <msub> <mi>J</mi> <mi>m</mi> </msub> </mrow> </mrow> <mo>)</mo> </mrow> <mo></mo> <mi>s</mi> </mrow> <mo>+</mo> <mrow> <msub> <mi>R</mi> <mi>e</mi> </msub> <mo></mo> <msub> <mi>R</mi> <mi>m</mi> </msub> </mrow> <mo>+</mo> <mrow> <msub> <mi>K</mi> <mi>t</mi> </msub> <mo></mo> <msub> <mi>K</mi> <mi>b</mi> </msub> </mrow> </mrow> <mo>)</mo> </mrow> <mo></mo> <mi>s</mi> </mrow> </mfrac> </mrow> <mo>,</mo> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>6</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00007.png"> <img id="EMI-M00007" file="US06314473-20011106-M00007.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00007.png" class="patent-full-image" alt="Figure US06314473-20011106-M00007"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00007" attachment-type="nb" file="US06314473-20011106-M00007.NB"> </attachment> </attachments> </maths> </p>
    <p>where K<sub>t </sub>is the motor torque constant, K<sub>b </sub>is the back EMF constant, l is the actuator arm radius, k corresponds to track density on a recording medium, I<sub>e </sub>is the inductance of a voice coil in the motor, J<sub>m </sub>relates to inertia of the motor's rotor, R<sub>m </sub>corresponds to an amount of viscous friction in the motor, and R<sub>e </sub>corresponds to an amount of electrical resistance in the system.</p>
    <p>Next, H(s) is written as an equivalent transfer function in terms of three parameters, namely A, a and b, as follows: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <mrow> <msub> <mi>H</mi> <mi>eq</mi> </msub> <mo></mo> <mrow> <mo>(</mo> <mi>s</mi> <mo>)</mo> </mrow> </mrow> <mo>=</mo> <mfrac> <mi>Aab</mi> <mrow> <mrow> <mi>s</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <mi>s</mi> <mo>+</mo> <mi>a</mi> </mrow> <mo>)</mo> </mrow> </mrow> <mo></mo> <mrow> <mo>(</mo> <mrow> <mi>s</mi> <mo>+</mo> <mi>b</mi> </mrow> <mo>)</mo> </mrow> </mrow> </mfrac> </mrow> <mo>,</mo> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>7</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00008.png"> <img id="EMI-M00008" file="US06314473-20011106-M00008.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00008.png" class="patent-full-image" alt="Figure US06314473-20011106-M00008"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00008" attachment-type="nb" file="US06314473-20011106-M00008.NB"> </attachment> </attachments> </maths> </p>
    <p>where A corresponds to a scale factor and a and b correspond to inverse time constants. Specifically, in terms of the parameters in equation 6, A is defined as follows: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mi>A</mi> <mo>=</mo> <mrow> <mfrac> <mrow> <msub> <mi>K</mi> <mi>t</mi> </msub> <mo></mo> <mi>lk</mi> </mrow> <mrow> <mrow> <msub> <mi>R</mi> <mi>e</mi> </msub> <mo></mo> <msub> <mi>R</mi> <mi>m</mi> </msub> </mrow> <mo>+</mo> <mrow> <msub> <mi>K</mi> <mi>t</mi> </msub> <mo></mo> <msub> <mi>K</mi> <mi>b</mi> </msub> </mrow> </mrow> </mfrac> <mo>.</mo> </mrow> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>8</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00009.png"> <img id="EMI-M00009" file="US06314473-20011106-M00009.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00009.png" class="patent-full-image" alt="Figure US06314473-20011106-M00009"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00009" attachment-type="nb" file="US06314473-20011106-M00009.NB"> </attachment> </attachments> </maths> </p>
    <p>Variables a and b correspond to two solutions in s, namely s<sub>1</sub>, and s<sub>2</sub>, to the following quadratic characteristic equation from equation 6:</p>
    <p>
      <maths> <formula-text> <i>I</i> <sub>e</sub> <i>J</i> <sub>m</sub> <i>s</i> <sup>2</sup>+(<i>I</i> <sub>e</sub> <i>R</i> <sub>m</sub> <i>+R</i> <sub>e</sub> <i>J</i> <sub>m</sub>)<i>s+R</i> <sub>e</sub> <i>R</i> <sub>m</sub> <i>+K</i> <sub>t</sub> <i>K</i> <sub>b</sub>=0.(9)</formula-text> </maths> </p>
    <p>After writing H(s) in terms of the equivalent transfer function H<sub>eq</sub>(s), a modal analysis or a partial fraction expansion is then performed on H<sub>eq</sub>(s) so that each pole of the system is in a separate term. A partial fraction expansion for H<sub>eq</sub>(s) is follows: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <msub> <mi>H</mi> <mi>eq</mi> </msub> <mo></mo> <mrow> <mo>(</mo> <mi>s</mi> <mo>)</mo> </mrow> </mrow> <mo>=</mo> <mrow> <mfrac> <mi>A</mi> <mi>s</mi> </mfrac> <mo>+</mo> <mfrac> <mi>Ab</mi> <mrow> <mrow> <mo>(</mo> <mrow> <mrow> <mo>-</mo> <mi>b</mi> </mrow> <mo>+</mo> <mi>a</mi> </mrow> <mo>)</mo> </mrow> <mo></mo> <mrow> <mo>(</mo> <mrow> <mi>s</mi> <mo>+</mo> <mi>a</mi> </mrow> <mo>)</mo> </mrow> </mrow> </mfrac> <mo>+</mo> <mrow> <mfrac> <mi>Aa</mi> <mrow> <mrow> <mo>(</mo> <mrow> <mrow> <mo>-</mo> <mi>a</mi> </mrow> <mo>+</mo> <mi>b</mi> </mrow> <mo>)</mo> </mrow> <mo></mo> <mrow> <mo>(</mo> <mrow> <mi>s</mi> <mo>+</mo> <mi>b</mi> </mrow> <mo>)</mo> </mrow> </mrow> </mfrac> <mo>.</mo> </mrow> </mrow> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>10</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00010.png"> <img id="EMI-M00010" file="US06314473-20011106-M00010.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00010.png" class="patent-full-image" alt="Figure US06314473-20011106-M00010"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00010" attachment-type="nb" file="US06314473-20011106-M00010.NB"> </attachment> </attachments> </maths> </p>
    <p>Each term of the expression for H<sub>eq</sub>(s) in equation 10 can then be written as follows: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <msub> <mi>F</mi> <mn>1</mn> </msub> <mo></mo> <mrow> <mo>(</mo> <mi>s</mi> <mo>)</mo> </mrow> </mrow> <mo>=</mo> <mfrac> <mi>A</mi> <mi>s</mi> </mfrac> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>11</mn> <mo>)</mo> </mrow> </mtd> </mtr> <mtr> <mtd> <mrow> <mrow> <msub> <mi>F</mi> <mn>2</mn> </msub> <mo></mo> <mrow> <mo>(</mo> <mi>s</mi> <mo>)</mo> </mrow> </mrow> <mo>=</mo> <mfrac> <mi>Ab</mi> <mrow> <mrow> <mo>(</mo> <mrow> <mrow> <mo>-</mo> <mi>b</mi> </mrow> <mo>+</mo> <mi>a</mi> </mrow> <mo>)</mo> </mrow> <mo></mo> <mrow> <mo>(</mo> <mrow> <mi>s</mi> <mo>+</mo> <mi>a</mi> </mrow> <mo>)</mo> </mrow> </mrow> </mfrac> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> <mtr> <mtd> <mrow> <mrow> <msub> <mi>F</mi> <mn>3</mn> </msub> <mo></mo> <mrow> <mo>(</mo> <mi>s</mi> <mo>)</mo> </mrow> </mrow> <mo>=</mo> <mrow> <mfrac> <mi>Aa</mi> <mrow> <mrow> <mo>(</mo> <mrow> <mrow> <mo>-</mo> <mi>a</mi> </mrow> <mo>+</mo> <mi>b</mi> </mrow> <mo>)</mo> </mrow> <mo></mo> <mrow> <mo>(</mo> <mrow> <mi>s</mi> <mo>+</mo> <mi>b</mi> </mrow> <mo>)</mo> </mrow> </mrow> </mfrac> <mo>.</mo> </mrow> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00011.png"> <img id="EMI-M00011" file="US06314473-20011106-M00011.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00011.png" class="patent-full-image" alt="Figure US06314473-20011106-M00011"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00011" attachment-type="nb" file="US06314473-20011106-M00011.NB"> </attachment> </attachments> </maths> </p>
    <p>From equations 11, a time domain response of each term to a unit step (e.g., to a unit voltage) input can be determined. This time domain response is as follows: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <msub> <mi>F</mi> <mn>1</mn> </msub> <mo></mo> <mrow> <mo>(</mo> <mi>t</mi> <mo>)</mo> </mrow> </mrow> <mo>=</mo> <mi>At</mi> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>12</mn> <mo>)</mo> </mrow> </mtd> </mtr> <mtr> <mtd> <mrow> <mrow> <msub> <mi>F</mi> <mn>2</mn> </msub> <mo></mo> <mrow> <mo>(</mo> <mi>t</mi> <mo>)</mo> </mrow> </mrow> <mo>=</mo> <mrow> <mfrac> <mi>Ab</mi> <mrow> <mi>a</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <mrow> <mo>-</mo> <mi>b</mi> </mrow> <mo>+</mo> <mi>a</mi> </mrow> <mo>)</mo> </mrow> </mrow> </mfrac> <mo>-</mo> <mfrac> <mi>Ab</mi> <mrow> <msup> <mi>e</mi> <mi>at</mi> </msup> <mo></mo> <mrow> <mi>a</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <mrow> <mo>-</mo> <mi>b</mi> </mrow> <mo>+</mo> <mi>a</mi> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </mfrac> </mrow> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> <mtr> <mtd> <mrow> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <mo>=</mo> <mrow> <mfrac> <mi>Ab</mi> <mrow> <mi>a</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <mrow> <mo>-</mo> <mi>b</mi> </mrow> <mo>+</mo> <mi>a</mi> </mrow> <mo>)</mo> </mrow> </mrow> </mfrac> <mo>*</mo> <mrow> <mo>(</mo> <mrow> <mn>1</mn> <mo>-</mo> <msup> <mi>e</mi> <mrow> <mo>-</mo> <mi>at</mi> </mrow> </msup> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> <mtr> <mtd> <mrow> <mrow> <msub> <mi>F</mi> <mn>3</mn> </msub> <mo></mo> <mrow> <mo>(</mo> <mi>t</mi> <mo>)</mo> </mrow> </mrow> <mo>=</mo> <mrow> <mrow> <mo>-</mo> <mfrac> <mi>Aa</mi> <mrow> <mi>b</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <mrow> <mo>-</mo> <mi>b</mi> </mrow> <mo>+</mo> <mi>a</mi> </mrow> <mo>)</mo> </mrow> </mrow> </mfrac> </mrow> <mo>+</mo> <mfrac> <mi>Aa</mi> <mrow> <msup> <mi>e</mi> <mi>bt</mi> </msup> <mo></mo> <mrow> <mi>b</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <mrow> <mo>-</mo> <mi>b</mi> </mrow> <mo>+</mo> <mi>a</mi> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </mfrac> </mrow> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> <mtr> <mtd> <mrow> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <mo>=</mo> <mrow> <mfrac> <mi>Aa</mi> <mrow> <mi>b</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <mrow> <mo>-</mo> <mi>a</mi> </mrow> <mo>+</mo> <mi>b</mi> </mrow> <mo>)</mo> </mrow> </mrow> </mfrac> <mo>*</mo> <mrow> <mrow> <mo>(</mo> <mrow> <mn>1</mn> <mo>-</mo> <msup> <mi>e</mi> <mrow> <mo>-</mo> <mi>bt</mi> </mrow> </msup> </mrow> <mo>)</mo> </mrow> <mo>.</mo> </mrow> </mrow> </mrow> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00012.png"> <img id="EMI-M00012" file="US06314473-20011106-M00012.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00012.png" class="patent-full-image" alt="Figure US06314473-20011106-M00012"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00012" attachment-type="nb" file="US06314473-20011106-M00012.NB"> </attachment> </attachments> </maths> </p>
    <p>System response to a unit impulse can also be obtained by differentiating the above step response equations with respect to time.</p>
    <p>To solve equations 12 for a system input, values must be determined for F<sub>1</sub>(t), F<sub>2</sub>(t) and F<sub>3</sub>(t). Examination of the expressions for F<sub>1</sub>(t), F<sub>2</sub>(t) and F<sub>3</sub>(t) reveals that the expressions for F<sub>2</sub>(t) and F<sub>3</sub>(t) vanish as t approaches infinity in a case that the input to the system is zero, which is the case at the end time of a move (hereinafter referred to as time t<sub>end</sub>). Since the input is zero at time t<sub>end</sub>, responses of F<sub>2</sub>(t) and F<sub>3</sub>(t) decay after time t<sub>end</sub>. Accordingly, in order to solve for a system input that will move the system to the correct location in a rest state, F<sub>2</sub>(t) and F<sub>3</sub>(t) should be set to zero at time t<sub>end</sub>. Furthermore, since the input is zero after time t<sub>end</sub>, the value of F<sub>1</sub>(t) stops changing at time t<sub>end</sub>. The above two conditions are equivalent to zero velocity and zero acceleration (or current) at the end of the move.</p>
    <p>Thus, in the equations for F<sub>1</sub>(t), F<sub>2</sub>(t) and F<sub>3</sub>(t), in a case of zero velocity and acceleration at the end of a move, only the term involving F<sub>1</sub>(t) contributes to the final position. An expression can then be written including the response of each mode, namely F<sub>1</sub>(t), F<sub>2</sub>(t) and F<sub>3</sub>(t), at a time corresponding to an end of the move, namely t<sub>end</sub>, for a voltage V<sub>0 </sub>input at t<sub>0 </sub>and having transitions at t<sub>1 </sub>and t<sub>2</sub>. To this end, XF<sub>1</sub>(t<sub>end</sub>) set forth below defines the contribution of F<sub>1</sub>(t) to the position at time t<sub>end</sub>, XF<sub>2</sub>(t<sub>end</sub>) set forth below defines the contribution of F<sub>2</sub>(t) to the position at time t<sub>end</sub>, and XF<sub>3</sub>(t<sub>end</sub>) set forth below defines the contribution of F<sub>3</sub>(t) to the position at time t<sub>end</sub> </p>
    <p>
      <maths> <formula-text> <i>XF</i> <sub>1</sub>(<i>t</i> <sub>end</sub>)=<i>V</i> <sub>0</sub> <i>F</i> <sub>1</sub>(<i>t</i> <sub>end</sub> <i>t</i> <sub>0</sub>)2<i>V</i> <sub>0</sub> <i>F</i> <sub>1</sub>(<i>t</i> <sub>end</sub> <i>t</i> <sub>1</sub>)+2<i>V</i> <sub>0</sub> <i>F</i> <sub>1</sub>(<i>t</i> <sub>end</sub> <i>t</i> <sub>2</sub>)</formula-text> </maths> </p>
    <p>
      <maths> <formula-text> <i>XF</i> <sub>2</sub>(<i>t</i> <sub>end</sub>)=<i>V</i> <sub>0</sub> <i>F</i> <sub>2</sub>(<i>t</i> <sub>end</sub> <i>t</i> <sub>0</sub>)2<i>V</i> <sub>0</sub> <i>F</i> <sub>2</sub>(<i>t</i> <sub>end</sub> <i>t</i> <sub>1</sub>)+2<i>V</i> <sub>0</sub> <i>F</i> <sub>1</sub>(<i>t</i> <sub>end</sub> <i>t</i> <sub>2</sub>)</formula-text> </maths> </p>
    <p>
      <maths> <formula-text> <i>XF</i> <sub>3</sub>(<i>t</i> <sub>end</sub>)=<i>V</i> <sub>0</sub> <i>F</i> <sub>3</sub>(<i>t</i> <sub>end</sub> <i>t</i> <sub>0</sub>)2<i>V</i> <sub>0</sub> <i>F</i> <sub>2</sub>(<i>t</i> <sub>end</sub> <i>t</i> <sub>1</sub>)+2<i>V</i> <sub>0</sub> <i>F</i> <sub>1</sub>(<i>t</i> <sub>end</sub> <i>t</i> <sub>2</sub>)(13)</formula-text> </maths> </p>
    <p>Thus, the total movement distance at time t<sub>end </sub>is expressed as</p>
    <p><i>XF</i> <sub>1</sub>(<i>t</i> <sub>end</sub>)+<i>XF</i> <sub>2</sub>(<i>t</i> <sub>end</sub>)+<i>XF</i> <sub>3</sub>(<i>t</i> <sub>end</sub>).(14)</p>
    <p>As noted above, the expressions for F<sub>2</sub>(t) and F<sub>3</sub>(t) vanish as t approaches infinity in a case that the input is zero, i.e., at the end of a move. Thus, in equations 13, only the term involving F<sub>1</sub>(t) contributes to the final position as time approaches infinity. This results in the following three constraint equations that must be satisfied in order for a third order system to reach its desired final position in substantially minimal time, with substantially zero velocity and acceleration</p>
    <p>
      <maths> <formula-text> <i>XF</i> <sub>1</sub>(<i>t</i> <sub>end</sub>)=Finalpos</formula-text> </maths> </p>
    <p>
      <maths> <formula-text> <i>XF</i> <sub>2</sub>(<i>t</i> <sub>end</sub>)=0</formula-text> </maths> </p>
    <p>
      <maths> <formula-text> <i>XF</i> <sub>3</sub>(<i>t</i> <sub>end</sub>)=0,(15)</formula-text> </maths> </p>
    <p>where Finalpos denotes the end (or final) position of the system. These equations correspond to rigid mode motion constraints since they achieve a final position in the third order model with substantially zero velocity and acceleration.</p>
    <p>A digital model of the response of a disk drive system to a unit impulse may be derived based on the foregoing. FIG. 24 shows a digital voltage input waveform. The waveform of FIG. 24 can be conceptualized as a series of pulses as shown in FIG. <b>25</b>. Each of these pulses can be represented as a pair of impulses, as shown in FIG. 26. A first digital constraint is formed by realizing that the system's final position, Finalpos, is proportional to the area enclosed by the voltage waveform, i.e., the integral of the voltage waveform. The area of the voltage waveform can be determined by inspection of the waveform shown in FIG. <b>24</b>. Specifically, the area is determined as follows <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <mi>Finalpos</mi> <mo>=</mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>V</mi> <mi>i</mi> </msub> <mo></mo> <mi>A</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </mrow> </mrow> <mo>,</mo> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>16</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00013.png"> <img id="EMI-M00013" file="US06314473-20011106-M00013.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00013.png" class="patent-full-image" alt="Figure US06314473-20011106-M00013"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00013" attachment-type="nb" file="US06314473-20011106-M00013.NB"> </attachment> </attachments> </maths> </p>
    <p>where V<sub>i</sub>t corresponds to an area of a pulse i. Negative values of V<sub>i </sub>subtract from the overall sum.</p>
    <p>The remaining two digital constraints can be formed using the impulse summation form of the voltage waveform shown in FIG. <b>26</b>. Specifically, as noted above, the impulse response of the system can be determined by taking the derivatives of step response equations. For F<sub>2</sub>(t) and F<sub>3</sub>(t) above, the impulse response equations are as follows: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <mfrac> <mrow> <mo></mo> <mstyle> <mtext></mtext> </mstyle> </mrow> <mrow> <mo></mo> <mi>t</mi> </mrow> </mfrac> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>F</mi> <mn>2</mn> </msub> <mo></mo> <mrow> <mo>(</mo> <mi>t</mi> <mo>)</mo> </mrow> </mrow> <mo>)</mo> </mrow> </mrow> <mo>=</mo> <mrow> <mfrac> <mi>Ab</mi> <mrow> <mi>b</mi> <mo>-</mo> <mi>a</mi> </mrow> </mfrac> <mo></mo> <msup> <mi></mi> <mrow> <mo>-</mo> <mi>at</mi> </mrow> </msup> </mrow> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>17</mn> <mo>)</mo> </mrow> </mtd> </mtr> <mtr> <mtd> <mrow> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <mo>=</mo> <msubsup> <mi>F</mi> <mn>2</mn> <mi></mi> </msubsup> </mrow> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> <mtr> <mtd> <mrow> <mrow> <mfrac> <mrow> <mo></mo> <mstyle> <mtext></mtext> </mstyle> </mrow> <mrow> <mo></mo> <mi>t</mi> </mrow> </mfrac> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>F</mi> <mn>3</mn> </msub> <mo></mo> <mrow> <mo>(</mo> <mi>t</mi> <mo>)</mo> </mrow> </mrow> <mo>)</mo> </mrow> </mrow> <mo>=</mo> <mrow> <mfrac> <mi>Aa</mi> <mrow> <mi>a</mi> <mo>-</mo> <mi>b</mi> </mrow> </mfrac> <mo></mo> <msup> <mi></mi> <mrow> <mo>-</mo> <mi>bt</mi> </mrow> </msup> </mrow> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> <mtr> <mtd> <mrow> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <mo>=</mo> <mrow> <msubsup> <mi>F</mi> <mn>3</mn> <mi></mi> </msubsup> <mo>.</mo> </mrow> </mrow> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00014.png"> <img id="EMI-M00014" file="US06314473-20011106-M00014.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00014.png" class="patent-full-image" alt="Figure US06314473-20011106-M00014"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00014" attachment-type="nb" file="US06314473-20011106-M00014.NB"> </attachment> </attachments> </maths> </p>
    <p>In accordance with constraint equations 12, the response of the series of impulses of the voltage summation form of the voltage waveform, evaluated at time t<sub>end</sub>, is set to zero in order to form the second and third digital constraints, as follows: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mn>0</mn> <mo>=</mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>V</mi> <mi>i</mi> </msub> <mo></mo> <mrow> <mo>(</mo> <mrow> <mrow> <msubsup> <mi>F</mi> <mn>2</mn> <mi></mi> </msubsup> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> <mo>+</mo> <mrow> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </mrow> <mo>)</mo> </mrow> </mrow> <mo>-</mo> <mrow> <msubsup> <mi>F</mi> <mn>2</mn> <mi></mi> </msubsup> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>18</mn> <mo>)</mo> </mrow> </mtd> </mtr> <mtr> <mtd> <mrow> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <mo>=</mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>V</mi> <mi>i</mi> </msub> <mo></mo> <mfrac> <mi>Ab</mi> <mrow> <mi>b</mi> <mo>-</mo> <mi>a</mi> </mrow> </mfrac> <mo></mo> <mrow> <mo>(</mo> <mrow> <msup> <mi>e</mi> <mrow> <mo>-</mo> <mrow> <mi>a</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> <mo>+</mo> <mrow> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </msup> <mo>-</mo> <msup> <mi>e</mi> <mrow> <mo>-</mo> <mrow> <mi>a</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </msup> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </mrow> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> <mtr> <mtd> <mrow> <mn>0</mn> <mo>=</mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>V</mi> <mi>i</mi> </msub> <mo></mo> <mrow> <mo>(</mo> <mrow> <mrow> <msubsup> <mi>F</mi> <mn>3</mn> <mi></mi> </msubsup> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> <mo>+</mo> <mrow> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </mrow> <mo>)</mo> </mrow> </mrow> <mo>-</mo> <mrow> <msubsup> <mi>F</mi> <mn>3</mn> <mi></mi> </msubsup> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> <mtr> <mtd> <mrow> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <mo>=</mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>V</mi> <mi>i</mi> </msub> <mo></mo> <mfrac> <mi>Aa</mi> <mrow> <mi>a</mi> <mo>-</mo> <mi>b</mi> </mrow> </mfrac> <mo></mo> <mrow> <mrow> <mo>(</mo> <mrow> <msup> <mi>e</mi> <mrow> <mo>-</mo> <mrow> <mi>b</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> <mo>+</mo> <mrow> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </msup> <mo>-</mo> <msup> <mi>e</mi> <mrow> <mo>-</mo> <mrow> <mi>b</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </msup> </mrow> <mo>)</mo> </mrow> <mo>.</mo> </mrow> </mrow> </mrow> </mrow> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00015.png"> <img id="EMI-M00015" file="US06314473-20011106-M00015.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00015.png" class="patent-full-image" alt="Figure US06314473-20011106-M00015"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00015" attachment-type="nb" file="US06314473-20011106-M00015.NB"> </attachment> </attachments> </maths> </p>
    <p>Thus, partial fraction expansion equations corresponding to a digital model of the response of a disk drive system to a unit impulse comprise: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mi>Finalpos</mi> <mo>=</mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>V</mi> <mi>i</mi> </msub> <mo></mo> <mi>A</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </mrow> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>19</mn> <mo>)</mo> </mrow> </mtd> </mtr> <mtr> <mtd> <mrow> <mn>0</mn> <mo>=</mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>V</mi> <mi>i</mi> </msub> <mo></mo> <mfrac> <mi>Ab</mi> <mrow> <mi>b</mi> <mo>-</mo> <mi>a</mi> </mrow> </mfrac> <mo></mo> <mrow> <mo>(</mo> <mrow> <msup> <mi>e</mi> <mrow> <mo>-</mo> <mrow> <mi>a</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> <mo>+</mo> <mrow> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </msup> <mo>-</mo> <msup> <mi>e</mi> <mrow> <mo>-</mo> <mrow> <mi>a</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </msup> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> <mtr> <mtd> <mrow> <mrow> <mn>0</mn> <mo>=</mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>V</mi> <mi>i</mi> </msub> <mo></mo> <mfrac> <mi>Ab</mi> <mrow> <mi>a</mi> <mo>-</mo> <mi>b</mi> </mrow> </mfrac> <mo></mo> <mrow> <mo>(</mo> <mrow> <msup> <mi>e</mi> <mrow> <mo>-</mo> <mrow> <mi>b</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> <mo>+</mo> <mrow> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </msup> <mo>-</mo> <msup> <mi>e</mi> <mrow> <mo>-</mo> <mrow> <mi>b</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </msup> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </mrow> <mo>,</mo> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00016.png"> <img id="EMI-M00016" file="US06314473-20011106-M00016.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00016.png" class="patent-full-image" alt="Figure US06314473-20011106-M00016"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00016" attachment-type="nb" file="US06314473-20011106-M00016.NB"> </attachment> </attachments> </maths> </p>
    <p>where Finalpos, A, a, b and t<sub>end </sub>are as previously defined, V<sub>i </sub>are voltage inputs to the system, T<sub>i </sub>are the times at which V<sub>i </sub>are input, and t is a time interval at which V<sub>i </sub>are input.</p>
    <p>Equations 19 can be used to solve for system inputs V<sub>i </sub>which result in substantially zero velocity and acceleration at the end of a move. These equations can be solved in a number of ways. For example, the equations can be solved using a linear programming method, either on their own or in conjunction with a variety of other constraints. Examples of such constraints include vibration constraints and physical constraints such as power consumption or heat buildup, etc. Also, the continuous form of the equations can be solved for voltage switch times, as described in more detail below.</p>
    <p>5.0 Generating Good Moves</p>
    <p>The techniques set forth in sections 3 and 4 above determine inputs to a system that utilize substantially the full capabilities of the system actuators and that reduce system vibrations (both mechanical and acoustic). Several techniques can be used, either alone or in conjunction with the techniques presented above, to generate (or enhance) system inputs to reduce system vibrations even further.</p>
    <p>For the purposes of the subject application, a good move is defined as a movement of a system component along a trajectory from an initial position to a nominal final position, such that, at the time the component reaches its nominal final position, the component is vibrating at or below an acceptable level, possibly subject to one or more predetermined constraints. In the context of computer disk drives, this means that, as soon as the drive's head reaches its nominal final position, the head is ready to perform a read/write operation to a recording medium. A good move is also one in which acoustic noise excited by the move is at or below an acceptable threshold. In contrast, a bad move is, for example, a move in which the component is vibrating at an unacceptable level when the component reaches its nominal final position. In the context of computer disk drives, this means that at the time the drive's head reaches its nominal final position, the head is vibrating at a level which is too high to perform a read/write operation accurately. A bad move is also one in which the acoustic noise excited by the move is above an acceptable threshold.</p>
    <p>A powerful result of the approach outlined herein is that a rigid body command may be calculated by one of a number of techniques including equations 19 or the current mode technique of section 3.1. Next, other dynamics, such as flexible modes, acoustic modes or other dynamic effects can be subsequently corrected by the various methods set forth below. For disk drives, the process comprises, e.g., determining, over a population of drives and for each move length (or range of move lengths), which frequencies can be heard and which effect settling time. Then, moves may be generated that limit the amplitude of those frequencies or some subset thereof. Frequencies that only appear in a subset of the drives may also be included or turned-on selectively. The effects of the selected frequencies can be reduced by applying any of the techniques set forth below.</p>
    <p>5.1 Vibration Limiting and Sensitivity Constraints</p>
    <p>This technique for generating a good move incorporates physical constraints into a system model. One such model comprises partial fraction expansion equations 19 derived above. To generate a good move in accordance with this technique, the first step is to choose one or more physical constraints. Examples of physical constraints include constraints that limit vibration (both mechanical and acoustic) and constraints for insensitivity to parameter variations.</p>
    <p>Constraints for insensitivity to parameter variations can be added to the system equations in several ways. For example, derivatives of the partial fraction expansion equations can be taken with respect to a particular parameter and then added to the constraint equations. This technique is set forth in detail in U.S. Pat. No. 5,638,267, issued to Singhose et al. on Jun. 10, 1997, the contents of which are hereby incorporated by reference into the subject application as if set forth herein in full, and in U.S. Pat. No. 4,916,635, issued to Singer et al. on Apr. 10, 1990, the contents of which are also hereby incorporated by reference into the subject application as if set forth herein in full. Additionally, a sampling technique can be used to set a series of constraints for different values of a given parameter so as to limit the solution for a variation in that parameter. For example, using this technique, 10% insensitivity at 1000 Hz can be achieved by setting constraints at 900 Hz, 920 Hz, etc. up to at least 1100 Hz. One variation of this technique is set forth in U.S. Pat. No. 5,638,267.</p>
    <p>In accordance with the invention, constraints can be chosen so as to reduce system vibrations by substantially 100% or to limit reduction in system vibrations to a percentage which is less than 100%, say, between 50% to 70%. Which constraints are used to reduce system vibrations by such amounts can be determined experimentally or by running a computer simulation for the system. Choosing constraints that reduce system vibrations by less than 100% (e.g., a range of 50% to 70%) is particularly useful in cases where excessive vibrations do not occur in the system and in cases where large reductions in vibrations, including noise-inducing vibrations, are not required. In these cases, since the constraints are more relaxed, the resulting system input is shorter in duration. As a result, the system moves faster than it would otherwise. In general, there is a trade-off between move time and the use of stringent constraints. That is, while the use of more stringent constraints may further reduce vibrations, move time is slowed as a result of their use.</p>
    <p>Vibration constraint equations may also need to be scaled in order to achieve desired vibration reductions. Specifically, in terms of the foregoing model of a disk drive system, equations for vibration amplitude are relative. This is because the rigid mode equations do not take into account flexible body equations (described below in section 6.3). If a full set of equations (i.e., both rigid and flexible body equations) were derived for the system, and then a partial fraction expansion applied thereto, the coefficients of the vibrational terms would scale to the problem. However, since the equations were derived separately and later combined using the techniques described herein, the relative scaling is not known for the equations given above, and the problem must be scaled manually. In the case of zero vibrations, no scaling is necessary. For any other case, one of several scaling methods may be used. For example, an arbitrary gain may be selected and a resulting sequence applied to the system. The resulting vibrations can then be measured and the vibration constraint equations multiplied by a ratio of a predicted vibrational level divided by an actual measured vibrational level.</p>
    <p>By way of example, consider the fourth order transfer function shown below in equation 20. The transfer function corresponds to the position response of a simple mass-spring-mass system to a force input. <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <mi>H</mi> <mo></mo> <mrow> <mo>(</mo> <mi>s</mi> <mo>)</mo> </mrow> </mrow> <mo>=</mo> <mrow> <mfrac> <mi>C</mi> <msup> <mi>s</mi> <mn>2</mn> </msup> </mfrac> <mo>*</mo> <mfrac> <msup> <mi></mi> <mn>2</mn> </msup> <mrow> <mrow> <msup> <mi>s</mi> <mn>2</mn> </msup> <mo>+</mo> <mrow> <mn>2</mn> <mo></mo> <mi>z</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>s</mi> </mrow> <mo>+</mo> <msup> <mi></mi> <mn>2</mn> </msup> </mrow> <mo></mo> <mstyle> <mtext></mtext> </mstyle> </mrow> </mfrac> </mrow> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>20</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00017.png"> <img id="EMI-M00017" file="US06314473-20011106-M00017.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00017.png" class="patent-full-image" alt="Figure US06314473-20011106-M00017"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00017" attachment-type="nb" file="US06314473-20011106-M00017.NB"> </attachment> </attachments> </maths> </p>
    <p>The first term of the transfer function, namely <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mfrac> <mi>C</mi> <msup> <mi>s</mi> <mn>2</mn> </msup> </mfrac> <mo>,</mo> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>21</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00018.png"> <img id="EMI-M00018" file="US06314473-20011106-M00018.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00018.png" class="patent-full-image" alt="Figure US06314473-20011106-M00018"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00018" attachment-type="nb" file="US06314473-20011106-M00018.NB"> </attachment> </attachments> </maths> </p>
    <p>corresponds to the rigid body motion, while the second term, namely <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mfrac> <msup> <mi></mi> <mn>2</mn> </msup> <mrow> <msup> <mi>s</mi> <mn>2</mn> </msup> <mo>+</mo> <mrow> <mn>2</mn> <mo></mo> <mi>z</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>s</mi> </mrow> <mo>+</mo> <msup> <mi></mi> <mn>2</mn> </msup> </mrow> </mfrac> <mo>,</mo> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>22</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00019.png"> <img id="EMI-M00019" file="US06314473-20011106-M00019.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00019.png" class="patent-full-image" alt="Figure US06314473-20011106-M00019"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00019" attachment-type="nb" file="US06314473-20011106-M00019.NB"> </attachment> </attachments> </maths> </p>
    <p>corresponds to a vibratory mode with undamped natural frequency  and damping ratio z. When transfer function 20 is expanded in a partial fraction form, the following three terms result: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <mi>H</mi> <mo></mo> <mrow> <mo>(</mo> <mi>s</mi> <mo>)</mo> </mrow> </mrow> <mo>=</mo> <mrow> <mfrac> <mrow> <mrow> <mo>-</mo> <mn>2</mn> </mrow> <mo></mo> <mi>zC</mi> </mrow> <mrow> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>s</mi> </mrow> </mfrac> <mo>+</mo> <mfrac> <mi>C</mi> <msup> <mi>s</mi> <mn>2</mn> </msup> </mfrac> <mo>+</mo> <mrow> <mfrac> <mrow> <mi>C</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <mrow> <mo>-</mo> <mi></mi> </mrow> <mo>+</mo> <mrow> <mn>4</mn> <mo></mo> <msup> <mi>z</mi> <mn>2</mn> </msup> <mo></mo> <mi></mi> </mrow> <mo>+</mo> <mrow> <mn>2</mn> <mo></mo> <mi>zs</mi> </mrow> </mrow> <mo>)</mo> </mrow> </mrow> <mrow> <mi></mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msup> <mi>s</mi> <mn>2</mn> </msup> <mo>+</mo> <mrow> <mn>2</mn> <mo></mo> <mi>z</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>s</mi> </mrow> <mo>+</mo> <msup> <mi></mi> <mn>2</mn> </msup> </mrow> <mo>)</mo> </mrow> </mrow> </mfrac> <mo>.</mo> </mrow> </mrow> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>23</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00020.png"> <img id="EMI-M00020" file="US06314473-20011106-M00020.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00020.png" class="patent-full-image" alt="Figure US06314473-20011106-M00020"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00020" attachment-type="nb" file="US06314473-20011106-M00020.NB"> </attachment> </attachments> </maths> </p>
    <p>The third term from equation 23, namely, <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <mfrac> <mrow> <mi>C</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <mrow> <mo>-</mo> <mi></mi> </mrow> <mo>+</mo> <mrow> <mn>4</mn> <mo></mo> <msup> <mi>z</mi> <mn>2</mn> </msup> <mo></mo> <mi></mi> </mrow> <mo>+</mo> <mrow> <mn>2</mn> <mo></mo> <mi>zs</mi> </mrow> </mrow> <mo>)</mo> </mrow> </mrow> <mrow> <mi></mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msup> <mi>s</mi> <mn>2</mn> </msup> <mo>+</mo> <mrow> <mn>2</mn> <mo></mo> <mi>z</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>s</mi> </mrow> <mo>+</mo> <msup> <mi></mi> <mn>2</mn> </msup> </mrow> <mo>)</mo> </mrow> </mrow> </mfrac> <mo>,</mo> </mrow> <mo></mo> <mstyle> <mtext></mtext> </mstyle> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>24</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00021.png"> <img id="EMI-M00021" file="US06314473-20011106-M00021.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00021.png" class="patent-full-image" alt="Figure US06314473-20011106-M00021"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00021" attachment-type="nb" file="US06314473-20011106-M00021.NB"> </attachment> </attachments> </maths> </p>
    <p>corresponds to the transfer function of the vibratory mode, and should be compared to the second order vibratory term included in the original transfer function. Using inverse Laplace transformation, the time domain impulse response of the vibratory mode is determined as <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <mfrac> <mrow> <mrow> <mo>-</mo> <mi>C</mi> </mrow> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <msup> <mi>e</mi> <mrow> <mrow> <mo>-</mo> <mi>z</mi> </mrow> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </msup> <mo></mo> <mi>sin</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <mi>h</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <mi></mi> <mo></mo> <msqrt> <mrow> <mrow> <mo>-</mo> <mn>1</mn> </mrow> <mo>+</mo> <msup> <mi>z</mi> <mn>2</mn> </msup> </mrow> </msqrt> <mo></mo> <mi>t</mi> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> <mrow> <mi></mi> <mo></mo> <msqrt> <mrow> <mrow> <mo>-</mo> <mn>1</mn> </mrow> <mo>+</mo> <msup> <mi>z</mi> <mn>2</mn> </msup> </mrow> </msqrt> </mrow> </mfrac> <mo>+</mo> <mfrac> <mrow> <mn>2</mn> <mo></mo> <msup> <mi>Cz</mi> <mn>2</mn> </msup> <mo></mo> <msup> <mi>e</mi> <mrow> <mrow> <mo>-</mo> <mi>z</mi> </mrow> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </msup> <mo></mo> <mi>sin</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <mi>h</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <mi></mi> <mo></mo> <msqrt> <mrow> <mrow> <mo>-</mo> <mn>1</mn> </mrow> <mo>+</mo> <msup> <mi>z</mi> <mn>2</mn> </msup> </mrow> </msqrt> <mo></mo> <mi>t</mi> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> <mrow> <mi></mi> <mo></mo> <msqrt> <mrow> <mrow> <mo>-</mo> <mn>1</mn> </mrow> <mo>+</mo> <msup> <mi>z</mi> <mn>2</mn> </msup> </mrow> </msqrt> </mrow> </mfrac> <mo>+</mo> <mrow> <mfrac> <mrow> <mn>2</mn> <mo></mo> <mi>Cz</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <msup> <mi>e</mi> <mrow> <mrow> <mo>-</mo> <mi>z</mi> </mrow> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </msup> <mo></mo> <mi>cos</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <mi>h</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <mi></mi> <mo></mo> <msqrt> <mrow> <mrow> <mo>-</mo> <mn>1</mn> </mrow> <mo>+</mo> <msup> <mi>z</mi> <mn>2</mn> </msup> </mrow> </msqrt> <mo></mo> <mi>t</mi> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> <mi></mi> </mfrac> <mo>.</mo> </mrow> </mrow> <mo></mo> <mstyle> <mtext></mtext> </mstyle> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>25</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00022.png"> <img id="EMI-M00022" file="US06314473-20011106-M00022.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00022.png" class="patent-full-image" alt="Figure US06314473-20011106-M00022"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00022" attachment-type="nb" file="US06314473-20011106-M00022.NB"> </attachment> </attachments> </maths> </p>
    <p>Using suitable trigonometric identities, the time domain response of the vibratory mode in equations 25 can be simplified as follows: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <mfrac> <mrow> <mrow> <mo>-</mo> <mi>C</mi> </mrow> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <msup> <mi>e</mi> <mrow> <mrow> <mo>-</mo> <mi>z</mi> </mrow> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </msup> <mo></mo> <mrow> <mi>sin</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi></mi> <mi>d</mi> </msub> <mo></mo> <mi>t</mi> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> <msub> <mi></mi> <mi>d</mi> </msub> </mfrac> <mo>+</mo> <mfrac> <mrow> <mn>2</mn> <mo></mo> <msup> <mi>Cz</mi> <mn>2</mn> </msup> <mo></mo> <msup> <mi>e</mi> <mrow> <mrow> <mo>-</mo> <mi>z</mi> </mrow> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </msup> <mo></mo> <mrow> <mi>sin</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi></mi> <mi>d</mi> </msub> <mo></mo> <mi>t</mi> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> <msub> <mi></mi> <mi>d</mi> </msub> </mfrac> <mo>+</mo> <mfrac> <mrow> <mn>2</mn> <mo></mo> <mi>Cz</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <msup> <mi>e</mi> <mrow> <mrow> <mo>-</mo> <mi>z</mi> </mrow> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </msup> <mo></mo> <mrow> <mi>cos</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi></mi> <mi>d</mi> </msub> <mo></mo> <mi>t</mi> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> <mi></mi> </mfrac> </mrow> <mo>,</mo> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>26</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00023.png"> <img id="EMI-M00023" file="US06314473-20011106-M00023.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00023.png" class="patent-full-image" alt="Figure US06314473-20011106-M00023"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00023" attachment-type="nb" file="US06314473-20011106-M00023.NB"> </attachment> </attachments> </maths> </p>
    <p>or, after collecting terms, to: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <mi>C</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <msup> <mi>e</mi> <mrow> <mrow> <mo>-</mo> <mi>z</mi> </mrow> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </msup> <mo>*</mo> <mrow> <mo>[</mo> <mrow> <mfrac> <mrow> <mrow> <mo>(</mo> <mrow> <mrow> <mn>2</mn> <mo></mo> <msup> <mi>z</mi> <mn>2</mn> </msup> </mrow> <mo>-</mo> <mn>1</mn> </mrow> <mo>)</mo> </mrow> <mo></mo> <mi>sin</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <msub> <mi></mi> <mi>d</mi> </msub> <mo></mo> <mi>t</mi> </mrow> <msub> <mi></mi> <mi>d</mi> </msub> </mfrac> <mo>+</mo> <mfrac> <mrow> <mn>2</mn> <mo></mo> <mi>z</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>cos</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <msub> <mi></mi> <mi>d</mi> </msub> <mo></mo> <mi>t</mi> </mrow> <mi></mi> </mfrac> </mrow> <mo>]</mo> </mrow> </mrow> <mo>,</mo> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>27</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00024.png"> <img id="EMI-M00024" file="US06314473-20011106-M00024.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00024.png" class="patent-full-image" alt="Figure US06314473-20011106-M00024"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00024" attachment-type="nb" file="US06314473-20011106-M00024.NB"> </attachment> </attachments> </maths> </p>
    <p>where <sub>d</sub> is the damped natural frequency</p>
    <p>
      <maths> <formula-text><sub>d</sub>={square root over (1<i>z</i> <sup>2</sup>+L )}.(28)</formula-text> </maths> </p>
    <p>The impulse response expression derived above can be used directly to form a quantified constraint equation; i.e. the magnitude of the constraint equation can be set to be less than or equal to an actual vibration level in position.</p>
    <p>It should be noted that the general form of equation 27 is a phase shifted sine wave of frequency <sub>d</sub>. The sine wave is further subject to a decaying exponential envelope with time constant <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mfrac> <mn>1</mn> <mrow> <mi>z</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi></mi> </mrow> </mfrac> <mo>.</mo> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>29</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00025.png"> <img id="EMI-M00025" file="US06314473-20011106-M00025.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00025.png" class="patent-full-image" alt="Figure US06314473-20011106-M00025"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00025" attachment-type="nb" file="US06314473-20011106-M00025.NB"> </attachment> </attachments> </maths> </p>
    <p>Equation 27 can be rewritten again, including the phase shift  and scale factor C<sub>1</sub>, as follows:</p>
    <p>
      <maths> <formula-text> <i>C</i> <sub>1</sub> <i>e</i> <sup>zt</sup>sin(<sub>d</sub> <i>t</i>+).(30)</formula-text> </maths> </p>
    <p>This form of equation 27 should be compared with the expression for the impulse response of an isolated second order system (as defined by the second term of the original transfer function H(s) <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mfrac> <msup> <mi></mi> <mn>2</mn> </msup> <mrow> <msup> <mi>s</mi> <mn>2</mn> </msup> <mo>+</mo> <mrow> <mn>2</mn> <mo></mo> <mi>z</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>s</mi> </mrow> <mo>+</mo> <msup> <mi></mi> <mn>2</mn> </msup> </mrow> </mfrac> <mo>)</mo> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>31</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00026.png"> <img id="EMI-M00026" file="US06314473-20011106-M00026.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00026.png" class="patent-full-image" alt="Figure US06314473-20011106-M00026"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00026" attachment-type="nb" file="US06314473-20011106-M00026.NB"> </attachment> </attachments> </maths> </p>
    <p>shown below: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mfrac> <mi></mi> <msub> <mi></mi> <mi>d</mi> </msub> </mfrac> <mo>*</mo> <msup> <mi>e</mi> <mrow> <mrow> <mo>-</mo> <mi>z</mi> </mrow> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </msup> <mo></mo> <mrow> <mrow> <mi>sin</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <mrow> <msub> <mi></mi> <mi>d</mi> </msub> <mo></mo> <mi>t</mi> </mrow> <mo>+</mo> <mi></mi> </mrow> <mo>)</mo> </mrow> </mrow> <mo>.</mo> </mrow> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>32</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00027.png"> <img id="EMI-M00027" file="US06314473-20011106-M00027.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00027.png" class="patent-full-image" alt="Figure US06314473-20011106-M00027"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00027" attachment-type="nb" file="US06314473-20011106-M00027.NB"> </attachment> </attachments> </maths> </p>
    <p>Since we are only concerned with the magnitude of the residual vibration, phase shift  is of no importance, and the expression for the isolated second order system can be used in the formulation of quantified constraints if the scale factor /<sub>d </sub>is replaced by C<sub>1</sub>. Parameters C<sub>1</sub>, z and <sub>d </sub>can be determined experimentally by (i) subjecting the actual system to an impulse input, and from experimental data, (ii) estimating the period of vibration and computing <sub>d </sub>as follows <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <msub> <mi></mi> <mi>d</mi> </msub> <mo>=</mo> <mfrac> <mrow> <mn>2</mn> <mo></mo> <mi></mi> </mrow> <mi></mi> </mfrac> </mrow> <mo>,</mo> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>33</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00028.png"> <img id="EMI-M00028" file="US06314473-20011106-M00028.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00028.png" class="patent-full-image" alt="Figure US06314473-20011106-M00028"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00028" attachment-type="nb" file="US06314473-20011106-M00028.NB"> </attachment> </attachments> </maths> </p>
    <p>where  is the period, (iii) estimating the decay envelope to determine z, and (iv) estimating actual amplitude to determine C<sub>1</sub>.</p>
    <p>After constraints have been chosen based on the foregoing criteria, a trajectory is digitized and is then solved for each trajectory command value in time subject to the chosen constraints. Digitization of the trajectory results in simpler, and often linear, equations that can be solved readily for the complete system trajectory. The invention, however, is not limited to solving the system equations in this manner. That is, any known technique for solving the system equations can be employed in the context of the present invention. The digitization rate used is a factor that contributes to the successful implementation of the invention. This issue is discussed in section 7.1 below.</p>
    <p>5.2 Input Shaping</p>
    <p>This technique for generating good moves uses Input Shaping and its substantial equivalents. One example of Input Shaping comprises convolving a function with a system input in order to reduce unwanted system vibrations. Examples of system inputs include current and voltage. Specific Input Shaping methods are set forth in detail in U.S. Pat. Nos. 5,638,267 and 4,916,635, which were incorporated by reference above.</p>
    <p>In accordance with this technique, an input to a system, such as a voltage command or a velocity, is shaped in order to produce a desired output. For example, the input may be Input Shaped by convolving the input with an impulse sequence which reduces unwanted vibrations in the system, including its flexible modes. Alternatively, the input may be shaped using any one or more of the filtering techniques presented herein, or using any other known command profiling techniques.</p>
    <p>5.3 Filtering</p>
    <p>In addition to Input Shaping, as noted above, any type of conventional shaping method can be used to generate an input that results in a good move. For example, it is also possible to generate a good move by filtering a trajectory with infinite impulse response (IIR) or finite impulse response (FIR) filters, including filters where there are zeros near poles of the system, such as those described below.</p>
    <p>5.4 Least Squares Solution to Frequency Sampling</p>
    <p>A conventional least squares approach can also be used to generate an input that results in a good move for a computer disk drive system. An example of such an approach is provided in U.S. Pat. No. 5,638,267. This approach may also be used to limit high mode excitations.</p>
    <p>5.5 Selective Shaping</p>
    <p>Input Shaping, filtering, and the like can increase seek time in some cases. However, the length of an Input Shaper is directly related to the period of the vibration being reduced. At low frequencies, i.e., long periods, the increase in seek time caused by an Input Shaper can be a substantial percentage of the total seek time. This is of particular significance in relation to computer disk drives. That is, in computer disk drives, relatively low frequency vibrations can occur due to compliance of the drive's mounting in its enclosure. For example, a 200 Hz mounting resonance will have a period of 5 ms. In this case, a three-pulse Input Shaper will also have a period of 5 ms. Thus, if the computer disk drive has an average seek time of 10 ms, the drive's average seek time will increase by 50% if the Input Shaper is applied to all moves.</p>
    <p>In view of the foregoing, it is advantageous to apply Input Shaping selectively. This is possible because not all moves result in unwanted vibrations. That is, some moves are inherently good, meaning that they produce relatively few vibrations, and some moves are inherently bad, meaning that they produce excessive vibrations. By evaluating constraint equations for a given move, whether that candidate move is good or bad can be predicted in advance. That is, a move can be evaluated to determine whether the move excites greater than a predetermined level of vibrations in the system. Input Shaping can then only be applied to moves that excite greater than the predetermined level of vibrations. Thus, only those moves exciting greater than the predetermined level of vibrations, e.g., the bottom 30% of the moves, need be Shaped.</p>
    <p>By virtue of the foregoing, the present invention provides the advantages flowing from using Input Shaping with less of an increase in seek time than would otherwise be achievable. Moreover, in accordance with the invention, a level of Input Shaping, or the numbers and types of constraints, may be altered depending upon how good or how bad a move is, i.e., depending upon the level of vibrations that the move excites. For example, if a move only requires minimal Input Shaping, lengths of impulse sequences used to Input Shape the move may be reduced.</p>
    <p>In the context of computer disk drives, for a given frequency of interest, a measure of the goodness of a move can be evaluated by examining a superposition of components of an input at the frequency of interest. An example of such a superposition is shown in the graph of FIG. 12, in which the frequency of interest is 200 Hz, and in which a good move/bad move threshold is labeled <b>81</b>. By examining threshold <b>81</b>, it is evident that movement distances within a range around 1800 tracks and 7000 tracks are inherently good moves. On the other hand, movement distances requiring vibration reduction are identified in FIG. 12 by cross-hatching. For these movement distances, the amount of vibration reduction required is determined by taking a ratio of a move's goodness level to the good/bad threshold. The magnitude of the Input Shaper required for each movement distance is determined based on this ratio.</p>
    <p>Specifically, the magnitude of an Input Shaper response can be equated to a desired reduction in vibrations (mag) to derive an expression for a modified Input Shaper. The expression for the period, , of a modified two-pulse Shaper is as follows <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mi></mi> <mo>=</mo> <mrow> <mfrac> <mrow> <mi>arccos</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <mo>(</mo> <mrow> <mrow> <mn>2</mn> <mo></mo> <msup> <mi>mag</mi> <mn>2</mn> </msup> </mrow> <mo>-</mo> <mn>1</mn> </mrow> <mo>)</mo> </mrow> </mrow> <mrow> <mn>2</mn> <mo></mo> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>f</mi> </mrow> </mfrac> <mo>.</mo> </mrow> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>34</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00029.png"> <img id="EMI-M00029" file="US06314473-20011106-M00029.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00029.png" class="patent-full-image" alt="Figure US06314473-20011106-M00029"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00029" attachment-type="nb" file="US06314473-20011106-M00029.NB"> </attachment> </attachments> </maths> </p>
    <p>It is noted that the above expression is closed form and, therefore, is suitable for on-line, real-time implementation. For unity magnitude Shapers (mag=1) in which no vibration reduction occurs the foregoing expression yields</p>
    <p>
      <maths> <formula-text>=0,(35)</formula-text> </maths> </p>
    <p>and the two pulses are co-incident at time t=0. For zero magnitude Shapers (mag=0) in which 100% vibration reduction occurs, the foregoing expression yields <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <mi></mi> <mo>=</mo> <mfrac> <mn>1</mn> <mrow> <mn>2</mn> <mo></mo> <mi>f</mi> </mrow> </mfrac> </mrow> <mo>,</mo> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>36</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00030.png"> <img id="EMI-M00030" file="US06314473-20011106-M00030.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00030.png" class="patent-full-image" alt="Figure US06314473-20011106-M00030"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00030" attachment-type="nb" file="US06314473-20011106-M00030.NB"> </attachment> </attachments> </maths> </p>
    <p>or  period. At intermediate values of mag, the expression yields intermediate values of the Shaper period . For example, when mag=0.5, <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mi></mi> <mo>=</mo> <mrow> <mfrac> <mn>1</mn> <mrow> <mn>3</mn> <mo></mo> <mi>f</mi> </mrow> </mfrac> <mo>.</mo> </mrow> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>37</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00031.png"> <img id="EMI-M00031" file="US06314473-20011106-M00031.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00031.png" class="patent-full-image" alt="Figure US06314473-20011106-M00031"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00031" attachment-type="nb" file="US06314473-20011106-M00031.NB"> </attachment> </attachments> </maths> </p>
    <p>At this point, it is noted that although two and three impulse Input Shapers are described above, the invention can use Input Shapers having more than three impulses as well as to shapers designed using other techniques. It is also noted that although the invention has been described with respect to Input Shaping, any shaping technique may be used. For example, moves that are considered bad moves could be selectively shaped using an FIR filter, an IIR filter, any shaper, or even just extended in some arbitrary way to achieve the goals of the present invention. In addition, constraints, such as vibration limiting constraints or the like, may be selectively added to the system equations based on whether a move has been identified as good or bad, and the resulting set of equations can be solved for a complete move trajectory. The moves also may be solved off-line and tabulated to achieve the same benefit.</p>
    <p>5.6 Voltage Control by Forcing Switch Times</p>
    <p>Disk drives operate in a current command mode, meaning that their operation is controlled by current commands. Since saturation is in voltage, conventionally there is no way to determine if a particular current command will saturate the system (notwithstanding section 3.1 above). Accordingly, commanding the system in current can fail to produce a desired movement. The invention addresses this problem by commanding a current that is guaranteed to saturate a voltage input to the system. In this way, the invention is able to command voltage in either direction. That is, it is possible to provide current commands to the system, but actually to be commanding voltages switches.</p>
    <p>In more detail, many disk drive systems utilize a closed-loop current control system to control current through a voice coil motor. A closed-loop controller in such a system makes it possible to specify a current command that, when applied to the motor, results in a constant torque. Specifically, the closed-loop controller adjusts the voltage through the motor to maintain a desired current level. However, there are limitations to such a controller. Specifically, the maximum voltage available to the controller is limited by the power supply used in the disk drive. Thus, if the voltage required to achieve a particular current is above the power supply's maximum voltage, the controller will saturate at the maximum voltage and the desired current will not be achieved.</p>
    <p>While the foregoing may be perceived as a drawback, it can actually be an advantage, since the saturation can be used to operate the current controller in an alternative mode in which power supply voltage is simply applied to the motor's terminals. That is, the controller is operated as an open-loop voltage switching system, instead of as a closed-loop current control system. As a result, it is possible to create an alternative formulation for control strategies and motion profiles. This technique of using current control to command voltage has the additional benefit that voltage commands can be used during disk drive seek; however, a normal current command mode is still available for tracking without changing any system hardware.</p>
    <p>Use of the open-loop voltage control technique described above may require a series of precisely-timed commands to achieve vibration suppression effects. Section 7.1 below presents a variety of techniques for implementing such precisely-timed commands. If the commands are not in the fundamental limiting parameter of the system, then section 3.1 may also be used to generate such commands. If the commands are in the fundamental limiting parameter, then the techniques of sections 4 and 5 can be used.</p>
    <p>In this regard, the fundamental limiting parameter is often not used to command the system due to hardware constraints (e.g., the tracking controller in a disk drive system is designed for current, not voltage, commands). In the case of a disk drive, by modifying the drive's amplifier, it is possible to use voltage commands during one mode of operation, e.g., drive seek operations, and to switch to current commands during another mode of operation, e.g., drive tracking operations. Thus, for example, the techniques of section 3.1 can be used during a tracking operation and the techniques of sections 4 and 5 can be used during a seek operation.</p>
    <p>5.7 Other Techniques</p>
    <p>In addition to the foregoing techniques, other techniques may also be used to generate (or enhance) an input to produce a good move. For example, it is possible to adjust any of the above techniques using real-time identification of any system parameters. Specifically, a system parameter, such as temperature or resistance, may be identified, and that parameter addressed when generating a good move. Additionally, symmetric and multi-step (i.e., Posicast) inputs can be used to generate a good move. As set forth in section 11 below, transient portions of the input or feedforward signal at the beginning, middle and/or end of a move may also be varied in order to reduce vibrations resulting from the move. Additional constraints may also be added to the system in order to control vibrations. For example, these constraints can be symmetric and can be a function of time or position and/or can relate to thermal limits, current limits, duty cycle, and/or disk drive ZV constraints. Moreover, it is noted that since each transition of an input corresponds to a complete move in and of itself, any of the above techniques for generating a good move set forth above can be performed in real-time, and the Shaping and filtering methods described above can be performed only on the rapid transient portions of the move. See section 11 below.</p>
    <p>The Shapers and filters described above are preferably stored in a memory as computer-executable process steps, and executed by a processor in the system. However, the invention can also be implemented in a fuzzy logic controller by embedding either an Input Shaper or direct solutions to systems of constraint equations in a fuzzy logic block. Similarly, the invention can be implemented in a neural network controller that can be constructed by imbedding either an Input Shaper or direct solutions to systems of constraint equations into a neural network. Both the fuzzy controller and the neural network PV controller can be designed to handle non-linear system parameter variations which enter into equations for a system.</p>
    <p>6.0 Controlling Trajectory as a Function of Time</p>
    <p>This aspect of the invention is directed to a control technique for a, reducing unwanted vibrations in a dynamic system by controlling a trajectory which is specified as a function of time. More specifically, in this aspect of the invention, an input that corresponds to a good move is used as feedforward trajectory for the system. Any of the above techniques for generating inputs corresponding to a good move may be used to modify inputs in the following control system. However, for the sake of brevity, only Input Shaping will be described in detail. Moreover, although the invention can be used to control any dynamic system, a description will be provided only for a computer disk drive system, again for the sake of brevity.</p>
    <p>6.1 Optimization</p>
    <p>One approach to generating an input that will result in a fast response in a computer disk drive is to perform an optimization using partial fraction expansion equations 19. To perform the optimization, these equations are augmented by including a set of constraints to address vibrations in various modes of the system. In addition, constraints may be added for vibrations in modes that are near a predicted vibrational mode and for real world conditions, such as voltage limits. A digital formulation of the problem can then be modeled so as to make all of the constraints linear, thereby simplifying their solution. The digitization rate may be selected using the techniques presented in section 7.1.</p>
    <p>The invention is not limited to methods for performing optimization described herein. Rather, any optimization technique may be used. For example, other methods for implementing optimization which can be used in conjunction with the present invention include off-line computation and use of efficient linear solving codes on the disk drive controller. It is also possible to generate a series of solutions off-line and to fit curves to the solutions. Appendix C shows a set of linear equations written in GAMS that can be solved for ZVD constraints on a problem in which voltage is the commanded input.</p>
    <p>6.2 A Related Approach</p>
    <p>The partial fraction expansion model of a disk drive system shown above can also be used in conjunction with Input Shaping in order to generate system inputs. For example, in an article entitled Fast Servo Bang-Bang Seek Control by Hai T. Ho, 1997, IEEE, the contents of which are hereby incorporated by reference into the subject application, it was demonstrated that near the end of a move, the instantaneous state of a system can be measured. Inputs to the system can then be calculated so as to bring the system to its final location with limited vibrations. The flaw in this technique, as presented in the article, is that exact solutions to the disk drive system equations could not be obtained because a second order system model was assumed. Since a disk drive system is more accurately modeled as a third order system, this technique could result in inputs which did not sufficiently limit vibrations or which resulted in the system reaching a nominal final position without coming to rest. By use of the partial fraction expansion model presented in section 4, a more precise solution to the system equations can be obtained, thereby resulting in relatively fewer vibrations when the system reaches its final location. Moreover, insensitivity constraints can be added to the foregoing equations by a variety of techniques, e.g., by sampling (as discussed in section 6.7), by taking derivatives (as discussed in U.S. Pat. No. 4,916,635), or any other approach, thereby leading to robust solutions of the equations and still fewer resulting vibrations.</p>
    <p>6.3 Rigid and Flexible Mode Problem</p>
    <p>Another approach which uses Input Shaping in conjunction with the partial fraction expansion model of section 4 is to separate the problem into a rigid mode problem and a flexible mode problem. Examination of modal terms associated with a disk drive reveals terms similar to a third order system, e.g., F<sub>1</sub>(t), F<sub>2</sub>(t) and F<sub>3</sub>(t) from equations 12, plus additional terms associated with oscillating or vibrational modes, e.g., F<sub>4</sub>(t), F<sub>5</sub>(t), etc. (not shown). The present invention separates these terms into two sets. The first set, which defines the rigid mode of the system, includes the third order system modal terms, i.e., F<sub>1</sub>(t), F<sub>2</sub>(t) and F<sub>3</sub>(t). The second set, which defines the flexible modes of the system, includes the other modal terms, i.e., F<sub>4</sub>(t), F<sub>5</sub>(t), etc. The partial fraction expansion equations in section 4 can be solved for inputs which drive the system so as to satisfy rigid body motion constraints F<sub>1</sub>(t), F<sub>2</sub>(t) and F<sub>3</sub>(t) and thereby achieve a final position with substantially zero velocity and acceleration. However, vibrations resulting from the other modes, namely F<sub>4</sub>(t), F<sub>5</sub>(t), etc., can still be problematic.</p>
    <p>More specifically, the partial fraction expansion equations cannot be solved for an input which reduces vibrations in the flexible modes without adding additional constraints for each additional mode. However, adding additional constraints increases the complexity of obtaining the solution. Additionally, if curve fit or empirical solutions are to be obtained, the solution is increasingly more complicated for each additional constraint that is imposed. Therefore, in order to reduce vibrations in the flexible modes without substantially increasing the complexity of obtaining a solution, the present invention first solves the rigid mode equations in order to determine system inputs. Next, the determined system inputs are shaped using an Input Shaper designed for the flexible modes of the system. For example, the Input Shaper may be designed based on frequency and damping ratios of F<sub>4</sub>(t), etc. above.</p>
    <p>The partitioning of F<sub>1</sub>(t), F<sub>2</sub>(t) and F<sub>3</sub>(t) into the rigid mode and F<sub>4</sub>(t), F<sub>5</sub>(t), etc. into the flexible mode is merely an example of one way to partition the system's modeled modes. The invention is not limited to such definitions. In fact, the partitioning of modes can vary depending upon the system under consideration as well as various other factors. For example, it is possible to derive a second order system input based on a system model that includes only F<sub>1</sub>(t) and F<sub>2</sub>(t) in the rigid mode and that includes F<sub>3</sub>(t), F<sub>4</sub>(t), etc. in the modes that are addressed using Input Shaping. Such a formulation would be of particular advantage in the case where F<sub>3</sub>(t) corresponds to a system's electrical time constant, since Input Shaping could be used to correct variations in the system's electrical time constant.</p>
    <p>6.4 Center of Mass</p>
    <p>In the rigid mode of a system, problems may arise because various components of the system are moving relative to one another. For example, in the case of a computer disk drive, vibrations may be induced in the system because the motor's rotor is moving out of phase with an endpoint, such as the read/write head. This will cause problems during feedback if a rigid body model is assumed. That is, if the endpoint alone is used as feedback, the deflection that is observed will be fed back and cause corrections that are not required and thus may be detrimental to system performance. To reduce such errors, the present invention estimates the center of mass of the system and uses the estimated center of mass, rather than an endpoint, as the system's feedback. One way to estimate the center of mass of the system is to calculate a state estimator using modern control techniques. A wide range of correction factors, such as a quasi-static correction factor similar to that described below, can be applied to improve the estimate of the center of mass coordinate.</p>
    <p>The center of mass coordinate estimated above will not reflect the vibrations of the rotor nor those of the endpoint. Consequently, the rigid body behavior of the system can be decoupled from most all vibrations (including acoustics) in order to allow for more accurate feedback control than has heretofore been possible.</p>
    <p>6.5 Quasi-Static Correction</p>
    <p>On the other hand, if endpoint feedback, rather than center-of-mass feedback, is used in the system, vibration-reducing inputs to the system, such as those generated in accordance with the techniques set forth herein, can cause unusual side effects. That is, the component at the endpoint (e.g., the head in the case of a disk drive) does not vibrate. Rather, the component deflects during the move. The deflection is in one direction during acceleration phases and in another direction during deceleration phases. The feedback signal to the controller is measured based on this deflection. As a result, if the system controller uses this feedback signal to compare to a trajectory, the controller will detect an error even if none exists. To correct this problem, a quasi-static correction factor may be added to, or subtracted from, the feedback signal depending on the amplitude and the direction of acceleration.</p>
    <p>6.6 Closed-loop Control</p>
    <p>By adopting a control strategy in which a trajectory is specified as a function of time, a closed-loop system formulation can be made. As shown, for example, in FIG. 11, feedback loops may be closed around any combination of system states. In the case of a disk drive, these states include voltage, current, acceleration, velocity, and position. An input which corresponds to a good move can then be generated based on the closed-loop formulation. This good input, which, in the case of a computer disk drive, may be a voltage input, is used to generate feedforward signals to some or all of the closed-loops.</p>
    <p>Feedforward trajectories for each of the parameters to be used as a feedforward term are derived from a trajectory selected as a good move. The technique for generating feedforward trajectories may be based on either a simple simulation of the system or the partial fraction expansion model set forth in section 4. When generating a good input, it may be desirable to compute a move assuming that less voltage (or whatever physical variable is limited by reality) is available. This increases the chances that the system will stay on a trajectory corresponding to the good move. Another approach to generating a good input is to assume full voltage (or whatever physical variable is limited by reality) and to assume safe values for the physical system parameters used in the model. In this case, full voltage would only be used if the parameters were the worst case possible. At all other nominal cases, a lower voltage would be used.</p>
    <p>In the closed-loop control model, the feedforward terms for each loop could be replaced by only one feedforward (or input) to the outer loop, where this one feedforward term is computed as a combination of each of the other feedforward terms. Also, feedforward inputs for the system could be scaled differently for each system parameter. For example, different gains could be used for each of velocity, position, acceleration, current, and voltage feedforward terms. The selection of gains adds zeros to each feedforward term. Since Input Shaping is a method of placing zeros in certain locations using a constraint based technique, it is understood that the gains selected for the feedforward terms can be chosen to add zeros which serve to augment Input Shaping. This technique would lower the requirements on any Input Shaper used, or enable fewer constraints to be used in the derivation of complete trajectories.</p>
    <p>Shown in FIG. 27 is a block diagram of a simple system, namely system <b>82</b>, that will be used to demonstrate how a collection of feedforward signals can be used to effect zeros in a transfer function. In system <b>82</b>, the variable to be controlled is the output position x, there is a feedforward input FF, and there are three command inputs, namely position input x<sub>d</sub>, velocity input v<sub>d</sub>, and acceleration input a<sub>d</sub>. There is also full state feedback of position x, velocity v, and acceleration a. In the ideal case, the feedforward input FF will cause the system to follow a desired trajectory (x, v, a) through state space. If the actual trajectory does not match the desired trajectory, then error terms (X<sub>d</sub>x), (v<sub>d</sub>v) and (a<sub>d</sub>a) will be multiplied by gains K<sub>a</sub>, K<sub>v </sub>and K<sub>a </sub>to generate corrective inputs. If the inputs v<sub>d</sub>, a<sub>d </sub>and FF are all set to zero, the system will still track the remaining command input x<sub>d</sub>, but likely with larger position error.</p>
    <p>The command inputs, x<sub>d</sub>, v<sub>d </sub>and a<sub>d</sub>, and the feedforward input FF are produced by another process and are simply inputs to the system. However, the command inputs x<sub>d</sub>, v<sub>d </sub>and ad are mathematically related as derivatives. Their relationship is indicated in the block diagram shown in FIG. 28 by applying the Laplace differentiation operator s repeatedly to the x<sub>d </sub>input signal. It is well known that it is physically impossible to implement the zero corresponding to the s operator without a corresponding pole. Since the input signals v<sub>d </sub>and a<sub>d </sub>are actually derivatives, the use of the s notation in FIG. 28 is a notational convenience facilitating intuition, not a means of implementation.</p>
    <p>By applying block diagram algebra to the block diagram shown in FIG. 28, scaled versions of all the inputs (x<sub>d</sub>, v<sub>d</sub>, a<sub>d </sub>and FF) can be shown to enter the closed-loop system at a single point, as shown in FIG. <b>29</b>. The combination of the three parallel inputs (to the nominal closed-loop system) shown in FIG. 29 can be reduced further using block diagram algebra as shown in FIG. <b>30</b>. The numerator of the block shown in FIG. 30 is a third order zero. For this system, the zeros associated with the combination of feedforward terms exactly match (and cancel) the poles of the nominal closed-loop system. Thus these zeros serve to cancel the dynamics of the modeled system. The location of the zeros can be adjusted by including weighting factors W<sub>v</sub>, W<sub>a </sub>and W<sub>f </sub>on each of the terms v<sub>d</sub>, a<sub>d </sub>and FF, respectively. Following through with the analogous block diagram reduction yields the result shown in FIG. <b>31</b>.</p>
    <p>By allowing additional freedom in the placement of the zeros (by adjusting weights W<sub>v</sub>, W<sub>a </sub>and W<sub>f</sub>), the zeros can be placed to effect a first order cancellation of the (un-modeled, but measured) poles of the system, e.g. poles associated with vibration or other unwanted dynamic response. Since FIR input shapers can be viewed as all zero filters, the zeros associated with the weighted feedforward input can be used to replace or augment the action of the zeros of the FIR input shaper. Thus, since some zeros are supplied by the weighted feedforward input, a lesser number of zeros must be supplied by the shaper, and consequently, the shaper period becomes shorter. The overall time advantage lies in the fact that the zeros associated with the weighted feedforward are implemented without a time cost (i.e., without a penalty).</p>
    <p>6.7 Additional Constraints</p>
    <p>It is also possible to add constraints to the partial fraction expansion equations of section 4 in order to provide for relatively rapid movements of the rigid mode portion of the system. For example, it is possible to add constraints relating to insensitivity to variations in system parameters. To do this, one or more constraint equations in the continuous form of equations 19 may be differentiated with respect to the system parameter and the resultant set to zero. This ensures that the solutions to the equations are insensitive to variations in that parameter. A similar result can be obtained by solving the equations to which insensitivity is required multiple times with different values for the system parameter. For example, the second of the above partial fraction expansion equations 19 can be repeatedly solved with different torque constant values in order to assure that the solution thereto works well for a range of torque constant values. Such an equation must be given some degree of freedom by not requiring that the solution be exactly zero for all values of torque constant.</p>
    <p>6.8 Switch Times</p>
    <p>As noted above, the continuous form of the partial fraction expansion equations can also be solved for voltage switch times which reduce vibrations in the system. A voltage switch time corresponds to a transition time between full positive and full negative voltage inputs to the system. In solving for these switch times, if no other constraints are included, the system can be modeled using the three partial fraction expansion equations 19 shown above in section 4. Using the continuous version of these equations, it is possible to solve for three transition times, namely t<sub>1</sub>, t<sub>2 </sub>and t<sub>end</sub>, as set forth below.</p>
    <p>Equations 19 are nonlinear in their continuous form. However, they can be manipulated to make them easily solvable in a controller with limited computational power. Since the first equation is linear, the first equation can be substituted into the other equations, yielding two equations with two unknowns. The solution can then be obtained by performing a simple fixed-point iteration. Only a few iterations are needed to obtain a solution to machine precision. Additionally, the starting guess for the iteration can be obtained from a simple curve fit, thus further increasing the speed of the calculation process. It is also possible to generate solutions to these equations by defines switch times as a function of movement distance and then fitting the data with an empirical formula to achieve a solution that is sufficient for use in a digital controller.</p>
    <p>To this end, an additional step that is performed in order to use the continuous switch time solution in a digital controller is to round-off the switch times to a nearest digital time spacing. However, because significant errors can be generated by rounding-off the switch times, another approach is often used. The switch times are rounded upward and the voltage levels in each region are adjusted to achieve a solution to the same equations. Alternatively, voltage levels in only a portion of the solution are adjusted in order to achieve the same result. For example, only a few digital outputs are adjusted to correct for the round-off.</p>
    <p>The pseudo-code shown in Appendix A illustrates (i) the calculation of continuous switch times, (ii) a method of rounding the continuous switch times to discrete time intervals, and (iii) recalculation of the voltage levels to satisfy the original constraint equations including discrete switch times. In the first section of the pseudo-code, the physical system parameters (V<sub>max</sub>, K<sub>t</sub>, K<sub>b</sub>, l, k, R<sub>e</sub>, R<sub>m</sub>, and J<sub>m</sub>) are used to compute transfer function parameters (A, a, b). While in theory this step is not required (a formulation in the original system physical parameters could be used), the resulting equations are much more compact and more suitable for real-time implementation.</p>
    <p>In the formulation shown in Appendix A, the accommodation of digital switch times requires that the entire voltage level of each of the three steps be modified in order to satisfy the constraint equations. Modification of the entire step resulted because of the specific formulation in terms of three steps in voltage. If the problem is reformulated, e.g. in discrete impulse response form corresponding to partial fraction expansion equations 19 (repeated below as <b>38</b> for convenience), other, more flexible modifications of the voltage wave form are possible. <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mi>Finalpos</mi> <mo>=</mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>V</mi> <mi>i</mi> </msub> <mo></mo> <mi>A</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </mrow> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>38</mn> <mo>)</mo> </mrow> </mtd> </mtr> <mtr> <mtd> <mrow> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <mn>0</mn> <mo>=</mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>V</mi> <mi>i</mi> </msub> <mo></mo> <mfrac> <mi>Ab</mi> <mrow> <mi>b</mi> <mo>-</mo> <mi>a</mi> </mrow> </mfrac> <mo></mo> <mrow> <mo>(</mo> <mrow> <msup> <mi>e</mi> <mrow> <mo>-</mo> <mrow> <mi>a</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> <mo>+</mo> <mrow> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </msup> <mo>-</mo> <msup> <mi>e</mi> <mrow> <mo>-</mo> <mrow> <mi>a</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </msup> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </mrow> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> <mtr> <mtd> <mrow> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <mn>0</mn> <mo>=</mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>V</mi> <mi>i</mi> </msub> <mo></mo> <mfrac> <mi>Aa</mi> <mrow> <mi>a</mi> <mo>-</mo> <mi>b</mi> </mrow> </mfrac> <mo></mo> <mrow> <mo>(</mo> <mrow> <msup> <mi>e</mi> <mrow> <mo>-</mo> <mrow> <mi>b</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> <mo>+</mo> <mrow> <mi></mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi>t</mi> </mrow> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </msup> <mo>-</mo> <msup> <mi>e</mi> <mrow> <mo>-</mo> <mrow> <mi>b</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <msub> <mi>T</mi> <mi>end</mi> </msub> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </msup> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </mrow> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00032.png"> <img id="EMI-M00032" file="US06314473-20011106-M00032.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00032.png" class="patent-full-image" alt="Figure US06314473-20011106-M00032"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00032" attachment-type="nb" file="US06314473-20011106-M00032.NB"> </attachment> </attachments> </maths> </p>
    <p>The pseudo-code shown in Appendix A can be used to compute the digital switch times (rounded from continuous), and the impulse response form of the constraint equations used only for the final adjustment of voltage levels. A voltage variable for the reformulated voltage adjustment problem can be formed by selecting an individual V<sub>i</sub>, or alternatively selecting a dependent set of V<sub>i</sub>(e.g. V<sub>1</sub>=V<sub>2</sub>=V<sub>3</sub>=V<sub>first</sub>). The three constraint equations form a linear set of three equations in the three variables and can be solved using any method suitable for linear equations. If more than three variables are chosen, then the solution will not be uniquely determined and opportunity exists for additional criteria to be used to select from among the possible solutions.</p>
    <p>6.9 Shaped Switching</p>
    <p>According to the well-known bang-bang principle, time-optimal system commands for a voltage-limited system like a computer disk drive comprise a series of full-positive and full-negative voltage commands. In such a case, the voltage levels are known, but their optimal switch times are not. Because optimal switch times for the system are unknown, it is likely that unwanted vibrations will be excited when the voltages commands are input to the system. Several techniques for reducing unwanted system vibrations can then be performed. For example, it is possible to determine a switching sequence analytically subject to various constraints, such as vibration constraints, insensitivity constraints, or any number of unwanted dynamic or physical system constraints. Additional techniques that can be used include determining switch times using any technique described herein and adjusting the switch times in real-time to take system movements into consideration.</p>
    <p>Another effective technique for commanding a disk drive to move is to combine the benefits of a bang-bang time-optimal command with the benefits of Input Shaping. To this end, switch times for an input to a rigid system are determined analytically, and then an Input Shaper is applied to the input in order to shape it so that unwanted vibrations resulting therefrom are substantially suppressed. This technique has at least two advantages. First, it is relatively easy to implement from a computational point of view because the problem is separated into two problems, namely generating a good input for a simple system and separately generating a good Shaper to handle flexible, and possibly some rigid, modes. Second, solutions obtained by separately Shaping the input are more insensitive to system parameter variations.</p>
    <p>Shaping of the input may be performed in a manner described above using, e.g., an Input Shaper, a filter, etc. Accordingly, a detailed description of shaping the input is omitted here for the sake of brevity. With regard to generating a good input, since voltage levels for the input are already known (i.e., the voltage levels are either full positive and full negative), the only variables that need to be determined are switch times for the voltage input. Switch times can be determined using a partial fraction expansion model of a system, such as equations 19, in which F<sub>1</sub>(t), F<sub>2</sub>(t) and F<sub>3</sub>(t) correspond to step responses to a unit voltage in each mode of the system. For a third order model such as this, three transitions between full positive and full negative are required. Switch times, namely t<sub>1</sub>, t<sub>2 </sub>and t<sub>end</sub>, for the transitions are determined as follows.</p>
    <p>Using equations 14, reproduced below as 39,</p>
    <p>
      <maths> <formula-text> <i>XF</i> <sub>1</sub>(<i>t</i> <sub>end</sub>)=<i>V</i> <sub>0</sub> <i>F</i> <sub>1</sub>(<i>t</i> <sub>end</sub> <i>t</i> <sub>0</sub>)2<i>V</i> <sub>0</sub> <i>F</i> <sub>1</sub>(<i>t</i> <sub>end</sub> <i>t</i> <sub>1</sub>)+2<i>V</i> <sub>0</sub> <i>F</i> <sub>1</sub>(<i>t</i> <sub>end</sub> <i>t</i> <sub>2</sub>)</formula-text> </maths> </p>
    <p>
      <maths> <formula-text> <i>XF</i> <sub>2</sub>(<i>t</i> <sub>end</sub>)=<i>V</i> <sub>0</sub> <i>F</i> <sub>2</sub>(<i>t</i> <sub>end</sub> <i>t</i> <sub>0</sub>)2<i>V</i> <sub>0</sub> <i>F</i> <sub>2</sub>(<i>t</i> <sub>end</sub> <i>t</i> <sub>1</sub>)+2<i>V</i> <sub>0</sub> <i>F</i> <sub>1</sub>(<i>t</i> <sub>end</sub> <i>t</i> <sub>2</sub>)</formula-text> </maths> </p>
    <p>
      <maths> <formula-text> <i>XF</i> <sub>3</sub>(<i>t</i> <sub>end</sub>)=<i>V</i> <sub>0</sub> <i>F</i> <sub>3</sub>(<i>t</i> <sub>end</sub> <i>t</i> <sub>0</sub>)2<i>V</i> <sub>0</sub> <i>F</i> <sub>2</sub>(<i>t</i> <sub>end</sub> <i>t</i> <sub>1</sub>)+2<i>V</i> <sub>0</sub> <i>F</i> <sub>1</sub>(<i>t</i> <sub>end</sub> <i>t</i> <sub>2</sub>),(39)</formula-text> </maths> </p>
    <p>and constraint equations 15, reproduced below as 40,</p>
    <p>
      <maths> <formula-text> <i>XF</i> <sub>1</sub>(<i>t</i> <sub>end</sub>)=Finalpos</formula-text> </maths> </p>
    <p>
      <maths> <formula-text> <i>XF</i> <sub>2</sub>(<i>t</i> <sub>end</sub>)=0</formula-text> </maths> </p>
    <p>
      <maths> <formula-text> <i>XF</i> <sub>3</sub>(<i>t</i> <sub>end</sub>)=0,(40)</formula-text> </maths> </p>
    <p>it is possible to solve for the three unknown transition times t<sub>1</sub>, t<sub>2 </sub>and t<sub>end</sub>. A change of variables, i.e.,</p>
    <p>
      <maths> <formula-text> <i>et</i>
          <sub>1</sub> <i>=t</i>
          <sub>end</sub> <i>t</i>
          <sub>0</sub> </formula-text> </maths> </p>
    <p>
      <maths> <formula-text> <i>et</i>
          <sub>2</sub> <i>=t</i>
          <sub>end</sub> <i>t</i>
          <sub>1</sub> </formula-text> </maths> </p>
    <p>
      <maths> <formula-text> <i>et</i> <sub>3</sub> <i>=t</i> <sub>end</sub> <i>t</i> <sub>2</sub>,(41)</formula-text> </maths> </p>
    <p>further simplifies the solution for the switch times. In this case, et<sub>1 </sub>corresponds to an elapsed time from onset of a first step until the end of the move, et<sub>2 </sub>corresponds to the elapsed time from onset of the second step until the end of the move, and et<sub>3 </sub>corresponds to the elapsed time from onset of the third step until the end of the move.</p>
    <p>In view of the foregoing, equations 39 reduce to the following:</p>
    <p>Finalpos=<i>V</i> <sub>0</sub> <i>F</i> <sub>1</sub>(<i>et</i> <sub>1</sub>)2<i>V</i> <sub>0</sub> <i>F</i> <sub>1</sub>(<i>et</i> <sub>2</sub>)+2<i>V</i> <sub>0</sub> <i>F</i> <sub>1</sub>(<i>et</i> <sub>3</sub>)</p>
    <p>
      <maths> <formula-text>0<i>=V</i> <sub>0</sub> <i>F</i> <sub>2</sub>(<i>et</i> <sub>1</sub>)2<i>V</i> <sub>0</sub> <i>F</i> <sub>2</sub>(<i>et</i> <sub>2</sub>)+2<i>V</i> <sub>0</sub> <i>F</i> <sub>1</sub>(<i>et</i> <sub>3</sub>)</formula-text> </maths> </p>
    <p>
      <maths> <formula-text>0<i>=V</i> <sub>0</sub> <i>F</i> <sub>3</sub>(<i>et</i> <sub>1</sub>)2<i>V</i> <sub>0</sub> <i>F</i> <sub>2</sub>(<i>et</i> <sub>2</sub>)+2<i>V</i> <sub>0</sub> <i>F</i> <sub>1</sub>(<i>et</i> <sub>3</sub>).(42)</formula-text> </maths> </p>
    <p>Since equations for F<sub>1</sub>(t), F<sub>2</sub>(t) and F<sub>3</sub>(t) contain exponential terms, a numerical solution to the above equations for XF<sub>1</sub>(t<sub>end</sub>), XF<sub>2</sub>(t<sub>end</sub>) and XF<sub>3</sub>(t<sub>end</sub>) is not readily available. However, certain simplifications can be made to the equations in order to provide an iterative numerical solution, and thus to allow them to be solved for transition times t<sub>1</sub>, t<sub>2 </sub>and t<sub>end </sub>in real-time. More specifically, the duration of the third step of the input to a third order system does not vary significantly for relatively long moves. Therefore, for long moves, the third step duration is nearly independent of values of et<sub>1 </sub>and et<sub>2</sub>. Accordingly, the second equation (for XF<sub>2</sub>(t<sub>end</sub>)) can be solved for et<sub>3 </sub>using guesses for et<sub>1 </sub>and et<sub>2</sub>. The value of et<sub>3 </sub>obtained in this manner is a close approximation to its exact value. The first equation (for XF<sub>1</sub>(t<sub>end</sub>)) is used to eliminate et<sub>1 </sub>from the third equation (for XF<sub>3</sub>(t<sub>end</sub>)), whereafter the third equation is solved for et<sub>2 </sub>as a function of et<sub>3</sub>. The value obtained for et<sub>2 </sub>is also a close approximation of its exact value. The first equation is then used to calculate an approximation for et<sub>1 </sub>based on the approximate values of et<sub>2 </sub>and et<sub>3</sub>. If more accuracy is desired, another pass may be made through the equations. That is, the approximations calculated for et<sub>1 </sub>and et<sub>2 </sub>can be substituted back into the foregoing equations, and the process repeated for several iterations, where each iteration provides an increase in accuracy. In practice, four iterations through the equations resulted in 16 digit accuracy for et<sub>1</sub>, et<sub>2 </sub>and et<sub>3</sub>. Once these values are determined, values for the transition times t<sub>1</sub>, t<sub>2 </sub>and t<sub>end </sub>can be calculated using the equations shown above.</p>
    <p>The iterative solution presented above for determining switch times will converge faster for better initial guesses of et<sub>1 </sub>and et<sub>2</sub>. On short moves especially, convergence can be slow if initial guesses for et<sub>1 </sub>and et<sub>2 </sub>are not good. Accordingly, there exists a need for a way to provide a good initial guess. One such technique is to tabulate solutions for a range of short moves. Such a table may be then used to obtain a good guess, e.g., by looking-up a guess or by interpolation. Alternatively, a curve can be fit to solutions for a range of short moves, and initial guesses determined based on the curve. For example, it has been determined experimentally that a first switch time is a monotonically increasing function of move distance. Curves for other switch times can be determined in a similar manner.</p>
    <p>The foregoing techniques for determining switch times can be expanded to include parameters other than just movement distance. For example, if resistance change is to be included in the solution, an initial guess for a switch time value can be determined based on both movement distance and resistance. Any number of system parameters can be used in this manner to determine an initial guess. In such cases, the initial guess can be determined based on a multidimensional table which includes these parameters, or computed using an empirically generated function. Switch times can also be generated by taking into account system parameters in addition to those set forth above. In such cases, conservative parameters may be used so that the actual system will move faster than the theoretical model on which the switch times are based. That is, in this case, the feedback will scale back the output voltage and the system will almost never be commanded past saturation.</p>
    <p>As an alternative to the above approaches which rely on an initial guess, short move solutions can be determined based on the partial fraction expansion equations. Specifically, the exponential terms of the partial fraction expansion equations can be expressed in series form. The equations can then be solved for the short move solutions to the switch time problem.</p>
    <p>A hardware implementation of this embodiment of the invention may be dictated by the design of many disk drive controllers. Specifically, in such disk drive controllers, the update rate of a processor in the controller is not fast enough to output voltages at precise desired time intervals. Accordingly, a hardware solution may be implemented, in which each next switch time is loaded into a hardware counter chip and a high frequency clock counts intervals until the desired switch time is achieved. At such time, the output of the counter chip changes and the new voltage value is output to the disk drive system.</p>
    <p>Still another alternative to the forgoing method for determining switch times for a system input is provided in U.S. Provisional Application No. 60/076,951, entitled Creating Time-Optimal Commands For Linear Systems, filed on Mar. 5, 1998 and its corresponding national application filed concurrently herewith. The contents of these two applications are hereby incorporated by reference into the subject application as if set forth in full.</p>
    <p>7.0 Shaping Near or Beyond Nyquist</p>
    <p>As noted above, control techniques in which trajectory is specified as a function of time involve determining an input which will generate a good move. As also noted above, this input may be determined using any other techniques, such as Input Shaping, filtering, etc. In addition to these techniques, the present invention also provides a technique for shaping inputs having frequencies near or beyond the nyquist frequency. Shapers used to perform this shaping are referred to herein as NBNShapers.</p>
    <p>Systems that use discrete time or digital control face a fundamental limitation due to the effects of sampling. That is, the sampling theorem states that any frequencies greater than the sampling frequency (or Nyquist frequency) will be aliased to other frequencies. Therefore system feedback control cannot suppress vibrations that are at a frequency greater than the Nyquist frequency. Because Input Shaping is a feedforward technique, it does not have this same limitation. Input Shapers can be designed to suppress vibrational frequencies that are near, or even well above, the Nyquist frequency. This section will demonstrate how to design Input Shapers which limit vibrational frequencies that are near or above the Nyquist frequency.</p>
    <p>As background, disk drives systems with embedded servo information have a maximum position update rate that is determined by the density of the servo information and the drive's rotation speed. To demonstrate the difficulty in solving for an Input Shaper, an example drive is presented. Assuming that the servo information on such a disk drive is updated at 5 KHz, and the drive's first resonant mode is at 2 KHz, only 2+ servo cycles exist for each vibrational cycle. This presents a computational problem. That is, only 2 unknowns exist per servo cycle and there are many more constraints to be solved (at a minimum no vibration constraints, among others). Accordingly, the problem is over-constrained.</p>
    <p>However, more than one cycle can be used to solve for a system input. By expanding the number of unknowns until the problem becomes solvable, a solution can be obtained. Solutions obtained are unusual because they take more than one cycle of vibration to reduce vibrations to an acceptable level. Additionally, careful attention must be paid to insensitivity constraints because NBN solutions will be less sensitive than conventional solutions since fewer cycles of vibration are allowed to occur before cancellation. An alternative to this approach is to use an output or feedforward command rate that is different from the servo rate. This technique is presented in section 7.1 below.</p>
    <p>The basic principle of the NBN shaper can be understood by examining the design of a three pulse shaper for a continuous system with zero damping. If we assume that the system is continuous, the shaper impulses can occur at exact times. When the damping ratio is zero, the amplitudes of the impulses for a three pulse shaper are [0.25 0.50 0.25]; the first pulse occurs at time zero, the second pulse at one half period of Vibration, and the third pulse at one period of vibration. FIG. 32 shows a plot of the impulses of the three pulse shaper along with a sine wave representative of the undamped vibration. The combined plot shows the phasing of the impulses relative to the sine wave. In the continuous case, the pulses occur at the times shown in FIG. <b>32</b>. In the digital case, the pulses are constrained to occur at integer multiples of the sample period, i.e. at the sample times. If the sample period is much shorter than the vibration period, then each of the shaper pulses can be split between the nearest sample times to achieve the same effect.</p>
    <p>The Nyquist rate is equal to one half the sample rate and represents the lowest frequency that can be sampled by a digital system without alias. Thus, vibration occurring at the Nyquist rate is just at the theoretical limit of what input can be processed by a digital system without alias, and results in two sample points per sine wave period. Two sample points per period is exactly the ideal spacing for a three pulse shaper. FIG. 33 shows a plot of the digital pulse spacing for a three pulse shaper where the digital sample rate (4 KHz) results in the Nyquist rate (sample_rate/2=2 KHz) being equal to the vibration frequency (2 KHz). Thus, the three pulse shaper is easily implemented to attenuate frequencies at the Nyquist rate.</p>
    <p>It is well known that vibration with frequency in excess of the Nyquist rate cannot be sampled by a digital system without aliasing, and that therefore a closed-loop digital sampled data system cannot use closed-loop control techniques to attenuate vibration at high (beyond Nyquist rate) frequency. However, the open-loop (feedforward) shaping technique can be applied to attenuate vibration at frequency well beyond the Nyquist rate. Shown in FIG. 34 is the pulse spacing for a three pulse shaper and a sine wave representative of vibration. The combined plot shows the timing of the shaper pulses relative to the phasing of the sine wave. The frequency of vibration is again 2 KHz, the sample rate for this example is 1.333 KHz, and the associated Nyquist rate is 1.333 KHz/2=0.666 KHz. The frequency of vibration is well in excess of the Nyquist rate (2 KHz/0.666 KHz=3) for this case.</p>
    <p>Examination of the phasing of the sine wave relative to the timing of the shaper pulses reveals the same relation for the sub-Nyquist rate example as for the Nyquist rate example. That is, the first shaper pulse occurs at 0, the second shaper pulse occurs at 180 and at each 360 thereafter, and the third shaper pulse occurs at 360 and at each 360 thereafter. Since the sine wave phase repeats each 360, the superposition of responses yields the same result in both cases. It should be noted that the sub-Nyquist rate shaper will be more sensitive to errors in the vibration frequency estimate. The increased sensitivity is due to the fact that as more periods of vibration elapse between pulses, larger errors in phase (for a given error in frequency) will accumulate.</p>
    <p>7.1 Effect of the Rate of Command Output</p>
    <p>The rate that is chosen for issuing digital commands to the system is extremely important. A rate should be chosen that makes sense for the particular system being considered. In some cases, this rate is simply the servo rate of the control system. However, for disk drives, this rate must usually be higher because of the restrictions imposed by the use of embedded servo information for control. For systems in which the highest frequency of vibration to be suppressed is considerably lower than the servo rate, the servo rate is adequate for use as an output rate. For systems such as those considered in section 7.0 (such as most disk drives), the rate must be higher.</p>
    <p>One approach is to send output commands to the system at a multiple of the servo rate. In this formulation, the output to the physical system might be performed at two, three, or more times the rate of the servo. In our example system, the servo rate is 5 KHz. The highest mode to be suppressed is 2 KHz. If the output to the system is performed at triple the servo rate (15 KHz), there are over seven digital outputs per vibration cycle; therefore, the shaping formulations become simple. Several possible architectures can be considered. Two possibilities are presented below.</p>
    <p>In the first example, there is a separate output path from the controlling computer chip to the hardware for feedforward purposes. An example of this is a disk drive in which a voltage command can be fed forward directly to the amplifier while current commands are output by the closed-loop servo. In order to actually implement this, the following steps must be performed. At the servo rate (5 KHz), these steps comprise reading the sensors, executing the servo calculations, computing the servo output, and outputting this value to the servo output channel. At the higher rate (15 KHz), these steps comprise computing or looking-up the next trajectory value, executing the shaping method (if the correction for unwanted dynamics is not already included in the trajectory), and outputting the feedforward term to the feedforward output channel.</p>
    <p>In the second example, there is only a single output path from the controlling computer chip to the hardware. An example of this is a disk drive in which a current is the output generated by the closed-loop servo and current is also used in the feedforward term. In order to actually implement this, the following steps are performed. At the servo rate (5 KHz), these steps comprise reading the sensors, executing the servo calculations, computing the servo output, and saving this value for use by the section below. At the higher rate (15 KHz), these steps comprise computing or looking up the next trajectory value, executing the shaping method (if the correction for unwanted dynamics is not already included in the trajectory), and adding the feedforward term to the feedforward term to the servo output computed above.</p>
    <p>There are many related configurations which either combine the above two approaches or are variations of these approaches. One such variation uses continuous or near continuous time outputs from the feedforward term. If the control hardware for a disk drive or any other machine is constructed so that outputs can be scheduled in time, the feedforward outputs can run essentially asynchronously from the servo loop. In one such implementation, the voltages to the disk drive might be updated by a circuit at a high clock rate (e.g., 2 MHz). By loading a counter register with the time of the next voltage output, the hardware circuit can count down until the appropriate time and output the next voltage value. This enables an optimized trajectory to be computed using any of the techniques herein (or by any other process), and to be output at a rate sufficiently high so that the system can be commanded to move in an optimized (or near optimized) fashion without effecting the servo rate.</p>
    <p>An additional variation on the approaches presented herein is to use one of the shaped switched formulations so that only full scale voltages (or any other parameter) are output. For example, it is possible to use unity magnitude Shapers to take a switching voltage command signal designed only for a rigid body system, and to modify the switching voltage command signal so that the switching voltage command signal moves the system with little vibration. This approach enables the circuit to become a simple counter driven switch that changes its output at a preset time.</p>
    <p>A further variation is to use an interrupt-driven approach in which times to output values are scheduled and an interrupt is generated (using state of the art computer techniques) at the appropriate time. At the time of the interrupt, an appropriate output (or voltage switch) is provided by the controller chip or other device. Single or multiple hardware timers may be used to interrupt a DSP or microcontroller in the disk drive. Still another variation is to use a separate device, such as a programmable logic array, that is issued a single command which, in turn, generates a series of precisely-timed commands to the current loop. The DSP or microcontroller can be programmed in an asynchronous control loop that maintains a list of switch times and required transitions.</p>
    <p>8.0 PV Approach</p>
    <p>A PV table comprises a trajectory curve which defines the velocity of a system component, such as head <b>76</b>, in terms of that component's position, i.e., the distance that the component has yet to go in order to reach its final position. To use a PV table, an actual position of the component is compared to its desired position. The difference between these two values is then used to look up a velocity in the PV table for the component. Many disk drive systems rely on a PV table to determine their inputs. These inputs, however, can result in unwanted vibrations in the system. The techniques presented below can be used to reduce and/or limit such vibrations.</p>
    <p>This aspect of the invention is a method of generating a trajectory for inclusion in a PV table which is used in controlling movement of a component in a dynamic system. The method generates a trajectory in accordance with a technique for reducing unwanted dynamics of the component, i.e., generating a good move. The trajectory is then stored in the PV table, and the component is controlled to move along the trajectory stored in the PV table.</p>
    <p>In more detail, a good move is generated for the system using any of the techniques described in section 5 above. Specifically, the system is modeled, a good input is applied to the system, and the system's reaction to the good input is stored in a PV table as a trajectory for the system. In this manner, good moves can be re-cast into a PV table for a system, thereby providing a way to reduce unwanted system dynamics while staying within a PV formulation. Taking this approach one step further, a series of good moves can be generated using this technique, and the series of good moves can be stored in a series of parameterized PV tables.</p>
    <p>9.0 PV Feedback Approach</p>
    <p>In prior art disk drive systems, the velocity determined from a PV table is merely fed forward into the system, as shown, for example, in the conventional disk drive system diagram depicted in FIG. <b>13</b>. This could lead to unwanted system vibrations. This aspect of the invention, however, shapes the velocity before it is provided to the system and, in addition, performs inverse shaping in the system's feedback loop, thereby correcting the feedback so as not to co-opt the operation of the PV table.</p>
    <p>FIG. 14 shows an example of a system diagram for a disk drive that is controlled in accordance with this aspect of the invention. The disk drive includes PV table <b>84</b>, shaper <b>86</b>, and inverse shaper <b>87</b>. Shaper <b>86</b> is placed in the feedforward loop following PV table <b>84</b> so as to shape the velocity output therefrom. Inverse shaper <b>87</b>, which comprises the inverse of shaper <b>86</b>, is placed in the feedback loop. The relationship between inverse shape <b>87</b> and shaper <b>86</b>, in either the time domain or the frequency domain, is as follows:</p>
    <p>
      <maths> <formula-text>if shaper=<i>A/B, </i>then shaper<sup>1</sup> <i>=B/A.</i> </formula-text> </maths> </p>
    <p>The combination of shaper <b>86</b> and inverse shaper <b>87</b> reduce unwanted system dynamics, such as vibrations of head <b>76</b>. Specifically, shaper <b>86</b> alters the velocity input to the system so as to reduce vibrations in head <b>76</b> resulting from system movement, and inverse shaper <b>87</b> operates to restore loop stability to what it was prior to insertion of the shaper <b>86</b> in the forward loop. Shaper <b>86</b> and inverse shaper <b>87</b> are not limited to the Input Shapers and inverse Input Shapers described in U.S. Pat. Nos. 4,916,635 and 5,638,635. In fact, shaper <b>86</b> and inverse shaper <b>87</b> can be any pole-zero dynamic block, IIR filter, FIR filter, tapped continuous delay line filter, or the like.</p>
    <p>FIGS. 15 and 16 show relationships between inputs and outputs of a shaper (IS) and inverse shaper (IS<sup>1</sup>), respectively, formed using an FIR filter, with A as the input. Specifically, relationships between the inputs and outputs of IS and IS<sup>1 </sup>are as follows: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <msub> <mi>y</mi> <mi>n</mi> </msub> <mo>=</mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>0</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>A</mi> <mi>i</mi> </msub> <mo></mo> <msub> <mi>x</mi> <mrow> <mi>n</mi> <mo>-</mo> <mi>i</mi> </mrow> </msub> </mrow> </mrow> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>43</mn> <mo>)</mo> </mrow> </mtd> </mtr> <mtr> <mtd> <mrow> <msub> <mi>x</mi> <mi>n</mi> </msub> <mo>=</mo> <mrow> <mfrac> <msub> <mi>y</mi> <mi>n</mi> </msub> <msub> <mi>A</mi> <mn>0</mn> </msub> </mfrac> <mo>-</mo> <mrow> <mfrac> <mn>1</mn> <msub> <mi>A</mi> <mn>0</mn> </msub> </mfrac> <mo></mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>A</mi> <mi>i</mi> </msub> <mo></mo> <msub> <mi>x</mi> <mrow> <mi>n</mi> <mo>-</mo> <mi>i</mi> </mrow> </msub> </mrow> </mrow> </mrow> </mrow> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00033.png"> <img id="EMI-M00033" file="US06314473-20011106-M00033.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00033.png" class="patent-full-image" alt="Figure US06314473-20011106-M00033"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00033" attachment-type="nb" file="US06314473-20011106-M00033.NB"> </attachment> </attachments> </maths> </p>
    <p>FIGS. 17 and 18, show relationships between inputs and outputs of a shaper and an inverse shaper (IS<sup>1</sup>), respectively, which are formed using a tapped continuous delay line filter. Specifically, relationships between inputs and outputs of IS and IS<sup>1 </sup>are as follows: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <mi>y</mi> <mo></mo> <mrow> <mo>(</mo> <mi>t</mi> <mo>)</mo> </mrow> </mrow> <mo>=</mo> <mrow> <mrow> <msub> <mi>A</mi> <mn>0</mn> </msub> <mo></mo> <mrow> <mi>x</mi> <mo></mo> <mrow> <mo>(</mo> <mi>t</mi> <mo>)</mo> </mrow> </mrow> </mrow> <mo>+</mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>A</mi> <mi>i</mi> </msub> <mo></mo> <mrow> <mi>x</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <mi>t</mi> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </mrow> </mrow> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>44</mn> <mo>)</mo> </mrow> </mtd> </mtr> <mtr> <mtd> <mrow> <mrow> <mi>x</mi> <mo></mo> <mrow> <mo>(</mo> <mi>t</mi> <mo>)</mo> </mrow> </mrow> <mo>=</mo> <mrow> <mrow> <mfrac> <mn>1</mn> <msub> <mi>A</mi> <mn>0</mn> </msub> </mfrac> <mo></mo> <mrow> <mi>y</mi> <mo></mo> <mrow> <mo>(</mo> <mi>t</mi> <mo>)</mo> </mrow> </mrow> </mrow> <mo>-</mo> <mrow> <mfrac> <mn>1</mn> <msub> <mi>A</mi> <mn>0</mn> </msub> </mfrac> <mo></mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>A</mi> <mi>i</mi> </msub> <mo></mo> <mrow> <mi>x</mi> <mo></mo> <mrow> <mo>(</mo> <mrow> <mi>t</mi> <mo>-</mo> <msub> <mi>T</mi> <mi>i</mi> </msub> </mrow> <mo>)</mo> </mrow> </mrow> </mrow> </mrow> </mrow> </mrow> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00034.png"> <img id="EMI-M00034" file="US06314473-20011106-M00034.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00034.png" class="patent-full-image" alt="Figure US06314473-20011106-M00034"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00034" attachment-type="nb" file="US06314473-20011106-M00034.NB"> </attachment> </attachments> </maths> </p>
    <p>FIGS. 19 and 20, show relationships between inputs and outputs of a shaper (IS) and an inverse shaper (IS<sup>1</sup>), respectively, which are formed an IIR filter. Specifically, relationships between inputs and outputs of IS and IS<sup>1 </sup>are as follows: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <msub> <mi>y</mi> <mi>n</mi> </msub> <mo>=</mo> <mrow> <mrow> <mfrac> <mn>1</mn> <msub> <mi>B</mi> <mn>0</mn> </msub> </mfrac> <mo></mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>A</mi> <mi>i</mi> </msub> <mo></mo> <msub> <mi>x</mi> <mrow> <mi>n</mi> <mo>-</mo> <mi>i</mi> </mrow> </msub> </mrow> </mrow> </mrow> <mo>-</mo> <mrow> <mfrac> <mn>1</mn> <msub> <mi>B</mi> <mn>0</mn> </msub> </mfrac> <mo></mo> <mrow> <munderover> <mo></mo> <mrow> <mi>j</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>M</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>B</mi> <mi>j</mi> </msub> <mo></mo> <msub> <mi>y</mi> <mrow> <mi>n</mi> <mo>-</mo> <mi>j</mi> </mrow> </msub> </mrow> </mrow> </mrow> </mrow> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>45</mn> <mo>)</mo> </mrow> </mtd> </mtr> <mtr> <mtd> <mrow> <msub> <mi>x</mi> <mi>n</mi> </msub> <mo>=</mo> <mrow> <mrow> <mfrac> <mn>1</mn> <msub> <mi>A</mi> <mn>0</mn> </msub> </mfrac> <mo></mo> <mrow> <munderover> <mo></mo> <mrow> <mi>j</mi> <mo>=</mo> <mn>0</mn> </mrow> <mi>M</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>B</mi> <mi>j</mi> </msub> <mo></mo> <msub> <mi>y</mi> <mrow> <mi>n</mi> <mo>-</mo> <mi>j</mi> </mrow> </msub> </mrow> </mrow> </mrow> <mo>-</mo> <mrow> <mfrac> <mn>1</mn> <msub> <mi>A</mi> <mn>0</mn> </msub> </mfrac> <mo></mo> <mrow> <munderover> <mo></mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>N</mi> </munderover> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mrow> <msub> <mi>A</mi> <mi>i</mi> </msub> <mo></mo> <msub> <mi>x</mi> <mrow> <mi>n</mi> <mo>-</mo> <mi>i</mi> </mrow> </msub> </mrow> </mrow> </mrow> </mrow> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00035.png"> <img id="EMI-M00035" file="US06314473-20011106-M00035.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00035.png" class="patent-full-image" alt="Figure US06314473-20011106-M00035"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00035" attachment-type="nb" file="US06314473-20011106-M00035.NB"> </attachment> </attachments> </maths> </p>
    <p>To summarize, this aspect of the invention is directed to a method and corresponding apparatus for using a PV table to control a component, such as head <b>76</b>, in a dynamic system, such as disk drive <b>10</b>. The invention generates a position variable for the component and determines a velocity command for the component using the PV table, where the velocity command is determined based on the position variable. The velocity command is then shaped using an Input Shaper or the like in order to generate a shaped velocity command, whereafter the component is controlled to move based on the shaped velocity command. In the invention, a preset position of the component is compared to a measured position of the component in order to determine the position variable, and inverse shaping is performed on the measured position prior to comparing the measured position to the preset position.</p>
    <p>10.0 N-Dimensional PV Table</p>
    <p>The present invention also provides an enhanced PV table which may, or may not, be used in connection with the foregoing feedback approach and the foregoing techniques for generating good moves. As background, the same PV table may not produce accurate results for different distance moves, among other things. To address this problem, conventional disk drive systems typically include one, two or maybe even three PV tables, i.e., one table for short moves, one table for medium-distance moves, and one table for long moves. Which table is selected depends upon the distance of the desired move. Since only three discrete values are provided for the movement distance, the system may not reach its final destination as quickly as desired.</p>
    <p>The present invention provides a better approach, namely to generate an N-dimensional (N&gt;2) PV table in which velocity is a function of position and a function of a third (fourth, fifth, etc.) variable, such as movement distance, resistance, temperature, etc. This approach effectively provides increased movement speed, since the requested velocity values more closely represent physical limitations of the disk drive for substantially all movement distances. Moreover, this approach makes more sense than the conventional formulation, especially in the disk drive area, since disk drive systems are third order in nature and a conventional PV approach is second order in nature. Although the present invention may use a PV table having any number N (N&gt;2) of dimensions, for the sake of simplicity, the examples provided herein refer usually to a three-dimensional PV table.</p>
    <p>In order to determine trajectories for a PV table, a dynamic model of the system must be determined. An example of such a model is partial fraction expansion equations 19. A system input, which is a function of time and which will move the model a desired distance, is then generated based on the model. For example, the system input may consist of a series of switch times and voltage levels, or a digital sequence of voltage levels. The input, in conjunction with the system model, is used to simulate the desired motion of the system. Any form of the model that yields both a position and a velocity output is suitable. As an example, the third order voltage-to-position transfer function <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mrow> <mi>H</mi> <mo></mo> <mrow> <mo>(</mo> <mi>s</mi> <mo>)</mo> </mrow> </mrow> <mo>=</mo> <mrow> <mfrac> <mi>A</mi> <mi>s</mi> </mfrac> <mo>*</mo> <mfrac> <mi>a</mi> <mrow> <mi>s</mi> <mo>+</mo> <mi>a</mi> </mrow> </mfrac> <mo>*</mo> <mfrac> <mi>b</mi> <mrow> <mi>s</mi> <mo>+</mo> <mi>b</mi> </mrow> </mfrac> </mrow> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>46</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00036.png"> <img id="EMI-M00036" file="US06314473-20011106-M00036.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00036.png" class="patent-full-image" alt="Figure US06314473-20011106-M00036"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00036" attachment-type="nb" file="US06314473-20011106-M00036.NB"> </attachment> </attachments> </maths> </p>
    <p>could be transformed and manipulated so that position and velocity are available as outputs. Using the commutative property of multiplication, the transfer function can be rearranged and then broken up to yield a block diagram with voltage input and position and velocity outputs as follows: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <mi>Voltage</mi> <mo></mo> <mrow> <mi>A</mi> <mo></mo> <mrow> <mfrac> <mi>a</mi> <mrow> <mi>s</mi> <mo>+</mo> <mi>a</mi> </mrow> </mfrac> <mo></mo> <mrow> <mfrac> <mi>b</mi> <mrow> <mi>s</mi> <mo>+</mo> <mi>b</mi> </mrow> </mfrac> <mo></mo> <mi>Velocity</mi> </mrow> </mrow> </mrow> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>47</mn> <mo>)</mo> </mrow> </mtd> </mtr> <mtr> <mtd> <mrow> <mi>Velocity</mi> <mo></mo> <mrow> <mfrac> <mn>1</mn> <mi>s</mi> </mfrac> <mo></mo> <mi>Postition</mi> </mrow> </mrow> </mtd> <mtd> <mstyle> <mtext></mtext> </mstyle> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00037.png"> <img id="EMI-M00037" file="US06314473-20011106-M00037.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00037.png" class="patent-full-image" alt="Figure US06314473-20011106-M00037"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00037" attachment-type="nb" file="US06314473-20011106-M00037.NB"> </attachment> </attachments> </maths> </p>
    <p>The above block diagram is then used as the basis of a computer simulation that yields the velocity and position outputs corresponding the voltage input. The integration is performed forward in time. If both the form of the input (e.g. three switch times and three voltage levels) and the model are simple, then direct analytical solution of the system model to time domain equations can be used as an alternative approach to simulation. The velocity, and position outputs of the simulation are then tabulated to form one version of the PV table.</p>
    <p>The present invention enables three approaches to PV table generation. First, a shaped input can be integrated forward to generate a PV tablein the above block diagram a shaper would be inserted following the voltage input. Second, an unshaped input can be integrated forward and an output of the integration can be shaped and stored in a table. Third, a vibration-reducing trajectory can be computed using a constraint-based approach, this input can be integrated forward, and the output thereof stored in a table. Prior to the derivation of the partial fraction expansion equations shown above, there was no way to generate an input that was guaranteed to get the system to its final destination; therefore forward integration was not a viable approach. Reverse integration from a final condition was commonly used.</p>
    <p>Using the generated input, system outputs are then determined over time so as to generate values of position as a function of time and velocity as a function of time. These values are then re-cast as velocity as a function of position. To generate a three-dimensional PV table, the above process is repeated for the third variable in order to generate velocity as a function of both position and the third variable. The process may then be repeated for additional variables.</p>
    <p>Since a three-dimensional PV table may require large amounts of memory space, and therefore may not be practical in all circumstances, the present invention provides several ways in which to approximate operation of a three-dimensional PV table using a series of PV trajectories. For example, the invention generates a series of PV trajectories for various movement distances, stores these trajectories, and selects trajectories corresponding to a desired movement distance while ignoring all other trajectories. Thus, in this case, one of the series trajectories is selected from the position-velocity table based on the desired movement distance and the system is controlled accordingly.</p>
    <p>Another way to approximate a three-dimensional PV table is to perform curve fitting on a series trajectories in a PV table, such as those shown in the PV table of FIG. <b>21</b>. With regard to FIG. 21, it is noted that, in the realm of computer disk drives, an actual target velocity is typically not included in the PV table. Instead, a velocity command, comprising a target velocity plus an additional term relating to the actuator arm's effort to stay on track, is included in the PV table. With regard to curve fitting, since the curves shown in FIG. 21 are substantially regular, it is possible to parameterize the curves and to generate a function which can be used to generate a single PV trajectory to control the system.</p>
    <p>FIG. 22 shows examples of parameterized curves which were generated from the curves shown in FIG. <b>21</b>. For the example shown in FIG. 22, an estimate of curves between the lowest (3000) and the highest (100) curve could be obtained by taking a weighted average of the lowest and highest curves based on movement distance. Consequently, in this example, an entire series of curves can be estimated by taking a weighted average of only two curves and using original movement distance to adjust the weights in the weighted average. Another way to approximate a three-dimensional PV table is to generate a custom PV table for each movement distance in real-time. This can be done using the system equations 19 for a computer disk drive set forth in section 4 above.</p>
    <p>It is also possible to modify a series of trajectories in a PV table based on measurements of system parameter variations, such as variations in temperature, resistance, etc. This is done by estimating system parameters while motion is in progress, and determining whether the system parameters have varied from predetermined system parameters. Trajectories in the PV table are then modified based on any determined system parameter variations, whereafter the modified trajectories are stored in the PV table. Any method of estimating the system parameters may be used in connection with the present invention, including a conventional parameter estimator. For example, as a disk drive heats up, resistance therein changes. By looking at prior move responses, it is possible to estimate the resistance, to determine whether the resistance has changed, and to recalculate the drive's PV table, if necessary.</p>
    <p>More specifically, in a disk drive system, during a first part of a move, the system is in saturation and, therefore, the PV table is inactive. This corresponds to issuing a step command in voltage to accelerate movement as rapidly as possible. During this acceleration phase, the actual current flowing through a voice coil motor used to convert electrical energy to mechanical energy can be measured. Knowing this, it is possible to perform an energy balance calculation to determine energy losses in the system due to resistance. The energy lost due to resistance equals the energy input to the disk drive minus kinetic energy of the voice coil motor minus energy stored in the voice coil inductor. This determination is made assuming that the inertia of the voice coil motor and the inductance of the voice coil are known or can be determined.</p>
    <p>In real-time, the following steps are performed in order to estimate resistance: (i) for each time step, measure the actual current and the actual voltage applied to the drive's voice coil motor, (ii) integrate power in the drive (determined by multiplying voltage by current) over time to determine the total energy input to the system, (iii) calculate the instantaneous kinetic energy of the voice coil motor, (iv) calculate the instantaneous energy in the motor inductance, (v) calculate the integral of drive current squared over time, (vi) determine the estimated resistance by subtracting, from the energy input, the kinetic energy and the energy in the inductor divided by the integral of the current over time. Thus, after each integration, an estimated resistance for the disk drive is calculated. This can then be used to update the PV table.</p>
    <p>Similar energy of momentum balance equations can be used to estimate other system parameters. For example, the following equation can be used to estimate motor torque: <maths> <math overflow="scroll"> <mtable> <mtr> <mtd> <mrow> <msub> <mi>K</mi> <mi>t</mi> </msub> <mo>=</mo> <mrow> <mfrac> <mrow> <mi>J</mi> <mo></mo> <mstyle> <mtext></mtext> </mstyle> <mo></mo> <mi></mi> </mrow> <mrow> <mo></mo> <mrow> <mi>i</mi> <mo></mo> <mrow> <mo></mo> <mi>t</mi> </mrow> </mrow> </mrow> </mfrac> <mo>.</mo> </mrow> </mrow> </mtd> <mtd> <mrow> <mo>(</mo> <mn>48</mn> <mo>)</mo> </mrow> </mtd> </mtr> </mtable> </math> <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00038.png"> <img id="EMI-M00038" file="US06314473-20011106-M00038.TIF" img-content="math" img-format="tif" src="//patentimages.storage.googleapis.com/US6314473B1/US06314473-20011106-M00038.png" class="patent-full-image" alt="Figure US06314473-20011106-M00038"> </a> </div> <attachments> <attachment idref="MATHEMATICA-00038" attachment-type="nb" file="US06314473-20011106-M00038.NB"> </attachment> </attachments> </maths> </p>
    <p>This equation can be solved in real-time, and can be solved over a whole move or incrementally starting at any time during the move.</p>
    <p>The foregoing techniques for generating PV tables can be calculated off-line, thereby making it possible to parameterize or curve-fit PV tables as a function of system parameters as well as movement distance. Consequently, it is then possible to retrieve a PV table based on movement distance and system parameters. Moreover, it is noted that an N-dimensional PV table can be used outside of the context of the vibration reduction methods described herein, and that a non-dimensional PV table can be used in connection with all aspects of the present invention. A non-dimensional PV table comprises a PV table in which the independent variable on the X-axis of the PV table has been scaled using a predetermined scaling factor. Such a factor may be, for example, a maximum number of tracks moved, or the like.</p>
    <p>11.0 Shape on Transient (SHOT)</p>
    <p>Conventional implementations of the PV approach to controlling a disk drive encompass variations of the following steps: (i) ramping the current command to saturation (various techniques are used for this); (ii) commanding full, saturated current until some braking condition is satisfied, (iii) transitioning to full, saturated deceleration until the PV curve is crossed; (iv) following the PV curve until the drive is close to the final destination; and (v) turning on a terminal controller to bring the system on track. The preponderance of vibration, both mechanical and acoustic, is created by the sudden transitions at the beginning and middle of the PV move. Consequently, Input Shaping (or any other vibrationreducing technique) need be applied to only these portions of the trajectory.</p>
    <p>A new sequence of operations, using SHOT, is as follows: (i) Input Shape the current command to saturation; (ii) command full, saturated current until some braking condition is satisfied; (iii) Input Shape the transition to full, saturated deceleration until the PV curve is crossed; (iv) follow the PV curve until the drive is close to its final destination; and (v) turn on a terminal controller to bring the system on track. Since the transitions to saturation are both just steps, the shaped transitions become shaped steps (or staircases).</p>
    <p>Shaping can be rendered less effective if the input results in saturation and the command generator is unaware of the saturation. There are several methods for dealing with this situation. It is possible to command the system into saturation using estimates of when saturation should occur based on previous moves. For example, by estimating the maximum voltage and the coil resistance (or the quotient of maximum voltage/coil resistance) the maximum current in saturation can be obtained. Once the system is shaped into saturation, the saturation current can be calculated by measuring the acceleration and the velocity, since current is related to acceleration by a constant and the effective voltage is the saturation voltage minus the back EMF constant times the velocity.</p>
    <p>Based on these calculations, it is possible to compute the actual saturation level. It is then important to command only enough of an input to keep the system in saturation and not exceed this level by too great of a value. If this value is exceeded by a considerable amount, the shaping that is applied when the command is reversed to slow the system down will be chopped-off at the beginning. For example, if an output command of 5 volts from a DAC will saturate the current amplifier in steady state at the current velocity, then a command of 6 volts would be undesirable. During the transition to deceleration, if this error is left uncorrected, the shaper will reduce the voltage to, e.g., 5.5 volts as the first part of the shaping process, yet the amplifier will remain saturated. Therefore, the effect of shaping is degraded.</p>
    <p>While the SHOT technique is well suited for adding to the PV approach, it is by no means limited to PV. Any method of commanding a disk drive to move that causes significant transitions in the command to the system is a candidate for SHOT. The user need simply use shaped transitions instead of sudden or ramped transitions. The key to this approach is that while sudden transitions cause vibrations and noise, and smooth transitions often cause vibrations and noise (although less so than sudden transitions); shaped transitions can be constructed to yield any level of vibrations and noise. This makes the use of shaped transitions desirable because the effects are predictable and the move is lengthened by the minimum amount. SHOT can also be used for transitions caused by sudden gain changes as well as command changes. In this application, the gain is altered in a shaped manner from one level to another using any one of the shaping techniques described herein or from the literature.</p>
    <p>12.0 Conclusion</p>
    <p>At this point, it is reiterated that all aspects of the present invention can be implemented in hardware, software or a combination of thereof. Moreover, although the invention has been described in the context of computer disk drives, it may apply equally to other types of data storage devices (of which a computer disk drive is one), including, but not limited to, optical drives, tape drives, dual-actuated disk drives, and holographic storage devices which read from, and write to, data storage media other than magnetic disks.</p>
    <p>The present invention has been described with respect to particular illustrative embodiments. It is to be understood that the invention is not limited to the above-described embodiments and modifications thereto, and that various changes and modifications may be made by those of ordinary skill in the art without departing from the spirit and scope of the appended claims.</p>
    </div></div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Patent Citations</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Cited Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US4675761">US4675761</a></td><td class="patent-data-table-td patent-date-value">Mar 3, 1986</td><td class="patent-data-table-td patent-date-value">Jun 23, 1987</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Magnetic head positioning apparatus and method</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US4937689">US4937689</a></td><td class="patent-data-table-td patent-date-value">Nov 28, 1988</td><td class="patent-data-table-td patent-date-value">Jun 26, 1990</td><td class="patent-data-table-td ">Maxtor Corporation</td><td class="patent-data-table-td ">Apparatus for controlling seek strategy of read/write head in a disk drive</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US4956831">US4956831</a></td><td class="patent-data-table-td patent-date-value">Sep 14, 1988</td><td class="patent-data-table-td patent-date-value">Sep 11, 1990</td><td class="patent-data-table-td ">Miniscribe Corporation</td><td class="patent-data-table-td ">Low acoustic noise head actuator</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US4967293">US4967293</a></td><td class="patent-data-table-td patent-date-value">Aug 5, 1988</td><td class="patent-data-table-td patent-date-value">Oct 30, 1990</td><td class="patent-data-table-td ">Fujitsu Limited</td><td class="patent-data-table-td ">Multi-positioner magnetic disk storage apparatus having means for reducing mechanical vibration interference between positioners</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5264771">US5264771</a></td><td class="patent-data-table-td patent-date-value">May 14, 1992</td><td class="patent-data-table-td patent-date-value">Nov 23, 1993</td><td class="patent-data-table-td ">Alps Electric Co., Ltd.</td><td class="patent-data-table-td ">Stepping motor control system</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5282100">US5282100</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jan 22, 1992</td><td class="patent-data-table-td patent-date-value">Jan 25, 1994</td><td class="patent-data-table-td ">Quantum Corporation</td><td class="patent-data-table-td ">Disk drive with reduced acoustic noise</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5291110">US5291110</a></td><td class="patent-data-table-td patent-date-value">Oct 31, 1991</td><td class="patent-data-table-td patent-date-value">Mar 1, 1994</td><td class="patent-data-table-td ">Integral Peripherals, Inc.</td><td class="patent-data-table-td ">Low acoustic noise seeking method and apparatus</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5450252">US5450252</a></td><td class="patent-data-table-td patent-date-value">Feb 16, 1994</td><td class="patent-data-table-td patent-date-value">Sep 12, 1995</td><td class="patent-data-table-td ">Kabushiki Kaisha Toshiba</td><td class="patent-data-table-td ">Hard disk drive including moving means for moving a recording/reproducing head and having a noise canceler utilizing series-connected filters in parallel with the moving means</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5465034">US5465034</a></td><td class="patent-data-table-td patent-date-value">Jan 31, 1994</td><td class="patent-data-table-td patent-date-value">Nov 7, 1995</td><td class="patent-data-table-td ">Integral Peripherals, Inc.</td><td class="patent-data-table-td ">Low acoustic noise seeking method and apparatus</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5475545">US5475545</a></td><td class="patent-data-table-td patent-date-value">Mar 28, 1991</td><td class="patent-data-table-td patent-date-value">Dec 12, 1995</td><td class="patent-data-table-td ">Seagate Technology, Inc.</td><td class="patent-data-table-td ">Method for reducing noise during seeks in a hard disk drive</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5657179">US5657179</a></td><td class="patent-data-table-td patent-date-value">Jul 31, 1992</td><td class="patent-data-table-td patent-date-value">Aug 12, 1997</td><td class="patent-data-table-td ">Seagate Technology, Inc.</td><td class="patent-data-table-td ">Method for reducing noise during track seeking in a disc drive</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5668680">US5668680</a></td><td class="patent-data-table-td patent-date-value">Mar 4, 1996</td><td class="patent-data-table-td patent-date-value">Sep 16, 1997</td><td class="patent-data-table-td ">Seagate Technology, Inc.</td><td class="patent-data-table-td ">Time optimal control of a disc drive actuator with vibro-acoustic constraints</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5696647">US5696647</a></td><td class="patent-data-table-td patent-date-value">Mar 28, 1994</td><td class="patent-data-table-td patent-date-value">Dec 9, 1997</td><td class="patent-data-table-td ">Seagate Technology, Inc.</td><td class="patent-data-table-td ">Method for carrying out seeks in a hard disc drive to limit the generation of acoustic noise including using a slew rate limit</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5726825">US5726825</a></td><td class="patent-data-table-td patent-date-value">May 31, 1996</td><td class="patent-data-table-td patent-date-value">Mar 10, 1998</td><td class="patent-data-table-td ">Phan; Duc T.</td><td class="patent-data-table-td ">Method for carring out seeks in a hard disc drive to limit the generation of acoustic noise</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5751513">US5751513</a></td><td class="patent-data-table-td patent-date-value">May 31, 1996</td><td class="patent-data-table-td patent-date-value">May 12, 1998</td><td class="patent-data-table-td ">Seagate Technology, Inc.</td><td class="patent-data-table-td ">Method for carrying out seeks in a hard disc drive to limit the generation of acoustic noise</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5760992">US5760992</a></td><td class="patent-data-table-td patent-date-value">May 31, 1996</td><td class="patent-data-table-td patent-date-value">Jun 2, 1998</td><td class="patent-data-table-td ">Seagate Technology, Inc.</td><td class="patent-data-table-td ">Method for carrying out seeks in a hard disc drive to limit the generation of acoustic noise</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5880587">US5880587</a></td><td class="patent-data-table-td patent-date-value">Feb 3, 1997</td><td class="patent-data-table-td patent-date-value">Mar 9, 1999</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Method and apparatus for performing in file slider take-off measurements through tuned external AE detection</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5901009">US5901009</a></td><td class="patent-data-table-td patent-date-value">May 31, 1995</td><td class="patent-data-table-td patent-date-value">May 4, 1999</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Reduced seek acoustic noise direct access storage device</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5973871">US5973871</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jun 21, 1993</td><td class="patent-data-table-td patent-date-value">Oct 26, 1999</td><td class="patent-data-table-td ">Maxtor Corporation</td><td class="patent-data-table-td ">Disk drive adaptable for multiple operating voltages</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5982570">US5982570</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Sep 15, 1997</td><td class="patent-data-table-td patent-date-value">Nov 9, 1999</td><td class="patent-data-table-td ">Hitachi, Ltd.</td><td class="patent-data-table-td ">Information storing device and method for controlling same to record/reproduce information by selecting one of working modes</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5986426">US5986426</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Aug 5, 1997</td><td class="patent-data-table-td patent-date-value">Nov 16, 1999</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Adaptive pulse width modulated motor control</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6008640">US6008640</a></td><td class="patent-data-table-td patent-date-value">Sep 30, 1997</td><td class="patent-data-table-td patent-date-value">Dec 28, 1999</td><td class="patent-data-table-td ">Seagate Technology, Inc.</td><td class="patent-data-table-td ">Detection and measurement of head disc interference using read back signal (without acoustic emission sensor or laser doppler vibrometer)</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6011373">US6011373</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Apr 30, 1999</td><td class="patent-data-table-td patent-date-value">Jan 4, 2000</td><td class="patent-data-table-td ">Iowa State University Research Foundation, Inc.</td><td class="patent-data-table-td ">Robust vibration suppression methods and systems</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6011667">US6011667</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Feb 26, 1999</td><td class="patent-data-table-td patent-date-value">Jan 4, 2000</td><td class="patent-data-table-td ">Maxtor Corporation</td><td class="patent-data-table-td ">Disk drive system configurable for multiple supply voltages</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6013995">US6013995</a></td><td class="patent-data-table-td patent-date-value">Sep 2, 1997</td><td class="patent-data-table-td patent-date-value">Jan 11, 2000</td><td class="patent-data-table-td ">Samsung Electronics Co., Ltd.</td><td class="patent-data-table-td ">Method and apparatus for adaptive feedforward control with reduced noise during track seek operations</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6031684">US6031684</a></td><td class="patent-data-table-td patent-date-value">Aug 29, 1997</td><td class="patent-data-table-td patent-date-value">Feb 29, 2000</td><td class="patent-data-table-td ">Seagate Technology, Inc.</td><td class="patent-data-table-td ">Servo gain optimization using model reference seeks in a disc drive</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6038096">US6038096</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Aug 28, 1997</td><td class="patent-data-table-td patent-date-value">Mar 14, 2000</td><td class="patent-data-table-td ">Samsung Electronics Co., Ltd.</td><td class="patent-data-table-td ">Adaptive sector seeking method for reducing disk drive power consumption</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6052252">US6052252</a></td><td class="patent-data-table-td patent-date-value">Apr 30, 1997</td><td class="patent-data-table-td patent-date-value">Apr 18, 2000</td><td class="patent-data-table-td ">Samsung Electronics Co., Ltd.</td><td class="patent-data-table-td ">Adaptive feed forward device for reducing current control errors</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6101065">US6101065</a></td><td class="patent-data-table-td patent-date-value">Mar 30, 1998</td><td class="patent-data-table-td patent-date-value">Aug 8, 2000</td><td class="patent-data-table-td ">Western Digital Corporation</td><td class="patent-data-table-td ">Disk drive with seek profile selection based on read/write operation</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6111720">US6111720</a></td><td class="patent-data-table-td patent-date-value">Aug 28, 1997</td><td class="patent-data-table-td patent-date-value">Aug 29, 2000</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Method and apparatus for providing separate read/write velocity curves</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6115205">US6115205</a></td><td class="patent-data-table-td patent-date-value">Mar 11, 1994</td><td class="patent-data-table-td patent-date-value">Sep 5, 2000</td><td class="patent-data-table-td ">Seagate Technology, Inc.</td><td class="patent-data-table-td ">Method for adapting seeks of a disc drive transducer to the maximum actuator current available to accelerate and decelerate the transducer</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6148240">US6148240</a></td><td class="patent-data-table-td patent-date-value">Mar 6, 1998</td><td class="patent-data-table-td patent-date-value">Nov 14, 2000</td><td class="patent-data-table-td ">Quantum Corporation</td><td class="patent-data-table-td ">Method and apparatus for performing an open-loop current shaping for seeking acoustics reduction in a disk drive</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6151182">US6151182</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Sep 29, 1999</td><td class="patent-data-table-td patent-date-value">Nov 21, 2000</td><td class="patent-data-table-td ">Hitachi, Ltd.</td><td class="patent-data-table-td ">Information storing device and method for controlling same to record/reproduce information by selecting one of working modes</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6178060">US6178060</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jul 13, 1999</td><td class="patent-data-table-td patent-date-value">Jan 23, 2001</td><td class="patent-data-table-td ">Seagate Technology Llc</td><td class="patent-data-table-td ">Current profile shaping to reduce disc drive seek time variation and acoustic noise generation</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6195222">US6195222</a></td><td class="patent-data-table-td patent-date-value">Nov 4, 1998</td><td class="patent-data-table-td patent-date-value">Feb 27, 2001</td><td class="patent-data-table-td ">Western Digital Corporation</td><td class="patent-data-table-td ">Disk drive with seek profile selection based on a queued vs. non-queued environment</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/EP0308062A2?cl=en">EP0308062A2</a></td><td class="patent-data-table-td patent-date-value">Aug 9, 1988</td><td class="patent-data-table-td patent-date-value">Mar 22, 1989</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Disk file digital servo control</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/EP0441407A1?cl=en">EP0441407A1</a></td><td class="patent-data-table-td patent-date-value">Feb 9, 1991</td><td class="patent-data-table-td patent-date-value">Aug 14, 1991</td><td class="patent-data-table-td ">Fujitsu Limited</td><td class="patent-data-table-td ">System for positioning an object</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/EP0543654A2?cl=en">EP0543654A2</a></td><td class="patent-data-table-td patent-date-value">Nov 20, 1992</td><td class="patent-data-table-td patent-date-value">May 26, 1993</td><td class="patent-data-table-td ">Fujitsu Limited</td><td class="patent-data-table-td ">Positioning control system</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="http://www.google.com/url?id=jnxXBAABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DGB%26NR%3D2303732A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNHa57VLQRKx8S8ZBXDBHdFxpAxGXw">GB2303732A</a></td><td class="patent-data-table-td patent-date-value"></td><td class="patent-data-table-td patent-date-value"></td><td class="patent-data-table-td "> </td><td class="patent-data-table-td citation-no-title">Title not available</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2000003389A1?cl=en">WO2000003389A1</a></td><td class="patent-data-table-td patent-date-value">Jul 13, 1999</td><td class="patent-data-table-td patent-date-value">Jan 20, 2000</td><td class="patent-data-table-td ">Seagate Technology</td><td class="patent-data-table-td ">Current profile shaping to reduce disc drive seek time variation and acoustic noise generation</td></tr></table><div class="patent-section-footer">* Cited by examiner</div></div><div class="patent-section patent-tabular-section"><a id="npl-citations"></a><div class="patent-section-header"><span class="patent-section-title">Non-Patent Citations</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th colspan="3"class="patent-data-table-th">Reference</th></tr></thead><tr><td class="patent-data-table-td ">1</td><td class="patent-data-table-td "><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td ">"<a href='http://scholar.google.com/scholar?q="High-Speed%2FLow-Power+Selectable+Optical+File"'>High-Speed/Low-Power Selectable Optical File</a>", 2244 Reserarch Disclosure, Jul. 1990. No. 315.</td></tr></table><div class="patent-section-footer">* Cited by examiner</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Referenced by</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Citing Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6560658">US6560658</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jun 4, 2001</td><td class="patent-data-table-td patent-date-value">May 6, 2003</td><td class="patent-data-table-td ">Convolve, Inc.</td><td class="patent-data-table-td ">Data storage device with quick and quiet modes</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6578106">US6578106</a></td><td class="patent-data-table-td patent-date-value">Oct 31, 2000</td><td class="patent-data-table-td patent-date-value">Jun 10, 2003</td><td class="patent-data-table-td ">Keen Personal Media, Inc.</td><td class="patent-data-table-td ">Data storage system adapted to select an operational state with corresponding performance levels and acoustic noise levels based on a system profile</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6629089">US6629089</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Sep 29, 2000</td><td class="patent-data-table-td patent-date-value">Sep 30, 2003</td><td class="patent-data-table-td ">Cirrus Logic, Inc.</td><td class="patent-data-table-td ">Artificial neural network voice coil motor controller</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6704159">US6704159</a></td><td class="patent-data-table-td patent-date-value">Mar 16, 2001</td><td class="patent-data-table-td patent-date-value">Mar 9, 2004</td><td class="patent-data-table-td ">Seagate Technology Llc</td><td class="patent-data-table-td ">Automatic acoustic management system for a disc drive</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6757481">US6757481</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Sep 22, 1999</td><td class="patent-data-table-td patent-date-value">Jun 29, 2004</td><td class="patent-data-table-td ">Western Digital Technologies, Inc.</td><td class="patent-data-table-td ">Disk drives and disk drive-containing devices having selectively controllable and/or adaptive quiet and high performance modes of operation</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6892249">US6892249</a></td><td class="patent-data-table-td patent-date-value">May 2, 2002</td><td class="patent-data-table-td patent-date-value">May 10, 2005</td><td class="patent-data-table-td ">Western Digital Technologies, Inc.</td><td class="patent-data-table-td ">Dependently adjusting at least three operating levels of a disk drive by dependently adjusting a plurality of disk drive parameters</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6909576">US6909576</a></td><td class="patent-data-table-td patent-date-value">Aug 22, 2002</td><td class="patent-data-table-td patent-date-value">Jun 21, 2005</td><td class="patent-data-table-td ">Hitachi Global Storage Technologies Netherlands B.V.</td><td class="patent-data-table-td ">Method, system, and program for generating control signals to perform a seek operation</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6920378">US6920378</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Mar 13, 2003</td><td class="patent-data-table-td patent-date-value">Jul 19, 2005</td><td class="patent-data-table-td ">Georgia Tech Research Corporation</td><td class="patent-data-table-td ">Command generation combining input shaping and smooth baseline functions</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6950264">US6950264</a></td><td class="patent-data-table-td patent-date-value">Jul 26, 2002</td><td class="patent-data-table-td patent-date-value">Sep 27, 2005</td><td class="patent-data-table-td ">Hitachi Global Storage Technologies Japan, Ltd.</td><td class="patent-data-table-td ">Disk drive system for controlling seek operations</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7046478">US7046478</a></td><td class="patent-data-table-td patent-date-value">Apr 11, 2003</td><td class="patent-data-table-td patent-date-value">May 16, 2006</td><td class="patent-data-table-td ">Seagate Technology Llc</td><td class="patent-data-table-td ">Method and apparatus for reducing vibration in a dynamic system</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7133244">US7133244</a></td><td class="patent-data-table-td patent-date-value">Aug 12, 2005</td><td class="patent-data-table-td patent-date-value">Nov 7, 2006</td><td class="patent-data-table-td ">Hitachi Global Storage Technologies Netherlands B.V.</td><td class="patent-data-table-td ">Method and system for optimizing servo track writing motor current profile to reduce written-in high-frequency repeatable runout track mis-registration</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7161761">US7161761</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Mar 18, 2005</td><td class="patent-data-table-td patent-date-value">Jan 9, 2007</td><td class="patent-data-table-td ">Hitachi Global Storage Technologies Netherlands B.V.</td><td class="patent-data-table-td ">Magnetic disk drive with feedback control</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7248041">US7248041</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jul 28, 2003</td><td class="patent-data-table-td patent-date-value">Jul 24, 2007</td><td class="patent-data-table-td ">Cummins, Inc.</td><td class="patent-data-table-td ">Device and method for measuring transient magnetic performance</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7345842">US7345842</a></td><td class="patent-data-table-td patent-date-value">Aug 12, 2005</td><td class="patent-data-table-td patent-date-value">Mar 18, 2008</td><td class="patent-data-table-td ">Hitachi Global Storage Technologies Netherlands B.V.</td><td class="patent-data-table-td ">Method and system for optimized servo track writing motor current profile to reduce written-in high-frequency repeatable runout track mis-registration</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7461038">US7461038</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Dec 21, 2005</td><td class="patent-data-table-td patent-date-value">Dec 2, 2008</td><td class="patent-data-table-td ">General Electric Company</td><td class="patent-data-table-td ">Method and apparatus for evaluating robustness of proposed solution to constraint problem and considering robustness in developing a constraint problem solution</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7466101">US7466101</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Aug 31, 2006</td><td class="patent-data-table-td patent-date-value">Dec 16, 2008</td><td class="patent-data-table-td ">Fujitsu Limited</td><td class="patent-data-table-td ">Head position control method, head position control device, and disk device</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7620739">US7620739</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Oct 9, 2002</td><td class="patent-data-table-td patent-date-value">Nov 17, 2009</td><td class="patent-data-table-td ">Convolve, Inc.</td><td class="patent-data-table-td ">Dynamic system control method</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8295983">US8295983</a></td><td class="patent-data-table-td patent-date-value">Nov 10, 2008</td><td class="patent-data-table-td patent-date-value">Oct 23, 2012</td><td class="patent-data-table-td ">Silent Printer Holdings, Llc</td><td class="patent-data-table-td ">Apparatus and method for characterization and control of usage disturbances in a usage environment of printers and other dynamic systems</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8299744">US8299744</a></td><td class="patent-data-table-td patent-date-value">Feb 9, 2009</td><td class="patent-data-table-td patent-date-value">Oct 30, 2012</td><td class="patent-data-table-td ">Analog Devices, Inc.</td><td class="patent-data-table-td ">Control techniques for motor driven systems</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8631197">US8631197</a></td><td class="patent-data-table-td patent-date-value">Aug 11, 2011</td><td class="patent-data-table-td patent-date-value">Jan 14, 2014</td><td class="patent-data-table-td ">HGST Netherlands B.V.</td><td class="patent-data-table-td ">Implementing enhanced updates for indirection tables</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8719632">US8719632</a></td><td class="patent-data-table-td patent-date-value">Aug 11, 2011</td><td class="patent-data-table-td patent-date-value">May 6, 2014</td><td class="patent-data-table-td ">HGST Netherlands B.V.</td><td class="patent-data-table-td ">Implementing enhanced EPO protection for indirection data</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8766565">US8766565</a></td><td class="patent-data-table-td patent-date-value">Oct 2, 2009</td><td class="patent-data-table-td patent-date-value">Jul 1, 2014</td><td class="patent-data-table-td ">Analog Devices, Inc.</td><td class="patent-data-table-td ">Control techniques for motor driven systems</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8788749">US8788749</a></td><td class="patent-data-table-td patent-date-value">Aug 11, 2011</td><td class="patent-data-table-td patent-date-value">Jul 22, 2014</td><td class="patent-data-table-td ">HGST Netherlands B.V.</td><td class="patent-data-table-td ">Implementing enhanced deterministic memory allocation for indirection tables for persistent media</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20130096720">US20130096720</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Oct 17, 2011</td><td class="patent-data-table-td patent-date-value">Apr 18, 2013</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Optimization of system acoustic signature and cooling capacity with intelligent user controls</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2002035910A2?cl=en">WO2002035910A2</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Oct 19, 2001</td><td class="patent-data-table-td patent-date-value">May 10, 2002</td><td class="patent-data-table-td ">Keen Personal Media Inc</td><td class="patent-data-table-td ">Data storage system that selects performance level and acoustic noise level based on system profile</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2004055820A1?cl=en">WO2004055820A1</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Nov 17, 2003</td><td class="patent-data-table-td patent-date-value">Jul 1, 2004</td><td class="patent-data-table-td ">Alexander C Geerlings</td><td class="patent-data-table-td ">Method and circuit for operating a storage device</td></tr></table><div class="patent-section-footer">* Cited by examiner</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">Classifications</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">U.S. Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=jnxXBAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc710/defs710.htm&usg=AFQjCNEn5ByvpUOuGF3R-upj_HDvCv7LsQ#C710S005000">710/5</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=jnxXBAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc360/defs360.htm&usg=AFQjCNE0Xwvm4Ta3xlrzDiWURY1aLNtnBA#C360S075000">360/75</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=jnxXBAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc360/defs360.htm&usg=AFQjCNE0Xwvm4Ta3xlrzDiWURY1aLNtnBA#C360S078070">360/78.07</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=jnxXBAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc360/defs360.htm&usg=AFQjCNE0Xwvm4Ta3xlrzDiWURY1aLNtnBA#C360S073010">360/73.01</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=jnxXBAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc318/defs318.htm&usg=AFQjCNHLP4SF-hMnhwtjIGDg4NyyjDIRwQ#C318S560000">318/560</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=jnxXBAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspcG9B/defsG9B.htm&usg=AFQjCNE1uzWUMUoBoyPG8UViGilZBwVzaQ#CG9BS005194">G9B/5.194</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=jnxXBAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc360/defs360.htm&usg=AFQjCNE0Xwvm4Ta3xlrzDiWURY1aLNtnBA#C360S078010">360/78.01</a></span></td></tr><tr><td class="patent-data-table-td ">International Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=jnxXBAABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G11B0005550000">G11B5/55</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=jnxXBAABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G11B0021080000">G11B21/08</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=jnxXBAABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G05B0011360000">G05B11/36</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=jnxXBAABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G05D0003120000">G05D3/12</a></span></td></tr><tr><td class="patent-data-table-td ">Cooperative Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=jnxXBAABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G11B5/5556">G11B5/5556</a></span></td></tr><tr><td class="patent-data-table-td ">European Classification</td><td class="patent-data-table-td "><span class="nested-value">G11B5/55D2F</span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">Legal Events</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Date</th><th class="patent-data-table-th">Code</th><th class="patent-data-table-th">Event</th><th class="patent-data-table-th">Description</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">Feb 15, 2013</td><td class="patent-data-table-td ">FPAY</td><td class="patent-data-table-td ">Fee payment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Year of fee payment: </span><span class="nested-value">12</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">May 3, 2011</td><td class="patent-data-table-td ">RR</td><td class="patent-data-table-td ">Request for reexamination filed</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20110223</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Jul 20, 2010</td><td class="patent-data-table-td ">B2</td><td class="patent-data-table-td ">Reexamination certificate second reexamination</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">THE PATENTABILITY OF CLAIMS 1, 3, 4, AND 7-15 IS CONFIRMED. CLAIMS 2, 5 AND 6 WERE NOT REEXAMINED.</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Apr 8, 2009</td><td class="patent-data-table-td ">FPAY</td><td class="patent-data-table-td ">Fee payment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Year of fee payment: </span><span class="nested-value">8</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Dec 2, 2008</td><td class="patent-data-table-td ">B1</td><td class="patent-data-table-td ">Reexamination certificate first reexamination</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">THE PATENTABILITY OF CLAIMS 11-13 IS CONFIRMED. CLAIMS 1, 3, 4, 7-10, 14 AND 15 ARE DETERMINED TO BE PATENTABLE AS AMENDED. CLAIMS 2, 5 AND 6 WERE NOT REEXAMINED.</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Oct 21, 2008</td><td class="patent-data-table-td ">RR</td><td class="patent-data-table-td ">Request for reexamination filed</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20080822</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Mar 27, 2007</td><td class="patent-data-table-td ">RR</td><td class="patent-data-table-td ">Request for reexamination filed</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20061201</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">May 4, 2005</td><td class="patent-data-table-td ">FPAY</td><td class="patent-data-table-td ">Fee payment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Year of fee payment: </span><span class="nested-value">4</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Jun 17, 1999</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">CONVOLVE, INC., NEW YORK</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:SINGER, NEIL;TANGUARY, MARK;PASCH, KENNETH;REEL/FRAME:010041/0290;SIGNING DATES FROM 19990416 TO 19990423</span></div></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">Rotate</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">Original Image</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " Image not available"});</script></div></div></div></td></tr></table><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_8a2b04e7bf975d5171d8e4c0b6365c7a.js", Host:"http://www.google.com/", IsBooksRentalEnabled:1, IsWebstoreDisplayCaseEnabled:1, IsObfuscationEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsGeoLayerEnabled:1, IsImageModeNotesEnabled:1, IsCopyMenuItemEnabled:1, IsGiftingEnabled:0, IsWebReaderUniversalPaginatorEnabled:0, IsOfflineBubbleEnabled:1, IsReaderEnabledForPlayRequests:1, IsFutureOnSaleVolumesEnabled:1, IsOfflineRestrictedCopyEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsRestrictedCopyEnabled:1, IsZipitFolderCollectionEnabled:1, IsEndOfSampleRecommendationsEnabled:1, IsRatingsOnBookcardsEnabled:1, IsAdsDisabled:0, IsIframePageDisplayEnabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:0, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsPreOrdersEnabled:0, IsDisabledRandomBookshelves:0, WebstoreDisplayCasePosition:3});_OC_Run({"enable_p13n":false,"add_vol_to_collection_base_url":"http://www.google.com/patents?op=add\u0026sig=ACfU3U0j_YESuSQHI1JrKYfpoo5TIwFN2g\u0026id=jnxXBAABERAJ","remove_vol_from_collection_base_url":"http://www.google.com/patents?op=remove\u0026sig=ACfU3U22XyyndiLgRFH6BVP3ffUgCcB0_A\u0026id=jnxXBAABERAJ","logged_in":false,"p13n_save_user_settings_url":"http://www.google.com/patents?op=edit_user_settings\u0026sig=ACfU3U39UHmc827IK3QrJUOBmFD7NhqpoQ","is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=http://www.google.com/patents%3Fhl%3Den\u0026hl=en","is_play_enabled":true}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"http://www.google.com/patents/download/System_for_removing_selected_unwanted_fr.pdf?id=jnxXBAABERAJ\u0026output=pdf\u0026sig=ACfU3U1MQ9a47pYgNnztV6lsa9OTornYKg"},"sample_url":"http://www.google.com/patents/reader?id=jnxXBAABERAJ\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href=http://www.google.com/><nobr>Google&nbsp;Home</nobr></a> - <a href=//www.google.com/patents/sitemap/><nobr>Sitemap</nobr></a> - <a href=http://www.google.com/googlebooks/uspto.html><nobr>USPTO Bulk Downloads</nobr></a> - <a href=/intl/en/privacy/><nobr>Privacy Policy</nobr></a> - <a href=/intl/en/policies/terms/><nobr>Terms of Service</nobr></a> - <a href=https://support.google.com/faqs/answer/2539193?hl=en><nobr>About Google Patents</nobr></a> - <a href="http://www.google.com/tools/feedback/intl/en/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'en'});return false;}catch(e){}"><nobr>Send Feedback</nobr></a></div><span>Data provided by IFI CLAIMS Patent Services</span><br><span >&copy;2012 Google</span></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>