<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html><head><title>Patent US7313720 - Technique for increasing the number of persistent consistency point images ... - Google Patents</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_8a2b04e7bf975d5171d8e4c0b6365c7a/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_8a2b04e7bf975d5171d8e4c0b6365c7a__en.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "en",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="Technique for increasing the number of persistent consistency point images in a file system"><meta name="DC.contributor" content="Emily Eng" scheme="inventor"><meta name="DC.contributor" content="Andy C. Kahn" scheme="inventor"><meta name="DC.contributor" content="John K. Edwards" scheme="inventor"><meta name="DC.contributor" content="Network Appliance, Inc." scheme="assignee"><meta name="DC.date" content="2004-2-12" scheme="dateSubmitted"><meta name="DC.description" content="An on-disk storage arrangement increases the number of persistent consistency point images (PCPIs) that may be maintained for a volume of a storage system. The on-disk storage arrangement comprises a novel volume information (volinfo) block representing a root of the volume; the volinfo block is stored at predefined locations on disk and comprises various system wide configuration data. The volinfo block further comprises a data structure configured to provide a level of indirection that increases the number of PCPIs maintainable by a file system executing on the storage system. To that end, the data structure may be organized as an array of pointers, wherein each pointer references a block containing a snapshot root, thereby enabling efficient access to each PCPI maintained by the file system."><meta name="DC.date" content="2007-12-25" scheme="issued"><meta name="DC.relation" content="US:20020083037:A1" scheme="references"><meta name="DC.relation" content="US:20020083072:A1" scheme="references"><meta name="DC.relation" content="US:20030182317:A1" scheme="references"><meta name="DC.relation" content="US:20040260673:A1" scheme="references"><meta name="DC.relation" content="US:4570217" scheme="references"><meta name="DC.relation" content="US:5155835" scheme="references"><meta name="DC.relation" content="US:5163131" scheme="references"><meta name="DC.relation" content="US:5202979" scheme="references"><meta name="DC.relation" content="US:5278979" scheme="references"><meta name="DC.relation" content="US:5403639" scheme="references"><meta name="DC.relation" content="US:5410667" scheme="references"><meta name="DC.relation" content="US:5819292" scheme="references"><meta name="DC.relation" content="US:5963962" scheme="references"><meta name="DC.relation" content="US:6289356" scheme="references"><meta name="DC.relation" content="US:6311193" scheme="references"><meta name="DC.relation" content="US:6484186" scheme="references"><meta name="DC.relation" content="US:6636879" scheme="references"><meta name="DC.relation" content="US:6708227" scheme="references"><meta name="DC.relation" content="US:6721764" scheme="references"><meta name="DC.relation" content="US:6728922" scheme="references"><meta name="citation_reference" content="Akyurek, Sedat , placing Replicated Data to Reduce Seek Delays, Department of Computer Science, University of Maryland, UMIACS-TR-91-121, CS-TR-2746, Aug. 1991."><meta name="citation_reference" content="Akyurek, Sedat, Placing Replicated Data to Reduce Seek Delays, Department of Computer Science, University of Maryland, UMIACS-TR-91-121, CS-TR-2746, Aug. 1991."><meta name="citation_reference" content="Bitton, Dina, Disk Shadowing, Proceedings of the 14&lt;SUP&gt;th &lt;/SUP&gt;VLDB Conference, LA, CA 1988."><meta name="citation_reference" content="Bitton, Dina, Disk Shadowing, Proceedings of the 14&lt;SUP&gt;th&lt;/SUP&gt;VLDB Conference, LA, CA 1988."><meta name="citation_reference" content="Bitton, Dina, et al., &quot;Disk Shadowing&quot;, Proceedings of the 14th VLDB Conference, Los Angeles, California 1988, pp. 331-338."><meta name="citation_reference" content="Brian Pawlowski et al., &quot;Multi-Protocol Storage Appliance That Provides Integrated Support for File and Block Access Protocols&quot;, U.S. Patent Application Ser. No. 10/215,917 filed on Aug. 9, 2002."><meta name="citation_reference" content="Chaudhuri, Surajit, et al., Self-Tuning Technology in Microsoft SQL Server, Data Engineering Journal 22, 2 1999 pp. 20-27."><meta name="citation_reference" content="Chaudhuri, Surajit, et al., Self-Tuning Technology in Microsoft SQL Server, Data Engineering Journal 22, 2 1999, pp. 20-27."><meta name="citation_reference" content="Chen, Peter M., et al., &quot;An Evaluation of Redundant Arrays of Disks Using an Amdah1 5890&quot;, Computer Science Division, University of California, Berkeley, 1989."><meta name="citation_reference" content="Chutani, Sailesh, et al., &quot;The Episode File System&quot;, USENIX Winter 1992."><meta name="citation_reference" content="Chutani, Sailesh, et al., The Episode File System, In Proceedings of the USENIX Winter 1992."><meta name="citation_reference" content="Coyne, Robert A., et al., Storage Systems for National Information Assets, Proc. Supercomputing 92, Minneapolis, Nov. 1992, pp. 626-633."><meta name="citation_reference" content="David A. Patterson et al., &quot;A Case for Redundant Arrays of Inexpensive Disks (RAID)&quot; Computer Science Division, University of California, 1998."><meta name="citation_reference" content="Finlayson, Ross S., et al., Log Files: An Extended File Service Exploiting Write-Once Storage Department of Computer Science, Stanford University, Report No. STAN-CS-87-1177, Sep. 1987."><meta name="citation_reference" content="Finlayson, Ross S., et al., Log Files: An Extended File Service Exploiting Write-Once StorageDepartment of Computer Science, Stanford University, Report No. STAN-CS-87-1177, Sep. 1987."><meta name="citation_reference" content="Gray, Jim, et al., The Recovery Manager of the System R Database Manager, ACM Computing Surveys, (13)2:223-242 1981."><meta name="citation_reference" content="Gray, Jim, et al., The Recovery Manager of the System R Database Manager, ACM Computing Surveys, 13(2:223-242 1981."><meta name="citation_reference" content="Hecht, Matthew S., et al., Shadowed Management of Free Disk Pages with a Linked List, ACM Transactions on Database Systems, 8/4, Dec. 1983, pp. 503-514."><meta name="citation_reference" content="Hitz, David., et al., &quot;File System Design for an NFS File Server Appliance&quot;, Technical Report 3002, Rev. C3/95, Network Appliance, USENIX Winter 1994."><meta name="citation_reference" content="Howard, John H., &quot;An Overview of the Andrew File System&quot;, Information Technology Center, Carnegie Mellon University, 1988, pp. 1-6."><meta name="citation_reference" content="Howard, John H., &quot;Scale and Performance in a Distributed File System&quot;, ACM Transactions on Computer Systems, vol. 6, No. 1, Feb. 1998, pp. 51-81."><meta name="citation_reference" content="Howard, John H., An Overview of the Andrew File System, Carnegie Mellon University, CMU-ITC-88-062 1988."><meta name="citation_reference" content="Howard, John, et al., Scale and Performance in a Distributed File System, Carnegie Mellon University, CMU-ITC-87-068, Aug. 1987."><meta name="citation_reference" content="Howard, John, H. et al., Scale and Performance in a Distributed File System, ACM Trans. Computer System, 6(1), Feb. 1988 pp. 51-81."><meta name="citation_reference" content="Howard, John, H. et al., Scale and Performance in a Distributed File System, Carnegie Mellon University, CMU-ITC-87-068, Aug. 1987."><meta name="citation_reference" content="Kazar Michael L., et al., &quot;DEcorum File System Architectural Overview&quot;, USENIX Conference, Summer 1990."><meta name="citation_reference" content="Kazar, Michael L., et al., DEcorum File System Architectural Overview, USENIX Summer Conference, Anaheim, California, 1990."><meta name="citation_reference" content="Kazar, Michael Leon, Synchronization and Caching Issues in the Andrew File System, Carnegie Mellon University, CMU-ITC-88-063."><meta name="citation_reference" content="Kemper, Alfons, et al., Performance Tuning for SAP R/3, Data Engineering Journal 22, 2 1999 pp. 33-40."><meta name="citation_reference" content="Kent, Jack et al., Optimizing Shadow Recovery Algorithms, IEEE Transactioins on Software Engineering, 14(2): 155-168, Feb. 1988."><meta name="citation_reference" content="Kistler James J., et al., &quot;Disconnected Operation in the Code File System&quot;, ACM Transactions on Computer Systems, vol. 10, No. 1, Feb. 1992, pp. 3-25."><meta name="citation_reference" content="Kistler, et al., Disconnected Operation in the Code File System, ACM Transactions on Computer Systems, ACM Transactions on Computer Systems, vol. 10, No. 1, Feb. 1992, pp. 3-25."><meta name="citation_reference" content="Lorie, Raymond, A. Physical Integrity in a Large Segmented Database, ACM Trans. Database Syst., vol. 2, Mar. 1977, pp. 91-104."><meta name="citation_reference" content="Ousterhout, John et al., Beating the I/O Bottleneck: A Case for Log-Structured File Systems, Technical Report, Computer Science Division, Electrical Engineering and Computer Sciences, University of California at Berkeley, Oct. 30, 1988."><meta name="citation_reference" content="Patterson, D., et al., A Case for Redundant Arrays of Inexpensive Disks (RAID), SIGMOD International Conference on Management of Data, Chicago, IL, USA, Jun. 1-3, 1988, SIGMOD RECORD 17(3): 109-16 Sep. 1988."><meta name="citation_reference" content="Patterson, D., et al., A Case for Redundant Arrays of Inexpensive Disks (RAID), Technical Report, CSD-87-391, Computer Science Division, Electrical Engineering and Computer Sciences, University of California at Berkeley 1987."><meta name="citation_reference" content="Peterson, Zachary Nathaniel Joseph, Data Placement for Copy-on-Write Using Virtual Contiguity, University of CA, Santa Cruz, Master&#39;s Thesis for the Department of Science in Computer Science, Sep. 2002."><meta name="citation_reference" content="Quinlan, Sean, A Cached WORM File System, Software-Practice and Experience, 21(12):1289-1299 1991."><meta name="citation_reference" content="Rosenblum, Mendel, et al., The Design and Implementation of a Log-Structured File System, In Proceedings of ACM Transactions on Computer Systems, (10)1:26-52, Feb. 1992."><meta name="citation_reference" content="Rosenblum, Mendel, et al., The Design and Implementation of a Log-Structured File SystemJul. 24, 1991 pp. 1-15."><meta name="citation_reference" content="Rosenblum, Mendel, et al., The LFS Storage Manager, Computer Science Division, Electrical Engineering And Computer Sciences, Univ. of CA, presented at Summer &#39;90 USENIX Technical Conference, Anaheim, CA Jun. 1990."><meta name="citation_reference" content="Rosenblum, Mendel, The Design and Implementation of Log-Structured File System, 1992 pp. 1-93."><meta name="citation_reference" content="Schiefer, Berni, et al., DB2 Universal Database Performance Tuning, Data Engineering Journal 22, 2 1999 pp. 12-19."><meta name="citation_reference" content="Seltzer, Margo I., et al., Journaling Versus Soft Updates: Asynchronous Meta-Data Protection in File Systems, Proceedings of 200 USENIX Annual Technical Conference, 6/18-23/2000."><meta name="citation_reference" content="Shasha, Dennis, Tuning Time Series Queries in Finance: Case Studies and Recommendations, Data Engineering Journal 22, 2 1999 pp. 41-47."><meta name="citation_reference" content="Sidebotham, Bob, &quot;Volumes: The Andrew File System Data Structuring Primitive&quot;, EUUG Conference Proceedings, Manchester, UK, Autumn 1986."><meta name="citation_reference" content="Sidebotham, Bob, Volumes: The Andrew File System Data Structuring Primitive, EEUG Conference Proceedings, Manchester, UK, Autumn 1986."><meta name="citation_reference" content="Subramanian, Muralidhar, et al., Performance Challenges in Object-Relational DBMSs, Data Engineering Journal 22, 2 1999 pp. 28-32."><meta name="citation_reference" content="Weikum, Gerhard, et al., Towards Self-Tuning Memory Management for Data Servers, Data Engineering Journal 22, 2 1999 pp. 3-11"><meta name="citation_reference" content="West, Michael, et al., The ITC Distributed File System: Prototype and Experience, Carnegie-Mellon University, Technical Report CMU-ITC-040, Mar. 1985."><meta name="citation_reference" content="Zayas Edward R., &quot;AFS-3 Programmer&#39;s Reference: Architectural Overview&quot;, Transarc Corporation, Version 1.0 of Sep. 2, 1991."><meta name="citation_reference" content="Zayas, Edward R., AFS-3 Programmer&#39;s Reference: Architectural Overview, Transarc Corporation, Pittsburgh, pa, 1.0 edition of Sep. 2, 1991."><meta name="citation_patent_number" content="US:7313720"><meta name="citation_patent_application_number" content="US:10/777,979"><link rel="canonical" href="http://www.google.com/patents/US7313720"/><meta property="og:url" content="http://www.google.com/patents/US7313720"/><meta name="title" content="Patent US7313720 - Technique for increasing the number of persistent consistency point images in a file system"/><meta name="description" content="An on-disk storage arrangement increases the number of persistent consistency point images (PCPIs) that may be maintained for a volume of a storage system. The on-disk storage arrangement comprises a novel volume information (volinfo) block representing a root of the volume; the volinfo block is stored at predefined locations on disk and comprises various system wide configuration data. The volinfo block further comprises a data structure configured to provide a level of indirection that increases the number of PCPIs maintainable by a file system executing on the storage system. To that end, the data structure may be organized as an array of pointers, wherein each pointer references a block containing a snapshot root, thereby enabling efficient access to each PCPI maintained by the file system."/><meta property="og:title" content="Patent US7313720 - Technique for increasing the number of persistent consistency point images in a file system"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>(function(){try{var aa=function(a,b,c,d){d=d||{};d._sn=["cfg",b,c].join(".");window.gbar.logger.ml(a,d)};var g=window.gbar=window.gbar||{},l=window.gbar.i=window.gbar.i||{},m={},n;function _tvn(a,b){var c=parseInt(a,10);return isNaN(c)?b:c}function _tvf(a,b){var c=parseFloat(a);return isNaN(c)?b:c}function _tvv(a){return!!a}function p(a,b,c){(c||g)[a]=b}g.bv={n:_tvn("2",0),r:"",f:".67.",e:"0",m:_tvn("0",1)};
function q(a,b,c){var d="on"+b;if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent(d,c);else{var f=a[d];a[d]=function(){var a=f.apply(this,arguments),b=c.apply(this,arguments);return void 0==a?b:void 0==b?a:b&&a}}}var s=function(a){return function(){return g.bv.m==a}},ba=s(1),ca=s(2);p("sb",ba);p("kn",ca);l.a=_tvv;l.b=_tvf;l.c=_tvn;l.i=aa;var da=window.gbar.i.i;var t,u,v,w;function ea(a){v=a}function fa(a){var b;if(b=v&&window.encodeURIComponent)b=a.href,b=!b.match(/^http[s]?:\/\/accounts\.google\.[^/]*\/ClearSID/i)&&!b.match(/^http[s]?:\/\/[^/]*\/accounts\/ClearSID/i);if(b=b&&encodeURIComponent(v()))a.href=a.href.replace(/([?&]continue=)[^&]*/,"$1"+b)}function ga(a){window.gApplication&&(a.href=window.gApplication.getTabUrl(a.href))}
function ha(a){var b=document.forms[0].q,c=window.encodeURIComponent&&b&&b.value,b=b&&b.placeholder;c&&c!=b&&(a.href=a.href.replace(/([?&])q=[^&]*|$/,function(a,b){return(b||"&")+"q="+encodeURIComponent(c)}))}n=l.a("")?ga:ha;
function x(a,b,c,d,f,e){var h=document.getElementById(a);if(h){var k=h.style;k.left=d?"auto":b+"px";k.right=d?b+"px":"auto";k.top=c+"px";k.visibility=u?"hidden":"visible";f&&e?(k.width=f+"px",k.height=e+"px"):(x(t,b,c,d,h.offsetWidth,h.offsetHeight),u=u?"":a)}}
var y=[],ia=function(a,b){y.push(b)},ja=function(a){a=a||window.event;var b=a.target||a.srcElement;a.cancelBubble=!0;null==t&&(a=document.createElement(Array.every||window.createPopup?"iframe":"div"),a.frameBorder="0",t=a.id="gbs",a.src="javascript:''",b.parentNode.appendChild(a),q(document,"click",z));var c=b,b=0;"gb3"!=c.className&&(c=c.parentNode);a=c.getAttribute("aria-owns")||"gbi";var d=c.offsetWidth,f=20<c.offsetTop?46:24;document.getElementById("tphdr")&&(f-=3);var e=!1;do b+=c.offsetLeft||
0;while(c=c.offsetParent);var c=(document.documentElement.clientWidth||document.body.clientWidth)-b-d,h,d=document.body,k=document.defaultView;k&&k.getComputedStyle?(d=k.getComputedStyle(d,""))&&(h=d.direction):h=d.currentStyle?d.currentStyle.direction:d.style.direction;h="rtl"==h;if("gbi"==a){for(d=0;k=y[d++];)k();A(null,window.navExtra);h&&(b=c,e=!0)}else h||(b=c,e=!0);u!=a&&z();x(a,b,f,e)},z=function(){u&&x(u,0,0)},A=function(a,b){var c,d=document.getElementById("gbi"),f=a;f||(f=d.firstChild);
for(;b&&(c=b.pop());){var e=d,h=c,k=f;w||(w="gb2");e.insertBefore(h,k).className=w}},ka=function(a,b,c){if((b=document.getElementById(b))&&a){a.className="gb4";var d=document.createElement("span");d.appendChild(a);d.appendChild(document.createTextNode(" | "));d.id=c;b.appendChild(d)}},la=function(){return document.getElementById("gb_70")},ma=function(){return!!u};p("qs",n);p("setContinueCb",ea);p("pc",fa);p("tg",ja);p("close",z);p("addLink",ka);p("almm",A);p("si",la);p("adh",ia);p("op",ma);var B=function(){},C=function(){},F=function(a){var b=new Image,c=D;b.onerror=b.onload=b.onabort=function(){try{delete E[c]}catch(a){}};E[c]=b;b.src=a;D=c+1},E=[],D=0;p("logger",{il:C,ml:B,log:F});var G=window.gbar.logger;var H={},na={},I=[],oa=l.b("0.1",.1),pa=l.a("1",!0),qa=function(a,b){I.push([a,b])},ra=function(a,b){H[a]=b},sa=function(a){return a in H},J={},K=function(a,b){J[a]||(J[a]=[]);J[a].push(b)},ta=function(a){K("m",a)},L=function(a,b){var c=document.createElement("script");c.src=a;c.async=pa;Math.random()<oa&&(c.onerror=function(){c.onerror=null;B(Error("Bundle load failed: name="+(b||"UNK")+" url="+a))});(document.getElementById("xjsc")||document.getElementsByTagName("body")[0]||
document.getElementsByTagName("head")[0]).appendChild(c)},N=function(a){for(var b=0,c;(c=I[b])&&c[0]!=a;++b);!c||c[1].l||c[1].s||(c[1].s=!0,M(2,a),c[1].url&&L(c[1].url,a),c[1].libs&&m.d&&m.d(c[1].libs))},O=function(a){K("gc",a)},P=null,ua=function(a){P=a},M=function(a,b,c){if(P){a={t:a,b:b};if(c)for(var d in c)a[d]=c[d];try{P(a)}catch(f){}}};p("mdc",H);p("mdi",na);p("bnc",I);p("qGC",O);p("qm",ta);p("qd",J);p("lb",N);p("mcf",ra);p("bcf",qa);p("aq",K);p("mdd","");p("has",sa);
p("trh",ua);p("tev",M);var Q=l.b("0.1",.001),R=0;
function _mlToken(a,b){try{if(1>R){R++;var c,d=a,f=b||{},e=encodeURIComponent,h=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&jexpid=",e("17483"),"&srcpg=",e("prop=22"),"&jsr=",Math.round(1/Q),"&ogev=",e("ioXtU9nlFejgsATT64HoDg"),"&ogf=",g.bv.f,"&ogrp=",e("1"),"&ogv=",e("1407723702.0"),"&oggv="+e("es_plusone_gc_20140723.0_p0"),"&ogd=",e("com"),"&ogc=",e("GBR"),"&ogl=",e("en")];f._sn&&(f._sn="og."+
f._sn);for(var k in f)h.push("&"),h.push(e(k)),h.push("="),h.push(e(f[k]));h.push("&emsg=");h.push(e(d.name+":"+d.message));var r=h.join("");S(r)&&(r=r.substr(0,2E3));c=r;var Aa=window.gbar.logger._aem(a,c);F(Aa)}}catch(Na){}}var S=function(a){return 2E3<=a.length},va=function(a,b){return b};function T(a){B=a;p("_itl",S,G);p("_aem",va,G);p("ml",B,G);a={};H.er=a}l.a("")?T(function(a){throw a;}):l.a("1")&&Math.random()<Q&&T(_mlToken);I.push(["m",{url:"//ssl.gstatic.com/gb/js/scm_7385cc5883250b43a39405734c1bea59.js"}]);g.mcf("c",{});g.sg={c:""};if(l.a("1")){var wa=l.a("");I.push(["gc",{auto:wa,url:"//ssl.gstatic.com/gb/js/abc/gci_91f30755d6a6b787dcc2a4062e6e9824.js",libs:"googleapis.client:plusone:gapi.iframes"}]);var xa={version:"gci_91f30755d6a6b787dcc2a4062e6e9824.js",index:"",lang:"en"};H.gc=xa;var U=function(a){window.googleapis&&window.iframes?a&&a():(a&&O(a),N("gc"))};p("lGC",U);l.a("1")&&p("lPWF",U)};window.__PVT="";if(l.a("1")&&l.a("1")){var V=function(a){U(function(){K("pw",a);N("pw")})};p("lPW",V);I.push(["pw",{url:"//ssl.gstatic.com/gb/js/abc/pwm_45f73e4df07a0e388b0fa1f3d30e7280.js"}]);var W=[],ya=function(a){W[0]=a},za=function(a,b){var c=b||{};c._sn="pw";B(a,c)},Ba={signed:W,elog:za,base:"https://plusone.google.com/u/0",loadTime:(new Date).getTime()};H.pw=Ba;var X=function(a,b){for(var c=b.split("."),d=function(){var b=arguments;a(function(){for(var a=g,d=0,e=c.length-1;d<e;++d)a=a[c[d]];a[c[d]].apply(a,b)})},f=g,e=0,h=c.length-1;e<h;++e)f=
f[c[e]]=f[c[e]]||{};return f[c[e]]=d};X(V,"pw.clk");X(V,"pw.hvr");p("su",ya,g.pw)};function Ca(){function a(){for(var b;(b=e[h++])&&"m"!=b[0]&&!b[1].auto;);b&&(M(2,b[0]),b[1].url&&L(b[1].url,b[0]),b[1].libs&&m.d&&m.d(b[1].libs));h<e.length&&setTimeout(a,0)}function b(){0<f--?setTimeout(b,0):a()}var c=l.a("1"),d=l.a(""),f=3,e=I,h=0,k=window.gbarOnReady;if(k)try{k()}catch(r){da(r,"ml","or")}d?p("ldb",a):c?q(window,"load",b):b()}p("rdl",Ca);var Da={D:1,H:2,da:3,p:4,W:5,M:6,F:7,g:8,ha:9,U:10,L:11,T:12,S:13,N:14,Q:15,P:16,fa:17,w:18,O:19,ga:20,ea:21,u:22,G:23,ja:24,ka:25,ia:26,A:27,j:28,o:29,k:30,ca:31,Z:32,$:33,J:34,K:35,ba:36,aa:37,Y:38,B:39,R:40,v:41,X:42,V:43,h:48,C:49,I:500},Y=[1,2,3,4,5,6,9,10,11,13,14,28,29,30,34,35,37,38,39,40,41,42,43,48,49,500];var Z=l.b("0.001",1E-4),Ea=l.b("1",1),Fa=!1,Ga=!1;if(l.a("1")){var Ha=Math.random();Ha<=Z&&(Fa=!0);Ha<=Ea&&(Ga=!0)}var Ia=Da,$=null;function Ja(){var a=0,b=function(b,d){l.a(d)&&(a|=b)};b(1,"");b(2,"");b(4,"");b(8,"");return a}
function Ka(a,b){var c=Z,d=Fa,f;f=a;if(!$){$={};for(var e=0;e<Y.length;e++){var h=Y[e];$[h]=!0}}if(f=!!$[f])c=Ea,d=Ga;if(d){d=encodeURIComponent;g.rp?(f=g.rp(),f="-1"!=f?f:"1"):f="1";c=["//www.google.com/gen_204?atyp=i&zx=",(new Date).getTime(),"&oge=",a,"&ogex=",d("17483"),"&ogev=",d("ioXtU9nlFejgsATT64HoDg"),"&ogf=",g.bv.f,"&ogp=",d("22"),"&ogrp=",d(f),"&ogsr=",Math.round(1/c),"&ogv=",d("1407723702.0"),"&oggv="+
d("es_plusone_gc_20140723.0_p0"),"&ogd=",d("com"),"&ogl=",d("en"),"&ogc=",d("GBR"),"&ogus=",Ja()];if(b){"ogw"in b&&(c.push("&ogw="+b.ogw),delete b.ogw);var k;f=b;e=[];for(k in f)0!=e.length&&e.push(","),e.push(La(k)),e.push("."),e.push(La(f[k]));k=e.join("");""!=k&&(c.push("&ogad="),c.push(d(k)))}F(c.join(""))}}function La(a){"number"==typeof a&&(a+="");return"string"==typeof a?a.replace(".","%2E").replace(",","%2C"):a}C=Ka;p("il",C,G);var Ma={};H.il=Ma;setTimeout(function(){C(Ia.g)},0);}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var b=window.gbar.i.i;var c=window.gbar;var f=function(d){try{var a=document.getElementById("gbom");a&&d.appendChild(a.cloneNode(!0))}catch(e){b(e,"omas","aomc")}};c.aomc=f;}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{var a=window.gbar;a.mcf("pm",{p:""});}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
(function(){try{window.gbar.rdl();}catch(e){window.gbar&&gbar.logger&&gbar.logger.ml(e,{"_sn":"cfg.init"});}})();
if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{float:left;height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}#gbs,.gbm{background:#fff;left:0;position:absolute;text-align:left;visibility:hidden;z-index:1000}.gbm{border:1px solid;border-color:#c9d7f1 #36c #36c #a2bae7;z-index:1001}.gb1{margin-right:.5em}.gb1,.gb3{zoom:1}.gb2{display:block;padding:.2em .5em}.gb2,.gb3{text-decoration:none !important;border-bottom:none}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb2,a.gb3,a.gb4{color:#00c !important}.gbi .gb3,.gbi .gb2,.gbi .gb4{color:#dd8e27 !important}.gbf .gb3,.gbf .gb2,.gbf .gb4{color:#900 !important}a.gb2:hover{background:#36c;color:#fff !important}#gbar .gbz0l{color:#000 !important;cursor:default;font-weight:bold;text-decoration:none !important}
#gbar { padding:.3em .6em !important;}</style></head><body  topmargin="3" marginheight="3"><div id=gbar><nobr><a onclick=gbar.qs(this);gbar.logger.il(1,{t:1}); class=gb1 id=gb_1 href="https://www.google.com/search?sa=N&tab=tw">Search</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:2}); class=gb1 id=gb_2 href="http://www.google.com/search?hl=en&tbm=isch&source=og&sa=N&tab=ti">Images</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:8}); class=gb1 id=gb_8 href="http://maps.google.com/maps?hl=en&sa=N&tab=tl">Maps</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:78}); class=gb1 id=gb_78 href="https://play.google.com/?hl=en&sa=N&tab=t8">Play</a> <a onclick=gbar.qs(this);gbar.logger.il(1,{t:36}); class=gb1 id=gb_36 href="http://www.youtube.com/results?sa=N&tab=t1">YouTube</a> <a onclick=gbar.logger.il(1,{t:5}); class=gb1 id=gb_5 href="http://news.google.com/nwshp?hl=en&tab=tn">News</a> <a onclick=gbar.logger.il(1,{t:23}); class=gb1 id=gb_23 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a onclick=gbar.logger.il(1,{t:25}); class=gb1 id=gb_25 href="https://drive.google.com/?tab=to">Drive</a> <a class=gb3 href="http://www.google.com/intl/en/options/" onclick="this.blur();gbar.tg(event);return !1" aria-haspopup=true><u>More</u> <small>&#9660;</small></a><div class=gbm id=gbi><a onclick=gbar.logger.il(1,{t:24}); class=gb2 id=gb_24 href="https://www.google.com/calendar?tab=tc">Calendar</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:51}); class=gb2 id=gb_51 href="http://translate.google.com/?hl=en&sa=N&tab=tT">Translate</a><a onclick=gbar.logger.il(1,{t:17}); class=gb2 id=gb_17 href="http://www.google.com/mobile/?hl=en&tab=tD">Mobile</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:10}); class=gb2 id=gb_10 href="http://www.google.com/search?hl=en&tbo=u&tbm=bks&source=og&sa=N&tab=tp">Books</a><a onclick=gbar.logger.il(1,{t:212}); class=gb2 id=gb_212 href="https://wallet.google.com/manage/?tab=ta">Wallet</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:6}); class=gb2 id=gb_6 href="http://www.google.com/search?hl=en&tbo=u&tbm=shop&source=og&sa=N&tab=tf">Shopping</a><a onclick=gbar.logger.il(1,{t:30}); class=gb2 id=gb_30 href="http://www.blogger.com/?tab=tj">Blogger</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:27}); class=gb2 id=gb_27 href="http://www.google.com/finance?sa=N&tab=te">Finance</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:31}); class=gb2 id=gb_31 href="https://plus.google.com/photos?sa=N&tab=tq">Photos</a><a onclick=gbar.qs(this);gbar.logger.il(1,{t:12}); class=gb2 id=gb_12 href="http://www.google.com/search?hl=en&tbo=u&tbm=vid&source=og&sa=N&tab=tv">Videos</a><div class=gb2><div class=gbd></div></div><a onclick=gbar.logger.il(1,{t:66}); href="http://www.google.com/intl/en/options/" class=gb2>Even more &raquo;</a></div></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=http://www.google.com/patents%3Fhl%3Den&hl=en" class=gb4>Sign in</a><div style="display: none"><div class=gbm id=gbd5 aria-owner=gbg5><div class=gbmc><ol id=gbom class=gbmcc></ol></div></div></div></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="http://www.google.com/patents/us7313720?hl=en&amp;output=html_text" title="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."><img border="0" src="http://www.google.com/images/cleardot.gif"alt="Screen reader users: click this link for accessible mode. Accessible mode has the same essential features but works better with your reader."></a></div><div id="guser"><nobr></nobr></div><div style="clear:both;"></div><div id="gb-top-search-box" class="gb-top-search-box-small gb-reset"><table><tr><td class="logo"><a href="http://www.google.com/patents" class="logo-link"><img class="logo-img" src="/intl/en/images/logos/google_logo_41.png" alt="Go to Google Books Home" height="41"/></a></td><td><form action="http://www.google.com/search" name="f" id="vheadf" method="get"><span id="hf"></span><input type="hidden" name="tbm" value="pts"/><input type="hidden" name="tbo" value="1"/><input type="hidden" name="hl" value="en"/><table><tr><td><div class="inputs"><table><tr><td><div class="text-input"><input type="text" name="q" id="vheadq" class="text" maxlength="2048" size="31" value="" title="Search Patents" accesskey="s" autocomplete="off"/><script>window._OC_autoDir &&window._OC_autoDir('vheadq', 'tia-vheadq');</script></div></td><td><div class="submit-input"><input name="btnG" class="submit" type="submit" value=""/></div></td></tr></table></div></td><td class="col-ext-links"><div class="ext-links"><a href="http://www.google.com/advanced_patent_search">&lt;nobr&gt;Advanced Patent Search&lt;/nobr&gt;</a></div></td></tr></table></form></td></tr></table></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents">Patents</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/US7313720"></a><a id="appbar-patents-discuss-this-link" href="http://www.google.com/url?id=kXyABAABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpatent%3DUS7313720&amp;usg=AFQjCNGzzVtsv6YqIQ1sm6F1w0znkIi2Cg" data-is-grant="true"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/US7313720.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/US7313720.pdf"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="http://www.google.com/patents/US7313720" style="display:none"><span itemprop="description">An on-disk storage arrangement increases the number of persistent consistency point images (PCPIs) that may be maintained for a volume of a storage system. The on-disk storage arrangement comprises a novel volume information (volinfo) block representing a root of the volume; the volinfo block is stored...</span><span itemprop="url">http://www.google.com/patents/US7313720?utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">Patent US7313720 - Technique for increasing the number of persistent consistency point images in a file system</span><img itemprop="image" src="http://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="Patent US7313720 - Technique for increasing the number of persistent consistency point images in a file system" title="Patent US7313720 - Technique for increasing the number of persistent consistency point images in a file system"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="http://www.google.com/advanced_patent_search">Advanced Patent Search</a></li></ol></div><table id="viewport_table" cellpadding="0" style="clear:both" cellspacing="0"><tr><td id="viewport_td"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata"><tr><td class="patent-bibdata-heading">Publication number</td><td class="single-patent-bibdata">US7313720 B1</td></tr><tr><td class="patent-bibdata-heading">Publication type</td><td class="single-patent-bibdata">Grant</td></tr><tr><td class="patent-bibdata-heading">Application number</td><td class="single-patent-bibdata">US 10/777,979</td></tr><tr><td class="patent-bibdata-heading">Publication date</td><td class="single-patent-bibdata">Dec 25, 2007</td></tr><tr><td class="patent-bibdata-heading">Filing date</td><td class="single-patent-bibdata">Feb 12, 2004</td></tr><tr><td class="patent-bibdata-heading">Priority date<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="The priority date is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the date listed."></span></td><td class="single-patent-bibdata">Feb 12, 2004</td></tr><tr><td class="patent-bibdata-heading">Fee status<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="The fee status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status or dates listed."></span></td><td class="single-patent-bibdata">Paid</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Also published as</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/US8122286">US8122286</a>, </span><span class="patent-bibdata-value"><a href="/patents/US20120150807">US20120150807</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading">Publication number</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">10777979, </span><span class="patent-bibdata-value">777979, </span><span class="patent-bibdata-value">US 7313720 B1, </span><span class="patent-bibdata-value">US 7313720B1, </span><span class="patent-bibdata-value">US-B1-7313720, </span><span class="patent-bibdata-value">US7313720 B1, </span><span class="patent-bibdata-value">US7313720B1</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Inventors</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Emily+Eng%22">Emily Eng</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22Andy+C.+Kahn%22">Andy C. Kahn</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=ininventor:%22John+K.+Edwards%22">John K. Edwards</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Original Assignee</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="http://www.google.com/search?tbo=p&tbm=pts&hl=en&q=inassignee:%22Network+Appliance,+Inc.%22">Network Appliance, Inc.</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">Export Citation</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/US7313720.bibtex">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7313720.enw">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/US7313720.ris">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">Patent Citations</a> (20),</span> <span class="patent-bibdata-value"><a href="#npl-citations">Non-Patent Citations</a> (52),</span> <span class="patent-bibdata-value"><a href="#forward-citations">Referenced by</a> (12),</span> <span class="patent-bibdata-value"><a href="#classifications">Classifications</a> (6),</span> <span class="patent-bibdata-value"><a href="#legal-events">Legal Events</a> (6)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">External Links:&nbsp;</span><span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=kXyABAABERAJ&q=http://patft.uspto.gov/netacgi/nph-Parser%3FSect2%3DPTO1%26Sect2%3DHITOFF%26p%3D1%26u%3D/netahtml/PTO/search-bool.html%26r%3D1%26f%3DG%26l%3D50%26d%3DPALL%26RefSrch%3Dyes%26Query%3DPN/7313720&usg=AFQjCNGkbOTNJduYucNiAcJ6-gFM7A8qpw">USPTO</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=kXyABAABERAJ&q=http://assignments.uspto.gov/assignments/q%3Fdb%3Dpat%26pat%3D7313720&usg=AFQjCNHJjEErabs7aqqf0AA_2cWFq6IezQ">USPTO Assignment</a>, </span><span class="patent-bibdata-value"><a href="http://www.google.com/url?id=kXyABAABERAJ&q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DUS%26NR%3D7313720B1%26KC%3DB1%26FT%3DD&usg=AFQjCNEm43pXfIR_buqcII1a2gYM4YYCew">Espacenet</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT55836245" lang="EN" load-source="patent-office">Technique for increasing the number of persistent consistency point images in a file system</invention-title></span><br><span class="patent-number">US 7313720 B1</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title">Abstract</span></div><div class="patent-text"><abstract mxw-id="PA51244523" lang="EN" load-source="patent-office"> <div num="p-0001" class="abstract">An on-disk storage arrangement increases the number of persistent consistency point images (PCPIs) that may be maintained for a volume of a storage system. The on-disk storage arrangement comprises a novel volume information (volinfo) block representing a root of the volume; the volinfo block is stored at predefined locations on disk and comprises various system wide configuration data. The volinfo block further comprises a data structure configured to provide a level of indirection that increases the number of PCPIs maintainable by a file system executing on the storage system. To that end, the data structure may be organized as an array of pointers, wherein each pointer references a block containing a snapshot root, thereby enabling efficient access to each PCPI maintained by the file system.</div>
  </abstract></div></div><div class="patent-section patent-drawings-section"><div class="patent-section-header"><span class="patent-section-title">Images<span class="patent-section-count">(8)</span></span></div><div class="patent-drawings-body"><div class="patent-drawings-carousel"><div class="drawings"><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7313720B1/US07313720-20071225-D00000.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7313720B1/US07313720-20071225-D00000.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7313720B1/US07313720-20071225-D00001.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7313720B1/US07313720-20071225-D00001.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7313720B1/US07313720-20071225-D00002.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7313720B1/US07313720-20071225-D00002.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7313720B1/US07313720-20071225-D00003.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7313720B1/US07313720-20071225-D00003.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7313720B1/US07313720-20071225-D00004.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7313720B1/US07313720-20071225-D00004.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7313720B1/US07313720-20071225-D00005.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7313720B1/US07313720-20071225-D00005.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7313720B1/US07313720-20071225-D00006.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7313720B1/US07313720-20071225-D00006.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div><div class="patent-image"><div class="patent-thumbnail"><a href="//patentimages.storage.googleapis.com/US7313720B1/US07313720-20071225-D00007.png"><img class="patent-thumbnail-image" alt="Patent Drawing"src="//patentimages.storage.googleapis.com/thumbnails/US7313720B1/US07313720-20071225-D00007.png" /></a></div><div class="patent-thumbnail-caption">&nbsp;</div></div></div></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img" alt="Previous page"src="/googlebooks/images/kennedy/page_left.png"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img" alt="Next page"src="/googlebooks/images/kennedy/page_right.png"width="21" height="21" /></div></div></div><div class="patent-post-drawings"></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">Claims<span class="patent-section-count">(20)</span></span></div><div class="patent-text"><div mxw-id="PCLM9318610" lang="EN" load-source="patent-office" class="claims">
    <div class="claim"> <div id="CLM-00001" num="00001" class="claim">
      <div class="claim-text">1. A method for increasing a number of persistent consistency point images (PCPIs) maintained for a volume of a storage system, the method comprising the steps of:
<div class="claim-text">providing a file system information (fsinfo) block associated with an active file system executing on the storage system; </div>
<div class="claim-text">providing one or more PCPI fsinfo blocks, each PCPI fsinfo block associated with a PCPI; and </div>
<div class="claim-text">providing a volume information (volinfo) block at a predetermined location on disk of the storage system, the volinfo block comprising a plurality of pointers configured to reference the fsinfo and PCPI fsinfo blocks. </div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00002" num="00002" class="claim">
      <div class="claim-text">2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the pointers comprise volume block numbers.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00003" num="00003" class="claim">
      <div class="claim-text">3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising the steps of:
<div class="claim-text">organizing the pointers as a table having a plurality of entries, each entry storing a pointer; and </div>
<div class="claim-text">indexing the entries of the table by a PCPI identifier (ID). </div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00004" num="00004" class="claim">
      <div class="claim-text">4. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref> further comprising the step of associating the active file system with a predefined PCPI ID.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00005" num="00005" class="claim">
      <div class="claim-text">5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising the steps of:
<div class="claim-text">organizing the pointers as an array indexed by PCPI identifier (ID); and </div>
<div class="claim-text">associating the active file system with a predefined PCPI ID. </div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00006" num="00006" class="claim">
      <div class="claim-text">6. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref> wherein the predefined PCPI ID is zero.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00007" num="00007" class="claim">
      <div class="claim-text">7. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the fsinfo block comprises a pointer configured to reference an inode file associated with the active file system.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00008" num="00008" class="claim">
      <div class="claim-text">8. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein each PCPI fsinfo block comprises a pointer configured to reference an inode file associated with a PCPI.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00009" num="00009" class="claim">
      <div class="claim-text">9. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the predetermined location comprises a first and second volume block number.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00010" num="00010" class="claim">
      <div class="claim-text">10. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the volinfo block further comprises fields for PCPIs that do not have associated PCPI fsinfo blocks referenced by the volinfo block.</div>
    </div>
    </div> <div class="claim"> <div id="CLM-00011" num="00011" class="claim">
      <div class="claim-text">11. A system adapted to maintain an increased number of persistent consistency point images (PCPI) for a volume of a storage system, the system comprising:
<div class="claim-text">at least one storage device adapted to store a volume information (volinfo) block at a predefined location, the storage device further adapted to store a plurality of file system information (fsinfo) blocks referenced by the volinfo block. </div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00012" num="00012" class="claim">
      <div class="claim-text">12. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref> wherein the storage device is a disk.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00013" num="00013" class="claim">
      <div class="claim-text">13. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref> wherein the predefined location comprises a first and second volume block number.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00014" num="00014" class="claim">
      <div class="claim-text">14. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref> wherein the fsinfo blocks comprise a first fsinfo block associated with an active file system and having a pointer configured to reference an inode file associated with the active file system.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00015" num="00015" class="claim">
      <div class="claim-text">15. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref> wherein the volinfo block comprises an array of pointers configured to reference the fsinfo blocks.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00016" num="00016" class="claim">
      <div class="claim-text">16. The system of <claim-ref idref="CLM-00015">claim 15</claim-ref> wherein the array of pointers is indexed by a PCPI identifier (ID) and wherein an active file system is associated with a predefined PCPI ID.</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00017" num="00017" class="claim">
      <div class="claim-text">17. The storage system of <claim-ref idref="CLM-00015">claim 15</claim-ref> wherein each pointer comprises a volume block number.</div>
    </div>
    </div> <div class="claim"> <div id="CLM-00018" num="00018" class="claim">
      <div class="claim-text">18. Apparatus for increasing a number of persistent consistency point images (PCPIs) maintained for a volume of a storage system, the apparatus comprising:
<div class="claim-text">means for providing a file system information (fsinfo) block associated with an active file system executing on the storage system; </div>
<div class="claim-text">means for providing one or more PCPI fsinfo blocks, each PCPI fsinfo block associated with a PCPI; and </div>
<div class="claim-text">means for providing a volume information (volinfo) block at a predetermined location on disk of the storage system, the volinfo block comprising a plurality of pointers configured to reference the fsinfo and PCPI fsinfo blocks. </div>
</div>
    </div>
    </div> <div class="claim"> <div id="CLM-00019" num="00019" class="claim">
      <div class="claim-text">19. A computer readable medium, including program instructions executing on a storage system, for increasing a number of persistent consistency point images (PCPIs) maintained for a volume of the storage system, the computer readable medium including program instructions for:
<div class="claim-text">providing a file system information (fsinfo) block associated with an active file system executing on the storage system; </div>
<div class="claim-text">providing one or more PCPI fsinfo blocks, each PCPI fsinfo block associated with a PCPI; and </div>
<div class="claim-text">providing a volume information (volinfo) block at a predetermined location on disk of the storage system, the volinfo block comprising a plurality of pointers configured to reference the fsinfo and PCPI fsinfo blocks. </div>
</div>
    </div>
    </div> <div class="claim-dependent"> <div id="CLM-00020" num="00020" class="claim">
      <div class="claim-text">20. The computer readable medium of <claim-ref idref="CLM-00019">claim 19</claim-ref> further comprising program instructions for:
<div class="claim-text">organizing the pointers as an array indexed by PCPI identifier (ID); and </div>
<div class="claim-text">associating an active file system with a predefined PCPI ID.</div>
</div>
    </div>
  </div> </div></div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title">Description</span></div><div class="patent-text"><div mxw-id="PDES16341154" lang="EN" load-source="patent-office" class="description">
    <heading>FIELD OF THE INVENTION</heading> <p num="p-0002">The present invention relates to file systems and, more specifically, to a technique for increasing the number of persistent consistency point images of a file system.</p>
    <heading>BACKGROUND OF THE INVENTION</heading> <p num="p-0003">A storage system typically comprises one or more storage devices into which information may be entered, and from which information may be obtained, as desired. The storage system includes a storage operating system that functionally organizes the system by, inter alia, invoking storage operations in support of a storage service implemented by the system. The storage system may be implemented in accordance with a variety of storage architectures including, but not limited to, a network-attached storage environment, a storage area network and a disk assembly directly attached to a client or host computer. The storage devices are typically disk drives organized as a disk array, is wherein the term “disk” commonly describes a self-contained rotating magnetic media storage device. The term disk in this context is synonymous with hard disk drive (HDD) or direct access storage device (DASD).</p>
    <p num="p-0004">Storage of information on the disk array is preferably implemented as one or more storage “volumes” of physical disks, defining an overall logical arrangement of disk space. The disks within a volume are typically organized as one or more groups, wherein each group may be operated as a Redundant Array of Independent (or Inexpensive) Disks (RAID). Most RAID implementations enhance the reliability/integrity of data storage through the redundant writing of data “stripes” across a given number of physical disks in the RAID group, and the appropriate storing of redundant information (parity) with respect to the striped data. The physical disks of each RAID group may include disks configured to store striped data (ie., data disks) and disks configured to store parity for the data (ie., parity disks). The parity may thereafter be retrieved to enable recovery of data lost when a disk fails. The term “RAID” and its various implementations are well-known and disclosed in <i>A Case for Redundant Arrays of Inexpensive Disks </i>(<i>RAID</i>), by D. A. Patterson, G. A. Gibson and R. H. Katz, Proceedings of the International Conference on Management of Data (SIGMOD), June 1988.</p>
    <p num="p-0005">The storage operating system of the storage system may implement a high-level module, such as a file system, to logically organize the information stored on the disks as a hierarchical structure of directories, files and blocks. For example, each “on-disk” file may be implemented as set of data structures, i.e., disk blocks, configured to store information, such as the actual data for the file. These data blocks are organized within a volume block number (vbn) space that is maintained by the file system. The file system organizes the data blocks within the vbn space as a “logical volume”; each logical volume may be, although is not necessarily, associated with its own file system. The file system typically consists of a contiguous range of vbns from zero to n, for a file system of size n-1 blocks.</p>
    <p num="p-0006">A known type of file system is a write-anywhere file system that does not overwrite data on disks. If a data block is retrieved (read) from disk into a memory of the storage system and “dirtied” (i.e., updated or modified) with new data, the data block is thereafter stored (written) to a new location on disk to optimize write performance. A write-anywhere file system may initially assume an optimal layout such that the data is substantially contiguously arranged on disks. The optimal disk layout results in efficient access operations, particularly for sequential read operations, directed to the disks. An example of a write-anywhere file system that is configured to operate on a storage system is the Write Anywhere File Layout (WAFL™) file system available from Network Appliance, Inc., Sunnyvale, Calif.</p>
    <p num="p-0007">The storage operating system may further implement a storage module, such as a RAID system, that manages the storage and retrieval of the information to and from the disks in accordance with input/output (I/O) operations. The RAID system is also responsible for parity operations in the storage system. Note that the file system only “sees” the data disks within its vbn space; the parity disks are “hidden” from the file system and, thus, are only visible to the RAID system. The RAID system typically organizes the RAID groups into one large “physical” disk (i.e., a physical volume), such that the disk blocks are concatenated across all disks of all RAID groups. The logical volume maintained by the file system is then “disposed over” the physical volume maintained by the RAID system.</p>
    <p num="p-0008">The storage system may be configured to operate according to a client/server model of information delivery to thereby allow many clients to access the directories, files and blocks stored on the system. In this model, the client may comprise an application, such as a database application, executing on a computer that “connects” to the storage system over a computer network, such as a point-to-point link, shared local area network, wide area network or virtual private network implemented over a public network, such as the Internet. Each client may request the services of the file system by issuing file system protocol messages (in the form of packets) to the storage system over the network. By supporting a plurality of file system protocols, such as the conventional Common Internet File System (CIFS) and the Network File System (NFS) protocols, the utility of the storage system is enhanced.</p>
    <p num="p-0009">When accessing a block of a file in response to servicing a client request, the file system specifies a vbn that is translated at the file system/RAID system boundary into a disk block number (dbn) location on a particular disk (disk, dbn) within a RAID group of the physical volume. Each block in the vbn space and in the dbn space is typically fixed, e.g., 4 k bytes (KB), in size; accordingly, there is typically a one-to-one mapping between the information stored on the disks in the dbn space and the information organized by the file system in the vbn space. The (disk, dbn) location specified by the RAID system is further translated by a disk driver system of the storage operating system into a sector (or similar granularity) on the specified disk.</p>
    <p num="p-0010">The requested block is then retrieved from disk and stored in a buffer cache of the memory as part of a buffer tree of the file. The buffer tree is an internal representation of blocks for a file stored in the buffer cache and maintained by the file system. Broadly stated, the buffer tree has an inode at the root (top-level) of the file. An inode is a data structure used to store information, such as metadata, about a file, whereas the data blocks are structures used to store the actual data for the file. The information contained in an inode may include, e.g., ownership of the file, access permission for the file, size of the file, file type and references to locations on disk of the data blocks for the file. The references to the locations of the file data are provided by pointers, which may further reference indirect blocks that, in turn, reference the data blocks, depending upon the quantity of data in the file. Each pointer may be embodied as a vbn to facilitate efficiency among the file system and the RAID system when accessing the data on disks.</p>
    <p num="p-0011">The file system, such as the write-anywhere file system, maintains information about the geometry of the underlying physical disks (e.g., the number of blocks in each disk) in the storage system. The RAID system provides the disk geometry information to the file system for use when creating and maintaining the vbn-to-disk,dbn mappings used to perform write allocation operations. The file system maintains block allocation data structures, such as an active map, a space map, a summary map and snapmaps. These mapping data structures describe which blocks are currently in use and which are available for use and are used by a write allocator of the file system as existing infrastructure for the logical volume.</p>
    <p num="p-0012">Specifically, the snapmap denotes a bitmap file describing which blocks are used by a snapshot. The write-anywhere file system (such as the WAFL file system) has the capability to generate a snapshot of its active file system. An “active file system” is a file system to which data can be both written and read or, more generally, an active store that responds to both read and write I/O operations. It should be noted that “snapshot” is a trademark of Network Appliance, Inc. and is used for purposes of this patent to designate a persistent consistency point (CP) image. A persistent consistency point image (PCPI) is a space conservative, point-in-time read-only image of data accessible by name that provides a consistent image of that data (such as a storage system) at some previous time. More particularly, a PCPI is a point-in-time representation of a storage element, such as an active file system, file or database, stored on a storage device (e.g., on disk) or other persistent memory and having a name or other identifier that distinguishes it from other PCPIs taken at other points in time. A PCPI can also include other information (metadata) about the active file system at the particular point in time for which the image is taken. The terms “PCPI” and “snapshot” may be used interchangeably through out this patent without derogation of Network Appliance's trademark rights.</p>
    <p num="p-0013">The write-anywhere file system supports (maintains) multiple snapshots that are generally created on a regular schedule. Each snapshot refers to a copy of the file system that diverges from the active file system over time as the active file system is modified. Each snapshot is a restorable version of the storage element (e.g., the active file system) created at a predetermined point in time and, as noted, is “read-only” accessible and “space-conservative”. Space conservative denotes that common parts of the storage element in multiple snapshots share the same file system blocks. Only the differences among these various snapshots require extra storage blocks. The multiple snapshots of a storage element are not independent copies, each consuming disk space; therefore, creation of a snapshot on the file system is instantaneous, since no entity data needs to be copied. Read-only accessibility denotes that a snapshot cannot be modified because it is closely coupled to a single writable image in the active file system. The closely coupled association between a file in the active file system and the same file in a snapshot obviates the use of multiple “same” files. In the example of a WAFL file system, snapshots are described in <i>TR</i>3002 <i>File System Design for a NFS File Server Appliance</i>: by David Hitz et al., published by Network Appliance, Inc. and in U.S. Pat. No. 5,819,292 entitled <i>Method for Maintaining Consistent States of a File System and For Creating User</i>-<i>Accessible Read</i>-<i>Only Copies of a File System</i>, by David Hitz et al., each of which is hereby incorporated by reference as though full set forth herein.</p>
    <p num="p-0014">The active map denotes a bitmap file describing which blocks are used by the active file system. As described prior, a snapshot may contain metadata describing the file system as it existed at the point in time that the image was taken. In particular, a snapshot captures the active map as it existed at the time of snapshot creation; this file is also known as the snapmap for the snapshot. Note then that a snapmap denotes a bitmap file describing which blocks are used by a snapshot. The summary map denotes a file that is an inclusive logical OR bitmap of all snapmaps. By examining the active and summary maps, the file system can determine whether a block is in use by either the active file system or any snapshot. The space map denotes a file including an array of numbers that describe the number of storage blocks used in a block allocation area In other words, the space map is essentially a logical OR bitmap between the active and summary maps to provide a condensed version of available “free block” areas within the vbn space. Examples of snapshot and block allocation data structures, such as the active map, space map and summary map, are described in U.S. Patent Application Publication No. US2002/0083037 A1, titled <i>Instant Snapshot</i>, by Blake Lewis et al. and published on Jun. 27, 2002, which application is hereby incorporated by reference.</p>
    <p num="p-0015"> <figref idrefs="DRAWINGS">FIG. 1</figref> is a schematic block diagram of an exemplary on-disk storage structure <b>100</b> of a logical volume of a storage system. As noted, a logical volume is typically associated with a file system and comprises data blocks organized within a vbn space. Each logical volume (hereinafter “volume”) has a file system information (fsinfo) block that is preferably stored at a fixed location within, e.g., a RAID group. Fsinfo block <b>105</b> is the root of the on-disk storage structure <b>100</b>, illustratively at vbns <b>1</b> and <b>2</b>. When loading the volume, the storage operating system accesses those vbns to acquire the fsinfo block <b>105</b>.</p>
    <p num="p-0016">The fsinfo block <b>105</b> includes a variety of metadata that describes the state of the file system; also included in the fsinfo block <b>105</b> is an inode for an inode file <b>110</b>. All inodes of the write-anywhere file system are organized into the inode file <b>111</b>. Like any other file, the inode of the inode file is the root of the buffer tree that describes the location of blocks o the file. As such, the inode of the inode file may directly reference (point to) data blocks <b>107</b> of the inode file <b>111</b> or may reference indirect blocks <b>106</b> of the inode file <b>111</b> that, in turn, reference data blocks of the inode file. In this example, the inode for the inode file <b>110</b> includes an exemplary buffer tree comprising a plurality of inode file indirect blocks <b>106</b> that, in turn, point to inode file data blocks <b>107</b>. Within each data block of the inode file are inodes <b>112</b>, each of which serves as the root of a file. Among the inodes of the inode file <b>110</b>, there are inodes for special metadata files, such as an active map <b>115</b>, a summary map <b>120</b>, a space map <b>125</b>, a root directory <b>140</b> and a metadata directory <b>145</b>. All user files in the file system are organized under the root directory <b>140</b>, while various metadata files associated with the file system are stored under the metadata directory <b>145</b>.</p>
    <p num="p-0017">The inode file may further include inodes that reference a plurality of snapshots <b>130</b>, <b>135</b>. These snapshot inodes are the root level inodes of snapshots (PCPIs) of the active file system. Each volume has special reserved inode numbers within its vbn space; a plurality of those inode numbers (e.g., <b>31</b>) is reserved for PCPIs. When a PCPI is generated of the active file system, a copy of the inode for the inode file is generated (hereinafter the “snapshot root”) and assigned one of the reserved PCPI inode numbers. Thus, to access a PCPI at a particular point in time, the storage operating system accesses the appropriate snapshot root of the PCPI.</p>
    <p num="p-0018">A noted disadvantage of such an on-disk storage structure is a limitation on the number PCPIs (e.g., <b>31</b>) that may be maintained with the file system. As a result, a system administrator (user) may be forced to modify PCPI creation and/or retention schedules to avoid exhausting the available number of maintainable PCPIs. This limitation may prove burdensome and, possibly, costly depending upon the need for additional PCPI capacity. The present invention is directed to alleviating this limitation.</p>
    <heading>SUMMARY OF THE INVENTION</heading> <p num="p-0019">The present invention overcomes the disadvantages of the prior art by providing an on-disk storage arrangement that increases the number of persistent consistency point images (PCPIs) that may be maintained for a volume of a storage system. The on-disk storage arrangement comprises a novel volume information (volinfo) block representing the root of the volume; the volinfo block is stored at predefined locations on disk and comprises various system wide configuration data. According to the invention, the volinfo block further comprises a data structure configured to provide a level of indirection that increases the number of PCPIs maintainable by a file system executing on the storage system. To that end, the data structure may be organized as an array of pointers, wherein each pointer references a data block comprising a snapshot root, thereby enabling efficient access to each PCPI maintained by the file system.</p>
    <p num="p-0020">In the illustrative embodiment, the volume comprises data blocks organized within a volume block number (vbn) space maintained by the file system. The array is embodied as a vbn lookup table having a plurality of entries, wherein each entry comprises a vbn pointer configured to point to (reference) a file system information (fsinfo) block within the volume. The fsinfo block contains information that specifies a layout of the file system. Each entry of the vbn lookup table is indexed by an identifier assigned to each PCPI; notably, entry zero holds a vbn pointer to the “active” file system. Thus, one of the fsinfo blocks referenced by the vbn lookup table is associated with the active file system, while the remaining fsinfo blocks are associated with PCPIs of the active file system.</p>
    <p num="p-0021">Advantageously, the novel vbn lookup table enables efficient access to information describing the active file system and, illustratively, 255 PCPIs. This feature of the invention permits an illustrative eight-fold increase in the number of PCPIs maintainable by the file system. Additional PCPIs may be maintained in the storage system by configuring the vbn lookup table to provide further levels of indirection. For example, the entries of the vbn lookup table may be configured to reference indirect fsinfo blocks that, in turn, reference “direct” fsinfo blocks. Therefore by expanding the number of levels of indirection, any number of PCPIs may be maintained with the file system.</p>
    <description-of-drawings> <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading> <p num="p-0022">The above and further advantages of the invention may be better understood by referring to the following description in conjunction with the accompanying drawings in which like reference numerals indicate identical or functionally similar elements:</p>
      <p num="p-0023"> <figref idrefs="DRAWINGS">FIG. 1</figref>, already described, is a schematic block diagram of an on-disk storage structure of a volume of a storage system;</p>
      <p num="p-0024"> <figref idrefs="DRAWINGS">FIG. 2</figref> is a schematic block diagram of an environment including a storage system that may be added advantageously used with a present invention;</p>
      <p num="p-0025"> <figref idrefs="DRAWINGS">FIG. 3</figref> is a schematic block diagram of a storage operating system that be advantageously used with a present invention;</p>
      <p num="p-0026"> <figref idrefs="DRAWINGS">FIG. 4</figref> is a schematic block diagram of an inode that may be advantageously used with the present;</p>
      <p num="p-0027"> <figref idrefs="DRAWINGS">FIG. 5</figref> is a schematic block diagram of an on-disk storage arrangement of a volume in accordance with an illustrative embodiment of the present invention;</p>
      <p num="p-0028"> <figref idrefs="DRAWINGS">FIG. 6</figref> is a schematic block diagram of an exemplary volume information block in accordance with the embodiment with the present information; and</p>
      <p num="p-0029"> <figref idrefs="DRAWINGS">FIG. 7</figref> is a schematic block diagram of an on-disk storage arrangement of a volume in accordance with an alternate embodiment of the present invention.</p>
    </description-of-drawings> <heading>DETAILED DESCRIPTION OF AN ILLUSTRATIVE EMBODIMENT</heading> <p num="p-0030">A. Storage System Environment</p>
    <p num="p-0031"> <figref idrefs="DRAWINGS">FIG. 2</figref> is a schematic block diagram of an environment <b>200</b> including a storage system <b>220</b> that may be advantageously used with the present invention. The storage system is a computer that provides storage service relating to the organization of information on storage devices, such as disks <b>230</b> of a disk array <b>260</b>. The storage system <b>220</b> comprises a processor <b>222</b>, a memory <b>224</b>, a network adapter <b>226</b> and a storage adapter <b>228</b> interconnected by a system bus <b>225</b>. The storage system <b>220</b> also includes a storage operating system <b>300</b> that preferably implements a high-level module, such as a file system, to logically organize the information as a hierarchical structure of directories, files and special types of files called virtual disks (hereinafter “blocks”) on the disks.</p>
    <p num="p-0032">In the illustrative embodiment, the memory <b>224</b> comprises storage locations that are addressable by the processor and adapters for storing software program code. A portion of the memory may be further organized as a “buffer cache” <b>270</b> for storing certain data structures associated with the present invention. The processor and adapters may, in turn, comprise processing elements and/or logic circuitry configured to execute the software code and manipulate the data structures. Storage operating system <b>300</b>, portions of which are typically resident in memory and executed by the processing elements, functionally organizes the system <b>220</b> by, inter alia, invoking storage operations executed by the storage system. It will be apparent to those skilled in the art that other processing and memory means, including various computer readable media, may be used for storing and executing program instructions pertaining to the inventive technique described herein.</p>
    <p num="p-0033">The network adapter <b>226</b> comprises the mechanical, electrical and signaling circuitry needed to connect the storage system <b>220</b> to a client <b>210</b> over a computer network <b>240</b>, which may comprise a point-to-point connection or a shared medium, such as a local area network. Illustratively, the computer network <b>240</b> may be embodied as an Ethernet network or a Fibre Channel (FC) network. The client <b>210</b> may communicate with the storage system over network <b>240</b> by exchanging discrete frames or packets of data according to pre-defined protocols, such as the Transmission Control Protocol/Internet Protocol (TCP/IP).</p>
    <p num="p-0034">The client <b>210</b> may be a general-purpose computer configured to execute applications <b>212</b>. Moreover, the client <b>210</b> may interact with the storage system <b>220</b> in accordance with a client/server model of information delivery. That is, the client may request the services of the storage system, and the system may return the results of the services requested by the client, by exchanging packets <b>250</b> over the network <b>240</b>. The clients may issue packets including file-based access protocols, such as the Common Internet File System (CIFS) protocol or Network File System (NFS) protocol, over TCP/IP when accessing information in the form of files and directories. Alternatively, the client may issue packets including block-based access protocols, such as the Small Computer Systems Interface (SCSI) protocol encapsulated over TCP (iSCSI) and SCSI encapsulated over Fibre Channel (FCP), when accessing information in the form of blocks.</p>
    <p num="p-0035">The storage adapter <b>228</b> cooperates with the storage operating system <b>300</b> executing on the system <b>220</b> to access information requested by a user (or client). The information may be stored on any type of attached array of writable storage device media such as video tape, optical, DVD, magnetic tape, bubble memory, electronic random access memory, micro-electro mechanical and any other similar media adapted to store information, including data and parity information. However, as illustratively described herein, the information is preferably stored on the disks <b>230</b>, such as HDD and/or DASD, of array <b>260</b>. The storage adapter includes input/output (I/O) interface circuitry that couples to the disks over an I/O interconnect arrangement, such as a conventional high-performance, FC serial link topology.</p>
    <p num="p-0036">Storage of information on array <b>260</b> is preferably implemented as one or more storage “volumes” that comprise a collection of physical storage disks <b>230</b> cooperating to define an overall logical arrangement of volume block number (vbn) space on the volume(s). Each logical volume is generally, although not necessarily, associated with its own file system. The disks within a logical volume/file system are typically organized as one or more groups, wherein each group may be operated as a Redundant Array of Independent (or Inexpensive) Disks (RAID). Most RAID implementations, such as a RAID-4 level implementation, enhance the reliability/integrity of data storage through the redundant writing of data “stripes” across a given number of physical disks in the RAID group, and the appropriate storing of parity information with respect to the striped data. An illustrative example of a RAID implementation is a RAID-4 level implementation, although it should be understood that other types and levels of RAID implementations may be used in accordance with the inventive principles described herein.</p>
    <p num="p-0037">B. Storage Operating System</p>
    <p num="p-0038">To facilitate access to the disks <b>230</b>, the storage operating system <b>300</b> implements a write-anywhere file system that cooperates with virtualization modules to “virtualize” the storage space provided by disks <b>230</b>. The file system logically organizes the information as a hierarchical structure of named directories and files on the disks. Each “ondisk” file may be implemented as set of disk blocks configured to store information, such as data, whereas the directory may be implemented as a specially formatted file in which names and links to other files and directories are stored. The virtualization modules allow the file system to further logically organize information as a hierarchical structure of blocks on the disks that are exported as named logical unit numbers (luns).</p>
    <p num="p-0039">In the illustrative embodiment, the storage operating system is preferably the NetApp® Data ONTAP™ operating system available from Network Appliance, Inc., Sunnyvale, Calif. that implements a Write Anywhere File Layout (WAFL™) file system. However, it is expressly contemplated that any appropriate storage operating system may be enhanced for use in accordance with the inventive principles described herein. As such, where the term “WAFL” is employed, it should be taken broadly to refer to any file system that is otherwise adaptable to the teachings of this invention.</p>
    <p num="p-0040"> <figref idrefs="DRAWINGS">FIG. 3</figref> is a schematic block diagram of the storage operating system <b>300</b> that may be advantageously used with the present invention. The storage operating system comprises a series of software layers organized to form an integrated network protocol stack or, more generally, a multi-protocol engine that provides data paths for clients to access information stored on the storage system using block and file access protocols. The protocol stack includes a media access layer <b>310</b> of network drivers (e.g., gigabit Ethernet drivers) that interfaces to network protocol layers, such as the IP layer <b>312</b> and its supporting transport mechanisms, the TCP layer <b>314</b> and the User Datagram Protocol (UDP) layer <b>316</b>. A file system protocol layer provides multi-protocol file access and, to that is end, includes support for the Direct Access File System (DAFS) protocol <b>318</b>, the NFS protocol <b>320</b>, the CIFS protocol <b>322</b> and the Hypertext Transfer Protocol (HTTP) protocol <b>324</b>. A VI layer <b>326</b> implements the VI architecture to provide direct access transport (DAT) capabilities, such as RDMA, as required by the DAFS protocol <b>318</b>.</p>
    <p num="p-0041">An iSCSI driver layer <b>328</b> provides block protocol access over the TCP/IP network protocol layers, while a FC driver layer <b>330</b> receives and transmits block access requests and responses to and from the storage system. The FC and iSCSI drivers provide FC-specific and iSCSI-specific access control to the blocks and, thus, manage exports of luns to either iSCSI or FCP or, alternatively, to both iSCSI and FCP when accessing the blocks on the storage system. In addition, the storage operating system includes a storage module embodied as a RAID system <b>340</b> that manages the storage and retrieval of information to and from the volumes/disks in accordance with I/O operations, and a disk driver system <b>350</b> that implements a disk access protocol such as, e.g., the SCSI protocol.</p>
    <p num="p-0042">Bridging the disk software layers with the integrated network protocol stack layers is a virtualization system that is implemented by a file system <b>380</b> interacting with virtualization modules illustratively embodied as, e.g., vdisk module <b>390</b> and SCSI target module <b>370</b>. The vdisk module <b>390</b> is layered on the file system <b>380</b> to enable access by administrative interfaces. The SCSI target module <b>370</b> is disposed between the FC and iSCSI drivers <b>328</b>, <b>330</b> and the file system <b>380</b> to provide a translation layer of the virtualization system between the block (lun) space and the file system space, where luns are represented as blocks.</p>
    <p num="p-0043">The file system is illustratively a message-based system that provides logical volume management capabilities for use in access to the information stored on the storage devices, such as disks. That is, in addition to providing file system semantics, the file system <b>380</b> provides functions normally associated with a volume manager. These functions include (i) aggregation of the disks, (ii) aggregation of storage bandwidth of the disks, and (iii) reliability guarantees, such as mirroring and/or parity (RAID). The file system <b>380</b> illustratively implements the WAFL file system (hereinafter generally the “write-anywhere file system”) having an on-disk format representation that is block-based using, e.g., 4 kilobyte (KB) blocks and using index nodes (“inodes”) to identify files and file attributes (such as creation time, access permissions, size and block location). The file system uses files to store metadata describing the layout of its file system; these metadata files include, among others, an inode file. A file handle, i.e., an identifier that includes an inode number, is used to retrieve an inode from disk.</p>
    <p num="p-0044">Broadly stated, all inodes of the write-anywhere file system are organized into the inode file. Each logical volume (hereinafter “volume”) has a file system information (fsinfo) block specifies the layout of data in the file system and includes the inode of the “inode file,” the file contains all other inodes of the file system. The inode of the inode file may directly reference (point to) blocks of the inode file or may reference indirect blocks of the inode file that, in turn, reference direct blocks of the inode file. Within each direct block of the inode file are inodes, each of which serves as the root of a buffer tree of a file.</p>
    <p num="p-0045">Operationally, a request from the client <b>210</b> is forwarded as a packet <b>250</b> over the computer network <b>240</b> and onto the storage system <b>220</b> where it is received at the network adapter <b>226</b>. A network driver (of layer <b>310</b> or layer <b>330</b>) processes the packet and, if appropriate, passes it on to a network protocol and file access layer for additional processing prior to forwarding to the write-anywhere file system <b>380</b>. Here, the file system generates operations to load (retrieve) the requested data from disk <b>230</b> if it is not resident “in core”, i.e., in the buffer cache <b>270</b>. If the information is not in the cache, the file system <b>380</b> indexes into the inode file using the inode number to access an appropriate entry and retrieve a logical vbn. The file system then passes a message structure including the logical vbn to the RAID) system <b>340</b>; the logical vbn is mapped to a disk identifier and disk block number (disk,dbn) and sent to an appropriate driver (e.g., SCSI) of the disk driver system <b>350</b>. The disk driver accesses the dbn from the specified disk <b>230</b> and loads the requested data block(s) in buffer cache <b>270</b> for processing by the storage system. Upon completion of the request, the storage system (and operating system) returns a reply to the client <b>210</b> over the network <b>240</b>.</p>
    <p num="p-0046">It should be noted that the software “path” through the storage operating system layers described above needed to perform data storage access for the client request received at the storage system may alternatively be implemented in hardware. That is, in an alternate embodiment of the invention, a storage access request data path may be implemented as logic circuitry embodied within a field programmable gate array (FPGA) or an application specific integrated circuit (ASIC). This type of hardware implementation increases the performance of the storage service provided by storage system <b>220</b> in response to a request issued by client <b>210</b>. Moreover, in another alternate embodiment of the invention, the processing elements of adapters <b>226</b>, <b>228</b> may be configured to offload some or all of the packet processing and storage access operations, respectively, from processor <b>222</b>, to thereby increase the performance of the storage service provided by the system. It is expressly contemplated that the various processes, architectures and procedures described herein can be implemented in hardware, firmware or software.</p>
    <p num="p-0047">As used herein, the term “storage operating system” generally refers to the computer-executable code operable to perform a storage fiction in a storage system, e.g., that manages data access and may, in the case of a file server, implement file system semantics. In this sense, the ONTAP software is an example of such a storage operating system implemented as a microkernel and including the WAFL layer to implement the WAFL file system semantics and manage data access. The storage operating system can also be implemented as an application program operating over a general-purpose operating system, such as UNIX® or Windows NT®, or as a general-purpose operating system with configurable functionality, which is configured for storage applications as described herein.</p>
    <p num="p-0048">In addition, it will be understood to those skilled in the art that the inventive technique described herein may apply to any type of special-purpose (e.g., file server, filer or multi-protocol storage appliance) or general-purpose computer, including a standalone <b>10</b> computer or portion thereof, embodied as or including a storage system <b>220</b>. An example of a multi-protocol storage appliance that may be advantageously used with the present invention is described in U.S. patent application Ser. No. 10/215,917 titled, <i>Multi</i>-<i>Protocol Storage Appliance that Provides Integrated Support for File and Block Access Protocols</i>, by Vijayan Rajan, et al. Moreover, the teachings of this invention can be adapted to a variety of storage system architectures including, but not limited to, a network-attached storage environment, a storage area network and disk assembly directly-attached to a client or host computer. The term “storage system” should therefore be taken broadly to include such arrangements in addition to any subsystems configured to perform a storage function and associated with other equipment or systems.</p>
    <p num="p-0049">In the illustrative embodiment, a file is represented in the write-anywhere file system by an inode data structure adapted for storage on the disks <b>230</b>. <figref idrefs="DRAWINGS">FIG. 4</figref> is a schematic block diagram of an inode <b>400</b>, which preferably includes a metadata section <b>410</b> and a data section <b>450</b>. The information stored in the metadata section <b>410</b> of each inode <b>400</b> describes the file and, as such, includes the type (e.g., regular, directory, virtual disk) <b>412</b> of file, the size <b>414</b> of the file, time stamps (e.g., access and/or modification) <b>416</b> for the file and ownership, i.e., user identifier (UID <b>418</b>) and group ID (GID <b>420</b>), of the file.</p>
    <p num="p-0050">The data section <b>450</b> of an on-disk inode may contain file data or pointers, the latter referencing 4 KB data blocks on disk used to store the file data. Each pointer is preferably a logical vbn to facilitate efficiency among the file system and the RAID system <b>340</b> when accessing the data on disks. Given the restricted size (e.g., 128 bytes) of the inode, file data having a size that is less than or equal to 64 bytes is represented, in its entirety, within the data section of that inode. However, if the file data is greater than 64 bytes but less than or equal to 64 KB, then the data section of the inode (e.g., a first level inode) comprises up to 16 pointers, each of which references a 4 KB block of data on the disk.</p>
    <p num="p-0051">Moreover, if the size of the data is greater than 64 KB but less than or equal to 64 megabytes (MB), then each pointer in the data section <b>450</b> of the inode (e.g., a second level inode) references an indirect block (e.g., a first level block) that contains 1024 pointers, each of which references a 4 KB data block on disk. For file data having a size greater than 64 MB, each pointer in the data section <b>450</b> of the inode (e.g., a third level inode) references a double-indirect block (e.g., a second level block) that contains 1024 pointers, each referencing an indirect (e.g., a first level) block. The indirect block, in turn, contains 1024 pointers, each of which references a 4 KB data block on disk. When accessing a file, each block of the file may be loaded from disk <b>230</b> into the buffer cache <b>270</b>.</p>
    <p num="p-0052">The contents of the file data residing in the level zero data blocks of the file will be interpreted differently depending on the type of file (inode) defined within the type field <b>412</b>. For example, the data blocks of a directory inode contains metadata that adhere to a structure defined by the file system to describe a directory, whereas the data blocks of a regular inode may simply contain the data associated with the file.</p>
    <p num="p-0053">When an on-disk inode (or block) is loaded from disk <b>230</b> into buffer cache <b>270</b>, its corresponding in core structure embeds the ondisk structure. For example, the dotted line surrounding the inode <b>400</b> (<figref idrefs="DRAWINGS">FIG. 4</figref>) indicates the in core representation of the on-disk inode structure. The in core structure is a block of memory that stores the on-disk structure plus additional information needed to manage data in the memory (but not on disk). The additional information may include, e.g., a “dirty” bit <b>460</b>. After data in the inode (or block) is updated/modified as instructed by, e.g., a write operation, the modified data is marked “dirty” using the dirty bit <b>460</b> so that the inode (block) can be subsequently “flushed” (stored) to disk. The in core and on-disk format structures of the WAFL file system, including the inodes and inode file, are disclosed and described in the previously incorporated U.S. Pat. No. 5,819,292 titled <i>Method for Maintaining Consistent States of a File System and for Creating User-Accessible Read-Only Copies of a File System </i>by David Hitz et al., issued on Oct. 6, 1998.</p>
    <p num="p-0054">C. Increasing the Number of PCPIs in a File System</p>
    <p num="p-0055">The present invention is directed to an on-disk storage arrangement that increases the number of persistent consistency point images (PCPIs) that may be maintained by file system <b>380</b> for a volume of storage system <b>220</b>. The storage arrangement comprises a novel volume information (volinfo) block representing a root of the volume; the volinfo block is stored at predefined locations on disk <b>230</b> and comprises various system wide configuration data. In particular, the volinfo block contains appropriate fields so that software, including versions of the storage operating system, may recognize that the volinfo block is not a fsinfo block. As noted above, the fsinfo block is typically located at vbns <b>1</b> and <b>2</b>; as described herein, the on-disk storage arrangement of the present invention replaces the fsinfo block with the novel volinfo block at this predefined location.</p>
    <p num="p-0056"> <figref idrefs="DRAWINGS">FIG. 5</figref> is a schematic block diagram of an exemplary on-disk storage arrangement <b>500</b> of a file system according to an illustrative embodiment of the present invention. The on-disk storage arrangement <b>500</b> comprises a volinfo block <b>600</b> that contains pointers to various fsinfo blocks including fsinfo block <b>505</b> representing the active files system, as well as fsinfo blocks <b>510</b> and <b>515</b> representing various PCPIs associated with the active file system. The volinfo <b>600</b> is illustratively located at vbns <b>1</b> and <b>2</b> or, in alternate embodiments, at another predetermined location on disk.</p>
    <p num="p-0057">Each fsinfo block <b>505</b>, <b>510</b>, <b>515</b> is illustratively contained within an fsinfo file, the contents of which comprise the fsinfo block. In this example, the fsinfo block <b>505</b> for the active file system includes the inodes of the inode file for the active file system <b>520</b>. The inode file for the active file system <b>520</b> includes further inodes for an active map <b>525</b>, a summary map <b>530</b>, a space map <b>535</b>, a root directory <b>540</b> and a hidden metadata directory <b>545</b>. Each additional fsinfo block, for example, fsinfo blocks <b>510</b> and <b>515</b>, that is associated with a PCPI includes the inode of the inode file for the PCPI, which in turn includes appropriate inodes for active maps and the like (not shown) for the specific PCPI.</p>
    <p num="p-0058"> <figref idrefs="DRAWINGS">FIG. 6</figref> is a schematic block of an exemplary volinfo block <b>600</b> in accordance with an embodiment of the present invention. The volinfo block <b>600</b> includes an fsinfo magic field <b>605</b>, an fsinfo version field <b>610</b>, a file system creation time field <b>615</b>, a time of most recent CP <b>620</b> and a count of a number of CPs for file system field <b>625</b>. The block <b>600</b> also includes a volinfo magic field <b>630</b>, a volinfo version <b>635</b>, a file system options field <b>640</b>, a password field <b>645</b>, a legacy PCPIs field <b>650</b> and a list of PCPIs stored in block one of inode file field <b>655</b>. In addition, the volinfo block includes a delete mask field <b>660</b>, a create mask field <b>665</b>, a first checksum field <b>670</b>, an vbn array field <b>680</b> and a second checksum field <b>675</b>. It should be noted that in alternate embodiments additional and/or differing fields may be included in the volinfo block <b>600</b>.</p>
    <p num="p-0059">The fsinfo magic field <b>605</b> stores an appropriate magic value for backward compatibility with earlier fsinfo block. Similarly, the fsinfo version field <b>610</b> is needed for backwards compatibility, and is tagged with a version number that indicates that the block is a volinfo block, not an fsinfo block. The fsinfo creation time field <b>615</b> stores a value indicating the time that the file system was created. Field <b>620</b> identifies the time when a most recent consistency point (CP) was generated and field <b>625</b> stores a count of the number of CPs performed on the file system. The volinfo magic field <b>630</b> stores a magic number identifying the data structure <b>600</b> as a volinfo block, and the volinfo version field <b>635</b> stores the version of the volinfo block. Note that the fsinfo block retains a version field, which continues to be the version that is updated to reflect any on-disk format change that is made to the file system. However, should a major change to the volinfo data structure occur, the volinfo version field <b>635</b> would be updated as well. The file system options field <b>640</b> includes a set of options for the file system and the password field <b>645</b> stores a password associated with the file system. The password may be utilized to limit certain administrative operations.</p>
    <p num="p-0060">The legacy PCPI field <b>650</b> identifies those PCPIs that were created with an older on-disk format which lacked certain important metadata files (e.g., the fsinfo file). The content of field <b>655</b> identifies those PCPIs whose snapshot roots are stored in block <b>1</b> of the inode file, i.e., PCPIs that were created on a file system prior to the present invention. The delete mask field <b>660</b> and create mask field <b>665</b> identify PCPIs that are currently being deleted or created. The first checksum field <b>670</b> stores a checksum calculated on the contents of fields <b>605</b>-<b>665</b>, whereas the second checksum field <b>675</b> stores a checksum calculated for the entire volinfo block <b>600</b>.</p>
    <p num="p-0061">According to the invention, the volinfo block <b>600</b> comprises a data structure configured to provide a level of indirection that increases the number of PCPIs maintainable by file system <b>380</b>. To that end, the data structure may be organized as an array of pointers, wherein each pointer references a block containing a snapshot root (i.e., inode for the inode file of a PCPI), thereby enabling efficient access to each PCPI maintained by the file system. The array of pointers is contained in the vbn array field <b>680</b>.</p>
    <p num="p-0062">In the illustrative embodiment, the array is preferably embodied as a vbn lookup table <b>682</b> having a plurality of entries <b>684</b>, wherein each entry comprises a vbn pointer <b>686</b> configured to point to (reference) a fsinfo block within the volume. As noted, the fsinfo block contains information that specifies the layout of the file system. Each entry <b>684</b> of the vbn lookup table <b>682</b> is indexed by an identifier (ID) assigned to each PCPI; notably, entry zero holds a vbn pointer <b>686</b> to the “active” file system. Thus, one of the fsinfo blocks referenced by the vbn lookup table <b>682</b> is associated with the active file system, while the remaining fsinfo blocks are associated with PCPIs of the active file system.</p>
    <p num="p-0063">Advantageously, the novel vbn lookup table <b>682</b> in vbn array field <b>680</b> enables efficient access to information describing the active file system and, illustratively, <b>255</b> PCPIs. This feature of the invention permits an illustrative eight-fold increase in the number of PCPIs maintainable by the file system. Additional PCPIs may be maintainable in the storage system by configuring the vbn lookup table <b>682</b> to provide further levels of indirection. For example, the entries of the vbn lookup table may be configured to reference indirect fsinfo blocks that, in turn, reference “direct” fsinfo blocks. Therefore by expanding the number of levels of indirection, any number of PCPIs may be maintained with the file system. It should be noted that in embodiments utilizing indirect blocks, all per-PCPI state fields, e.g., delete mask <b>660</b> and create mask <b>665</b>, would be located in the appropriate indirect blocks and not in the volinfo block.</p>
    <p num="p-0064"> <figref idrefs="DRAWINGS">FIG. 7</figref> is a schematic block diagram of such an on-disk storage arrangement <b>700</b> in accordance with an alternate embodiment of the present invention. The on-disk storage arrangement <b>700</b> has a volinfo block <b>600</b> representing a root of a volume and including pointers to indirect fsinfo block <b>705</b> and <b>715</b>. Note that the pointers are illustratively vbns and are organized as an array in vbn array field <b>680</b>. Each indirect fsinfo block <b>705</b>, <b>715</b> includes a vbn lookup table <b>710</b>, <b>720</b> (similar to vbn lookup table <b>682</b>) that maps PCPI IDs to appropriate fsinfo blocks. For example, entry 0 of the vbn lookup table <b>710</b> is indexed by PCPI ID 0 and the resulting vbn references fsinfo block <b>725</b> for the active file system. Similarly, entry 1 of the vbn lookup table <b>710</b> is indexed by PCPI ID 1 and the resulting vbn references fsinfo block <b>730</b> associated with PCPI 1.</p>
    <p num="p-0065">To again summarize, the present invention is directed to an on-disk storage arrangement that increases the number of persistent consistency point images (PCPIs) that may be maintained for a volume of a storage system. The novel volume information (volinfo) block represents a root of the volume and comprises various system wide configuration data. The volinfo block further comprises a data structure configured to provide a level of indirection that increases the number of PCPIs maintainable by a file system executing on the storage system. To that end, the data structure may be organized as an array of pointers, wherein each pointer references a block containing a snapshot root, thereby enabling efficient access to each PCPI maintained by the file system.</p>
    <p num="p-0066">The foregoing description has been directed to specific embodiments of this invention. It will be apparent, however, that other variations and modifications may be made to the described embodiments, with the attainment of some or all of their advantages. For instance, it is expressly contemplated that the teachings of this invention can be implemented as software, including a computer-readable medium having program instructions executing on a computer, hardware, firmware, or a combination thereof. Accordingly this description is to be taken only by way of example and not to otherwise limit the scope of the invention. Therefore, it is the object of the appended claims to cover all such variations and modifications as come within the true spirit and scope of the invention.</p>
    </div></div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Patent Citations</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Cited Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US4570217">US4570217</a></td><td class="patent-data-table-td patent-date-value">Mar 28, 1983</td><td class="patent-data-table-td patent-date-value">Feb 11, 1986</td><td class="patent-data-table-td ">Allen Bruce S</td><td class="patent-data-table-td ">Man machine interface</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5155835">US5155835</a></td><td class="patent-data-table-td patent-date-value">Nov 19, 1990</td><td class="patent-data-table-td patent-date-value">Oct 13, 1992</td><td class="patent-data-table-td ">Storage Technology Corporation</td><td class="patent-data-table-td ">Automatically archiving infrequently used data records</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5163131">US5163131</a></td><td class="patent-data-table-td patent-date-value">Sep 8, 1989</td><td class="patent-data-table-td patent-date-value">Nov 10, 1992</td><td class="patent-data-table-td ">Auspex Systems, Inc.</td><td class="patent-data-table-td ">Parallel i/o network file server architecture</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5202979">US5202979</a></td><td class="patent-data-table-td patent-date-value">Jun 26, 1992</td><td class="patent-data-table-td patent-date-value">Apr 13, 1993</td><td class="patent-data-table-td ">Thinking Machines Corporation</td><td class="patent-data-table-td ">Storage system using multiple independently mechanically-driven storage units</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5278979">US5278979</a></td><td class="patent-data-table-td patent-date-value">Dec 20, 1990</td><td class="patent-data-table-td patent-date-value">Jan 11, 1994</td><td class="patent-data-table-td ">International Business Machines Corp.</td><td class="patent-data-table-td ">Version management system using pointers shared by a plurality of versions for indicating active lines of a version</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5403639">US5403639</a></td><td class="patent-data-table-td patent-date-value">Sep 2, 1992</td><td class="patent-data-table-td patent-date-value">Apr 4, 1995</td><td class="patent-data-table-td ">Storage Technology Corporation</td><td class="patent-data-table-td ">File server having snapshot application data groups</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5410667">US5410667</a></td><td class="patent-data-table-td patent-date-value">Apr 17, 1992</td><td class="patent-data-table-td patent-date-value">Apr 25, 1995</td><td class="patent-data-table-td ">Storage Technology Corporation</td><td class="patent-data-table-td ">Data record copy system for a disk drive array data storage subsystem</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5819292">US5819292</a></td><td class="patent-data-table-td patent-date-value">May 31, 1995</td><td class="patent-data-table-td patent-date-value">Oct 6, 1998</td><td class="patent-data-table-td ">Network Appliance, Inc.</td><td class="patent-data-table-td ">Method for maintaining consistent states of a file system and for creating user-accessible read-only copies of a file system</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US5963962">US5963962</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jun 30, 1998</td><td class="patent-data-table-td patent-date-value">Oct 5, 1999</td><td class="patent-data-table-td ">Network Appliance, Inc.</td><td class="patent-data-table-td ">Method for generating a consistency point</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6289356">US6289356</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Sep 14, 1998</td><td class="patent-data-table-td patent-date-value">Sep 11, 2001</td><td class="patent-data-table-td ">Network Appliance, Inc.</td><td class="patent-data-table-td ">Write anywhere file-system layout</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6311193">US6311193</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Sep 28, 1998</td><td class="patent-data-table-td patent-date-value">Oct 30, 2001</td><td class="patent-data-table-td ">Kabushiki Kaisha Toshiba</td><td class="patent-data-table-td ">Computer system</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6484186">US6484186</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Feb 15, 2000</td><td class="patent-data-table-td patent-date-value">Nov 19, 2002</td><td class="patent-data-table-td ">Novell, Inc.</td><td class="patent-data-table-td ">Method for backing up consistent versions of open files</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6636879">US6636879</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Aug 18, 2000</td><td class="patent-data-table-td patent-date-value">Oct 21, 2003</td><td class="patent-data-table-td ">Network Appliance, Inc.</td><td class="patent-data-table-td ">Space allocation in a write anywhere file system</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6708227">US6708227</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Apr 24, 2000</td><td class="patent-data-table-td patent-date-value">Mar 16, 2004</td><td class="patent-data-table-td ">Microsoft Corporation</td><td class="patent-data-table-td ">Method and system for providing common coordination and administration of multiple snapshot providers</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6721764">US6721764</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Sep 11, 2001</td><td class="patent-data-table-td patent-date-value">Apr 13, 2004</td><td class="patent-data-table-td ">Network Appliance, Inc.</td><td class="patent-data-table-td ">Copy on write file system consistency and block usage</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6728922">US6728922</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Aug 18, 2000</td><td class="patent-data-table-td patent-date-value">Apr 27, 2004</td><td class="patent-data-table-td ">Network Appliance, Inc.</td><td class="patent-data-table-td ">Dynamic data space</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20020083037">US20020083037</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Aug 17, 2001</td><td class="patent-data-table-td patent-date-value">Jun 27, 2002</td><td class="patent-data-table-td ">Network Appliance, Inc.</td><td class="patent-data-table-td ">Instant snapshot</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20020083072">US20020083072</a></td><td class="patent-data-table-td patent-date-value">Dec 22, 2000</td><td class="patent-data-table-td patent-date-value">Jun 27, 2002</td><td class="patent-data-table-td ">Steuart Stacy Rhea</td><td class="patent-data-table-td ">System, method and software application for incorporating data from unintegrated applications within a central database</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20030182317">US20030182317</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Mar 22, 2002</td><td class="patent-data-table-td patent-date-value">Sep 25, 2003</td><td class="patent-data-table-td ">Kahn Andy C.</td><td class="patent-data-table-td ">File folding technique</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20040260673">US20040260673</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Apr 12, 2004</td><td class="patent-data-table-td patent-date-value">Dec 23, 2004</td><td class="patent-data-table-td ">David Hitz</td><td class="patent-data-table-td ">Copy on write file system consistency and block usage</td></tr></table><div class="patent-section-footer">* Cited by examiner</div></div><div class="patent-section patent-tabular-section"><a id="npl-citations"></a><div class="patent-section-header"><span class="patent-section-title">Non-Patent Citations</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th colspan="3"class="patent-data-table-th">Reference</th></tr></thead><tr><td class="patent-data-table-td ">1</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Akyurek, Sedat , placing Replicated Data to Reduce Seek Delays, Department of Computer Science, University of Maryland, UMIACS-TR-91-121, CS-TR-2746, Aug. 1991.</td></tr><tr><td class="patent-data-table-td ">2</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Akyurek, Sedat, Placing Replicated Data to Reduce Seek Delays, Department of Computer Science, University of Maryland, UMIACS-TR-91-121, CS-TR-2746, Aug. 1991.</td></tr><tr><td class="patent-data-table-td ">3</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Bitton, Dina, Disk Shadowing, Proceedings of the 14&lt;SUP&gt;th &lt;/SUP&gt;VLDB Conference, LA, CA 1988.</td></tr><tr><td class="patent-data-table-td ">4</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Bitton, Dina, Disk Shadowing, Proceedings of the 14&lt;SUP&gt;th&lt;/SUP&gt;VLDB Conference, LA, CA 1988.</td></tr><tr><td class="patent-data-table-td ">5</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Bitton, Dina, et al., "<a href='http://scholar.google.com/scholar?q="Disk+Shadowing"'>Disk Shadowing</a>", Proceedings of the 14th VLDB Conference, Los Angeles, California 1988, pp. 331-338.</td></tr><tr><td class="patent-data-table-td ">6</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Brian Pawlowski et al., "<a href='http://scholar.google.com/scholar?q="Multi-Protocol+Storage+Appliance+That+Provides+Integrated+Support+for+File+and+Block+Access+Protocols"'>Multi-Protocol Storage Appliance That Provides Integrated Support for File and Block Access Protocols</a>", U.S. Patent Application Ser. No. 10/215,917 filed on Aug. 9, 2002.</td></tr><tr><td class="patent-data-table-td ">7</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Chaudhuri, Surajit, et al., Self-Tuning Technology in Microsoft SQL Server, Data Engineering Journal 22, 2 1999 pp. 20-27.</td></tr><tr><td class="patent-data-table-td ">8</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Chaudhuri, Surajit, et al., Self-Tuning Technology in Microsoft SQL Server, Data Engineering Journal 22, 2 1999, pp. 20-27.</td></tr><tr><td class="patent-data-table-td ">9</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Chen, Peter M., et al., "<a href='http://scholar.google.com/scholar?q="An+Evaluation+of+Redundant+Arrays+of+Disks+Using+an+Amdah1+5890"'>An Evaluation of Redundant Arrays of Disks Using an Amdah1 5890</a>", Computer Science Division, University of California, Berkeley, 1989.</td></tr><tr><td class="patent-data-table-td ">10</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Chutani, Sailesh, et al., "<a href='http://scholar.google.com/scholar?q="The+Episode+File+System"'>The Episode File System</a>", USENIX Winter 1992.</td></tr><tr><td class="patent-data-table-td ">11</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Chutani, Sailesh, et al., The Episode File System, In Proceedings of the USENIX Winter 1992.</td></tr><tr><td class="patent-data-table-td ">12</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Coyne, Robert A., et al., Storage Systems for National Information Assets, Proc. Supercomputing 92, Minneapolis, Nov. 1992, pp. 626-633.</td></tr><tr><td class="patent-data-table-td ">13</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">David A. Patterson et al., "<a href='http://scholar.google.com/scholar?q="A+Case+for+Redundant+Arrays+of+Inexpensive+Disks+%28RAID%29"'>A Case for Redundant Arrays of Inexpensive Disks (RAID)</a>" Computer Science Division, University of California, 1998.</td></tr><tr><td class="patent-data-table-td ">14</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Finlayson, Ross S., et al., Log Files: An Extended File Service Exploiting Write-Once Storage Department of Computer Science, Stanford University, Report No. STAN-CS-87-1177, Sep. 1987.</td></tr><tr><td class="patent-data-table-td ">15</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Finlayson, Ross S., et al., Log Files: An Extended File Service Exploiting Write-Once StorageDepartment of Computer Science, Stanford University, Report No. STAN-CS-87-1177, Sep. 1987.</td></tr><tr><td class="patent-data-table-td ">16</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Gray, Jim, et al., The Recovery Manager of the System R Database Manager, ACM Computing Surveys, (13)2:223-242 1981.</td></tr><tr><td class="patent-data-table-td ">17</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Gray, Jim, et al., The Recovery Manager of the System R Database Manager, ACM Computing Surveys, 13(2:223-242 1981.</td></tr><tr><td class="patent-data-table-td ">18</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Hecht, Matthew S., et al., Shadowed Management of Free Disk Pages with a Linked List, ACM Transactions on Database Systems, 8/4, Dec. 1983, pp. 503-514.</td></tr><tr><td class="patent-data-table-td ">19</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Hitz, David., et al., "<a href='http://scholar.google.com/scholar?q="File+System+Design+for+an+NFS+File+Server+Appliance"'>File System Design for an NFS File Server Appliance</a>", Technical Report 3002, Rev. C3/95, Network Appliance, USENIX Winter 1994.</td></tr><tr><td class="patent-data-table-td ">20</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Howard, John H., "<a href='http://scholar.google.com/scholar?q="An+Overview+of+the+Andrew+File+System"'>An Overview of the Andrew File System</a>", Information Technology Center, Carnegie Mellon University, 1988, pp. 1-6.</td></tr><tr><td class="patent-data-table-td ">21</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Howard, John H., "<a href='http://scholar.google.com/scholar?q="Scale+and+Performance+in+a+Distributed+File+System"'>Scale and Performance in a Distributed File System</a>", ACM Transactions on Computer Systems, vol. 6, No. 1, Feb. 1998, pp. 51-81.</td></tr><tr><td class="patent-data-table-td ">22</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Howard, John H., An Overview of the Andrew File System, Carnegie Mellon University, CMU-ITC-88-062 1988.</td></tr><tr><td class="patent-data-table-td ">23</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Howard, John, et al., Scale and Performance in a Distributed File System, Carnegie Mellon University, CMU-ITC-87-068, Aug. 1987.</td></tr><tr><td class="patent-data-table-td ">24</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Howard, John, H. et al., Scale and Performance in a Distributed File System, ACM Trans. Computer System, 6(1), Feb. 1988 pp. 51-81.</td></tr><tr><td class="patent-data-table-td ">25</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Howard, John, H. et al., Scale and Performance in a Distributed File System, Carnegie Mellon University, CMU-ITC-87-068, Aug. 1987.</td></tr><tr><td class="patent-data-table-td ">26</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Kazar Michael L., et al., "<a href='http://scholar.google.com/scholar?q="DEcorum+File+System+Architectural+Overview"'>DEcorum File System Architectural Overview</a>", USENIX Conference, Summer 1990.</td></tr><tr><td class="patent-data-table-td ">27</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Kazar, Michael L., et al., DEcorum File System Architectural Overview, USENIX Summer Conference, Anaheim, California, 1990.</td></tr><tr><td class="patent-data-table-td ">28</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Kazar, Michael Leon, Synchronization and Caching Issues in the Andrew File System, Carnegie Mellon University, CMU-ITC-88-063.</td></tr><tr><td class="patent-data-table-td ">29</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Kemper, Alfons, et al., Performance Tuning for SAP R/3, Data Engineering Journal 22, 2 1999 pp. 33-40.</td></tr><tr><td class="patent-data-table-td ">30</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Kent, Jack et al., Optimizing Shadow Recovery Algorithms, IEEE Transactioins on Software Engineering, 14(2): 155-168, Feb. 1988.</td></tr><tr><td class="patent-data-table-td ">31</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Kistler James J., et al., "<a href='http://scholar.google.com/scholar?q="Disconnected+Operation+in+the+Code+File+System"'>Disconnected Operation in the Code File System</a>", ACM Transactions on Computer Systems, vol. 10, No. 1, Feb. 1992, pp. 3-25.</td></tr><tr><td class="patent-data-table-td ">32</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Kistler, et al., Disconnected Operation in the Code File System, ACM Transactions on Computer Systems, ACM Transactions on Computer Systems, vol. 10, No. 1, Feb. 1992, pp. 3-25.</td></tr><tr><td class="patent-data-table-td ">33</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Lorie, Raymond, A. Physical Integrity in a Large Segmented Database, ACM Trans. Database Syst., vol. 2, Mar. 1977, pp. 91-104.</td></tr><tr><td class="patent-data-table-td ">34</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Ousterhout, John et al., Beating the I/O Bottleneck: A Case for Log-Structured File Systems, Technical Report, Computer Science Division, Electrical Engineering and Computer Sciences, University of California at Berkeley, Oct. 30, 1988.</td></tr><tr><td class="patent-data-table-td ">35</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Patterson, D., et al., A Case for Redundant Arrays of Inexpensive Disks (RAID), SIGMOD International Conference on Management of Data, Chicago, IL, USA, Jun. 1-3, 1988, SIGMOD RECORD 17(3): 109-16 Sep. 1988.</td></tr><tr><td class="patent-data-table-td ">36</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Patterson, D., et al., A Case for Redundant Arrays of Inexpensive Disks (RAID), Technical Report, CSD-87-391, Computer Science Division, Electrical Engineering and Computer Sciences, University of California at Berkeley 1987.</td></tr><tr><td class="patent-data-table-td ">37</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Peterson, Zachary Nathaniel Joseph, Data Placement for Copy-on-Write Using Virtual Contiguity, University of CA, Santa Cruz, Master's Thesis for the Department of Science in Computer Science, Sep. 2002.</td></tr><tr><td class="patent-data-table-td ">38</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Quinlan, Sean, A Cached WORM File System, Software-Practice and Experience, 21(12):1289-1299 1991.</td></tr><tr><td class="patent-data-table-td ">39</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Rosenblum, Mendel, et al., The Design and Implementation of a Log-Structured File System, In Proceedings of ACM Transactions on Computer Systems, (10)1:26-52, Feb. 1992.</td></tr><tr><td class="patent-data-table-td ">40</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Rosenblum, Mendel, et al., The Design and Implementation of a Log-Structured File SystemJul. 24, 1991 pp. 1-15.</td></tr><tr><td class="patent-data-table-td ">41</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Rosenblum, Mendel, et al., The LFS Storage Manager, Computer Science Division, Electrical Engineering And Computer Sciences, Univ. of CA, presented at Summer '90 USENIX Technical Conference, Anaheim, CA Jun. 1990.</td></tr><tr><td class="patent-data-table-td ">42</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Rosenblum, Mendel, The Design and Implementation of Log-Structured File System, 1992 pp. 1-93.</td></tr><tr><td class="patent-data-table-td ">43</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Schiefer, Berni, et al., DB2 Universal Database Performance Tuning, Data Engineering Journal 22, 2 1999 pp. 12-19.</td></tr><tr><td class="patent-data-table-td ">44</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Seltzer, Margo I., et al., Journaling Versus Soft Updates: Asynchronous Meta-Data Protection in File Systems, Proceedings of 200 USENIX Annual Technical Conference, 6/18-23/2000.</td></tr><tr><td class="patent-data-table-td ">45</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Shasha, Dennis, Tuning Time Series Queries in Finance: Case Studies and Recommendations, Data Engineering Journal 22, 2 1999 pp. 41-47.</td></tr><tr><td class="patent-data-table-td ">46</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Sidebotham, Bob, "<a href='http://scholar.google.com/scholar?q="Volumes%3A+The+Andrew+File+System+Data+Structuring+Primitive"'>Volumes: The Andrew File System Data Structuring Primitive</a>", EUUG Conference Proceedings, Manchester, UK, Autumn 1986.</td></tr><tr><td class="patent-data-table-td ">47</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Sidebotham, Bob, Volumes: The Andrew File System Data Structuring Primitive, EEUG Conference Proceedings, Manchester, UK, Autumn 1986.</td></tr><tr><td class="patent-data-table-td ">48</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Subramanian, Muralidhar, et al., Performance Challenges in Object-Relational DBMSs, Data Engineering Journal 22, 2 1999 pp. 28-32.</td></tr><tr><td class="patent-data-table-td ">49</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Weikum, Gerhard, et al., Towards Self-Tuning Memory Management for Data Servers, Data Engineering Journal 22, 2 1999 pp. 3-11</td></tr><tr><td class="patent-data-table-td ">50</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">West, Michael, et al., The ITC Distributed File System: Prototype and Experience, Carnegie-Mellon University, Technical Report CMU-ITC-040, Mar. 1985.</td></tr><tr><td class="patent-data-table-td ">51</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Zayas Edward R., "<a href='http://scholar.google.com/scholar?q="AFS-3+Programmer%27s+Reference%3A+Architectural+Overview"'>AFS-3 Programmer's Reference: Architectural Overview</a>", Transarc Corporation, Version 1.0 of Sep. 2, 1991.</td></tr><tr><td class="patent-data-table-td ">52</td><td class="patent-data-table-td "></td><td class="patent-data-table-td ">Zayas, Edward R., AFS-3 Programmer's Reference: Architectural Overview, Transarc Corporation, Pittsburgh, pa, 1.0 edition of Sep. 2, 1991.</td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title">Referenced by</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Citing Patent</th><th class="patent-data-table-th">Filing date</th><th class="patent-data-table-th">Publication date</th><th class="patent-data-table-th">Applicant</th><th class="patent-data-table-th">Title</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7613743">US7613743</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jun 10, 2005</td><td class="patent-data-table-td patent-date-value">Nov 3, 2009</td><td class="patent-data-table-td ">Apple Inc.</td><td class="patent-data-table-td ">Methods and apparatuses for data protection</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7707165">US7707165</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Dec 9, 2004</td><td class="patent-data-table-td patent-date-value">Apr 27, 2010</td><td class="patent-data-table-td ">Netapp, Inc.</td><td class="patent-data-table-td ">System and method for managing data versions in a file system</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US7979735">US7979735</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Aug 15, 2008</td><td class="patent-data-table-td patent-date-value">Jul 12, 2011</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Data storage with snapshot-to-snapshot recovery</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8122286">US8122286</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jan 17, 2006</td><td class="patent-data-table-td patent-date-value">Feb 21, 2012</td><td class="patent-data-table-td ">Netapp, Inc.</td><td class="patent-data-table-td ">Technique for increasing the number of persistent consistency point images in a file system</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8219564">US8219564</a></td><td class="patent-data-table-td patent-date-value">Apr 29, 2008</td><td class="patent-data-table-td patent-date-value">Jul 10, 2012</td><td class="patent-data-table-td ">Netapp, Inc.</td><td class="patent-data-table-td ">Two-dimensional indexes for quick multiple attribute search in a catalog system</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8239356">US8239356</a></td><td class="patent-data-table-td patent-date-value">Oct 29, 2009</td><td class="patent-data-table-td patent-date-value">Aug 7, 2012</td><td class="patent-data-table-td ">Apple Inc.</td><td class="patent-data-table-td ">Methods and apparatuses for data protection</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8255371">US8255371</a></td><td class="patent-data-table-td patent-date-value">Oct 29, 2009</td><td class="patent-data-table-td patent-date-value">Aug 28, 2012</td><td class="patent-data-table-td ">Apple Inc.</td><td class="patent-data-table-td ">Methods and apparatuses for data protection</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8266136">US8266136</a></td><td class="patent-data-table-td patent-date-value">Apr 13, 2009</td><td class="patent-data-table-td patent-date-value">Sep 11, 2012</td><td class="patent-data-table-td ">Netapp, Inc.</td><td class="patent-data-table-td ">Mechanism for performing fast directory lookup in a server system</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8381022">US8381022</a></td><td class="patent-data-table-td patent-date-value">Apr 18, 2011</td><td class="patent-data-table-td patent-date-value">Feb 19, 2013</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Data storage with snapshot-to-snapshot recovery</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8539279">US8539279</a></td><td class="patent-data-table-td patent-date-value">Jan 2, 2013</td><td class="patent-data-table-td patent-date-value">Sep 17, 2013</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Data storage with snapshot-to-snapshot recovery</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8549051">US8549051</a></td><td class="patent-data-table-td patent-date-value">Aug 31, 2006</td><td class="patent-data-table-td patent-date-value">Oct 1, 2013</td><td class="patent-data-table-td ">Oracle America, Inc.</td><td class="patent-data-table-td ">Unlimited file system snapshots and clones</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20110173601">US20110173601</a><span class='patent-tooltip-anchor' data-tooltip-text="Cited by examiner"> *</span></td><td class="patent-data-table-td patent-date-value">Jan 11, 2011</td><td class="patent-data-table-td patent-date-value">Jul 14, 2011</td><td class="patent-data-table-td ">Google Inc.</td><td class="patent-data-table-td ">Operating system auto-update procedure</td></tr></table><div class="patent-section-footer">* Cited by examiner</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">Classifications</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">U.S. Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=kXyABAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc714/defs714.htm&usg=AFQjCNF69HBVWbRkdZeFUtAyhUaqKU35WQ#C714S006120">714/6.12</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=kXyABAABERAJ&q=http://www.uspto.gov/web/patents/classification/uspc707/defs707.htm&usg=AFQjCNE7Q7Bg2eD2wcE_fXEcdOe7Yesevw#C707S999202">707/999.202</a></span></td></tr><tr><td class="patent-data-table-td ">International Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=kXyABAABERAJ&q=http://web2.wipo.int/ipcpub/&usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&notion=scheme&version=20130101&symbol=G06F0011000000">G06F11/00</a></span></td></tr><tr><td class="patent-data-table-td ">Cooperative Classification</td><td class="patent-data-table-td "><span class="nested-value"><a href="http://www.google.com/url?id=kXyABAABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=Y10S707/99953">Y10S707/99953</a></span>, <span class="nested-value"><a href="http://www.google.com/url?id=kXyABAABERAJ&q=http://worldwide.espacenet.com/classification&usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06F17/30067">G06F17/30067</a></span></td></tr><tr><td class="patent-data-table-td ">European Classification</td><td class="patent-data-table-td "><span class="nested-value">G06F17/30F</span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">Legal Events</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">Date</th><th class="patent-data-table-th">Code</th><th class="patent-data-table-th">Event</th><th class="patent-data-table-th">Description</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">Jan 23, 2012</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20080310</span></div><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">NETAPP, INC., CALIFORNIA</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">CHANGE OF NAME;ASSIGNOR:NETWORK APPLIANCE, INC.;REEL/FRAME:027573/0847</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Nov 1, 2011</td><td class="patent-data-table-td ">B1</td><td class="patent-data-table-td ">Reexamination certificate first reexamination</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">CLAIMS 1, 11, 18 AND 19 ARE DETERMINED TO BE PATENTABLE AS AMENDED. CLAIMS 2-10, 12-17 AND 20, DEPENDENT ON AN AMENDED CLAIM, ARE DETERMINED TO BE PATENTABLE. NEW CLAIMS 21-172 ARE ADDED AND DETERMINED TO BE PATENTABLE.</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Jun 27, 2011</td><td class="patent-data-table-td ">FPAY</td><td class="patent-data-table-td ">Fee payment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Year of fee payment: </span><span class="nested-value">4</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Jul 15, 2008</td><td class="patent-data-table-td ">RR</td><td class="patent-data-table-td ">Request for reexamination filed</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20080606</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Sep 5, 2006</td><td class="patent-data-table-td ">ERR</td><td class="patent-data-table-td ">Erratum</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">&quot;ALL REFERENCE TO PATENT NO. 6988220 TO RODNEY D. CAMBRIDGE OF SAN FRANCISCO, CA FOR TECHNIQUE FOR INCREASING THE NUMBER OF PERSISTENT CONSISTENCY POINT IMAGES IN A FILE SYSTEM APPEARING IN THE OFFICIAL GAZETTE OF 20060117 SHOULD BE DELETED SINCE NO PATENT WAS GRANTED.&quot;</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">Feb 12, 2004</td><td class="patent-data-table-td ">AS</td><td class="patent-data-table-td ">Assignment</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Owner name: </span><span class="nested-value">NETWORK APPLIANCE, INC., CALIFORNIA</span></div><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:ENG, EMILY;KAHN, ANDY C.;EDWARDS, JOHN K.;REEL/FRAME:014991/0134</span></div><div class="nested-key-value"><span class="nested-key">Effective date: </span><span class="nested-value">20040211</span></div></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">Rotate</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">Original Image</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " Image not available"});</script></div></div></div></td></tr></table><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_8a2b04e7bf975d5171d8e4c0b6365c7a.js", Host:"http://www.google.com/", IsBooksRentalEnabled:1, IsWebstoreDisplayCaseEnabled:1, IsObfuscationEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsGeoLayerEnabled:1, IsImageModeNotesEnabled:1, IsCopyMenuItemEnabled:1, IsGiftingEnabled:0, IsWebReaderUniversalPaginatorEnabled:0, IsOfflineBubbleEnabled:1, IsReaderEnabledForPlayRequests:1, IsFutureOnSaleVolumesEnabled:1, IsOfflineRestrictedCopyEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsRestrictedCopyEnabled:1, IsZipitFolderCollectionEnabled:1, IsEndOfSampleRecommendationsEnabled:1, IsRatingsOnBookcardsEnabled:1, IsAdsDisabled:0, IsIframePageDisplayEnabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:0, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsPreOrdersEnabled:0, IsDisabledRandomBookshelves:0, WebstoreDisplayCasePosition:3});_OC_Run({"enable_p13n":false,"add_vol_to_collection_base_url":"http://www.google.com/patents?op=add\u0026sig=ACfU3U1K_QG6ooYEV1nwdHx_MduagYiYjQ\u0026id=kXyABAABERAJ","remove_vol_from_collection_base_url":"http://www.google.com/patents?op=remove\u0026sig=ACfU3U0cTVk6zBvIO92bLSjUAxxvS9JBkQ\u0026id=kXyABAABERAJ","logged_in":false,"p13n_save_user_settings_url":"http://www.google.com/patents?op=edit_user_settings\u0026sig=ACfU3U2J0ijOOjf0stv662Z2uTpCGlM9KA","is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=http://www.google.com/patents%3Fhl%3Den\u0026hl=en","is_play_enabled":true}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"http://www.google.com/patents/download/Technique_for_increasing_the_number_of_p.pdf?id=kXyABAABERAJ\u0026output=pdf\u0026sig=ACfU3U3CuPzUCeBRvQQk8ihmr02ujr-g-A"},"sample_url":"http://www.google.com/patents/reader?id=kXyABAABERAJ\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href=http://www.google.com/><nobr>Google&nbsp;Home</nobr></a> - <a href=//www.google.com/patents/sitemap/><nobr>Sitemap</nobr></a> - <a href=http://www.google.com/googlebooks/uspto.html><nobr>USPTO Bulk Downloads</nobr></a> - <a href=/intl/en/privacy/><nobr>Privacy Policy</nobr></a> - <a href=/intl/en/policies/terms/><nobr>Terms of Service</nobr></a> - <a href=https://support.google.com/faqs/answer/2539193?hl=en><nobr>About Google Patents</nobr></a> - <a href="http://www.google.com/tools/feedback/intl/en/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'en'});return false;}catch(e){}"><nobr>Send Feedback</nobr></a></div><span>Data provided by IFI CLAIMS Patent Services</span><br><span >&copy;2012 Google</span></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>